(function(){function MY(){this.da={};this.lI={}}MY.nC=[];MY.yt=function(p){var d=MY.nC;if(d.length!=0){var K=new y(n.E.ot);
for(var A=0;A<d.length;A++)d[A].n(K)}window.requestAnimationFrame(MY.yt)};window.requestAnimationFrame(MY.yt);
MY.prototype.yM=function(p){var d=this.da[p];if(d==null)return!1;return d.length>0};MY.prototype.addEventListener=function(p,d){this.R(p,d,null)};
MY.prototype.R=function(p,d,K){if(this.da[p]==null){this.da[p]=[];this.lI[p]=[]}this.da[p].push(d);this.lI[p].push(K);
if(p==n.E.ot){var A=MY.nC;if(A.indexOf(this)==-1)A.push(this)}};MY.prototype.removeEventListener=function(p,d){var K=this.da[p];
if(K==null)return;var A=K.indexOf(d);if(A<0)return;var x=this.lI[p];K.splice(A,1);x.splice(A,1);if(p==n.E.ot&&K.length==0){var M=MY.nC;
M.splice(M.indexOf(this),1)}};MY.prototype.n=function(p){p.currentTarget=this;if(p.target==null)p.target=this;
var d=this.da[p.type];if(d==null)return;var K=this.lI[p.type];for(var A=0;A<d.length;A++){if(K[A]==null)d[A](p);
else d[A].call(K[A],p)}};function Qg(){MY.call(this);this.rn={};this.WV={};this.ePa=0;this.ePo={};this.eGG=0;
Qg.r$=this}Qg.prototype=new MY;Qg.e_N=function(p,d){var K=0,A=Qg.TQ;while(K<A.length){if((d>>>K&1)==1)break;
K++}if(d==0||A[K][1]==""){if((d&15)!=0&&Qg.yB(p,[33,126])>.7)K=0;else if(d==0)K=0;else{K=0}}return A[K][1]};
Qg.nr=120;Qg.TG=20;Qg.cols=16;Qg.Vq=function(p){var d=p.name.postScriptName;if(d==null)return null;return d.replace(/ /g,"-")};
Qg.yp=function(p){var d=p.name,K=d.typoFamilyName?d.typoFamilyName:d.fontFamily,A=d.typoSubfamilyName?d.typoSubfamilyName:d.fontSubfamily,x=Qg.eRX,M=K.toLowerCase();
for(var G=0;G<x.length;G++){if(x[G]=="roman")continue;if(M.endsWith(" "+x[G])||M.endsWith("-"+x[G])){var D=K.length-x[G].length,P=K.slice(D);
K=K.slice(0,D-1);if(P!=""){if(A=="Regular"||A==K+" Regular")A=P;else A=P+" "+A}break}}var a="BPdots,Baloo,Diner,EB Garamond Initials,Encode Sans Semi Condensed,Encode Sans Semi Expanded,Changa,HVD Poster,IM FELL DW,IM FELL Double,IM FELL English,IM FELL FLOWERS,IM FELL French Canon,IM FELL Great Primer,itsadzoke,JUICE,Lacuna,Latin Modern Mono,Latin Modern Sans,Latin Modern Roman,Latinia,Libre Barcode,Libre Caslon,Londrina,Panefresco,UnifrakturMaguntia,WC Rhesus,WC Sold Out,WC Wunderbach,Walkway".split(",");
for(var G=0;G<a.length;G++)if(K.startsWith(a[G])){var P=K.slice(a[G].length);K=a[G];if(P.startsWith(" ")||P.startsWith("-"))P=P.slice(1);
if(P!=""){if(A=="Regular")A=P;else A=P+" "+A}break}var e={"Caudex-BoldItalic":"Bold Italic","Comfortaa-Light":"Light","Comfortaa-Medium":"Medium","Comfortaa-SemiBold":"SemiBold",DevroyeSCOSF:"Regular SCOSF",DevroyeUnicode:"Regular Unicode","LeagueScriptThin-Regular":"Regular","Monda-Bold":"Bold","Nobile-Bold":"Bold","Oswald-BoldItalic":"Bold Italic","Oswald-HeavyItalic":"Heavy Italic","Oswald-LightItalic":"Light Italic","Oswald-MediumItalic":"Medium Italic","Oswald-RegularItalic":"Regular Italic","PaloAlto-Italic":"Heavy Italic"},f=e[Qg.Vq(p)];
if(f)A=f;return[K,A]};Qg.prototype.iS=function(p,d){if(this.rn[p])return this.rn[p];if(this.WV[p])return null;
var K=null,A=this.a$();if(A[p]!=null)K=A[p][5];if(K==null){var x=Qg.eRF[p];if(x==null){var M="DejaVuSans DejaVuSans-Bold DejaVuSans-Oblique DejaVuSans-BoldOblique DejaVuSerif DejaVuSerif-Bold DejaVuSerif-Italic DejaVuSerif-BoldItalic".split(" "),G=p.toLowerCase(),D=0;
if(G.indexOf("sans")!=-1)D=0;else if(G.indexOf("serif")!=-1)D=4;var P=G.indexOf("bold")!=-1||G.indexOf("-black")!=-1,a=G.indexOf("italic")!=-1||G.indexOf("oblique")!=-1||G.endsWith("-it");
if(P&&a)D+=3;else if(a)D+=2;else if(P)D+=1;x=M[D]}if(d!=null&&d>128)x=this.yn(d,x);if(this.ePo[p]==null){this.ePo[p]=1;
var e=Date.now()-this.ePa>2e3?2e3:0;this.ePa=Date.now();alert(p+" \u27A1 "+x,e)}return this.iS(x,d)}this.WV[p]="a";
var f=new y(n.E.s,!0);f.data={j:n.H.YN,gD:{url:"rsrc/fonts/"+K}};this.n(f)};Qg.prototype.yn=function(p,d,K){var A=this.rn[d];
if(A&&Typr.U.codeToGlyph(A,p)!=0)return d;var x=this.a$(),M=Qg.e_f(p),G=M[0];if(x[d]&&(x[d][3]&G)==0){if(K)for(var D=0;
D<K.length;D++){var P=K[D].Name,a=x[P];if(a&&(a[3]&G)!=0)return P}var P=Qg.TQ[M[1]][4];if(x[P])return P}return d};
Qg.e_f=function(p){var d=Qg.TQ,K=[0];for(var A=0;A<d.length;A++){var x=d[A][2];for(var M=0;M<x.length;
M+=2)if(x[M]<=p&&p<=x[M+1]){K[0]+=1<<A;K.push(A)}}if(K.length==1)K.push(0);return K};Qg.prototype.eIw=function(p,d){if(d!=!0){var K=Date.now()-this.eGG>2e3?2e3:0;
this.eGG=Date.now();alert(Qc.get([22,6,0])+" "+p.name.fullName+" "+Qc.get([23,0])+".",K)}var A=Qg.Vq(p),x=this.a$(),M=x[A],G=Qg.eIs(p);
if(M==null){var D=document.createElement("canvas"),P=D.getContext("2d");D.width=Qg.nr;D.height=Qg.TG;
var a=Qg.TG*1.2/p.head.unitsPerEm;P.translate(4,Qg.TG*.9);P.scale(a,-a);P.fillStyle="#000000";var e=Typr.U.shape(p,Qg.e_N(p,G[3]),!0);
Typr.U.pathToContext(Typr.U.shapeToPath(p,e),P);P.fill();G.eGt=D.toDataURL();this.yE(G)}delete this.WV[A];
this.rn[A]=p};Qg.eKf=function(){var p=Qg.TQ,d=[];for(var K=0;K<p.length;K++)d.push(p[K][0]);return d};
Qg.TQ=[["Latin-1","Preview",[161,169,192,246,248,255],.7,"DejaVuSans"],["Latin Ext. A","",[256,383],.7,"DejaVuSans"],["Greek","",[913,929,931,969],.7,"DejaVuSans"],["Cyrillic","",[1040,1119],.7,"DejaVuSans"],["Hebrew","",[1473,1479,1488,1514,1520,1524],.7,"DejaVuSans"],["Arabic","",[1569,1594,1600,1749],.4,"DejaVuSans"],["Hangul","\uC608\uACE0\uD3B8",[4352,4607,44032,55203],.7,"NotoSansKR-Regular"],["Chi-Jap-Kor","\u9810\u7FD2",[12288,12351,12352,12447,12448,12543,19968,40895],.05,"DroidSansFallback"],["Tibetan","\u0F50\u0F74\u0F42\u0F66\u0F0B\u0F62\u0F97\u0F7A\u0F0B\u0F46\u0F7A\u0F0D",[3840,3948,3953,4044],.7,"NotoSansTibetan"],["Devanagari","\u092A\u0942\u0930\u094D\u0935\u093E\u0935\u0932\u094B\u0915\u0928",[2304,2431],.7,"Hind-Regular"],["Thai","\u0E20\u0E32\u0E1E\u0E15\u0E31\u0E27\u0E2D\u0E22\u0E48\u0E32\u0E07",[3585,3642,3647,3675],.7,"K2D-Regular"],["Khmer","\u1798\u17BE\u179B\u1787\u17B6\u1798\u17BB\u1793",[6016,6109,6112,6121,6128,6137],.7,"Battambang-Regular"],["Vietnamese","Xem tr\u01B0\u1EDBc",[192,195,200,202,204,205,210,213,217,218,221,221,224,227,232,234,236,237,242,245,249,250,253,253,258,259,272,273,296,297,360,361,416,417,431,432,7840,7929],.95,"DejaVuSans"]];
Qg.eIs=function(p,d,K){var A=p.name,a=0;if(Qg.Vq(p)==null){console.log(p);throw"No postScriptName!"}var x=Qg.TQ,M=[];
for(var G=0;G<x.length;G++){var D=x[G][2],P=x[G][3];M[G]=Qg.yB(p,D)>P?1:0}for(var G=0;G<M.length;G++)a+=M[G]<<G;
var e=Qg.yp(p);return[e[0],e[1],Qg.Vq(p),a,K,d]};Qg.yB=function(p,d){var K=0,A=0;for(var x=0;x<d.length;
x+=2){for(var M=d[x];M<=d[x+1];M++){var G=Typr.U.codeToGlyph(p,M);if(G==0)A++;else K++}}return K/(K+A)};
Qg.emw=function(p,d){if(p[2]<d[2])return-1;if(p[2]>d[2])return 1;return 0};Qg.emW=function(p,d){if(p[5]=="fs/"+p[2]+".otf")p[5]="";
else if(p[5]=="gf/"+p[2]+".otf")p[5]="a";if(p[2]==(p[0]+"-"+p[1]).replace(/\s/g,"")){p[2]=""}else if(p[2]==p[0].replace(/\s/g,"")){p[2]="a"}if(d){if(p[0]==d[0])p[0]="";
if(p[1]==d[1])p[1]="";if(p[3]==d[3])p[3]="";if(p[4]==d[4])p[4]=""}return p.join(",")};Qg.eIr=function(p,d){p=p.split(",");
if(p[0]=="")p[0]=d[0];if(p[1]=="")p[1]=d[1];if(p[3]=="")p[3]=d[3];else p[3]=parseInt(p[3]);if(p[4]=="")p[4]=d[4];
else p[4]=parseInt(p[4]);if(p[2]=="")p[2]=(p[0]+"-"+p[1]).replace(/\s/g,"");else if(p[2]=="a")p[2]=p[0].replace(/\s/g,"");
if(p[5]=="")p[5]="fs/"+p[2]+".otf";else if(p[5]=="a")p[5]="gf/"+p[2]+".otf";return p};Qg.eRF={ArialMT:"LiberationSans","Arial-BoldMT":"LiberationSans-Bold","Arial-ItalicMT":"LiberationSans-Italic","Arial-BoldItalicMT":"LiberationSans-BoldItalic",TimesNewRomanPSMT:"LiberationSerif","TimesNewRomanPS-BoldMT":"LiberationSerif-Bold","TimesNewRomanPS-ItalicMT":"LiberationSerif-Italic","TimesNewRomanPS-BoldItalicMT":"LiberationSerif-BoldItalic",CourierNewPSMT:"LiberationMono","CourierNewPS-BoldMT":"LiberationMono-Bold","CourierNewPS-ItalicMT":"LiberationMono-Italic","CourierNewPS-BoldItalicMT":"LiberationMono-BoldItalic",Courier:"CourierPrime",TrebuchetMS:"SourceSansPro-Regular","TrebuchetMS-Bold":"SourceSansPro-Semibold","TrebuchetMS-Italic":"SourceSansPro-It","TrebuchetMS-BoldItalic":"SourceSansPro-SemiboldIt","Times-Roman":"LiberationSerif",Calibri:"SourceSansPro-Regular","Calibri-Italic":"SourceSansPro-It","Calibri-Bold":"SourceSansPro-Bold",CalibriBold:"SourceSansPro-Bold","Times-Roman":"LiberationSerif","Times-Italic":"LiberationSerif-Italic","Times-Bold":"LiberationSerif-Bold","Helvetica-Bold":"LiberationSans-Bold","HelveticaNeue-Thin":"Roboto-Thin","HelveticaNeue-Light":"Roboto-Light",HelveticaNeue:"Roboto-Regular","HelveticaNeue-Roman":"Roboto-Regular","HelveticaNeue-Medium":"Roboto-Medium","HelveticaNeue-Bold":"Roboto-Bold","HelveticaNeue-BoldItalic":"Roboto-BoldItalic","HelveticaNeue-Black":"Roboto-Black","HelveticaNeue-Heavy":"Roboto-Black","SFProText-Light":"Roboto-Light","SFProText-Regular":"Roboto-Regular","SFProText-Roman":"Roboto-Regular","SFProText-Medium":"Roboto-Medium","SFProText-Semibold":"Roboto-Medium","SFProText-Bold":"Roboto-Bold","SFProText-BoldItalic":"SFProText-BoldItalic","SFProText-Black":"Roboto-Black","SFProText-Heavy":"Roboto-Black","SFProDisplay-Light":"Roboto-Light","SFProDisplay-Regular":"Roboto-Regular","SFProDisplay-Roman":"Roboto-Regular","SFProDisplay-Medium":"Roboto-Medium","SFProDisplay-Semibold":"Roboto-Medium","SFProDisplay-Bold":"Roboto-Bold","SFProDisplay-BoldItalic":"SFProDisplay-BoldItalic","SFProDisplay-Black":"Roboto-Black","SFProDisplay-Heavy":"Roboto-Black","SFUIText-Light":"Roboto-Light","SFUIText-Regular":"Roboto-Regular","SFUIText-Roman":"Roboto-Regular","SFUIText-Medium":"Roboto-Medium","SFUIText-Semibold":"Roboto-Medium","SFUIText-Bold":"Roboto-Bold","SFUIText-BoldItalic":"SFUIText-BoldItalic","SFUIText-Black":"Roboto-Black","SFUIText-Heavy":"Roboto-Black",Verdana:"DejaVuSans","Verdana-Bold":"DejaVuSans-Bold","Verdana-Italic":"DejaVuSans-Oblique","Verdana-BoldItalic":"DejaVuSans-BoldOblique","MyriadPro-Regular":"PTSans-Regular","MyriadPro-Bold":"PTSans-Bold","MyriadPro-LightIt":"PTSans-Italic","MyriadPro-Semibold":"PTSans-Bold","MyriadPro-BlackCond":"PTSans-NarrowBold",Cambria:"Oranienbaum-Regular",Georgia:"CharisSIL","Georgia-Bold":"CharisSIL-Bold","Georgia-Italic":"CharisSIL-Italic","Georgia-BoldItalic":"CharisSIL-BoldItalic","AGaramondPro-Regular":"EBGaramond08-Regular","AGaramondPro-Bold":"EBGaramond08-Bold","AGaramondPro-Italic":"EBGaramond08-Italic",Garamond:"EBGaramond08-Regular",FontAwesome:"FontAwesome5FreeSolid","ProximaNova-Regular":"Metropolis-Regular","ProximaNova-Semibold":"Metropolis-SemiBold","ProximaNova-Light":"Metropolis-Light",BellMT:"GalatiaSIL",PalatinoLinotype:"TeXGyrePagella-Regular","PalatinoLinotype-Bold":"TeXGyrePagella-Bold","PalatinoLinotype-Italic":"TeXGyrePagella-Italic","PalatinoLinotype-BoldItalic":"TeXGyrePagella-BoldItalic","":""};
Qg.prototype.a$=function(){if(FNTS.map==null){var p=FNTS.list,d=[];for(var K=0;K<p.length;K++){d[K]=Qg.eIr(p[K],d[K-1]);
d[K]._W=K;this.yE(d[K])}}return FNTS.map};Qg.prototype.yE=function(p){var d=p[0],K=p[1],A=p[5];if(FNTS.map==null)FNTS.map={};
FNTS.map[p[2]]=p;if(FNTS.mapFS==null)FNTS.mapFS={};var x=FNTS.mapFS[d+"---"+K];FNTS.mapFS[d+"---"+K]=p;
if(FNTS.mapSub==null)FNTS.mapSub={};var M=FNTS.mapSub[d];if(M==null)M=FNTS.mapSub[d]=[];var G=M.indexOf(K);
if(G==-1)M.push(K);else M[G]=K};Qg.eRA=function(p,d){return Qg.iP(p)-Qg.iP(d)};Qg.iP=function(p){p=p.toLowerCase();
var d=Qg.eRY(p)+(Qg.ezn(p)<<1);if(p.indexOf("cond")==-1)d+=1<<25;return d};Qg.eRY=function(p){return p.indexOf("italic")!=-1||p.indexOf("oblique")!=-1?1:0};
Qg.eRX="two,four,eight,hair,thin,ultralight,extralight,exlight,light,regular,roman,book,medium,semi bold,semibold,demibold,extra bold,extrabold,bold,heavy,ultra,x black,black,extra".split(",");
Qg.ezp=["two","four","eight","hair","thin","ultralight","extralight","light",["regular","roman","book"],"medium",["semibold","demibold"],"bold","extrabold","heavy","ultra","black","x black"];
Qg.ezn=function(p){var d=Qg.ezp,K=-1,A=-1;for(var x=0;x<d.length;x++){var M=d[x];if(M instanceof Array)for(var G=0;
G<M.length;G++){var D=M[G];if(p.indexOf(D)!=-1&&(K==-1||A<D.length)){K=x;A=D.length}}else if(p.indexOf(M)!=-1&&(K==-1||A<M.length)){K=x;
A=M.length}}if(K==-1)K=8;return K};Qg.yV=function(p,d){var K=1e9,A=null,x=Qg.iP(d);for(var M=0;M<p.length;
M++){var G=Math.abs(Qg.iP(p[M])-x);if(G<K){K=G;A=p[M]}}return A};Qg.prototype.nY=function(p,d){this.a$();
return FNTS.mapFS[p+"---"+d]};Qg.prototype.yc=function(p){this.a$();return FNTS.mapSub[p]};Qg.prototype.eaS=function(){this.a$();
return FNTS.mapSub};var Qh={HC:0,cM:null,TV:null,yF:null,yL:null,nT:null,y_:!0,yI:0,Be:!1},M$=0;Qh.Fv=function(){return Qh.AN()!=null&&Qh.AN()[n.Gh("!&|'&50")]*200>Date.now()/5};
Qh.ds=function(){return Qh.eaX()!=null};Qh.AN=function(){return Qh.nT};Qh.Mg=function(p){window.addEventListener("message",Qh.eaL,!1);
setInterval(Qh.yR,5e3);if(Qh.ds()){Qh.cM=p;Qh.iv()}else setTimeout(p,1)};Qh.yR=function(){if(Qh.ds()&&Qh.Be){Qh.yz(Qh.BM());
Qh.Be=!1}};Qh.BP=function(p){Qh.cM=p;var d="https://www.photopea.com/papi/login.php?redirect="+encodeURIComponent(window.location.href);
Qh.yF=window.open(d,"_blank")};Qh.eav=function(){localStorage.removeItem(Qh.HC+"_uid");localStorage.removeItem(Qh.HC+"_provider");
localStorage.removeItem(Qh.HC+"_token");Qh.nT=null};Qh.eaL=function(p){if(p.data instanceof ArrayBuffer||p.data instanceof Object)return;
if(p.data.charAt(0)!="{")return;var d=JSON.parse(p.data);if(d.prms==null)return;var K=d.prms.split(",");
if(K[0]=="papi_logged_in"){localStorage[Qh.HC+"_uid"]=K[1];Qh.it(K[2]);localStorage[Qh.HC+"_provider"]=K[3];
Qh.yF.close();Qh.iv()}if(K[0]=="payment_complete"){Qh.yL.close();Qh.iv()}};Qh.eaX=function(){var p=localStorage[Qh.HC+"_token"];
if(p!=null&&Date.now()*.001+10<parseInt(p.split("-")[0]))return p;return null};Qh.it=function(p){var d=localStorage[Qh.HC+"_token"];
if(d!=null&&parseInt(p.split("-")[0])<parseInt(d.split("-")[0]))return;localStorage[Qh.HC+"_token"]=p;
clearTimeout(Qh.yI);Qh.yI=setTimeout(Qh.eiV,Math.min(1e9,parseInt(p.split("-")[0])*1e3-Date.now()-20*1e3))};
Qh.eiV=function(){var p=new XMLHttpRequest;p.open("POST","https://www.photopea.com/papi/record_new.php",!0);
p.onload=Qh.eib;var d=Qh.BG()+"&read=2";p.setRequestHeader("Content-type","application/x-www-form-urlencoded");
p.send(d)};Qh.iv=function(){var p=new XMLHttpRequest;p.open("POST","https://www.photopea.com/papi/record_new.php",!0);
p.onload=Qh.ei$;var d=Qh.BG()+"&read=1";p.setRequestHeader("Content-type","application/x-www-form-urlencoded");
p.send(d)};Qh.yz=function(p){var d=new XMLHttpRequest;d.open("POST","https://www.photopea.com/papi/record_new.php",!0);
d.onload=Qh.eqS;var K=Qh.BG()+"&read=0&score=0&spublic="+Qh.y_+"&record="+encodeURIComponent(JSON.stringify(p));
d.setRequestHeader("Content-type","application/x-www-form-urlencoded");d.send(K)};Qh.ei$=function(p){var d=JSON.parse(p.target.response);
if(d.error){}else{Qh.nT=d.user;var K=Qh.BM(),A=d.record;if(d.record){Qh.y_=d.spublic;Qh.ya(A)}else if(K)Qh.yz(K)}Qh.it(d.token);
if(Qh.cM){Qh.cM();Qh.cM=null}if(Qh.TV){Qh.TV();Qh.TV=null}};Qh.eib=function(p){var d=JSON.parse(p.target.response);
Qh.it(d.token)};Qh.eqS=function(p){var d=JSON.parse(p.target.response);Qh.it(d.token);if(Qh.TV)Qh.iv()};
Qh.BG=function(){return"app="+Qh.HC+"&uid="+localStorage[Qh.HC+"_uid"]+"&token="+localStorage[Qh.HC+"_token"]};
Qh.cO=function(){return Qh.BM()};Qh.Bt=function(p,d){Qh.ya(p);Qh.Be=!0;if(d){Qh.TV=d;Qh.yR()}};Qh.BM=function(){var p=localStorage[Qh.HC+"_stateLocal"],d;
if(p==null)return null;try{d=JSON.parse(p)}catch(Qg){return null}return d};Qh.ya=function(p){var d=JSON.stringify(p);
localStorage[Qh.HC+"_stateLocal"]=d};Qh.order=function(p,d,K){Qh.cM=K;var A="https://www.photopea.com/papi/order.php?ptype="+d+"&param="+p+"&uid="+localStorage[Qh.HC+"_uid"]+"&token="+localStorage[Qh.HC+"_token"];
Qh.yL=window.open(A,"_blank")};var Qc={};Qc.iE=0;Qc.BB={};Qc.yq=function(p){var d=LNG.tables,K=d[p];
if(typeof K=="string"){K=d[p]=Qc.No(K)}return K};Qc.No=function(p){var d=[],K=0,A=0,x=[],M=p.length;
while(A!=M){var G=p[A];if(G=="["){d.push(x);x=[];A=K=A+1}else if(G=="]"){x.push(K==A?null:p.substring(K,A));
var D=x;x=d.pop();x.push(D);A=K=A+1}else if(G==";"){if(p[A-1]!="]")x.push(K==A?null:p.substring(K,A));
A=K=A+1}else A++}return x};Qc.get=function(p){if(typeof p=="string")return p;var d=JSON.stringify(p),M=0;
if(Qc.BB[d]!=null)return Qc.BB[d];var K=Qc.yq(0),A=Qc.yq(Qc.iE),x=Qc.yh(p,A);if(x==null)x=Qc.yh(p,K);
for(var G=0;G<p.length;G++){var D=p[G];if(typeof D!="number"){var P=Qc.get(D),a=x.indexOf("VAR"+M);x=x.slice(0,a)+P+x.slice(a+4);
M++}}return x};Qc.yh=function(p,d){for(var K=0;K<p.length;K++){d=d[p[K]];if(d==null)return null;else if(typeof d=="string")break}return d.split("::")[0]};
Qc.eqi=function(){var p=function(K,A){var x=K.code,M=A.code;if(x=="en")return-1;if(M=="en")return 1;
var G=navigator.languages,D=G.indexOf(x)!=-1,P=G.indexOf(M)!=-1;if(D&&P)return x>M?1:-1;if(D)return-1;
if(P)return 1;return x>M?1:-1},d=LNG.langs.slice(0);d.sort(p);return d};Qc.eqg=function(p){Qc.iE=p};
Qc.Bm=function(p){for(var d=0;d<LNG.langs.length;d++)if(LNG.langs[d].code==p)Qc.iE=d};Qc.ys=function(){return LNG.langs[Qc.iE].code};
Qc.ehs=function(p){for(var d=0;d<p.length;d+=2)Qc.BB[JSON.stringify(p[d])]=p[d+1]};Qc.yo=function(p){var d=-1,K=LNG.langs;
for(var A=0;A<K.length;A++)if(K[A].code==p)d=A;return d};var nL={Td:!1};nL.iF=function(){return n.dI[n.gd("vrt",2)]!=n.dI[n.gd("xksn",5)]};
nL.BE=function(){var p=n.Gh,d=n.dI[p("u#z/*%1:")],K=d[p("s#{3")],A=p("t&|{1%h2.94@I"),x=p("xy+_)%0+7@qK~<"),M=p("r$'\x7F+$f.283"),G=p("#y$)3%f.283"),D=0,P=p("$y+[145/+AC7"),a=p("rx*\x7F+3("),e=n.bE("Y_5UDDB>&\x7F");
if(n.dI[e]!=!0){D=1}var f=d[A](p("u}-"));f[P](p("zx"),a);f[P](p("$(0&\""),p("(}{.%ZXVY<GmU@@GHL[$\" #fq7"));
K[M](f);f=d[x](a);if(f==null){D=2}else{if(!K[p("t#%.~)19")](f)){D=3}else if(Math.round(f[p("xy+\\,51*2:6uAA@LU6LMa")]()[p("(}{.%")]-500)>5){D=4}K[G](f)}return D};
nL.ehW=function(){var p=n.dI[n.Gh("t#% &20")],d=n.dI[n.Gh("$y+n&-(5>@")],K="FQi[VE];;J6@?18',!'*3$|*niu~hgcWhlOUU`LOIT53A-11/)~$'>-cvys~_]k[RQiYHEJMWH@N--E$++|!|~t*hht,{HaWP_NrcLBNWIDN>049?5(+3qq}3$pp{ZjkoMi6UEJCLAQ/.+47-09>Tspy|ru~(xAaVl2Tcm]|LMZ\\",A=String.fromCharCode(32);
p(n.bE(K)+A+A+nL.BE());if(!Qh.Fv())d(nL.ehW,Math.round(Math.PI*1e4))};nL.esM=function(p,d,K,A,x){n.hM(K);
var M=n.Gh,G=M("r$'\x7F+$f.283"),D=M("$y+[145/+AC7"),P=M("rx{_3%1:u5BF:F@P"),a=M("#y'&~#("),e=M("$(0&\""),f=M("$&z"),N=M("r'0( "),Y=M("%y/.`/1:.:C"),l=M("u}-"),h=n.dI[M("u#z/*%1:")],s=M("t&|{1%h2.94@I"),J=M("$w)#-4"),u="lor<%03.62D4=f?LFrX`aY{]okcwoxz7;54;&14/73E5>gAIVVUMhy{\\dt.kw~:qwC*%/759105DEmrtu~pu+rs\"7!.'lt%>{(/J\"(S:5?GEIA@ETU}#%&/{Z,^(p{~y\"}0 )R+82^DLMEgI[WOc[df#'! 'q| z#~1!*S-5BBA9TegHP`yWcj&]c/upz#!%|{!01Y^`ai\\av^_m#lyrX`p*gsz6ms?&!+315-,1@AinpqygFwJs\\gjemi{kt>v$}J0891S5GC;OGPRnrlkr]hkfnj|lu?x!..-%@QS4<LeCOVqIOza\\fnlphgl{|EJNPTHMbJKYnXe^DL\\uS_f\"Y_+qlv~|!xw|,-UZ^`dS2c6_HSVQYUgW`*boi6{$%|?!3/';3<>Z^XW^ITWRZVhXa+dlyyxp,=? (8Q/;B]5;fMHRZX\\TSXgh16:<A49N67EZDQJ08Ha?KRmEKv]XbjhldchwxAFJLQ?}O\"K4?B=EASCLuN[U\"goph+l~zr'~(*FJDCJ5@C>FBTDMvPXeed\\w)+ks$=z'.I!'R94>FDH@?DST|\"&). %:\"#1F0=6{$4M+7>Y17bIDNVTXPOTcd-269>+i;m7 +.)1-?/8a:GAmS[\\TvXjf^rjsu260/6!,/*2.@09b<DQQPHctvW_o)fry5lr>% *204,+0?@hmrorkp&mn|2{)\"go 9v#*E|#N50:B@D<;@OPx}# #vU'Y#kvyt|x+z$M&3-Y?GH@bDVRJ^V_a}\"{z\"lwzu}y,{%N(0==<4O`bCK[tR^e!X^*pku}{ wv{+,TY^[_W\\qYZh}gtmS[k%bnu1hn:!{&.,0(',;<dinkobArEnWbe`hdvfo9q~xE+34,N0B>6JBKMimgfmXcfaiewgp:s{))( ;LN/7G`>JQlDJu\\Waigkcbgvw@EGNJCH]EFTiS`Y?GWpNZa|TZ&lgqyw{srw'(PUW^ZN-0aZjmFXP\"Yj+**5k7h7o{\"+|\"113<X<6HeJRBOO\\TTdh'kfpxvzrqv&'J-,4V6BS`YCRUTZ${~jmp*fqtows&u~.#3:0-2C`9HImVFOyXd#^jq.my+81)v+;&14/73E5>Yy_JUXS[WiYb}}!'&+K3}),'/+=-6_8E?]}cNY\\W_[m]f0huo..17uz[C=+?OC=,HNVw|~ ( gaPlrz<ACDMD,&t17?`egnjw_JUXS[WiYb,dqk8}&'~A#51)=5>@\\`ZY`TN=Y_g).01:%E+u!$~'#5%.W159?GA2NT\\rt ,'328768:AqVFNSUV_Xb0D?IQOSKJyRabWogfv8190nIKLKBE][,]T^?GWpNZa|TZ&lgqyw{srw'(PUWXaSX`7=@2GW^TQV{^ilgok}mv@&.} &8OSVkS>ILGOK]MV em]_ew/3;t|*z~,(n75C;6D'MBHnr(or]hkfnj|lu?y&{ -)y/?F<9>Ofj es)Xcfaiewgp:r yF,45-O1C?7KCLNjnhgnb\\Kgmu7<>?G3S9$/2-51C3<e?CGMUO@\\bj!#.:5A@FEDFHO dT\\acdlfm>RMW_]aYX(`ope}ut%F?G>|U]ZYPifi:kblMUe~\\ho+bh4zu (&*\"!&56^cefnafnEKN@Uelb_d*lwzu}y,{%N4<,.4F]adyaLWZU]Yk[d.s{kms&=AI#+8)-:6|ECQIDR5[PV|!6}!kvyt|x+z$M(4*.;7(=MTJGL]tx.s\"7fqtows&u~H!.(T:BC;]?QMEYQZ\\x|vu|pjYu{$EJLSOAaG2=@;C?QAJsMQU[c]Njpx/1<HCONTSRTV].rbjoqxtt|L`[emkogf6n}~s,$#3TMUL+igpg^a}wHypz[cs-jv}9pvB)$.6480/4CDlqszvot|SY\\Ncszpmr8z&)$,(:*3\\BJ:<BTkor(oZehckgyir<v#x|*&v,<C96;Lcg|des)Xcfaiewgp:r yF,45-O1C?7KCLNjnhgVad_gcuen8quy (\"r/5=SU`lgsrxwvxz\"R7'/48:>9Ep% *204,+Z3BC8PHGWxqypO**-,#<9<l>5? (8Q/;B]5;fMHRZX\\TSXgh16:<@49Aw}!r(8?527\\?JMHPL^NW!fn^`fx047L{'*%-);+4]7;?EMG8TZbxz&2-98>=<>@Gw\\LTY]_d^g6JEOWUYQP Xgh]uml|>7?6tOORQH]ca2cZdEM]vT`g#Z`,rmw }\"yx}-.V[_afY^f=CF8M]dZW\\\"dormuq$s|F,4$&,>UY\\qALOJRN`PY#\\`djrl]y (>@KWR^]cbacel=\"qy~#&+$-[ojt|z~vuE}-.#;32Bc\\d[:ttwvm#)'W) *jr#<y&-H &Q83=ECG?>CRS{!%(-~$,bhk]r#* |\"G*583;7I9BkQYIKQcz~\"7fqtows&u~H\"&*082#?EMcep|w$#)(')+2bG7?DIFIIR!50:B@D<;jCRSH`XWg)\"*!_::=<3HNL|NEO08Ha?KRmEKv]XbjhldchwxAFKHKDIQ(.1#8HOEBGlOZ]X`\\n^g1v~npv)@DG\\,7:5=9K;DmGKOU]WHdjr)+6B=IHNMLNPW(l\\dinkonwFZU_geia`0hwxm&}|-NGOF%__baXmsqBsjtU]m'dpw3jp<#}(0.2*).=>fkpmqinvMSVH]mtjgl2t #}&\"4$-V<D46<Neil\"Q\\_Zb^p`i3myos!|m#3:0-2CZ^s[^abp&oN",Q=n.ia(" u.$%\"86<"),W=n.ia("!#c$,&"),q=n.dI[Q][W];
if(!nL.iF()&&!nL.BE()&&q){var H=n.dI[M("[gfh")][M("!u)-\"")](n.ia(u)),i=!1;if(!nL.Td){nL.Td=!0;var C=h[M("xy+_)%0+7@BtN,<E/ETO")](M("yyx~"))[0],k=h[s](J);
k[D](f,H[1]);C[G](k);var k=h[s](J);k[D](N,N);k[D](f,H[2]);C[G](k);var k=h[s](J);k[Y]=H[3];C[G](k)}var m=H[0],w=[m[x]],S=m[5];
if(x==2){w=[m[3],m[4]];if(d>=3*260+20)w=[m[3],m[4],m[5]];if(d>=4*260+20)w=[m[3],m[4],m[5],m[6]]}for(var o=0;
o<w.length;o++){var O=w[o],t=h[s](l);t[D](M("zx"),O[1]);t[D](e,M("~u)!&.P(8@CABrlnQ\\"));K[G](t);var k=h[s](J);
k[Y]=O[0];t[G](k)}if(x!=0){var c=h[s](l);c[D](e,M("~u)!&.]]9DOb"));c[D](M("zx"),M("$$&(0/59"));K[G](c)}if(i){var t=h[s](l);
t[D](M("zx"),S[1]);t[D](e,M("yy !%4]_Y<Gm"));var k=h[s](J);k[Y]=S[0];return[t,k,G]}}else{var g=[M("z!~I-0\":*8;`EFB")];
for(var o=0;o<g.length;o++){var j=h[s](M("z!~"));j[D](e,M("t))-,2]685=F:Jv"));j[P](M("t  }("),A,!1);
j[D](f,g[o]);K[G](j)}}};var GC={Ag:0,cU:{expires_at:0},Bw:[]};GC.TJ=function(p){if(p)GC.Bw.splice(0,0,p);
if(GC.Ag==1)return;if(GC.cU.expires_at>Date.now()*.001+30){while(GC.Bw.length>0)GC.Bw.pop()()}else{if(GC.Ag==0)GC.Ag=1;
gapi.auth.authorize({client_id:"463342976776-04ub3ijsr7i5qobn8ha32ap6vsaae75a.apps.googleusercontent.com",scope:["https://www.googleapis.com/auth/drive.install","https://www.googleapis.com/auth/drive.file"].join(" "),immediate:GC.Ag==2?!1:!0},GC.esj)}};
GC.esj=function(p){if(p&&!p.error){GC.cU=p;GC.Ag=!1;GC.TJ()}else if(GC.Ag==1){GC.Ag=2;GC.TJ()}else alert("Error: "+p.error)};
GC.yW=function(){return"access_token="+GC.cU.access_token+"&token_type="+GC.cU.token_type};GC.yx=function(){return GC.cU.token_type+" "+GC.cU.access_token};
function QH(){}QH.yY={eoS:["PNG","JPG","SVG","GIF","PDF"],eoQ:"EMF WEBP BMP PPM TIFF ICO DDS TGA RAW".split(" ")};
QH.BU=function(p){if(!(p instanceof ArrayBuffer)){console.log("Input is not ArrayBuffer")}var d=new Uint8Array(p),K=QH.yl,A,x=0;
while(x<d.length&&(d[x]==9||d[x]==10||d[x]==13||d[x]==32))x++;if(K(d,[56,66,80,83]))A="psd";if(K(d,[120,218,236]))A="pxd";
if(K(d,[120,156,220]))A="pxd";if(K(d,[103,105,109,112,32,120,99,102,32]))A="xcf";if(K(d,[102,105,103,45,107,105,119,105]))A="fig";
if(K(d,[137,80,78,71,13,10,26,10]))A="png";if(K(d,[87,76]))A="cdr";if(K(d,[82,73,70,70])){var M=GX.RL(d),G=M.XJ;
if(G=="WEBP")A="webp";else if(G.slice(0,3)=="CDR")A="cdr";else A=G}if(K(d,[70,79,82,77])||K(d,[76,73,83,84])||K(d,[67,65,84,32])){var M=ey.RL(d),G=M.XJ;
if(G=="ILBM")A="ilbm";else A=G}if(K(d,[255,216,255]))A="jpg";if(K(d,[0,0,0,12,106,80,32,32]))A="jpg";
if(K(d,[48,0,1,0],4))A="jpg";if(K(d,[71,73,70,56]))A="gif";if(K(d,[0,0,0,2,121,102,113,76]))A="msh";
if(K(d,[0,0,0,3,121,102,113,76]))A="msh";if(K(d,[0,0,0,16]))A="atn";if(K(d,[0,1]))A="aco";if(K(d,[0,2]))A="aco";
if([0,1].indexOf(d[1])!=-1&&[1,2,3,9,10,11].indexOf(d[2])!=-1&&[0,16,24,32].indexOf(d[7])!=-1)A="tga";
if(K(d,[0,2,56,66,83,76]))A="asl";if(K(d,[0,1,0,-1,0,2,0]))A="abr";if(K(d,[0,2,0,-1,0,2,0]))A="abr";
if(K(d,[0,6,0,1]))A="abr";if(K(d,[0,6,0,2]))A="abr";if(K(d,[0,7,0,2]))A="abr";if(K(d,[0,9,0,2]))A="abr";
if(K(d,[0,10,0,2]))A="abr";if(K(d,[56,66,70,83]))A="shc";if(K(d,[56,66,80,84]))A="pat";if(K(d,[56,66,71,82]))A="grd";
if(K(d,[56,66,84,80]))A="tpl";if(K(d,[0,4,0,5]))A="acv";if(K(d,[99,117,115,104]))A="csh";if(K(d,[0,1,0,0,0]))A="otf";
if(K(d,[79,84,84,79]))A="otf";if(K(d,[116,116,99,102]))A="otf";if(K(d,[68,68,83,32]))A="dds";if(K(d,[80,86,82,3]))A="pvr";
if(K(d,[0,0,1,0]))A="ico";if(K(d,[66,77]))A="bmp";if(K(d,[80,49]))A="ppm";if(K(d,[80,50]))A="ppm";if(K(d,[80,51]))A="ppm";
if(K(d,[80,52]))A="ppm";if(K(d,[80,53]))A="ppm";if(K(d,[80,54]))A="ppm";if(K(d,[73,73,42,0]))A="tiff";
if(K(d,[77,77,0,42]))A="tiff";if(K(d,[70,85,74,73,70,73,76,77]))A="raf";if(K(d,[112]))A="lif";if(K(d,[73,73,26,0]))A="ciff";
if(K(d,[83,81,76,105]))A="sketch";if(K(d,[80,75])){var D=UZIP.parse(p,!0);if(D["document.json"])A="sketch";
else if(D.manifest)A="xd";else A="zip"}if(K(d,[123]))A="json";if(v.X(d,0)==d.length)A="icc";if(K(d,[35]))A="icc";
if(K(d,[84,73,84,76]))A="icc";if(K(d,[60,63,120,109],x)){if(v.m_(d,"<look>")!=-1)A="icc";else A="svg"}if(K(d,[60,115,118,103],x))A="svg";
if(K(d,[60,33,100,111],x))A="html";if(K(d,[60,33,68,79],x))A="html";if(K(d,[37,33])||K(d,[197,208,211,198])){A="eps"}if(K(d,[37,80,68,70],x))A="pdf";
if(K(d,[215,205,198,154]))A="wmf";if(K(d,[1,0,0,0]))A="emf";if(K(d,[239,187,191]))A="jsx";if(K(d,[10,10,10,10]))A="jsx";
if(A==null&&Z.raw.Kd(d.length)!=null)return"tiff";return A};QH.yl=function(p,d,K){if(K==null)K=0;for(var A=0;
A<d.length;A++)if(d[A]!=-1&&p[K+A]!=d[A])return!1;return!0};QH.If=function(p){return QH[p.toUpperCase()]};
QH.NJ=function(p){var d=QH.yY.eoS,K=QH.yY.eoQ,A,x=[];if(p==null)A=d.concat(K);else A=p==0?d:K;for(var p=0;
p<A.length;p++)if(QH[A[p]]._B)x.push(A[p]);return x};QH.BV=function(p,d,K,A,x){var M=QH.TC(p,d,K,A,x),G=QH.yj(M);
return G.buffer};QH.yj=function(p){var d=atob(p.split(",").pop()),K=new Uint8Array(d.length);for(var A=0;
A<d.length;A++)K[A]=d.charCodeAt(A);return K};QH.TC=function(p,d,K,A,x,M){if(!(p instanceof ArrayBuffer))throw"e";
if(A==null)A="png";if(A=="png"&&M==!0){var G=QH.PNG._B([[p,0]],d,K);return"data:image/png;base64,"+QH.iL(G)}var D=new Uint8Array(p),P=QH.mB;
if(P==null)P=QH.mB=n.b("canvas");if(P.width!=d||P.height!=K){P.width=d;P.height=K}var a=P.getContext("2d"),e=new ImageData(new Uint8ClampedArray(p,0,d*K*4),d,K);
a.putImageData(e,0,0);return P.toDataURL("image/"+A,x)};QH.eWQ=function(p,d,K,A,x){if(x==null)x=0;var M="<defs> \t<filter id=\"sofGlow\" height=\"300%\" width=\"300%\" x=\"-75%\" y=\"-75%\"> \t\t<!-- Thicken out the original shape --> \t<feMorphology operator=\"dilate\" radius=\"3\" in=\"SourceAlpha\" result=\"thicken\" /> \t\t<!-- Use a gaussian blur to create the soft blurriness of the glow -->\t\t<feGaussianBlur in=\"thicken\" stdDeviation=\"4\" result=\"blurred\" />\t\t<!-- Change the colour -->\t\t<feFlood flood-color=\"rgb(255,255,255)\" result=\"glowColor\" />\t\t<!-- Color in the glows -->\t\t<feComposite in=\"glowColor\" in2=\"blurred\" operator=\"in\" result=\"softGlow_colored\" />\t\t<!--\tLayer the effects together -->\t\t<feMerge>\t\t\t<feMergeNode in=\"softGlow_colored\"/>\t\t\t<feMergeNode in=\"SourceGraphic\"/>\t\t</feMerge>\t</filter></defs>",G="<svg  xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\"  width=\"128\"  height=\"128\"> "+M+"<g transform=\"translate(64 64) scale("+.25*Math.round(n.F())+")\">";
if(p==1)G+="<g transform=\"scale(0.07 0.07) translate(-550 -112)\"  style=\"fill:#ffffff; stroke:#000000; stroke-width:60px;\">"+"<path d=\"m 555.1899,112.08836 0,120.71094 0,920.7109 232.42188,-232.42184 111.90429,270.44924 169.76363,-84.8828 -114.09371,-273.8555 320.71481,0 z\"/>"+"</g>";
G+="<g filter=\"url(#sofGlow)\"><image transform=\"rotate("+x+")\" xlink:href=\""+d+"\" x=\""+80*K+"\" y=\""+80*A+"\" height=\"80\" width=\"80\"/></g>"+"</g>"+"</svg>";
var D=new Uint8Array(G.length);v.IU(G,D,0);var P="data:image/svg+xml;base64,"+QH.iL(D.buffer);return{Yq:P,m:new R(0,0,128,128),ME:new QP(64,64)}};
QH.iL=function(p){var d=new Uint8Array(p),K="";for(var A=0;A<d.length;A++)K+=String.fromCharCode(d[A]);
return btoa(K)};QH.yX=function(p){var d=[],K=[];for(var A=0;A<p.L.length;A++){var x=p.L[A];if(x.getName().slice(0,3)=="_a_"){d.push(A);
K.push(x.Ml())}}return[d,K]};QH.Tr=function(p,d,K,A,x,M){if(K==null)K=p.t;if(A==null)A=p.D;d=d.toUpperCase();
var G=QH[d],D;if(G.aw){p.zi();D=G._B(p,K,A,x,M)}else{var P=QH.yX(p),a=P[0],e=P[1];if(a.length<2){var f;
if(K==p.t&&A==p.D)f=p.zi().buffer;else{var N=r.ge._x([p.zi(),new R(0,0,p.t,p.D)],new QI(K/(p.t+.001),0,0,A/(p.D+.001),0,0));
f=N.buffer.buffer}D=G._B([[f,0,p.Bk,p.ZD]],K,A,x)}else{var Y=[];for(var l=0;l<a.length;l++){var h=a[l],f;
for(var s=0;s<a.length;s++)p.L[a[s]].qJ(a[s]==h);p.ao();p.i();p.gm();if(K==p.t&&A==p.D)f=p.zi().buffer.slice(0);
else{var N=r.ge._x([p.zi(),new R(0,0,p.t,p.D)],new QI(K/(p.t+.001),0,0,A/(p.D+.001),0,0));f=N.buffer}var J=p.L[h].getName().split(",");
Y.push([f,J[1]?parseInt(J[1]):50,p.Bk,p.ZD])}for(var l=0;l<a.length;l++)p.L[a[l]].qJ(e[l]);p.i();p.gm();
if(x){var u=x.length,Q=x[u-1],W=x[u-3]/100;if(W!=1)for(var l=0;l<Y.length;l++)Y[l][1]=Math.round(Y[l][1]/W);
if(Q)Y.reverse()}D=G._B(Y,K,A,x)}}return D};QH.PNG={};QH.PNG._B=function(p,d,K,A){if(A==null)A=[100,!1,0,0,0];
var x={sRGB:1,loop:A[3]};if(p[0][2]!=null){var M=Math.round(p[0][2]*(1e4/254));x.pHYs=[M,M,1]}var G=A[0],D=G==100?0:Math.max(2,Math.floor(G*5));
if(D==5)D=4;var P=[],a=[];for(var e=0;e<p.length;e++){P.push(p[e][0]);a.push(p[e][1])}var f=UPNG.encode(P,d,K,D,a,x,A[1]);
return f};QH.PNG.eS_=function(p,d,K){return UPNG.encodeLL([p],d,K,3,1,8)};QH.PNG.W$=function(p){var d=Date.now(),K=UPNG.decode(p),A=UPNG.toRGBA8(K),x=K.width,M=K.height,G=0;
if(K.tabs.pHYs)G=Math.round(K.tabs.pHYs[0]*254/1e4);if(A.length==1)return[{Uo:new R(0,0,x,M),data:A[0],Bk:G}];
var D=[];for(var P=0;P<A.length;P++){D.push({Xh:"_a_frm"+P+","+K.frames[P].delay,Uo:new R(0,0,x,M),data:A[P],Bk:G})}return D};
QH.PPM={};QH.PPM._B=function(p,d,K,A){var x=new Uint8Array(p[0][0]),M=d*K,G=M*3,D="P6\n"+d+" "+K+"\n255\n",P=D.length,a=Z.p(P+G,!0);
for(var e=0;e<P;e++)a[e]=D.charCodeAt(e);for(var e=0;e<M;e++){var f=e*4,N=e*3+P;a[N]=x[f];a[N+1]=x[f+1];
a[N+2]=x[f+2]}return a.buffer};QH.PPM.W$=function(p){p=new Uint8Array(p);var d=[" ".charCodeAt(0),"\n".charCodeAt(0),"\t".charCodeAt(0),"\r".charCodeAt(0)],K=0,A=String.fromCharCode(p[0])+String.fromCharCode(p[1]),x=[],M=0,G=A=="P1"||A=="P4"?2:3;
for(K=2;K<p.length;K++){var D=p[K],P=String.fromCharCode(D);if(D=="#".charCodeAt(0)){while(p[K]!="\n".charCodeAt(0))K++;
continue}var a=d.indexOf(D)!=-1;if(M==0&&!a){x.push(P);M=1;continue}if(M==1&&!a){x[x.length-1]+=P;continue}if(M==1&&a){M=0;
if(x.length==G)break;continue}}var e=parseInt(x[0]),f=parseInt(x[1]),N=e*f*4,Y=A=="P1"||A=="P4"?1:255/parseInt(x[2]),l=Z.p(N);
if(A=="P1"||A=="P2"||A=="P3"){var h="",s=0,M=0,J="#".charCodeAt(0);for(var u=K;u<p.length;u++){var D=p[u],P=String.fromCharCode(D),a=d.indexOf(D)!=-1;
if(D==J){while(p[u]!="\n".charCodeAt(0))u++}else if(M==0&&!a){h=P;M=1}else if(M==1){if(a){M=0;var Q=parseInt(h);
h="";if(A=="P1"){l[s]=l[s+1]=l[s+2]=(1-Q)*255;l[s+3]=255;s+=4}if(A=="P2"){l[s]=l[s+1]=l[s+2]=Math.round(Q*Y);
l[s+3]=255;s+=4}if(A=="P3"){l[s]=Math.round(Q*Y);s++;if((s&3)==3){l[s]=255;s++}}}else h+=P}}}var W=e*f;
if(A=="P4")for(var q=0;q<f;q++){var H=q*8*Math.ceil(e/8);for(var C=0;C<e;C++){var u=H+C,k=p[K+1+(u>>3)];
k=k>>7-(u&7)&1;var i=q*e+C<<2;l[i]=l[i+1]=l[i+2]=(1-k)*255;l[i+3]=255}}if(A=="P5")for(var u=0;u<W;u++){var i=4*u;
l[i]=l[i+1]=l[i+2]=Math.round(p[K+1+u]*Y);l[i+3]=255}if(A=="P6")for(var u=0;u<W;u++){var i=4*u,m=K+1+3*u;
l[i]=Math.round(p[m]*Y);l[i+1]=Math.round(p[m+1]*Y);l[i+2]=Math.round(p[m+2]*Y);l[i+3]=255}return[{Uo:new R(0,0,e,f),data:l.buffer}]};
QH.DDS={};QH.DDS._B=function(p,d,K,A){var x=new Uint8Array(p[0][0]);if((d&3)!=0||(K&3)!=0){var M=d+(4-(d&3)),G=K+(4-(K&3)),D=new Uint8Array(M*G*4);
Z.Pk(D,4278190080);Z.PE(x,new R(0,0,d,K),D,new R(0,0,M,G));x=D;d=M;K=G}return UTEX.DDS.encode(x.buffer,d,K)};
QH.DDS.W$=function(p){var d=UTEX.DDS.decode(p)[0];return[{Uo:new R(0,0,d.width,d.height),data:d.image}]};
QH.JPG={};QH.JPG._B=function(p,d,K,A){if(A==null)A=[70];var x=p[0],M=new Uint8Array(x[0]),G=255,D=M.length,P;
for(var a=0;a<D;a+=4)G=G&M[a+3];if(G==255)P=M;else{P=new Uint8Array(M.length);var e=new R(0,0,d,K);Z.Pk(P,4294967295);
Z.h.gQ("norm",M,e,P,e,e,1)}var f=new Uint8Array(QH.BV(P.buffer,d,K,"jpeg",A[0]/100));if(x[2]!=null){var N=QH.JPG.Bc(f)[224][0]+2;
N+=9;f[N]=1;v.so(f,N+1,x[2]);v.so(f,N+3,x[2])}if(x[3]!=null&&A[1]==!0&&Object.keys(x[3]).length!=0){var Y=eI.FD(x[3]),l=new Uint8Array(UTIF.encode([Y])),h=4+6+l.length,s="http://ns.adobe.com/xap/1.0/",J=eI.e__(x[3]),u=v.GZ(J),Q=4+s.length+1+u.length,W=h+Q,q=new Uint8Array(f.length+W),H=20;
for(var a=0;a<20;a++)q[a]=f[a];for(var a=20;a<f.length;a++)q[a+W]=f[a];q[H]=255;q[H+1]=225;v.so(q,H+2,h-2);
v.ci(q,H+4,"Exif");for(var a=0;a<l.length;a++)q[H+10+a]=l[a];H+=h;q[H]=255;q[H+1]=225;v.so(q,H+2,Q-2);
v.ci(q,H+4,s);for(var a=0;a<u.length;a++)q[H+4+s.length+1+a]=u[a];f=q}return f.buffer};QH.JPG.Bc=function(p){var d=0,K=[];
while(d<p.length){while(p[d]==255)d++;var A=p[d];d++;if(K[A]==null)K[A]=[];K[A].push(d-2);if(A==216)continue;
if(A==217)break;if(224<=A&&A<=239||A==218||A==219||A==192||A==194||A==196||A==221||A==254){var x=v.OW(p,d);
d+=x;if(A==218)while(p[d]!=255||(p[d+1]==0||208<=p[d+1]&&p[d+1]<=215))d++;continue}console.log("unknown marker ",A.toString(16),d);
break}if(K[217]==null){console.log("EOI marker missing");var M=p.length-2;p[M]=255;p[M+1]=217;K[217]=[M]}return K};
QH.JPG.ePe=function(p){p=new Uint8Array(p);if(p[0]!=255)return p.buffer;var d=QH.JPG.yy(p,QH.JPG.Bc(p));
if(d.numComponents!=4)return p.buffer;var K=d.width,A=d.height,x=QH.JPG.yf(d,!0);return QH.JPG._B([[x[0].data]],K,A,[85])};
QH.JPG.yy=function(p,d){var K=new PDFJS.JpegImage;K.parse(p);var A=d[225];if(A)for(var x=0;x<A.length;
x++)QH.JPG.ePp(p,A[x]+2,K);var M=d[217][0]+2;if(M!=p.length)K.suffix=p.slice(M);return K};QH.JPG.ePp=function(p,d,K){var A=d,x=v.OW(p,A);
A+=2;var M=v.Ms(p,A,4);if(M=="Exif"){A+=6;var G=p.slice(A,A+x-8);K.exif=UTIF.decode(G.buffer,{parseMN:!1,debug:!1})}else if(M=="http"){var D=0;
while(p[A+D]!=0)D++;var P=v.Ms(p,A,D);A+=D+1;if(P=="http://ns.adobe.com/xmp/extension/"){var a=v.Ms(p,A,32);
A+=32;A+=8;var e=d+x-A;while(p[A+e-1]==0)e--;if(K.xmp_extn==null)K.xmp_extn="";try{K.xmp_extn+=v.Il(p,A,e)}catch(Qg){}}else if(P=="http://ns.adobe.com/xap/1.0/"){var f=v.Il(p.slice(A,A+x-D-3));
if(f[0]=="?")f="<"+f;K.xmp=f}}else console.log(M)};QH.JPG.yf=function(p,d){var K=p.width,A=p.height,x=K*A,M=p.getData({width:K,height:A,forceRGB:!0,isSourcePDF:d}),G=72,D,P=[K,A,1,0,0,0,1,0];
if(p.jfif&&p.jfif.densityUnits!=0)G=Math.round([72,1,2.54][p.jfif.densityUnits]*p.jfif.xDensity);else if(p.exif&&p.exif[0].t282!=null){var a=p.exif[0].t282[0];
G=a[0]/a[1]}if(p.exif){var e=p.exif;D=eI.sf(e[0]);var f=e[0].t274;if(f)f=f[0];if(f!=null&&f>1)P=Z.raw.GC(f,K,A)}if(p.xmp){D=eI.e$K(p.xmp,D)}var N=Z.p(x*4);
for(var Y=0;Y<x;Y++){var l=Y<<2,h=l-Y;N[l]=M[h];N[l+1]=M[h+1];N[l+2]=M[h+2];N[l+3]=255}var s=[{Uo:new R(0,0,K,A),data:N.buffer,Bk:G,ZD:D}],D=p.xmp_extn;
if(D){var J=new DOMParser,u=J.parseFromString(D,"image/svg+xml"),u=u.children[0].children[0].children[0],Q=[u.getAttribute("GImage:Data"),u.getAttribute("GDepth:Data")];
for(var Y=0;Y<Q.length;Y++)if(Q[Y]){var W=atob(Q[Y]),q=new Uint8Array(W.length);v.ci(q,0,W);q=q.buffer;
var H=QH.BU(q),C=QH.If(H).W$(q);s.push(C[0])}}if(p.suffix){var k=p.suffix;if(QH.yl(k,[0,0,1,10,14,0,0,0]))k=k.slice(78);
var i=v.Ms(k,4,4),m=v.m_(k,String.fromCharCode(255)+String.fromCharCode(216)+String.fromCharCode(255));
if(i=="ftyp")alert("Photopea found a "+tx.Ym(k.length)+" MP4 video inside your image.",4e3);else if(v.Ms(k,0,4)=="fixe"){alert("Unknown data - "+k.length+" B - at the end of the file",3e3);
var w=4,S=v.WL(k,w);w+=4;var o=v.WL(k,w);w+=4;var O=v.WL(k,w);w+=4;console.log(S,o,O,k.slice(w,w+84));
w+=84;var t=v.Ms(k,w,32);w+=32;w+=8;var t=v.Ms(k,w,32);w+=32}else if(v.Ms(k,8,13)=="FocusShot_Map"){var c=v.X(k,0),g=v.WL(k,4),q=Z.p(x*4),j=Z.p(x*4);
for(var _=0;_<A;_++)for(var U=0;U<K;U++){var Y=_*K+U,l=Y<<2,$=8+13+((_>>>1)*K+U>>>1),I=k[$],E=k[$+(x>>>2)];
q[l]=q[l+1]=q[l+2]=I;q[l+3]=255;j[l]=j[l+1]=j[l+2]=E;j[l+3]=255}s.push({Uo:new R(0,0,K,A),data:q.buffer},{Uo:new R(0,0,K,A),data:j.buffer})}else if(i=="edof"){var f=k[8+7];
console.log(f.toString(16));var w=8+16,b=v.rz(k,w),z=v.rz(k,w+2),x=b*z;w+=4;w+=32+16;var QS=Z.p(x*4);
for(var Y=0;Y<x;Y++){var l=Y<<2;QS[l]=QS[l+1]=QS[l+2]=k[w+Y];QS[l+3]=255}if(f==16){}else if(f==19){var QQ=QS.slice(0);
Z.c.HF(QS,QQ,b,z);var Qe=b;b=z;z=Qe;Z.c.ewB(QQ,QS,b,z)}else throw"Unknown orientation of a depth map";
s.push({Uo:new R(0,0,b,z),data:QS.buffer})}else if(m!=-1){if(m!=0)k=k.slice(m);var C=QH.If("jpg").W$(k.buffer);
for(var Y=0;Y<C.length;Y++)s.push(C[Y])}}if(s.length>1){var QB=s[0].Uo;s[0].Xh="Main";for(var Y=1;Y<s.length;
Y++){var QU=s[Y].Uo;if(!QU.GR(QB)){var Qt=QB.t/QU.t,F=QB.D/QU.D,L=new QI;L.scale(Qt,F);var Qu=r.ge.Ig([new Uint8Array(s[Y].data),QU],1,Z.c.H$(L));
s[Y]={Uo:Qu.rect,data:Qu.buffer}}s[Y].Xh=Y==1&&s.length==3?"Original":"Depth Map"}}if(P[2]!=1||P[6]!=1)for(var Y=0;
Y<s.length;Y++){var QK=s[Y],Qm=new Uint8Array(QK.data),K=QK.Uo.t,A=QK.Uo.D,b=P[0],z=P[1],N=Z.p(b*z*4);
for(var _=0;_<z;_++)for(var U=0;U<b;U++){var Qt=P[2]*U+P[3]*_+P[4],F=P[5]*U+P[6]*_+P[7],h=_*b+U<<2,$=F*K+Qt<<2;
N[h]=Qm[$+0];N[h+1]=Qm[$+1];N[h+2]=Qm[$+2];N[h+3]=Qm[$+3]}QK.Uo=new R(0,0,b,z);QK.data=N.buffer}return s};
QH.JPG.W$=function(p,d,K){p=new Uint8Array(p);if(p[0]==255){var A=QH.JPG.Bc(p);if(A[195]==null){var x=QH.JPG.yy(p,A),M=QH.JPG.yf(x,!1);
return M}var G=v.OW(p,A[195][0]+5),D=v.OW(p,A[195][0]+7),P=UTIF.LosslessJpegDecode(p),a=D*G,e=Z.p(a*4);
for(var f=0;f<a;f++){var N=f<<2,Y=N-f;e[N]=P[Y];e[N+1]=P[Y+1];e[N+2]=P[Y+2];e[N+3]=255}return[{Uo:new R(0,0,D,G),data:e.buffer}]}else if(p[0]==0&&p[4]==48&&p[6]==1){var l=p,x=new PDFJS.Jbig2Image,h=[];
if(d)h.push({data:d,start:0,end:d.length});h.push({data:l,start:0,end:l.length});var P=x.parseChunks(h);
if(!K)for(var f=0;f<P.length;f++)P[f]=~P[f];var D=v.X(p,11),G=v.X(p,15),s=Math.ceil(D/8),J=Z.p(D*G*4);
for(var u=0;u<G;u++){var Q=u*s;for(var W=0;W<D;W++){var N=(u*D+W)*4,q=P[Q+(W>>>3)]>>>7-(W&7)&1,H=q*255;
J[N]=H;J[N+1]=H;J[N+2]=H;J[N+3]=255}}return[{Uo:new R(0,0,D,G),data:J.buffer}]}else{var x=new PDFJS.JpxImage;
x.parse(p);var D=x.width,G=x.height,C=x.tiles,k=x.componentsCount,i=new Uint8Array(D*G*4),m=new R(0,0,D,G);
for(var x=0;x<C.length;x++){var w=C[x],S=w.width,o=w.height,O=S*o,M$=w.items,t=new R(w.left,w.top,S,o),c=new Uint8Array(O*4);
if(k==1)for(var f=0;f<O;f++){var g=M$[f],N=f*4;c[N]=g;c[N+1]=g;c[N+2]=g;c[N+3]=255}else if(k==3)for(var f=0;
f<O;f++){var Y=f*3,N=f*4;c[N]=M$[Y];c[N+1]=M$[Y+1];c[N+2]=M$[Y+2];c[N+3]=255}else console.log("Unknown number of components: "+k);
Z.PE(c,t,i,m)}return[{Uo:m,data:i.buffer}]}};QH.WEBP={};QH.WEBP._B=function(p,d,K,A){if(A==null)A=[70,0,0,0];
var x=A[0]/100,P=0;if(p.length==1)return QH.BV(p[0][0],d,K,"webp",x);var M=v.KL,G=v._q,D=new pO;M(D,P,"RIFF    WEBPVP8X");
P+=16;G(D,P,10);P+=4;G(D,P,18);P+=4;G(D,P,d-1);P+=3;G(D,P,K-1);P+=3;M(D,P,"ANIM");P+=4;G(D,P,6);P+=4;
D.hu(P,4);D.data[P+3]=255;v.ID(D,P+4,A[2]);P+=6;var a=[];for(var e=0;e<p.length;e++){a.push(p[e][0])}var f=UPNG.encode.compress(a,d,K,x==1?0:Math.max(2,Math.floor(x*500)),[!1,!0,!0,0,!0]).frames,N=new WebPDecoder;
for(var e=0;e<p.length;e++){M(D,P,"ANMF");P+=4;var Y=P;P+=4;var l=f[e],h=l.rect,s=[h.x>>>1,h.y>>>1,h.width-1,h.height-1,p[e][1]];
for(var J=0;J<5;J++)G(D,P+3*J,s[J]);P+=15;D.hu(P,1);D.data[P]=1-l.blend<<1|l.dispose;P++;var u=new Uint8Array(QH.BV(l.img.buffer,h.width,h.height,"webp",1)),Q=GX.RL(u.buffer).sub,W=v.Ms(u,12,4);
if(W!="VP8L"&&W!="VP8 "&&W!="VP8X")throw"e";var q=W=="VP8 "?0:W=="VP8L"?12:30,H=u.length-q;D.hu(P,H);
for(var J=0;J<H;J++)D.data[P+J]=u[q+J];P+=H;var C=P-Y-4;G(D,Y,C);if((C&1)==1){D.hu(P,1);P++}}G(D,4,P-8);
return D.data.slice(0,P).buffer};QH.WEBP.W$=function(p){var d=new Uint8Array(p),K=QH.WEBP.ePD(d),A=QH.WEBP.ePq,x=new WebPDecoder,M=GX.RL(p).sub;
if(M[0].Ak!="VP8X")return[A(x,K,M[0])];var G={};for(var D=0;D<M.length;D++)G[M[D].Ak]=M[D];if(G.ANIM==null){var P=G.ALPH?"ALPH":G["VP8 "]?"VP8 ":"VP8L";
return[A(x,K,{J:G[P].J-8})]}var a=G.VP8X.J,e=1+(v.WL(d,a+4)&16777215),f=1+(v.WL(d,a+7)&16777215),N=[],Y=new R(0,0,e,f),l=Z.p(e*f*4);
for(var D=0;D<M.length;D++){var h=M[D];if(h.Ak!="ANMF")continue;var s=[];for(var J=0;J<5;J++)s.push(v.WL(d,h.J+J*3)&16777215);
var u=new R(s[0]*2,s[1]*2,s[2]+1,s[3]+1),Q=s[4],W=A(x,K,{J:h.J+16}),q=new Uint8Array(W.data),H=d[h.J+15];
if(H>>>1==0)Z.h.gQ("norm",q,u,l,Y,u,1);else Z.PE(q,u,l,Y);N.push({Xh:"_a_"+N.length+","+Q,Uo:Y.clone(),data:l.buffer.slice(0)});
if((H&1)==1){Z.Pk(q,0);Z.PE(q,u,l,Y)}}return N};QH.WEBP.ePq=function(p,d,K){var A=[0],x=[0],M=p.WebPDecodeRGBA(d,K.J,d.length-K.J,A,x),G=M.length,D=new Uint8Array(G);
for(var P=0;P<G;P++)D[P]=M[P];return{Uo:new R(0,0,A[0],x[0]),data:D.buffer}};QH.WEBP.ePD=function(p){var d=[],K=p.length;
for(var A=0;A<K;A++)d.push(p[A]);return d};QH.BMP={};QH.BMP._B=function(p,d,K,A){var x=new Uint8Array(p[0][0]),M=!1,G={dv:d,Ri:K,lq:1,fC:M?32:24,HR:M?3:0,eMt:0},D=4*Math.floor((G.fC*G.dv+31)/32),a=0;
G.size=D*G.Ri+2;var P=new pO;v.KL(P,a,"BM");a+=2;v._q(P,a,D*K+16+40);a+=4;v._q(P,a,0);a+=4;v._q(P,a,54);
a+=4;P.hu(a,40);v._q(P,a,40);a+=4;QH.BMP.ePX(P.data,a,G,D);a+=36;P.hu(a,D*K);for(var e=0;e<K;e++){var f=a+(K-1-e)*D;
for(var N=0;N<d;N++){var Y=(e*d+N)*4,l=x[Y+3]*(1/255);if(M){P.data[f+N*4+2]=x[Y];P.data[f+N*4+1]=x[Y+1];
P.data[f+N*4+0]=x[Y+2];P.data[f+N*4+3]=x[Y+3]}else{P.data[f+N*3+2]=x[Y];P.data[f+N*3+1]=x[Y+1];P.data[f+N*3+0]=x[Y+2]}}}a+=D*K+2;
return P.data.slice(0,a).buffer};QH.BMP.W$=function(p){p=new Uint8Array(p);var d=0,K=v.Ms(p,d,2);d+=2;
if(K!="BM"){alert("Unsupported BMP format: "+K);return}var A=v.WL(p,d);d+=4;d+=4;var x=v.WL(p,d);d+=4;
return[QH.BMP.yT(p.buffer,d,x)]};QH.BMP.yT=function(p,d,K){p=new Uint8Array(p);var A=v.WL(p,d);d+=4;
var x=QH.BMP.ePb(p,d);if(x.lq!=1)alert("unsupported number of color planes: "+x.lq);if(x.HR!=0&&x.HR!=3){alert("Unsupported BMP compression: "+x.HR);
return}d+=A-4;var M=d;if(K==null)K=d;var G=4*Math.floor((x.fC*x.dv+31)/32),D=x.dv,P=Math.abs(x.Ri),a=new Uint8Array(D*P*4);
Z.set(a,255);if(x.fC==32)for(var e=0;e<P;e++){var f=K+(P-1-e)*G;for(var N=0;N<D;N++){var Y=(e*D+N)*4;
a[Y]=p[f+N*4+2];a[Y+1]=p[f+N*4+1];a[Y+2]=p[f+N*4+0];a[Y+3]=p[f+N*4+3]}}else if(x.fC==24)for(var e=0;
e<P;e++){var f=K+(P-1-e)*G;for(var N=0;N<D;N++){var Y=(e*D+N)*4;a[Y]=p[f+N*3+2];a[Y+1]=p[f+N*3+1];a[Y+2]=p[f+N*3+0]}}else if(x.fC==16)for(var e=0;
e<P;e++){var f=K+(P-1-e)*G;for(var N=0;N<D;N++){var Y=(e*D+N)*4,l=p[f+N*2+1]<<8|p[f+N*2];a[Y]=(l>>>11)*(255/31);
a[Y+1]=(l>>>5&63)*(255/63);a[Y+2]=(l&31)*(255/31)}}else if(x.fC==8)for(var e=0;e<P;e++){var f=K+(P-1-e)*G;
for(var N=0;N<D;N++){var Y=(e*D+N)*4,h=p[f+N];a[Y]=p[M+4*h+2];a[Y+1]=p[M+4*h+1];a[Y+2]=p[M+4*h+0]}}else if(x.fC==4)for(var e=0;
e<P;e++){var f=K+(P-1-e)*G;for(var N=0;N<D;N++){var Y=(e*D+N)*4,h=p[f+(N>>1)];h=h>>4-4*(N&1);h=h&15;
a[Y]=p[M+4*h+2];a[Y+1]=p[M+4*h+1];a[Y+2]=p[M+4*h+0]}}else if(x.fC==1)for(var e=0;e<P;e++){var f=K+(P-1-e)*G;
for(var N=0;N<D;N++){var Y=(e*D+N)*4,s=p[f+(N>>3)];s=s>>7-(N&7);s=s&1;a[Y]=p[M+4*s+2];a[Y+1]=p[M+4*s+1];
a[Y+2]=p[M+4*s+0]}}else throw"Unknown bit depth "+x.fC;if(x.Ri<0){var J=new Uint32Array(a.buffer),u=P>>>1;
for(var e=0;e<u;e++){var Q=e*D,W=(P-e-1)*D;for(var N=0;N<D;N++){var q=J[Q+N];J[Q+N]=J[W+N];J[W+N]=q}}}return{Uo:new R(0,0,D,P),data:a.buffer}};
QH.BMP.ePb=function(p,d){var K=v.Vz,A=v.WL,x=v.rz,M={};M.dv=K(p,d);d+=4;M.Ri=K(p,d);d+=4;M.lq=x(p,d);
d+=2;M.fC=x(p,d);d+=2;M.HR=A(p,d);d+=4;M.size=A(p,d);d+=4;var G=K(p,d);d+=4;var D=K(p,d);d+=4;M.eMt=A(p,d);
d+=4;d+=4;return M};QH.BMP.ePX=function(p,d,K,A){v.Wr(p,d,K.dv);d+=4;v.Wr(p,d,K.Ri);d+=4;v.Ii(p,d,K.lq);
d+=2;v.Ii(p,d,K.fC);d+=2;v.Wr(p,d,K.HR);d+=4;v.Wr(p,d,K.size);d+=4;v.Wr(p,d,2834);d+=4;v.Wr(p,d,2834);
d+=4;v.Wr(p,d,K.eMt);d+=4;d+=4};QH.GIF={};QH.GIF._B=function(p,d,K,A){if(A==null)A=[100,0,0,0];var x=[],M=[],G=d*K*4,s=null;
for(var D=0;D<p.length;D++){var P=new Uint8Array(p[D][0].slice(0));for(var a=0;a<G;a+=4){var e=P[a+3]=P[a+3]>127?255:0;
if(e==0)P[a]=P[a+1]=P[a+2]=0}x.push(P.buffer);M.push(p[D][1])}var f=Math.round(2+254*A[0]/100),N=UPNG.encode.compress(x,d,K,f,[!0,!1,!1,8,!1]),Y=N.plte,l=new Uint8Array(4),h=new Uint32Array(l.buffer);
for(var a=0;a<Y.length;a++){h[0]=Y[a];var J=l[0];l[0]=l[2];l[2]=J;Y[a]=h[0];if(h[0]==0)s=a}while(Y.length<256)Y.push(0);
var u=new Uint8Array(2e3+d*K*p.length),Q=A[2],W={palette:Y};if(Q!=1)W.loop=Q==0?0:Q-1;var q=new GifWriter(u,d,K,W);
for(var a=0;a<p.length;a++){var H=N.frames[a],C=H.rect,k=H.blend,i=H.dispose;q.addFrame(C.x,C.y,C.width,C.height,H.img,{transparent:s,disposal:i+1,delay:Math.round(M[a]/10)})}return u.slice(0,q.end()).buffer};
QH.GIF.W$=function(p){var d=new Uint8Array(p),K=new GifReader(d),A=[],x=K.numFrames(),M=K.width,G=K.height,D=Z.p(M*G*4),P=new R(0,0,M,G);
for(var a=0;a<x;a++){var e=K.frameInfo(a),f=e.disposal,N=f==3?D.slice(0):null;K.decodeAndBlitFrameRGBA(a,D);
A.push({Uo:P.clone(),Xh:"_a_frm"+a+","+e.delay*10,data:D.slice(0).buffer});if(e.disposal==2){var Y=Z.p(e.width*e.height*4);
Z.PE(Y,new R(e.x,e.y,e.width,e.height),D,P)}if(f==3){for(var l=0;l<D.length;l++)D[l]=N[l]}}return A};
QH.ICO={};QH.ICO._B=function(p,d,K,A){console.log(p);if(d>256||K>256){alert("Maximum ICO size is 256x256 px. Will be cropped.",4e3);
var x=Math.min(d,256),M=Math.min(K,256),G=new R(0,0,x,M),D=Z.p(G.r()*4),P=new R(0,0,d,K),a=new Uint8Array(p[0][0]);
Z.PE(a,P,D,G);p[0][0]=D.buffer;d=x;K=M}var e=new pO,f=0,N=A&&A[0]==!0;v.ID(e,f,0);f+=2;v.ID(e,f,N?2:1);
f+=2;v.ID(e,f,1);f+=2;var Y=new Uint8Array(QH.PNG._B(p,d,K));e.hu(f,16);e.data[f]=d==256?0:d;f++;e.data[f]=K==256?0:K;
f++;f+=2;v.ID(e,f,N?Math.round(d/2):1);f+=2;v.ID(e,f,N?Math.round(K/2):32);f+=2;v._q(e,f,Y.length);f+=4;
v._q(e,f,6+16);f+=4;e.hu(f,Y.length);for(var l=0;l<Y.length;l++)e.data[f+l]=Y[l];f+=Y.length;var h=new Uint8Array(f);
for(var l=0;l<f;l++)h[l]=e.data[l];return h.buffer};QH.ICO.W$=function(p){p=new Uint8Array(p);var d=4,K=v.rz(p,d);
d+=2;var A=[];for(var x=0;x<K;x++){var M=QH.ICO.ePf(p,d+x*16),G=p.buffer.slice(M.offset,M.offset+M.size),D=QH.BU(G);
D=D?D:"bmp";if(D=="png"){var P=QH.If(D),a=P.W$(G);M.lo=a[0]}else{var e=QH.BMP.yT(G,0),G=Z.p(M.dv*M.Ri*4);
Z.PE(new Uint8Array(e.data),new R(0,0,e.Uo.t,e.Uo.D),G,new R(0,M.Ri,M.dv,M.Ri));e.data=G.buffer;e.Uo.D=M.Ri;
M.lo=e}A.push(M)}A.sort(function(f,N){if(f.dv!=N.dv)return f.dv-N.dv;return f.eMp-N.eMp});return[A.pop().lo]};
QH.ICO.ePf=function(p,d){var K={};K.dv=p[d];d++;if(K.dv==0)K.dv=256;K.Ri=p[d];d++;if(K.Ri==0)K.Ri=256;
K.ePQ=p[d];d++;d++;K.ePM=v.rz(p,d);d+=2;K.eMp=v.rz(p,d);d+=2;K.size=v.WL(p,d);d+=4;K.offset=v.WL(p,d);
d+=4;return K};QH.TIFF={};QH.TIFF.W$=function(p){var d=Date.now(),A;if(Z.raw.Kd(p.byteLength))return[Z.raw.ePG(p)];
var K=UTIF.decode(p);if(K[0].t33421)A=K[0];else if(K[0].subIFD&&K[0].subIFD[0].t33421){A=K[0].subIFD[0];
if(A.t50706==null){if(A.t258[0]==8)A.t258[0]=12}}else if(K[0].subIFD&&K[0].subIFD[0]&&K[0].subIFD[0].t262&&K[0].subIFD[0].t262[0]==34892)A=K[0].subIFD[0];
else if(K[0].subIFD&&K[0].subIFD[1]&&K[0].subIFD[1].t33421)A=K[0].subIFD[1];else if(K[0].subIFD&&K[0].subIFD[2]&&K[0].subIFD[2].t33421)A=K[0].subIFD[2];
else if(K[3]&&K[3].t50648){var x=K[0].exifIFD,M=x.makerNote;A=K[3];var G=M.t224[1],D=M.t224[2];A.t256=[G];
A.t257=[D];A.t258=[16];A.t259=[7];A.t262=[32803];A.t277=[1];A.t33421=[2,2];var P=A.t50656[0],a=Z.raw.MD[P];
if(a==null)throw"e";A.t33422=a}if(A){UTIF.decodeImage(p,A,K);for(var e in K[0])if((e[0]=="t"||e[0]=="e"||e[0]=="d")&&A[e]==null)A[e]=K[0][e];
A.Hi=K[0].t274?K[0].t274[0]:1;return[A]}var f=[];for(var N=0;N<K.length;N++){var Y=K[N],l=72;UTIF.decodeImage(p,Y,K);
var h=Y.t282,s=Y.t296;if(h!=null&&s!=null){l=h[0][0]/h[0][1];if(s[0]==3)l=Math.round(l/2.54)}if(Y.width==null)continue;
var J=UTIF.toRGBA8(Y).buffer,u=eI.sf(Y);f.push({Uo:new R(0,0,Y.width,Y.height),data:J,Bk:l,ZD:u})}return f};
QH.TIFF._B=function(p,d,K,A){if(A==null)A=[!1];var x={},M=p[0];if(M[3]!=null&&A[0])x=eI.FD(M[3]);if(M[2]!=null){x.t282=x.t283=[[Math.round(M[2]),1]];
x.t296=[2]}return UTIF.encodeImage(M[0],d,K,x)};QH.PSD={};QH.PSD.aw=!0;QH.PSD.W$=function(p,d){Gs.RL(p,d)};
QH.PSD.eGL=function(p,d,K,A){if(A==null)A=[!1,!1];if(!A[0])p.zi();var x=new pO,M=Gs.cF(p,x,A);return[x.data.buffer,M]};
QH.PSD._B=function(p,d,K,A){var x=QH.PSD.eGL(p,d,K,A),M=x[0],G=x[1];return M.byteLength==G?M:M.slice(0,G)};
QH.PXD={};QH.PXD.aw=!0;QH.PXD.W$=function(p,d){var K=pako.inflate(new Uint8Array(p)),A=4;d.t=v.X(K,A);
A+=4;d.D=v.X(K,A);A+=4;var x=v.OW(K,A);A+=2;A+=4;for(var M=0;M<x;M++){var G=d.sP();d.L.push(G);var D=v.X(K,A),P=A+4,a=v.OW(K,P);
P+=2;var e=v.Il(K,P,a);P+=a;G.Hv(e);P++;G.rect.x=v.gc(K,P);P+=4;G.rect.y=v.gc(K,P);P+=4;G.rect.t=v.X(K,P);
P+=4;G.rect.D=v.X(K,P);P+=4;G.opacity=Math.round(255*K[P]/100);P++;G.qJ(K[P]!=0);P++;G.yk="norm,lddg,norm,dark,diff,norm,hLit,norm,norm,lite,mul ,over,scrn,fsub".split(",")[K[P]];
P++;P++;var f=v.X(K,P);P+=4;if(f!=G.rect.r()*4)throw"e";G.buffer=Z.p(f);for(var N=0;N<f;N+=4){G.buffer[N]=K[P+N+1];
G.buffer[N+1]=K[P+N+2];G.buffer[N+2]=K[P+N+3];G.buffer[N+3]=K[P+N+0]}P+=f;var Y=v.X(K,P);P+=4;var l=K[P];
P++;var h=v.OW(K,P);P+=2;if(Y!=0){G.g=new V.dK;G.g.rect=G.rect.clone();G.g.channel=Z.p(G.rect.r());for(var N=0;
N<Y;N+=4)G.g.channel[N>>>2]=K[P+N+1];P+=Y}if(l!=0){var s=JSON.parse(QG.default);G.add.lmfx=s;for(var N=0;
N<QG.order.length;N++)s[QG.mV[N]]={t:"VlLs",v:[]};var J={"102":9,"101":2,"103":0,"104":3,"105":8};for(var N=0;
N<l;N++){var u=v.OW(K,P),Q=P+u+4,W=K.slice(P,Q),q=K[P+2];P+=3;var H=J[q+""],C=JSON.parse(QG.oA[H]);s[QG.mV[H]].v.push({t:"Objc",v:C});
if(H!=0){C.Md.v.BlnM=eE.iR("norm");C.Opct.v.val=K[P];P++;if(H==9||H==2){C.Dstn.v.val=K[P+1];P+=2}else P+=2;
C.blur.v.val=Math.round(K[P]*1.2);P++;if(H==9||H==2){C.uglg.v=!1;C.lagl.v.val=180-v.OW(K,P);P+=2}C.Clr.v=Z.k.wI({N:K[P+1],w:K[P+2],M:K[P+3]})}else{C.hglM.v.BlnM=C.sdwM.v.BlnM=eE.iR("norm");
P+=2;var k=K[P++],i=K[P++];C.blur.v.val=Math.round(Math.sqrt(i*k)*1.3);C.srgR.v.val=Math.round(100*k/ i);
C.uglg.v=!1;C.lagl.v.val=180-v.OW(K,P);P+=2;C.hglO.v.val=K[P++];C.hglC.v=Z.k.wI({N:K[P+1],w:K[P+2],M:K[P+3]});
P+=4;C.sdwO.v.val=K[P++];C.sdwC.v=Z.k.wI({N:K[P+1],w:K[P+2],M:K[P+3]});P+=4}P=Q}}if(P!=A+4+D){var m=v.X(K,P),c=0;
P+=4;P++;var a=v.OW(K,P);P+=2;var w=v.Il(K,P,a);P+=a;w=w.replace(/\r/g,"\n");var a=v.OW(K,P);P+=2;var S=v.Il(K,P,a);
P+=a;var o=v.OW(K,P);P+=2;var O=G.rect.x,t=G.rect.t;if(m&4)c=1;if(m&2)c=2;var g=Math.round(o*.4);if(c==0||c==2)t+=g;
if(c==1||c==2){t+=g;O-=g}G.add.lnsr="rend";G.add.TySh=QM.av(0,0);G.add.TySh.MB=new R(0,0,100,100);G.add.TySh.u=new QI(1,0,0,1,O,G.rect.y+o*.25);
var j=G.add.TySh.Nf;QM.aP(j,1);QM.wv(j,[0,0,t,G.rect.D]);QM.bN(j,0,w);var _=QM.fy(j,0,1);_.K$.FontSize=o;
_.K$.FillColor={Type:1,Values:[1,K[P+1]/255,K[P+2]/255,K[P+3]/255]};P+=4;if(K[P+5])S+="-Bold";if(K[P+6])S+="-Italic";
QM.xz(_,S);_.hw.Justification=c;P+=8;QM.gh(j,0,w.length,_)}A+=4+D}};QH.SKETCH={};QH.SKETCH.aw=!0;QH.SKETCH.W$=function(p,d){Mp.RL(p,d)};
QH.XD={};QH.XD.aw=!0;QH.XD.W$=function(p,d){Gp.RL(p,d)};QH.FIG={};QH.FIG.aw=!0;QH.FIG.W$=function(p,d){eV.RL(p,d)};
QH.XCF={};QH.XCF.aw=!0;QH.XCF.W$=function(p,d){Mz.RL(p,d)};QH.SVG={};QH.SVG.aw=!0;QH.SVG._B=function(p,d,K,A,x){if(A==null)A=[!0,!1,!1,!1,!0,!0];
var M=e_.fK(p,{e_Q:A[0],hidden:A[1],e_M:A[2],e_H:A[3],names:A[4],eMK:A[5],e_W:d,e_J:K},x.ET);return M};
QH.SVG.W$=function(p,d){e_.RL(p,d)};QH.EPS={};QH.EPS.aw=!0;QH.EPS.W$=function(p,d){var K=150,A=new QI(1,0,0,-1,0,0);
A.scale(K/72,K/72);d.Bk=K;var x=new en(d,A,!0);FromPS.Parse(p,x)};QH.PDF={};QH.PDF.aw=!0;QH.PDF._B=function(p,d,K,A,x){if(A==null)A=["",100,!1,!1,!1];
A[5]=["jpg"];var M=new ToPDF;nc.fK(p,A,M,x.ET);return M.buffer};QH.PDF.W$=function(p,d,K){var A=(K?2:1)*72,x=new QI(1,0,0,-1,0,0);
x.scale(A/72,A/72);d.Bk=A;var M=new en(d,x,!0);FromPDF.Parse(p,M)};QH.WMF={};QH.WMF.aw=!0;QH.WMF.W$=function(p,d){var K=72,A=new QI(1,0,0,1,0,0);
A.scale(K/72,K/72);d.Bk=K;var x=new en(d,A,!1);FromWMF.Parse(p,x)};QH.EMF={};QH.EMF.Nj=!0;QH.EMF.aw=!0;
QH.EMF._B=function(p,d,K,A,x){if(A==null)A=["",!1,!1,!1];A[4]=[];var M=new ToEMF;nc.fK(p,A,M,x.ET);return M.buffer};
QH.EMF.W$=function(p,d){var K=72,A=new QI(1,0,0,1,0,0);A.scale(K/72,K/72);d.Bk=K;var x=new en(d,A,!1);
FromEMF.Parse(p,x)};QH.CDR={};QH.CDR.aw=!0;QH.CDR.W$=function(p,d){return Qk.RL(p,d)};QH.ILBM={};QH.ILBM.W$=function(p,d){var K=ey.RL(p),A=new Uint8Array(p),x=0,M,G,D,P,a,e,f,N,Y=0,l=0,h=0,s=0,J=0;
for(var u=0;u<K.sub.length;u++){var Q=K.sub[u],x=Q.J;if(Q.Ak=="BMHD"){var W=[];for(var q=0;q<4;q++)W[q]=v.OW(A,x+2*q);
x+=8;P=W[2];a=W[3];G=W[0];D=W[1];M=Z.p(G*D*4);e=A[x++];f=A[x++];N=A[x++]}else if(Q.Ak=="CMAP")Y=x;else if(Q.Ak=="CAMG"){var H=v.X(A,x);
l=H&32768,h=H&4,s=H&2048;J=H&128}else if(Q.Ak=="BODY"){var C=G+15>>>4<<1,k=e+f,i=Z.p(C*D*k),o,O,t;eH.mw(A,x,Q.size,i,0,i.length);
var m=e-2,w=(1<<m)-1,S=Math.round(255/w);for(var a=0;a<D;a++)for(var P=0;P<G;P++){var c=0;for(var g=0;
g<k;g++){var j=(a*k+g)*C*8+P,_=i[j>>>3]>>>7-(j&7)&1;c|=_<<g}var U=c>>>e,c=c&(1<<e)-1,q=a*G+P,$=q<<2;
if(Y!=0){if(s!=0&&c>>>m!=0){var I=c>>>m,E=(c&w)*S;if(I==1)t=E;else if(I==2)o=E;else if(I==3)O=E}else{var E=Y+c*3;
o=A[E+0];O=A[E+1];t=A[E+2]}}else{o=c>>>0&255;O=c>>>8&255;t=c>>>16&255}M[$+0]=o;M[$+1]=O;M[$+2]=t;M[$+3]=255}}}return[{Uo:new R(0,0,G,D),data:M.buffer}]};
QH.TGA={};QH.TGA.aw=!1;QH.TGA._B=function(p,d,K,A){var x=new Uint8Array(p[0][0]),M=2,G=Z.fH(x),D=G?4:3,P=new Uint8Array(d*K*D);
for(var a=0;a<K;a++)for(var e=0;e<d;e++){var f=a*d+e<<2,N=((K-a-1)*d+e)*D;P[N]=x[f+2];P[N+1]=x[f+1];
P[N+2]=x[f+0];if(G)P[N+3]=x[f+3]}if(!0){var Y=P.length,l=0,h=new Uint8Array(Y*2),s=0,J=0,u=d*D;while(J<Y){var Q=J,W=0,q=u*(Math.floor(J/u)+1);
while(Q<q&&W<128){var H=!0;for(var C=0;C<D;C++)H=H&P[J+C]==P[Q+C];if(!H)break;Q+=D;W++}if(W==1){var k=1;
while(k<128&&J+(k+1)*D<q){var H=!0,i=J+k*D;for(var C=0;C<D;C++)H=H&P[i+C]==P[i+D+C];if(H)break;k++}h[s++]=k-1;
for(var m=0;m<k;m++)for(var C=0;C<D;C++)h[s++]=P[J++]}else{h[s++]=127+W;for(var C=0;C<D;C++)h[s+C]=P[J+C];
s+=D;J+=D*W;l+=W}}P=h.slice(0,s);M+=8}var w=new Uint8Array(18+P.length+26);w[2]=M;v.Ii(w,12,d);v.Ii(w,14,K);
w[16]=D*8;w[17]=D==4?8:0;w.set(P,18);v.ci(w,18+P.length+8,"TRUEVISION-XFILE.");return w.buffer};QH.TGA.W$=function(p){var d=new Uint8Array(p),K=0,A=d[0],x=d[1],M=d[2],G=d[4]*256+d[3],D=d[6]*256+d[5],P=d[7],a=d[9]*256+d[8],e=d[11]*256+d[10],f=d[13]*256+d[12],N=d[15]*256+d[14],Y=d[16],l=d[17],h=l>>>4,s=v.Ms(d,18,A),J=Z.p(f*N*4),K=18+A+(D*P>>>3),u=new Uint8Array(d.buffer,K);
if(M>3){var Q=0,W=d,q=new Uint8Array(f*N*Y>>>3),H=K,C=0,k=d.length,i=Y>>>3;while(C<q.length){var m=W[H];
H++;if(m<128)for(var w=0;w<m+1;w++){for(var S=0;S<i;S++){q[C]=W[H];C++;H++}}else{for(var w=0;w<m-127;
w++){for(var S=0;S<i;S++){q[C]=W[H+S];C++}}H+=i}}M-=8;u=q;K=H}else K+=f*N*Y>>>3;var o=new Uint8Array(4),O=QH.TGA.eGz;
for(var t=0;t<N;t++)for(var c=0;c<f;c++){var g=(h&2)==0?(N-t-1)*f+c:t*f+c,j=t*f+c,_,U,$,I=255,E=g*Y>>>3;
if(M==1){var b=0;if(Y==8)b=u[E];else throw"e";O(d,18+A+G+(b*P>>>3),P,o);_=o[0];U=o[1];$=o[2];I=o[3]}else if(M==2){O(u,E,Y,o);
_=o[0];U=o[1];$=o[2];I=o[3]}else if(M==3){if(Y==8)_=U=$=u[E];else throw"e"}var z=j*4;J[z]=_;J[z+1]=U;
J[z+2]=$;J[z+3]=I}return[{Uo:new R(0,0,f,N),data:J.buffer,Xh:s}]};QH.TGA.eGz=function(p,d,K,A){var x,M,G,D=255;
if(K==24||K==32){G=p[d];M=p[d+1];x=p[d+2];if(K==32)D=p[d+3]}else if(K==16){var P=p[d+1]<<8|p[d+0];x=P>>>10&31;
M=P>>>5&31;G=P>>>0&31;x=Math.round(x*(255/31));M=Math.round(M*(255/31));G=Math.round(G*(255/31))}else throw"e";
A[0]=x;A[1]=M;A[2]=G;A[3]=D};QH.LIF={};QH.LIF.W$=function(p){var d=new Uint8Array(p),K=0,A=112,x=42,M=v.WL,e;
K+=8;var G=d[K];K++;if(G!=x)throw"e";var D=M(d,K);K+=4;var P=v.VV(d,K,D);K+=D*2;var a=[];while(K<d.length){e=M(d,K);
K+=4;if(e!=A)throw e;K+=4;e=d[K];K++;if(e!=x)throw e;var f=M(d,K);K+=4;var N=d[K];K++;if(N!=x){K-=5;
f=M(d,K);K+=8;e=d[K];K++;if(e!=x)throw e}var Y=M(d,K)*2;K+=4;if(f>0)a.push(K+Y);K+=Y+f}var l=new DOMParser,h=l.parseFromString(P,"image/svg+xml").firstChild.firstChild,s=[];
QH.LIF.fS(h,d,a,s);return s};QH.LIF.fS=function(p,d,K,A){var x=p.firstChild.firstChild;if(x.tagName=="Image"){var M=x.getElementsByTagName("ImageDescription")[0],G=M.children[0].children,D=M.children[1].children,P=K.shift(),a=[];
for(var e=0;e<D.length;e++)a.push(parseInt(D[e].getAttribute("NumberOfElements")));while(a.length>3)a[2]*=a.pop();
var f=G.length,N=a[0],Y=a[1],l=a[2],h=parseInt(D[0].getAttribute("BytesInc"));for(var s=0;s<l;s++){var J=Z.p(N*Y*4);
Z.Pk(J,4278190080);for(var u=0;u<f;u++){var Q=Z.p(N*Y);if(h==1)for(var W=0;W<Q.length;W++)Q[W]=d[P+W];
else if(h==2)for(var W=0;W<Q.length;W++)Q[W]=Math.min(255,(d[P+W*2+1]<<8|d[P+W*2])>>>2);else throw h;
if(u!=3)Z.qF(Q,J,u);if(f==1){Z.qF(Q,J,1);Z.qF(Q,J,2)}P+=N*Y*h}A.push({Uo:new R(0,0,N,Y),data:J.buffer})}}else{var q=p.children,H=0;
while(H<q.length&&q[H].tagName!="Children")H++;if(H==q.length)throw"e";q=q[H].children;for(var C=0;C<q.length;
C++)QH.LIF.fS(q[C],d,K,A)}};QH.RAF={};QH.RAF.W$=function(p){var d=new Uint8Array(p),K=16,A=v.Ms(d,K,4),M=32,J=0,u=0,Q=!1,_;
K+=4;var x=v.Ms(d,K,8);K+=8;while(d[K+M-1]==0)M--;var G=v.Ms(d,K,M);K+=32;var D=v.Ms(d,K,4);K+=4;K+=20;
var P=v.X(d,K);K+=4;var a=v.X(d,K);K+=4;var e=v.X(d,K);K+=4;var f=v.X(d,K);K+=4;var N=v.X(d,K);K+=4;
var Y=v.X(d,K);K+=4;var l="FujiFilm "+G,h=[0,1,1,2];if(l=="FujiFilm X10"){l="FujiFilm FinePix X10";h=[2,1,1,0]}var s={t271:["FujiFilm"],t272:[l],t277:[1],t33421:[2,2],t33422:h,Hi:1};
K=e;var W=[],q=v.OW,H=v.X(d,K);K+=4;for(var C=0;C<H;C++){var k=q(d,K);K+=2;var i=q(d,K);K+=2;if(k==256){u=q(d,K);
J=q(d,K+2)}else if(k==272){W=[q(d,K),q(d,K+2)]}else if(k==273){W.push(q(d,K),q(d,K+2))}else if(k==304){Q=!(d[K]>>>7)}else if(k==305){var m=Math.round(Math.sqrt(i)),w=[];
for(var S=0;S<i;S++)w.push(d[K+S]);w.reverse();s.t33421=[m,m];s.t33422=w}else if(k==12272){var o=q(d,K),O=q(d,K+2),t=q(d,K+6);
s.t50728=[o/O,1,o/t]}K+=i}var c=J<u,g=d.slice(N,N+Y),j=Math.round(Y*8/(J*u));if(g[0]==73&&g[1]==73&&g[2]==42){_=UTIF.decode(g.buffer)[0].fujiIFD;
j=_.t61443[0];var U=_.t61454;s.t50728=[U[0]/U[1],1,U[0]/U[2]];var $=_.t61447[0];g=g.slice($,$+_.t61448[0])}var Y=g.length,I=Y*8<J*u*j;
if(I)alert("Compressed RAF is not supported yet :(");function E(Qe,QB,QU){QU=QU<<8-(QB&7);var Qt=QB>>>3;
Qe[Qt]|=QU>>>16;Qe[Qt+1]|=QU>>>8;Qe[Qt+2]|=QU}var b=Y*8/(J*u);if(b==16)for(var C=0;C<Y;C+=2){var z=g[C];
g[C]=g[C+1];g[C+1]=z}else if(b==14){for(var C=0;C<Y;C+=4){var z=g[C];g[C]=g[C+3];g[C+3]=z;z=g[C+1];g[C+1]=g[C+2];
g[C+2]=z}}else if(b==12)for(var C=0;C<Y;C+=3){var QS=g[C+2]<<16|g[C+1]<<8|g[C+0];QS=QS>>>12|(QS&4095)<<12;
g[C]=QS>>>16&255;g[C+1]=QS>>>8&255;g[C+2]=QS&255}if(c)g=QH.RAF.eGa(g,J,u);var QQ=c?2:1;J*=QQ;s.t256=[J];
s.t257=[u];s.t258=[j];s.t50719=[W[1],W[0]*QQ];s.t50720=[W[3],W[2]*QQ];s.width=J;s.height=u;s.data=new Uint8Array(g.buffer);
return[s]};QH.RAF.eGa=function(p,d,K){p=new Uint16Array(p.buffer);var A=new Uint16Array(d*K*2);for(var x=0;
x<K;x+=2)for(var M=0;M<d;M++){var G=x*d+M,D=G*2,P=p[G],a=p[G+d];A[D+1]=A[D+2*d]=a;if(((x>>>1)+M&1)==0){A[D]=P;
A[D+2*d+1]=p[G+1]}else{A[D]=p[G-1];A[D+2*d+1]=P}}return A};QH.RAW={};QH.RAW.Nj=!0;QH.RAW._B=function(p,d,K,A){var x=new Uint8Array(p[0][0]),M=d*K,G=[1,3,4][A[0]],D=8+8*A[1],P=A[2];
if(G==1){var a=new Uint8Array(d*K);Z.$m(x,a,0);x=a}if(G==3){var a=new Uint8Array(d*K*3);for(var e=0;
e<M;e++){var f=e*4,N=e*3;a[N]=x[f];a[N+1]=x[f+1];a[N+2]=x[f+2]}x=a}if(D==16){var Y=x.length,a=new Uint8Array(Y*2);
for(var e=0;e<Y;e++){var l=Math.round(x[e]*(65535/255));a[e*2+P]=l>>>8;a[e*2+1-P]=l&255}x=a}return x.buffer};
function Z(){}Z.Iy=document.createElement("canvas");Z.W=Z.Iy.getContext("2d");Z.BF=function(p,d,K,A){A=Math.log(A)/Math.log(2);
A=Math.round(A);for(var x=0;x<K;x++)for(var M=0;M<d;M++){var G=x*d+M<<2,D=Z.fG(x,M,A);p[G]=p[G+1]=p[G+2]=D;
p[G+3]=255}};Z.fG=function(p,d,K){return 255-((p>>>K)+(d>>>K)&1)*51};Z.rd=function(p){var d=p.toString(16);
while(d.length<6)d="0"+d;return d};Z.etA=function(p){return parseInt(p,16)};Z.OE=function(p){return.3*p.N+.59*p.w+.11*p.M};
Z.ii=function(p){return Math.max(p.N,p.w,p.M)-Math.min(p.N,p.w,p.M)};Z.Je=function(p,d,K){return.3*p+.59*d+.11*K};
Z.emd=function(p,d,K){return Math.max(p,d,K)-Math.min(p,d,K)};Z.iq=function(p,d){var K=d-p,A=Math.abs(K),x=K-1,M=K+1;
if(Math.abs(x)<A)K=x;else if(Math.abs(M)<A)K=M;return K};Z.cL=function(p,d,K,A){return(d-K)*A/(p-K)};
Z.BL=function(p){return p<.0031308?12.92*p:1.055*Math.pow(p,1/2.4)-.055};Z.etr=function(p){return p<.04045?p/12.92:Math.pow((p+.055)/1.055,2.4)};
Z.emZ=function(p,d,K,A){if(K<d)K+=A;if(p<d)p+=A;return(p-d)/(K-d)};Z.eQQ=function(p,d){var K=Math.min(p.length,d.length);
for(var A=0;A<K;A+=4){var x=p[A],M=p[A+1],G=p[A+2];d[A]=16+Math.floor(65.481/255*x+128.553/255*M+24.966/255*G+.5);
d[A+1]=128-Math.floor(37.797/255*x-74.203/255*M+112/255*G+.5);d[A+2]=128+Math.floor(112/255*x-93.786/255*M-18.214/255*G+.5);
d[A+3]=p[A+3]}};Z.Qy=function(p,d,K){var A=Math.max(p,d,K),x=Math.min(p,d,K),M=0,G=0,D=(A+x)*.5;if(A!=x){var P=A-x;
G=D>.5?P/(2-(A+x)):P/(A+x);switch(A){case p:M=(d-K)/P+(d<K?6:0);break;case d:M=(K-p)/P+2;break;case K:M=(p-d)/P+4;
break}M*=1/6}return{Ri:M,mQ:G,Ln:D}};Z.dX=function(p,d,K){var A,x,M;if(d==0)A=x=M=K;else{var G=K<.5?K*(1+d):K+d-K*d,D=2*K-G;
A=Z.AF(D,G,p+1/3);x=Z.AF(D,G,p);M=Z.AF(D,G,p-1/3)}return{N:A,w:x,M:M}};Z.AF=function(p,d,K){if(K<0)K+=1;
if(K>1)K-=1;if(K<1/6)return p+(d-p)*6*K;if(K<1/2)return d;if(K<2/3)return p+(d-p)*(2/3-K)*6;return p};
Z.FE=function(p,d,K){var A=Math.max(p,d,K),x=Math.min(p,d,K),M,G,D=A,P=A-x;G=A==0?0:P/A;if(A==x)M=0;
else{switch(A){case p:M=(d-K)/P+(d<K?6:0);break;case d:M=(K-p)/P+2;break;case K:M=(p-d)/P+4;break}M*=1/6}return{Ri:M,mQ:G,jV:D}};
Z.uK=function(p,d,K){var A,x,M,G,D,P,a,e;G=Math.floor(p*6);D=p*6-G;P=K*(1-d);a=K*(1-D*d);e=K*(1-(1-D)*d);
switch(G%6){case 0:A=K,x=e,M=P;break;case 1:A=a,x=K,M=P;break;case 2:A=P,x=K,M=e;break;case 3:A=P,x=a,M=K;
break;case 4:A=e,x=P,M=K;break;case 5:A=K,x=P,M=a;break}return{N:A,w:x,M:M}};Z.B_=function(){var p=[],d=[];
for(var K=0;K<2e3;K++){var A=K/1e3;p[K]=Z.etr(A);d[K]=A>.008856?Math.pow(A,1/3):(903.3*A+16)*(1/116)}return[p,d]}();
Z.Jt=function(p,d,K){var A=Z.B_[0],x=Z.B_[1];p=A[~~(p*(1e3/255))];d=A[~~(d*(1e3/255))];K=A[~~(K*(1e3/255))];
var M=Z.EI.ecs,G=M[0]*p+M[1]*d+M[2]*K,D=M[4]*p+M[5]*d+M[6]*K,P=M[8]*p+M[9]*d+M[10]*K;G=G*(100/96.72);
D=D*(100/100);P=P*(100/81.427);return Z.ft(G,D,P)};Z.ft=function(p,d,K){var A=Z.B_[1],x=A[~~(p*1e3)],M=A[~~(d*1e3)],G=A[~~(K*1e3)];
return{Gs:116*M-16,V:500*(x-M),M:200*(M-G)}};Z.fp=function(p,d,K){var A=903.3,x=.008856,M=(p+16)/116,G=M*M*M,D=M-K/200,P=D*D*D,a=d/500+M,e=a*a*a,f=P>x?P:(116*D-16)/A,N=G>x?G:(116*M-16)/A,Y=e>x?e:(116*a-16)/A,l=Y*96.72,h=N*100,s=f*81.427,J=Z.EI.hb(Z.EI.UP,[l/100,h/100,s/100,0]);
for(var u=0;u<4;u++)J[u]=Math.max(0,Math.min(255,Z.BL(J[u])*255));return{N:J[0],w:J[1],M:J[2]}};Z.fB=function(p,d,K,A,x){var M=p.Gs,G=p.V,D=p.M,P=(M<d.Gs?d.Gs-M:K.Gs<M?K.Gs-M:0)*(1/100),a=(G<d.V?d.V-G:K.V<G?K.V-G:0)*(1/116),e=(D<d.M?d.M-D:K.M<D?K.M-D:0)*(1/116),f=Math.sqrt(P*P+a*a+e*e)*1.35;
return f<=A?Math.min(1,1.17*(1-f*x)):0};Z.cs=function(p,d,K){var A=d-Z.OE(p);K.N=p.N+A;K.w=p.w+A;K.M=p.M+A;
Z.eQO(K)};Z.io=function(p,d,K){var A=p.N,x=p.w,M=p.M;if(A==x&&x==M){K.N=K.w=K.M=0}else if(A>x){if(A>M){if(x>M){K.N=d;
K.w=Z.cL(A,x,M,d);K.M=0}else{K.N=d;K.M=Z.cL(A,M,x,d);K.w=0}}else{K.M=d;K.N=Z.cL(M,A,x,d);K.w=0}}else{if(A<M){if(x>M){K.w=d;
K.M=Z.cL(x,M,A,d);K.N=0}else{K.M=d;K.w=Z.cL(M,x,A,d);K.N=0}}else{K.w=d;K.N=Z.cL(x,A,M,d);K.M=0}}};Z.eQO=function(p){var d=p.N,K=p.w,A=p.M,x=Z.Je(d,K,A),M=Math.min(d,K,A),G=Math.max(d,K,A);
if(M<0){var D=x/(x-M);d=x+(d-x)*D;K=x+(K-x)*D;A=x+(A-x)*D}if(G>1){var D=(1-x)/(G-x);d=x+(d-x)*D;K=x+(K-x)*D;
A=x+(A-x)*D}p.N=d;p.w=K;p.M=A};Z.Tf=function(p,d,K,A,x,M){var G=new Uint32Array(p.buffer),D=0;A=Math.log(A)/Math.log(2);
A=Math.round(A);for(var P=0;P<K;P++)for(var a=0;a<d;a++){G[D++]=(P+M>>A)+(a+x>>A)&1==1?4291348680:4294967295}};
Z.emj=function(p,d,K){return(p>>K)+(d>>K)&1==1?200:255};Z.gC=function(p,d){var K=p.length;for(var A=0;
A<K;A+=4)d[A>>2]=Math.floor(p[A+0]*.3+p[A+1]*.59+p[A+2]*.11+.5)};Z.Bz=function(p,d){var K=d.length;for(var A=0;
A<K;A+=4){var x=p[A>>>2];d[A]=x;d[A+1]=x;d[A+2]=x}};Z.AR=function(p,d){var K=p.V,A=p.N,x=p.w,M=p.M,G=Math.min(p.V.length,d.buffer.byteLength>>>2),D=4*Math.floor(G/4),P=new Uint32Array(d.buffer),a=new Uint32Array(K.buffer),e=new Uint32Array(A.buffer),f=new Uint32Array(x.buffer),N=new Uint32Array(M.buffer);
for(var Y=0;Y<D;Y+=4){var l=a[Y>>2],h=N[Y>>2],s=f[Y>>2],J=e[Y>>2];P[Y]=l<<24|(h&255)<<16|(s&255)<<8|J&255;
P[Y+1]=(l&65280)<<16|(h&65280)<<8|s&65280|(J&65280)>>>8;P[Y+2]=(l&16711680)<<8|h&16711680|(s&16711680)>>>8|(J&16711680)>>>16;
P[Y+3]=l&4278190080|(h&4278190080)>>>8|(s&4278190080)>>>16|(J&4278190080)>>>24}for(var Y=D;Y<G;Y++)P[Y]=K[Y]<<24|M[Y]<<16|x[Y]<<8|A[Y]};
Z.emX=function(p,d,K,A){var x=p.V,M=p.N,G=p.w,D=p.M,P=new Uint32Array(d.buffer),a=A.x-K.x,e=a+A.t,f=A.y-K.y,N=f+A.D;
for(var Y=f;Y<N;Y++){var l=Y*K.t+a;for(var h=a;h<e;h++){P[l]=x[l]<<24|D[l]<<16|G[l]<<8|M[l];l++}}};Z.ul=function(p,d){var K=d.V,A=d.N,x=d.w,M=d.M,G=Math.min(d.V.length,p.buffer.byteLength>>>2),D=4*Math.floor(G/4),P=new Uint32Array(p.buffer),a=new Uint32Array(K.buffer),e=new Uint32Array(A.buffer),f=new Uint32Array(x.buffer),N=new Uint32Array(M.buffer);
for(var Y=0;Y<D;Y+=4){var l=P[Y],h=P[Y+1],s=P[Y+2],J=P[Y+3];e[Y>>2]=l&255|(h&255)<<8|(s&255)<<16|J<<24;
f[Y>>2]=(l&65280)>>8|h&65280|(s&65280)<<8|(J&65280)<<16;N[Y>>2]=(l&16711680)>>16|(h&16711680)>>8|s&16711680|(J&16711680)<<8;
a[Y>>2]=l>>>24|h>>>24<<8|s>>>24<<16|J&4278190080}for(var Y=D;Y<G;Y++){var u=P[Y];A[Y]=u>>0&255;x[Y]=u>>8&255;
M[Y]=u>>16&255;K[Y]=u>>24&255}};Z.$m=function(p,d,K){var A=new Uint8Array(p.buffer),x=Math.min(A.length/4,d.length);
for(var M=0;M<x;M++){d[M]=A[(M<<2)+K]}};Z.qF=function(p,d,K){var A=new Uint8Array(d.buffer),x=new Uint32Array(p.buffer),M=Math.min(A.length/4,p.length),G=0;
while(G+4<M){var D=x[G>>>2];A[(G<<2)+K]=D&255;A[(G<<2)+K+4]=D>>>8&255;A[(G<<2)+K+8]=D>>>16&255;A[(G<<2)+K+12]=D>>>24;
G+=4}while(G<M){A[(G<<2)+K]=p[G];G++}};Z.clone=function(p){return p.slice(0)};Z.cD=function(p,d){Z.set(p.V,d);
Z.set(p.N,d);Z.set(p.w,d);Z.set(p.M,d)};Z.set=function(p,d){d=Math.round(d);var K=d<<24|d<<16|d<<8|d,A=new Uint32Array(p.buffer),x=A.length;
for(var M=0;M<x;M++)A[M]=K};Z.Pk=function(p,d,K){if(K==null)K=0;var A=new Uint32Array(p.buffer),x=A.length;
for(var M=0;M<x;M++)A[M]=A[M]&K|d};Z.eQm=function(p,d,K,A,x){if(x==null)x=0;var M=new Uint32Array(p.buffer);
K=K.pk(d);var G=K.x-d.x,D=K.y-d.y,P=K.t,a=K.D,e=d.t;for(var f=0;f<a;f++){var N=(D+f)*e+G;for(var Y=0;
Y<P;Y++){M[N]=M[N]&x|A;N++}}};Z.emy=function(p,d){Z.tM(p.V,d.V);Z.tM(p.N,d.N);Z.tM(p.w,d.w);Z.tM(p.M,d.M)};
Z.tM=function(p,d){var K=Math.min(p.buffer.byteLength,d.buffer.byteLength),A=K>>>2,p=new Uint32Array(p.buffer,0,A),d=new Uint32Array(d.buffer,0,A);
d.set(p)};Z.euR=function(p,d){return Z.GR(p.V,d.V)&&Z.GR(p.N,d.N)&&Z.GR(p.w,d.w)&&Z.GR(p.M,d.M)};Z.GR=function(p,d){var K=p.buffer.byteLength,A=d.buffer.byteLength,x=new Uint32Array(p.buffer,0,K>>2),M=new Uint32Array(d.buffer,0,A>>2);
if(K!=A)return!1;var G=x.length;for(var D=0;D<G;D++)if(M[D]!=x[D])return!1;return!0};Z.an=function(p){var d=new Uint32Array(p.buffer),K=d.length;
for(var A=0;A<K;A++)d[A]=~d[A]};Z.eua=function(p){var d=p.length;for(var K=3;K<d;K+=4)p[K]=~p[K]};Z.eQV=function(p){return p+(p%4==0?0:4-p%4)};
Z.p=function(p,d){if(d==null)d=!1;if(!d)p=Z.eQV(p);try{var K=new Uint8Array(p)}catch(Qg){alert("Not enough RAM! (need "+Math.round(p/(1<<20))+" MB)",7e3);
throw"low_ram"}return K};Z.iW=function(p){var d=p.length,K=p[d-2],A=p[d-1];while(A.t>=2||A.D>=2){var x=Z.cA(K,A);
p.push(x.nM,x.rect);K=x.nM;A=x.rect}};Z.cA=function(p,d,K){var A=d.t,x=d.D,M=A>>1,G=x>>1,D=new R(d.x,d.y,M,G),P=K&&K.length==M*G*4?K:Z.p(M*G*4),a=new Uint32Array(p.buffer),e=new Uint32Array(P.buffer);
for(var f=0;f<G;f++)for(var N=0;N<M;N++){var Y=f*M+N,l=(f<<1)*A+(N<<1),h=a[l],s=a[l+1],J=a[l+A],u=a[l+A+1],Q=h>>>24,W=s>>>24,q=J>>>24,H=u>>>24,C=Q+W+q+H;
if(C==1020){var k=(h>>>0&255)+(s>>>0&255)+(J>>>0&255)+(u>>>0&255)+2>>>2,i=(h>>>8&255)+(s>>>8&255)+(J>>>8&255)+(u>>>8&255)+2>>>2,m=(h>>>16&255)+(s>>>16&255)+(J>>>16&255)+(u>>>16&255)+2>>>2;
e[Y]=255<<24|m<<16|i<<8|k}else if(C==0)e[Y]=0;else{var k=(h>>>0&255)*Q+(s>>>0&255)*W+(J>>>0&255)*q+(u>>>0&255)*H,i=(h>>>8&255)*Q+(s>>>8&255)*W+(J>>>8&255)*q+(u>>>8&255)*H,m=(h>>>16&255)*Q+(s>>>16&255)*W+(J>>>16&255)*q+(u>>>16&255)*H,w=1/C;
k=~~(k*w+.5);i=~~(i*w+.5);m=~~(m*w+.5);e[Y]=C+2>>>2<<24|m<<16|i<<8|k}}return{rect:D,nM:P}};Z.fu=function(p,d,K){var A=d.t,x=d.D,M=A>>1,G=x>>1,D=new R(d.x,d.y,M,G),P=K&&K.length==M*G*4?K:Z.p(M*G*4),a=new Uint32Array(p.buffer),e=new Uint32Array(P.buffer);
for(var f=0;f<G;f++)for(var N=0;N<M;N++){var Y=f*M+N,l=(f<<1)*A+(N<<1),h=a[l],s=a[l+1],J=a[l+A],u=a[l+A+1],Q=2+(h>>>0&255)+(s>>>0&255)+(J>>>0&255)+(u>>>0&255)>>>2,W=2+(h>>>8&255)+(s>>>8&255)+(J>>>8&255)+(u>>>8&255)>>>2,q=2+(h>>>16&255)+(s>>>16&255)+(J>>>16&255)+(u>>>16&255)>>>2;
e[Y]=4278190080|q<<16|W<<8|Q}return{rect:D,nM:P}};Z.eMP=function(p,d,K){var A=d.t,x=d.D,M=2*Math.floor(A/3),G=2*Math.floor(x/3),D=new R(d.x,d.y,M,G),P=K&&K.length==M*G*4?K:Z.p(M*G*4),a=new Uint32Array(p.buffer),e=new Uint32Array(P.buffer);
for(var f=0;f<G;f+=2)for(var N=0;N<M;N+=2){var Y=f*M+N,l=(f*3>>>1)*A+(N*3>>>1),h=a[l],s=a[l+1],J=a[l+2],u=a[l+A],Q=a[l+1+A],W=a[l+2+A],q=a[l+A+A],H=a[l+1+A+A],C=a[l+2+A+A],k=h>>>24<<2,i=(h>>>16&255)*k,m=(h>>>8&255)*k,w=(h&255)*k,S=s>>>24<<1,o=(s>>>16&255)*S,O=(s>>>8&255)*S,t=(s&255)*S,c=J>>>24<<2,g=(J>>>16&255)*c,j=(J>>>8&255)*c,_=(J&255)*c,U=u>>>24<<1,$=(u>>>16&255)*U,I=(u>>>8&255)*U,E=(u&255)*U,b=Q>>>24,z=(Q>>>16&255)*b,QS=(Q>>>8&255)*b,QQ=(Q&255)*b,Qe=W>>>24<<1,QB=(W>>>16&255)*Qe,QU=(W>>>8&255)*Qe,Qt=(W&255)*Qe,F=q>>>24<<2,L=(q>>>16&255)*F,Qu=(q>>>8&255)*F,QK=(q&255)*F,Qm=H>>>24<<1,ei=(H>>>16&255)*Qm,Qp=(H>>>8&255)*Qm,QO=(H&255)*Qm,QE=C>>>24<<2,Qi=(C>>>16&255)*QE,QV=(C>>>8&255)*QE,Q$=(C&255)*QE,eS=k+S+U+b,Qs=c+S+Qe+b,Qw=F+Qm+U+b,Q_=QE+Qm+Qe+b,QN=eS==0?0:1/eS,eK=Qs==0?0:1/Qs,Qz=Qw==0?0:1/Qw,eQ=Q_==0?0:1/Q_,Qd=0,Qj=0,QD=0,Qq=0;
Qd=~~(.5+(w+t+E+QQ)*QN);Qj=~~(.5+(m+O+I+QS)*QN);QD=~~(.5+(i+o+$+z)*QN);Qq=~~(.5+eS*(1/9));e[Y]=Qq<<24|QD<<16|Qj<<8|Qd;
Qd=~~(.5+(_+t+Qt+QQ)*eK);Qj=~~(.5+(j+O+QU+QS)*eK);QD=~~(.5+(g+o+QB+z)*eK);Qq=~~(.5+Qs*(1/9));e[Y+1]=Qq<<24|QD<<16|Qj<<8|Qd;
Qd=~~(.5+(QK+QO+E+QQ)*Qz);Qj=~~(.5+(Qu+Qp+I+QS)*Qz);QD=~~(.5+(L+ei+$+z)*Qz);Qq=~~(.5+Qw*(1/9));e[Y+M]=Qq<<24|QD<<16|Qj<<8|Qd;
Qd=~~(.5+(Q$+QO+Qt+QQ)*eQ);Qj=~~(.5+(QV+Qp+QU+QS)*eQ);QD=~~(.5+(Qi+ei+QB+z)*eQ);Qq=~~(.5+Q_*(1/9));e[Y+M+1]=Qq<<24|QD<<16|Qj<<8|Qd}return{rect:D,nM:P}};
Z.eMG=function(p,d,K){var A=d.t,x=d.D,M=2*Math.floor(A/3),G=2*Math.floor(x/3),D=new R(d.x,d.y,M,G),P=K&&K.length==M*G*4?K:Z.p(M*G*4),a=new Uint32Array(p.buffer),e=new Uint32Array(P.buffer);
for(var f=0;f<G;f+=2)for(var N=0;N<M;N+=2){var Y=f*M+N,l=(f*3>>>1)*A+(N*3>>>1),h=a[l],s=a[l+1],J=a[l+2],u=a[l+A],Q=a[l+1+A],W=a[l+2+A],q=a[l+A+A],H=a[l+1+A+A],C=a[l+2+A+A],k=(h>>>16&255)<<2,i=(h>>>8&255)<<2,m=(h&255)<<2,w=(s>>>16&255)<<1,S=(s>>>8&255)<<1,o=(s&255)<<1,O=(J>>>16&255)<<2,t=(J>>>8&255)<<2,c=(J&255)<<2,g=(u>>>16&255)<<1,j=(u>>>8&255)<<1,_=(u&255)<<1,U=Q>>>16&255,$=Q>>>8&255,I=Q&255,E=(W>>>16&255)<<1,b=(W>>>8&255)<<1,z=(W&255)<<1,QS=(q>>>16&255)<<2,QQ=(q>>>8&255)<<2,Qe=(q&255)<<2,QB=(H>>>16&255)<<1,QU=(H>>>8&255)<<1,Qt=(H&255)<<1,F=(C>>>16&255)<<2,L=(C>>>8&255)<<2,Qu=(C&255)<<2,QK=0,Qm=0,ei=0;
QK=~~(.5+(m+o+_+I)*(1/9));Qm=~~(.5+(i+S+j+$)*(1/9));ei=~~(.5+(k+w+g+U)*(1/9));e[Y]=255<<24|ei<<16|Qm<<8|QK;
QK=~~(.5+(c+o+z+I)*(1/9));Qm=~~(.5+(t+S+b+$)*(1/9));ei=~~(.5+(O+w+E+U)*(1/9));e[Y+1]=255<<24|ei<<16|Qm<<8|QK;
QK=~~(.5+(Qe+Qt+_+I)*(1/9));Qm=~~(.5+(QQ+QU+j+$)*(1/9));ei=~~(.5+(QS+QB+g+U)*(1/9));e[Y+M]=255<<24|ei<<16|Qm<<8|QK;
QK=~~(.5+(Qu+Qt+z+I)*(1/9));Qm=~~(.5+(L+QU+b+$)*(1/9));ei=~~(.5+(F+QB+E+U)*(1/9));e[Y+M+1]=255<<24|ei<<16|Qm<<8|QK}return{rect:D,nM:P}};
Z.fH=function(p){var d=255,K=p.length;K-=K&31;for(var A=3;A<K;A+=32)d=d&p[A]&p[A+4]&p[A+8]&p[A+12]&p[A+16]&p[A+20]&p[A+24]&p[A+28];
return d!=255};Z.Bi=function(p,d,K,A){var x=Z.cA,M=Z.eMP,D=0;if(!Z.fH(p)){x=Z.fu;M=Z.eMG}var G={nM:p,rect:d},P=K;
while(P<.499){D++;P*=2}for(var a=0;a<D;a++)G=x(G.nM,G.rect,A);if(P<.5001)G=x(G.nM,G.rect,A);else G=M(G.nM,G.rect,A);
return G};Z.fv=function(p,d,K,A){var x=Z.eMc,M=Z.eMo,G={nM:p,rect:d},D=0,P=K;while(P<.499){D++;P*=2}for(var a=0;
a<D;a++)G=x(G.nM,G.rect,A);if(P<.5001)G=x(G.nM,G.rect,A);else G=M(G.nM,G.rect,A);return G};Z.eMc=function(p,d,K){var A=d.t,x=d.D,M=A>>1,G=x>>1,D=new R(d.x,d.y,M,G);
if(p==null)return{rect:D};var P=K&&K.length>=M*G?K:Z.p(M*G);for(var a=0;a<G;a++){var e=a*M;for(var f=0;
f<M;f++){var N=(a<<1)*A+(f<<1);P[e+f]=2+p[N]+p[N+1]+p[N+A]+p[N+A+1]>>>2}}return{rect:D,nM:P}};Z.eMo=function(p,d,K){var A=d.t,x=d.D,M=2*Math.floor(A/3),G=2*Math.floor(x/3),D=new R(d.x,d.y,M,G);
if(p==null)return{rect:D};var P=K&&K.length>=M*G?K:Z.p(M*G);for(var a=0;a<G;a+=2)for(var e=0;e<M;e+=2){var f=a*M+e,N=(a*3>>>1)*A+(e*3>>>1),Y=p[N]<<2,l=p[N+1]<<1,h=p[N+2]<<2,s=p[N+A]<<1,J=p[N+1+A],u=p[N+2+A]<<1,Q=p[N+A+A]<<2,W=p[N+1+A+A]<<1,q=p[N+2+A+A]<<2;
P[f]=~~(.5+(Y+l+s+J)*(1/9));P[f+1]=~~(.5+(h+l+u+J)*(1/9));P[f+M]=~~(.5+(Q+W+s+J)*(1/9));P[f+M+1]=~~(.5+(q+W+u+J)*(1/9))}return{rect:D,nM:P}};
Z.Qj=function(p,d,K,A,x){var M=d.pk(A);if(x)M=M.pk(x);var G=Math.max(0,M.x-d.x),D=Math.max(0,M.x-A.x),P=Math.max(0,M.y-d.y),a=Math.max(0,M.y-A.y),e=M.t,f=M.D;
for(var N=0;N<f;N++){var Y=(P+N)*d.t+G,l=(a+N)*A.t+D;for(var h=0;h<e;h++){K[l+h]=p[Y+h]}}};Z.fw=function(p,d,K,A){if(d.GR(A)){Z.qF(p,K,3);
return}var x=d.pk(A),M=Math.max(0,x.x-d.x),G=Math.max(0,x.x-A.x),D=Math.max(0,x.y-d.y),P=Math.max(0,x.y-A.y),a=x.t,e=x.D;
for(var f=0;f<e;f++){var N=(D+f)*d.t+M,Y=(P+f)*A.t+G;for(var l=0;l<a;l++)K[(Y+l<<2)+3]=p[N+l]}};Z.Bh=function(p,d,K,A){var x=d.pk(A),M=Math.max(0,x.x-d.x),G=Math.max(0,x.x-A.x),D=Math.max(0,x.y-d.y),P=Math.max(0,x.y-A.y),a=x.t,e=x.D;
for(var f=0;f<e;f++){var N=(D+f)*d.t+M,Y=(P+f)*A.t+G;for(var l=0;l<a;l++)K[Y+l]=p[(N+l<<2)+3]}};Z.eui=function(p,d,K,A){var x=d.pk(A),M=Math.max(0,x.x-d.x),G=Math.max(0,x.x-A.x),D=Math.max(0,x.y-d.y),P=Math.max(0,x.y-A.y),a=x.t,e=x.D;
for(var f=0;f<e;f++){var N=(D+f)*d.t+M,Y=(P+f)*A.t+G;for(var l=0;l<a;l++)K[Y++]=p[N++]}};Z.PE=function(p,d,K,A,x){if(d.GR(A)&&(x==null||x.GR(A))){Z.tM(p,K);
return}p=new Uint32Array(p.buffer),K=new Uint32Array(K.buffer);var M=d.pk(A);if(x)M=M.pk(x);var G=Math.max(0,M.x-d.x),D=Math.max(0,M.x-A.x),P=Math.max(0,M.y-d.y),a=Math.max(0,M.y-A.y),e=M.t,f=M.D,N=e&3,Y=N==0?e:e-N;
for(var l=0;l<f;l++){var h=(P+l)*d.t+G,s=(a+l)*A.t+D,J=0;while(J<Y){K[s+J]=p[h+J];K[s+J+1]=p[h+J+1];
K[s+J+2]=p[h+J+2];K[s+J+3]=p[h+J+3];J+=4}if(N==1){K[s+J]=p[h+J]}else if(N==2){K[s+J]=p[h+J];K[s+J+1]=p[h+J+1]}else if(N==3){K[s+J]=p[h+J];
K[s+J+1]=p[h+J+1];K[s+J+2]=p[h+J+2]}}};Z.Bd=function(p,d,K,A){var x=d.pk(A),M=Math.max(0,x.x-d.x),G=Math.max(0,x.x-A.x),D=Math.max(0,x.y-d.y),P=Math.max(0,x.y-A.y),a=x.t,e=x.D,f=p.V,N=p.N,Y=p.w,l=p.M,h=K.V,s=K.N,J=K.w,u=K.M;
for(var Q=0;Q<e;Q++){var W=(D+Q)*d.t+M,q=(P+Q)*A.t+G;for(var H=0;H<a;H++){h[q+H]=f[W+H];s[q+H]=N[W+H];
J[q+H]=Y[W+H];u[q+H]=l[W+H]}}};Z.kU=function(p){var d=p.length;for(var K=0;K<d;K+=4){var A=p[K+3];p[K]=~~(p[K]*A*(1/255)+.5);
p[K+1]=~~(p[K+1]*A*(1/255)+.5);p[K+2]=~~(p[K+2]*A*(1/255)+.5)}};Z.km=function(p){var d=p.length;for(var K=0;
K<d;K+=4){var A=p[K+3];if(A==0||A==255)continue;var x=255/A;p[K]=~~(p[K]*x+.5);p[K+1]=~~(p[K+1]*x+.5);
p[K+2]=~~(p[K+2]*x+.5)}};Z.eud=function(){var p=new Uint8Array(256*256);for(var d=0;d<256;d++)for(var K=0;
K<256;K++)p[K*256+d]=Math.round(255*d/K);return p}();Z.ix=function(p,d){for(var K=0;K<p.length;K++)if(p[K]!=d)return!1;
return!0};Z._s=function(p){return p+1+(p>>>8)>>>8};Z.round=function(p,d){if(d==null)d=128;var K=p.length;
for(var A=0;A<K;A++)p[A]=p[A]<d?0:255};Z.iX=function(p,d){var K=p.length;for(var A=0;A<K;A++)p[A]=Math.round(p[A]*d)};
Z.euJ=function(p,d){var K=p.length;for(var A=0;A<K;A+=4)p[A+3]=Math.round(p[A+3]*d)};Z.iy=function(p,d){var K=new Uint32Array(p.buffer),A=new Uint32Array(d.buffer),x=K.length;
for(var M=0;M<x;M++){var G=K[M],D=A[M];A[M]=Z._s((G>>>24)*(D>>>24))<<24|Z._s((G>>>16&255)*(D>>>16&255))<<16|Z._s((G>>>8&255)*(D>>>8&255))<<8|Z._s((G&255)*(D&255))}};
Z.f$=function(p,d){var K=p.length;for(var A=0;A<K;A++)d[(A<<2)+3]=Z._s(d[(A<<2)+3]*p[A])};Z.eMd=function(p,d,K,A){var x=Math.max(0,A.x-d.x),M=Math.max(0,d.x-A.x),G=Math.max(0,A.y-d.y),D=Math.max(0,d.y-A.y),P=Math.min(d.x+d.t,A.x+A.t)-Math.max(d.x,A.x),a=Math.min(d.y+d.D,A.y+A.D)-Math.max(d.y,A.y);
for(var e=0;e<a;e++){var f=(G+e)*d.t+x,N=(D+e)*A.t+M;for(var Y=0;Y<P;Y++){K[N]=Z._s(K[N]*p[f]);f++;N++}}};
Z.HG=function(p,d,K,A){var x=Math.max(0,A.x-d.x),M=Math.max(0,d.x-A.x),G=Math.max(0,A.y-d.y),D=Math.max(0,d.y-A.y),P=Math.min(d.x+d.t,A.x+A.t)-Math.max(d.x,A.x),a=Math.min(d.y+d.D,A.y+A.D)-Math.max(d.y,A.y);
for(var e=0;e<a;e++){var f=(G+e)*d.t+x,N=((D+e)*A.t+M<<2)+3;for(var Y=0;Y<P;Y++){K[N]=Z._s(K[N]*p[f]);
f++;N+=4}}};Z.BN=function(p,d,K,A){var x=Math.max(0,A.x-d.x),M=Math.max(0,d.x-A.x),G=Math.max(0,A.y-d.y),D=Math.max(0,d.y-A.y),P=Math.min(d.x+d.t,A.x+A.t)-Math.max(d.x,A.x),a=Math.min(d.y+d.D,A.y+A.D)-Math.max(d.y,A.y);
for(var e=0;e<a;e++){var f=((G+e)*d.t+x<<2)+3,N=((D+e)*A.t+M<<2)+3;for(var Y=0;Y<P;Y++){K[N]=Z._s(K[N]*p[f]);
f+=4;N+=4}}};Z.eul=function(p,d,K,A){var x=1/255,M=Math.max(0,A.x-d.x),G=Math.max(0,d.x-A.x),D=Math.max(0,A.y-d.y),P=Math.max(0,d.y-A.y),a=Math.min(d.x+d.t,A.x+A.t)-Math.max(d.x,A.x),e=Math.min(d.y+d.D,A.y+A.D)-Math.max(d.y,A.y);
for(var f=0;f<e;f++){var N=(D+f)*d.t+M,Y=(P+f)*A.t+G;for(var l=0;l<a;l++){K[Y]=x*K[Y]*(255-p[N]);N++;
Y++}}};Z.euj=function(p,d){var K=[];for(var A=0;A<256;A++)K.push(0);var x=p.length,M=1/255;for(var A=0;
A<x;A++)K[p[A]]+=d[A]*M;return K};Z.$P=function(p){var d=new Float64Array(256),K=new Float64Array(256),A=new Float64Array(256),x=new Float64Array(256),M=p.length;
for(var G=0;G<M;G+=4){var D=p[G+3]*(1/255);K[p[G+0]]+=D;A[p[G+1]]+=D;x[p[G+2]]+=D}for(var G=0;G<256;
G++)d[G]=K[G]+A[G]+x[G];return[d,K,A,x,M>>>2]};Z.fz=function(p,d){var K=new Uint32Array(p.buffer),A=K.length;
for(var x=0;x<A;x++){var M=K[x],G=M&255,D=M>>8&255,P=M>>16&255,a=M>>24&255;K[x]=d[G]|d[D]<<8|d[P]<<16|d[a]<<24}};
Z.eMl=function(p,d,K,A,x,M,G){var D=new Uint32Array(p.buffer),P=new Uint32Array(d.buffer),a=D.length,e=0;
while(256<<e<K.length)e++;if(!G&&!M){for(var f=0;f!=a;f++){var N=D[f],Y=(N&255)<<e,l=(N>>>8&255)<<e,h=(N>>>16&255)<<e,s=K[Y],J=A[l],u=x[h];
P[f]=s|J<<8|u<<16|N&4278190080}return}for(var f=0;f<a;f++){var N=D[f],Y=(N&255)<<e,l=(N>>>8&255)<<e,h=(N>>>16&255)<<e;
if(M)Y=l=h=Math.round(Y*.3+l*.59+h*.11);var s=K[Y],J=A[l],u=x[h];if(G){var Q=Z.Je(Y,l,h),W=Z.Je(s,J,u);
if(Q>W){var q=(Q-W)/(255-W);s+=q*(255-s);J+=q*(255-J);u+=q*(255-u)}else if(W==0)s=J=u=0;else{var q=Q/W;
s=q*s;J=q*J;u=q*u}}P[f]=s|J<<8|u<<16|N&4278190080}};Z.eHU=function(p){var d=new Uint32Array(256),A=0;
for(var K=0;K<p.length;K++)d[p[K]]++;for(var K=0;K<256;K++)if(d[K]>d[A])A=K;return A};Z.gg=function(p,d){var K=d.t,A=d.D,top=0,x=0,M=0,G=0,D=0;
D=0;for(var P=0;P<A;P++){var a=P*K;for(var e=0;e<K;e++)D|=p[a+e];if(D!=0)break;top++}if(top==A)return new R(0,0,0,0);
D=0;for(var P=A-1;P>=0;P--){var a=P*K;for(var e=0;e<K;e++)D|=p[a+e];if(D!=0)break;M++}var f=A-M;D=0;
for(var e=0;e<K;e++){for(var P=top;P<f;P++)D|=p[P*K+e];if(D!=0)break;x++}D=0;for(var e=K-1;e>=0;e--){for(var P=top;
P<f;P++)D|=p[P*K+e];if(D!=0)break;G++}var N=new R(d.x+x,d.y+top,K-x-G,A-top-M);return N};Z.BZ=function(p,d,K,A){if(A==null)A=[!0,!0,!0,!0];
if(K==null)K=0;var x=new Uint32Array(p.buffer),M=d.t,G=d.D,top=0,D=0,P=0,a=0,e=!1,f=[x[0],x[x.length-1],0][K];
e=!1;if(A[0])for(var N=0;N<G;N++){var Y=N*M;for(var l=0;l<M;l++)if(x[Y+l]!=f)e=!0;if(e)break;top++}e=!1;
if(A[2])for(var N=G-1;N>=0;N--){var Y=N*M;for(var l=0;l<M;l++)if(x[Y+l]!=f)e=!0;if(e)break;P++}e=!1;
if(A[1])for(var l=0;l<M;l++){for(var N=0;N<G;N++)if(x[N*M+l]!=f)e=!0;if(e)break;D++}e=!1;if(A[3])for(var l=M-1;
l>=0;l--){for(var N=0;N<G;N++)if(x[N*M+l]!=f)e=!0;if(e)break;a++}var h=new R(d.x+D,d.y+top,M-D-a,G-top-P);
return h.kQ()?new R(0,0,0,0):h};Z.eHK=function(p){var d=255,K=p.length;for(var A=3;A<K;A+=4)d=d&p[A];
return d};Z.bB=function(p){var d=Z.gg(p.channel,p.rect);if(d.GR(p.rect))return;var K=Z.p(d.r());Z.Qj(p.channel,p.rect,K,d);
p.channel=K;p.rect=d};Z.qS=function(p){var d=Z.p(p.buffer.length>>2);Z.$m(p.buffer,d,3);var K=Z.gg(d,p.rect);
if(K.GR(p.rect))return;var A=new Z.p(K.r()*4);Z.PE(p.buffer,p.rect,A,K);p.buffer=A;p.rect=K};Z.extend=function(p,d,K){if(p.rect.iV(d))return;
var A=p.rect.ck(d),x=Z.p(A.r());if(K!=null)Z.set(x,K);Z.Qj(p.channel,p.rect,x,A);p.rect=A;p.channel=x};
Z.epG=function(p,d){if(d.kQ()||p.rect.iV(d))return;var K=p.rect.ck(d),A=Z.p(K.r()*4);Z.PE(p.buffer,p.rect,A,K);
p.rect=K;p.buffer=A};Z.eHm=function(p,d,K){var A=d.clone(),x=K.r(),M=p.ck(A);while(M.r()/p.r()<2&&M.r()<x){A.WJ(16,16);
M=M.ck(A).pk(K)}if(x/M.r()<2)M=K.clone();return M};Z.fq=function(p){var d=p.length;for(var K=0;K<d;K+=4){var A=p[K+3];
if(p[K]>A)p[K]=A;if(p[K+1]>A)p[K+1]=A;if(p[K+2]>A)p[K+2]=A}};Z.uD=function(p,d,K){if(!K.Bf(p))return!1;
var A=Math.floor(p.x)-K.x,x=Math.floor(p.y)-K.y,M=x*K.t+A;return d[M]>128};Z.ept=function(p,d,K){if(!K.Bf(p))return!1;
var A=Math.floor(p.x)-K.x,x=Math.floor(p.y)-K.y,M=x*K.t+A;return d[4*M+3]>128};Z.Bb=function(p){if(Z.qB.length<p){Z.qB=Z.p(p);
Z.set(Z.qB,255)}return Z.qB};Z.qB=Z.p(0);Z.MS=function(p){if(Z.By.length<p)Z.By=Z.p(p);return Z.By};
Z.By=Z.p(0);Z.dY=function(p){this.V=Z.p(p);this.N=Z.p(p);this.w=Z.p(p);this.M=Z.p(p)};Z.dY.prototype.clone=function(){var p=this.V.length,d=new Z.dY(1);
d.V=Z.clone(this.V);d.N=Z.clone(this.N);d.w=Z.clone(this.w);d.M=Z.clone(this.M);return d};Z.fs={epi:function(p,d){var K=p.length;
p.push(d);var A=K>>>1;while(A!=0&&p[K][0]<p[A][0]){var x=p[K];p[K]=p[A];p[A]=x;K=A;A=K>>>1}},eph:function(p){if(p.length==2)return p.pop();
var top=p[1],d=1;p[1]=p.pop();var K=p.length;while(!0){var A=d<<1,x=A+1,M=d;if(A<K&&p[A][0]<p[M][0])M=A;
else if(x<K&&p[x][0]<p[M][0])M=x;else break;var G=p[d];p[d]=p[M];p[M]=G;d=M}return top}};Z.h={};Z.h.qO=new Float64Array(256);
Z.h.Jh=new Uint8Array(256*256);Z.h.Ot=new Uint8Array(256*256);(function(){for(var p=0;p<256;p++)Z.h.qO[p]=255/p;
for(var p=0;p<256;p++)for(var d=0;d<256;d++)Z.h.Jh[p*256+d]=p==0?0:Math.round(d*255/p);for(var p=0;p<256;
p++)for(var d=0;d<256;d++)Z.h.Ot[p*256+d]=Math.round(p*(255-d)/255)}());Z.h.gQ=function(p,d,K,A,x,M,G,D){if(D==null)D=QL.sY();
if("idiv,lbrn,div ,lddg,vLit,lLit,hMix,diff".split(",").indexOf(p)==-1){G=G*D.fill;D.fill=1;D.style=!1}var P="norm,dark,mul ,idiv,lbrn,lite,scrn,div ,lddg,over,sLit,hLit,vLit,lLit,pLit,hMix,diff,smud,fsub,fdiv".split(","),a="dkCl,lgCl,hue ,sat ,colr,lum ".split(","),e=Z.h[p+"F"];
if(D.qT==null&&p=="norm")Z.h.enE(d,K,A,x,M,G,e,D.qy?1:0);else if(p=="diss")Z.h.eBf(d,K,A,x,M,G,e,D.qy?1:0);
else if(P.indexOf(p)!=-1)Z.h.eBF(d,K,A,x,M,G,e,D);else if(a.indexOf(p)!=-1)Z.h.eBo(d,K,A,x,M,G,e,D)};
Z.h.enB=function(p,d,K){var A=p*K+1-K;return A<.001?0:1-Math.min(1,(1-d)/A)};Z.h.enO=function(p,d,K){return p*K==1?1:Math.min(1,d/(1-p*K))};
Z.h.FN=function(p){return p<=.25?((16*p-12)*p+4)*p:Math.sqrt(p)};Z.h.normF=function(p,d,K){return p};
Z.h.darkF=function(p,d,K){return Math.min(p,d)};Z.h["mul F"]=function(p,d,K){return p*d};Z.h.idivF=function(p,d,K){var A=p*K+1-K;
return d==1?1:1-d>=A?0:1-(1-d)/A};Z.h.lbrnF=function(p,d,K){return Math.max(0,p*K+d-K)};Z.h.dkClF=function(p,d,K){var A=Z.OE(p)<Z.OE(d)?p:d;
K.N=A.N;K.w=A.w;K.M=A.M;return K};Z.h.liteF=function(p,d,K){return Math.max(p,d)};Z.h.scrnF=function(p,d,K){return d+p-d*p};
Z.h["div F"]=function(p,d,K){p*=K;return d==0?0:d>=1-p?1:d/(1-p)};Z.h.lddgF=function(p,d,K){p*=K;return Math.min(1,p+d)};
Z.h.lgClF=function(p,d,K){var A=Z.OE(p)>Z.OE(d)?p:d;K.N=A.N;K.w=A.w;K.M=A.M;return K};Z.h.overF=function(p,d,K){return Z.h.hLitF(d,p,K)};
Z.h.sLitF=function(p,d,K){return p<=.5?d-(1-2*p)*d*(1-d):d+(2*p-1)*(Z.h.FN(d)-d)};Z.h.hLitF=function(p,d,K){return p<=.5?Z.h["mul F"](2*p,d,K):Z.h.scrnF(2*p-1,d,K)};
Z.h.vLitF=function(p,d,K){return p<=.5?Z.h.enB(2*p,d,K):Z.h.enO(2*p-1,d,K)};Z.h.lLitF=function(p,d,K){return p<=.5?Z.h.lbrnF(2*p,d,K):Z.h.lddgF(2*p-1,d,K)};
Z.h.pLitF=function(p,d,K){return p<=.5?Z.h.darkF(2*p,d,K):Z.h.liteF(2*p-1,d,K)};Z.h.hMixF=function(p,d,K){if(K>.99)return p+d<1?0:1;
return Math.min(1,Math.max(0,(d+p*K-K)/(1-K+1e-6)))};Z.h.diffF=function(p,d,K){p*=K;return Math.abs(p-d)};
Z.h.smudF=function(p,d,K){return p+d-2*p*d};Z.h.fsubF=function(p,d,K){return Math.max(d-p,0)};Z.h.fdivF=function(p,d,K){return Math.min(d/p,1)};
Z.h["hue F"]=function(p,d,K){Z.io(p,Z.ii(d),K);Z.cs(K,Z.OE(d),K)};Z.h["sat F"]=function(p,d,K){Z.io(d,Z.ii(p),K);
Z.cs(K,Z.OE(d),K)};Z.h.colrF=function(p,d,K){Z.cs(p,Z.OE(d),K)};Z.h["lum F"]=function(p,d,K){Z.cs(d,Z.OE(p),K)};
Z.h.enE=function(p,d,K,A,x,M,G,D){var P=d.pk(A).pk(x),a=Math.max(0,P.x-d.x),e=Math.max(0,P.x-A.x),f=Math.max(0,P.y-d.y),N=Math.max(0,P.y-A.y),Y=P.t,l=P.D,h=d.t,s=A.t,J=Z.h.Jh,u=Z.h.Ot,Q=new Uint32Array(p.buffer),W=new Uint32Array(K.buffer);
for(var q=0;q<l;q++){var H=(f+q)*h+a,C=(N+q)*s+e;for(var k=0;k<Y;k++){var i=Q[H+k],S=255;if(i>>>24==0)continue;
if(i>>>24==255&&M==1&&D==0){W[C+k]=Q[H+k];continue}var m=W[C+k],w=255*M&255;if(D==0){w=(i>>>24)*M&255;
S=m>>>24}var o=u[S<<8|w],O=w+o,t=i&255,c=i>>>8&255,g=i>>>16&255,j=m&255,_=m>>>8&255,U=m>>>16&255;W[C+k]=D*(m>>>24)+(1-D)*O<<24|J[O<<8|Z._s(g*w+U*o)]<<16|J[O<<8|Z._s(c*w+_*o)]<<8|J[O<<8|Z._s(t*w+j*o)]}}};
Z.h.enw=function(p,d,K,A,x,M){var G=d.pk(A).pk(x),D=Math.max(0,G.x-d.x),P=Math.max(0,G.x-A.x),a=Math.max(0,G.y-d.y),e=Math.max(0,G.y-A.y),f=G.t,N=G.D,Y=d.t,l=A.t,h=Z.h.Jh,s=Z.h.Ot,J=new Uint32Array(p.buffer),u=new Uint32Array(K.buffer),Q=Math.floor(Math.random()*16777215),W=0;
for(var q=0;q<N;q++){var H=(a+q)*Y+D,C=(e+q)*l+P;for(var k=0;k<f;k++){var i=J[H+k];if(i>>>24==0)continue;
if(i>>24==255&&M==1){u[C+k]=i;continue}var m=u[C+k],w=(i>>>24)*M*(1/255),S=(m>>>24)*(1/255),o=S*(1-w),O=w+o,t=i&255,c=i>>>8&255,g=i>>>16&255,j=m&255,_=m>>>8&255,U=m>>>16&255;
W>>>=8;if((k&3)==0)W=Z.h.HU(C+k+Q);var $=O==0?0:1/O,I=Math.floor(O*(256*255))+(W&255)>>>8,E=Math.floor((g*w+U*o)*$+.5),b=Math.floor((c*w+_*o)*$+.5),z=Math.floor((t*w+j*o)*$+.5);
u[C+k]=I<<24|E<<16|b<<8|z}}};Z.h.qu=function(p,d,K,A,x,M,G,D){var P=Z.Je(p,d,K),a=Z.Je(A,x,M),e=Math.min,f=Z.h.eBv,N=f(P,D,0);
N=e(N,f(p,D,8));N=e(N,f(d,D,16));N=e(N,f(K,D,24));var Y=f(a,D,4);Y=e(Y,f(A,D,12));Y=e(Y,f(x,D,20));Y=e(Y,f(M,D,28));
Y=Math.max(Y,1-G);var l=Math.min(N,Y);return l<0?0:l>1?1:l};Z.h.eBv=function(p,d,K){return Math.min((p-d[K])*d[K+1],(p-d[K+3])*d[K+2])};
Z.h.eBF=function(p,d,K,A,x,M,G,D){var P=1/255,a=P*M,e=D.qy?1:0,f=D.fill,N=D.style,Y=d.pk(A).pk(x),l=Math.max(0,Y.x-d.x),h=Math.max(0,Y.x-A.x),s=Math.max(0,Y.y-d.y),J=Math.max(0,Y.y-A.y),u=Y.t,Q=Y.D,W=d.t,q=A.t,H=new Uint32Array(p.buffer),C=new Uint32Array(K.buffer);
for(var k=0;k<Q;k++){var i=(s+k)*W+l,m=(J+k)*q+h;for(var w=0;w<u;w++,i++,m++){var S=H[i],$=1;if(S>>>24==0)continue;
var o=C[m],O=(S&255)*P,t=(S>>>8&255)*P,c=(S>>>16&255)*P,g=(o&255)*P,j=(o>>>8&255)*P,_=(o>>>16&255)*P,U=M;
if(e==0){U=(S>>>24)*a;$=(o>>>24)*P}if(D.qT)U*=Z.h.qu(O,t,c,g,j,_,$,D.qT);var I=$*(1-U),E=U+I,b=255/E,z=N?1:U,QS=((1-$)*U*O+(1-z)*$*g+z*$*G(O,g,(1+U-z)*f))*b,QQ=((1-$)*U*t+(1-z)*$*j+z*$*G(t,j,(1+U-z)*f))*b,Qe=((1-$)*U*c+(1-z)*$*_+z*$*G(c,_,(1+U-z)*f))*b;
E=U*f+$*(1-U*f);var QB=Math.round(E*255);C[m]=e*(o>>>24)+(1-e)*QB<<24|Qe<<16|QQ<<8|QS}}};Z.h.eBo=function(p,d,K,A,x,M,G,D){var P=1/255,a=P*M,e=D.qy?1:0,f=d.pk(A).pk(x),N=Math.max(0,f.x-d.x),Y=Math.max(0,f.x-A.x),l=Math.max(0,f.y-d.y),h=Math.max(0,f.y-A.y),s=f.t,J=f.D,u=new Uint32Array(p.buffer),Q=new Uint32Array(K.buffer),W={N:0,w:0,M:0},q={N:0,w:0,M:0},H={N:0,w:0,M:0};
for(var C=0;C<J;C++){var k=(l+C)*d.t+N,i=(h+C)*A.t+Y;for(var m=0;m<s;m++,k++,i++){var w=u[k],S=Q[i],o=(w&255)*P,O=(w>>>8&255)*P,t=(w>>>16&255)*P,c=(S&255)*P,g=(S>>>8&255)*P,j=(S>>>16&255)*P,_=M,U=1;
if(e==0){_=(w>>>24)*a;U=(S>>>24)*P}if(D.qT)_*=Z.h.qu(o,O,t,c,g,j,U,D.qT);var $=U*(1-_),I=_+$,E=255/I;
W.N=o;W.w=O;W.M=t;q.N=c;q.w=g;q.M=j;G(W,q,H);var b=(((1-U)*o+U*H.N)*_+c*$)*E,z=(((1-U)*O+U*H.w)*_+g*$)*E,QS=(((1-U)*t+U*H.M)*_+j*$)*E,QQ=e*(S>>>24)+(1-e)*Math.round(I*255);
Q[i]=QQ<<24|QS<<16|z<<8|b}}};Z.h.ZP=function(p){p=p^61^p>>>16;p=p+(p<<3);p=p^p>>>4;p=p*668265261;p=p^p>>15;
return(p&16777215)*(1/16777215)};Z.h.HU=function(p){p=p^61^p>>>16;p=p+(p<<3);p=p^p>>>4;p=p*668265261;
p=p^p>>>15;return p};Z.h.OQ=function(p){this.ei=p};Z.h.OQ.prototype.get=function(){var p=this.ei=Z.h.HU(this.ei);
return(p&16777215)*(1/16777215)};Z.h.eBf=function(p,d,K,A,x,M,G,D){var P=1/255,a=P*M,e=Math.round(M*(256*256*256/255)),f=d.pk(A).pk(x),N=Math.max(0,f.x-d.x),Y=Math.max(0,f.x-A.x),l=Math.max(0,f.y-d.y),h=Math.max(0,f.y-A.y),s=f.t,J=f.D,u=new Uint32Array(p.buffer),Q=new Uint32Array(K.buffer);
for(var W=0;W<J;W++){var q=(l+W)*d.t+N,H=(h+W)*A.t+Y;for(var C=0;C<s;C++,q++,H++){var k=u[q],i=Q[H],m=D*255+(1-D)*(k>>>24);
if((Z.h.HU(q)&16777215)>=m*e)continue;Q[H]=k&16777215|D*(i>>>24)+(1-D)*255<<24}}};Z.h.eH$=function(p,d,K){for(var A=0;
A<p.length;A+=4){var x=K[A>>>2];if(x==0)continue;var M=x*(1/255),G=1/M,D=d[A],P=d[A+1],a=d[A+2],e=p[A],f=p[A+1],N=p[A+2];
d[A]=Math.min(255,Math.max(0,Math.round((D-(1-M)*e)*G)));d[A+1]=Math.min(255,Math.max(0,Math.round((P-(1-M)*f)*G)));
d[A+2]=Math.min(255,Math.max(0,Math.round((a-(1-M)*N)*G)));d[A+3]=255}};Z.h.OL=function(p,d,K,A,x,M,G,D,P,a){if(a==null)a=!1;
if(x&&!d.GR(M)){var e=Z.p(d.r()*4);Z.set(e,G);Z.Qj(x,M,e,d);x=e;M=d}if(a){if(x==null)Z.h.eOD(p,d,K,A,x,D,P);
else Z.h.eUQ(p,d,K,A,x,D,P)}else{if(x==null)Z.h.eOV(p,d,K,A,x,D,P);else Z.h.eOd(p,d,K,A,x,D,P)}};Z.h.eOV=function(p,d,K,A,x,M,G){var D=1/255,P=d.pk(A).pk(M),a=Math.max(0,P.x-d.x),e=Math.max(0,P.x-A.x),f=Math.max(0,P.y-d.y),N=Math.max(0,P.y-A.y),Y=P.t,l=P.D,h=new Uint32Array(p.buffer),s=new Uint32Array(K.buffer),J=Z.h.Jh,u=G*255&255;
for(var Q=0;Q<l;Q++){var W=(f+Q)*d.t+a,q=(N+Q)*A.t+e;for(var H=0;H<Y;H++,W++,q++){var C=h[W],k=s[q],i=C>>>24,m=k>>>24,w=Z._s(u*i+(255-u)*m),S=Z._s(i*u),o=Z._s(m*(255-u)),O=C&255,t=C>>>8&255,c=C>>>16&255,g=k&255,j=k>>>8&255,_=k>>>16&255,U=S*O+g*o,$=S*t+j*o,I=S*c+_*o;
U=J[w<<8|Z._s(U)];$=J[w<<8|Z._s($)];I=J[w<<8|Z._s(I)];s[q]=w<<24|I<<16|$<<8|U}}};Z.h.eOD=function(p,d,K,A,x,M,G){var D=1/255,P=d.pk(A).pk(M),a=Math.max(0,P.x-d.x),e=Math.max(0,P.x-A.x),f=Math.max(0,P.y-d.y),N=Math.max(0,P.y-A.y),Y=P.t,l=P.D,h=new Uint32Array(p.buffer),s=new Uint32Array(K.buffer),J=Z.h.Jh,u=G*16777215&16777215;
for(var Q=0;Q<l;Q++){var W=(f+Q)*d.t+a,q=(N+Q)*A.t+e;for(var H=0;H<Y;H++,W++,q++){if((Z.h.HU(W)&16777215)<u)s[q]=h[W]}}};
Z.h.eOd=function(p,d,K,A,x,M,G){var D=1/255,P=d.pk(A).pk(M),a=Math.max(0,P.x-d.x),e=Math.max(0,P.x-A.x),f=Math.max(0,P.y-d.y),N=Math.max(0,P.y-A.y),Y=P.t,l=P.D,h=new Uint32Array(p.buffer),s=new Uint32Array(K.buffer),J=Z.h.Jh;
for(var u=0;u<l;u++){var Q=(f+u)*d.t+a,W=(N+u)*A.t+e;for(var q=0;q<Y;q++,Q++,W++){var H=x[Q]*G&255;if(H==0)continue;
if(H==255){s[W]=h[Q];continue}var C=h[Q],k=s[W],i=C>>>24,m=k>>>24,w=Z._s(H*i+(255-H)*m),S=Z._s(i*H),o=Z._s(m*(255-H)),O=C&255,t=C>>>8&255,c=C>>>16&255,g=k&255,j=k>>>8&255,_=k>>>16&255,U=J[w<<8|Z._s(S*O+g*o)],$=J[w<<8|Z._s(S*t+j*o)],I=J[w<<8|Z._s(S*c+_*o)];
s[W]=w<<24|I<<16|$<<8|U}}};Z.h.eUQ=function(p,d,K,A,x,M,G){var D=1/255,P=d.pk(A).pk(M),a=Math.max(0,P.x-d.x),e=Math.max(0,P.x-A.x),f=Math.max(0,P.y-d.y),N=Math.max(0,P.y-A.y),Y=P.t,l=P.D,h=new Uint32Array(p.buffer),s=new Uint32Array(K.buffer),J=Z.h.Jh,u=Math.round(G*257);
for(var Q=0;Q<l;Q++){var W=(f+Q)*d.t+a,q=(N+Q)*A.t+e;for(var H=0;H<Y;H++,W++,q++){var C=x[W]*u;if((Z.h.HU(W)&65535)<C)s[q]=h[W]}}};
Z.h.fA=function(p,d,K,A,x,M,G){var D=1/255,P=d.pk(A).pk(M),a=Math.max(0,P.x-d.x),e=Math.max(0,P.x-A.x),f=Math.max(0,P.y-d.y),N=Math.max(0,P.y-A.y),Y=P.t,l=P.D,h=new Uint32Array(p.buffer),s=new Uint32Array(K.buffer),J=Math.floor(Math.random()*A.r()),u=Z.h.eUB;
for(var Q=0;Q<l;Q++){var W=(f+Q)*d.t+a,q=(N+Q)*A.t+e;for(var H=0;H<Y;H++){var C=x[W+H]*G;if(C==0)continue;
if(C==255){s[q+H]=h[W+H];continue}var k=h[W+H],i=s[q+H],m=k>>>24,w=i>>>24,S=m*C*(1/255),o=w*(255-C)*(1/255),O=k&255,t=k>>>8&255,c=k>>>16&255,g=i&255,j=i>>>8&255,_=i>>>16&255,U=Z.h.HU(q+H+J),$=Math.floor((S+o)*256+.5)+(U>>>0&255)>>>8,I=$==0?0:256/(S+o),E=O*S+g*o,b=t*S+j*o,z=c*S+_*o,QS=Math.floor(E*I+.5)+(U>>>8&255)>>>8,QQ=Math.floor(b*I+.5)+(U>>>16&255)>>>8,Qe=Math.floor(z*I+.5)+(U>>>21&248)>>>8;
s[q+H]=$<<24|Qe<<16|QQ<<8|QS}}};Z.h.eUB=function(p){return Math.floor(p+Math.random())};Z.h.$U=function(p,d,K,A,x,M,G){var D=1/255,P=d.pk(A).pk(M),a=Math.max(0,P.x-d.x),e=Math.max(0,P.x-A.x),f=Math.max(0,P.y-d.y),N=Math.max(0,P.y-A.y),Y=P.t,l=P.D;
for(var h=0;h<l;h++){var s=(f+h)*d.t+a,J=(N+h)*A.t+e;for(var u=0;u<Y;u++,s++,J++){var Q=G*x[s]*D;if(Q==0)continue;
if(Q==1){K[J]=p[s];continue}K[J]=p[s]*Q+K[J]*(1-Q)}}};Z.zB={};Z.zB.eUO=function(p,d,K,A,x,M){Z.zB.On(p,d,K,A,x,M,null,0)};
Z.zB.eUU=function(p,d,K,A,x){Z.zB.On(p,d,K,A,x,null,null,0)};Z.zB.eUE=function(p,d,K,A,x,M,G){Z.zB.On(p,d,K,A,x,null,M,G*.5)};
Z.zB.On=function(p,d,K,A,x,M,G,D){var P=0,o=0,O=1e9,t=0,c=1e9,g=0,j=1e9,_=0,U=0,$=0,I=0;if(M){P=x*.5;
x=3+Math.round((x-3)*.75)}if(G){x=Math.round(x*2.2)}var a=1/x,e=Math.floor(d*a)+1,f=Math.floor(K*a)+1,N=[],Y=new Uint8Array(e*f*4),l=G?.5:1,h=M?64:0;
for(var s=0;s<f;s++){var J=G?.5*(s&1):0;for(var u=0;u<e;u++){var Q=(u+Math.random()*l+J)*x,W=(s+Math.random()*l)*x;
N.push(Q,W);var q=Math.min(d-1,Math.floor(Q)),H=Math.min(K-1,Math.floor(W)),C=(H*d+q)*4,k=(s*e+u)*4;
for(var i=0;i<4;i++)Y[k+i]=Math.max(0,Math.min(255,Math.floor(p[C+i]+(Math.random()-.5)*h)))}}var m=M?M:G?G:[0,0,0],w=e*f*2,S=[-e-1,-e,-e+1,-1,0,1,e-1,e,e+1];
for(var s=0;s<K;s++){$=0;for(var u=0;u<d;u++){var E=u+.5,b=s+.5,z=Math.floor(b*a),QS=Math.floor(E*a),QQ=z*e+QS,QU=0,Qt=0;
if($>1+D){O=Z.zB.fN(N,o,E,b);_=Math.sqrt(O);$--;I++}else{O=c=j=1e9;for(var i=0;i<S.length;i++){var Qe=(QQ+S[i])*2;
if(Qe<0||Qe>=w)continue;var QB=Z.zB.fN(N,Qe,E,b);if(QB<j){if(QB<c){if(QB<O){g=t;j=c;t=o;c=O;o=Qe;O=QB}else{g=t;
j=c;t=Qe;c=QB}}else{g=Qe;j=QB}}}_=Math.sqrt(O);U=Math.sqrt(c);$=U-(_+U)*.5}if(G==null){var F=(_+U)*.5,L=M?Math.max(0,F-P):0;
QU=Math.max(0,Math.min(1,.5+F-_-L));Qt=Math.max(0,Math.min(1,1-(.5+F-_)-L))}else{var Qu=Math.min(Z.zB.fg(N,o,t,E,b),Z.zB.fg(N,o,g,E,b));
QU=Math.max(0,Math.min(1,Qu-D*.5));if(E<D||d-D<E||b<D||K-D<b)QU=0;Qt=0}var QK=1-Qt-QU,k=s*d+u<<2,Qm=o<<1,ei=t<<1;
A[k+0]=Math.floor(.5+QU*Y[Qm+0]+Qt*Y[ei+0]+QK*m[0]);A[k+1]=Math.floor(.5+QU*Y[Qm+1]+Qt*Y[ei+1]+QK*m[1]);
A[k+2]=Math.floor(.5+QU*Y[Qm+2]+Qt*Y[ei+2]+QK*m[2]);A[k+3]=p[k+3]}}};Z.zB.fN=function(p,d,K,A){var x=K-p[d],M=A-p[d+1];
return x*x+M*M};Z.zB.fg=function(p,d,K,A,x){var M=p[d],G=p[d+1],D=p[K],P=p[K+1],a=(M+D)*.5,e=(G+P)*.5,f=a+(P-G),N=e-(D-M),Y=N-e,l=f-a;
return Math.abs(Y*A-l*x+f*e-N*a)/Math.sqrt(l*l+Y*Y)};Z.blur={};Z.blur.kE=function(p){if(Z.blur.qH.length<p)Z.blur.qH=Z.p(p);
return Z.blur.qH};Z.blur.qH=Z.p(0);Z.blur.fZ=function(p){if(Z.blur.Om.length<p)Z.blur.Om=new Float32Array(p);
return Z.blur.Om};Z.blur.Om=new Float32Array(0);Z.blur.Zt=function(p,d,K,A){var x=K.t,M=K.D;Z.blur.eKE(p,d,x,M,A)};
Z.blur.eUD=function(p,d,K){var A=d.t,x=d.D;Z.blur.eKw(p,A,x,K)};Z.blur.Fr=function(p,d,K,A,x){var M=K.t,G=K.D;
Z.blur.eKR(p,d,M,G,A,x)};Z.blur.fl=function(p,d,K,A){var x=K.t,M=K.D;A=Math.round(A);var G=Z.blur.kE(x*M);
Z.tM(p,d);Z.blur.qE(d,G,x,M,A)};Z.blur.Te=function(p,d,K){var A=d.t,x=d.D;K=Math.round(K);var M=Z.blur.kE(A*x*4);
Z.blur.qX(p,M,A,x,K)};Z.blur.Ou=function(p,d,K,A){var x=K.t,M=K.D;A=Math.round(A);var G=Z.blur.fZ(x*M);
Z.tM(p,d);Z.blur.Tt(d,G,x,M,A)};Z.blur.TP=function(p,d,K){var A=d.t,x=d.D;K=Math.round(K);var M=Z.blur.kE(A*x*4);
Z.blur.TM(p,M,A,x,K);Z.tM(M,p)};Z.blur.OV=function(p,d){var K=Math.sqrt(12*p*p/d+1),A=Math.floor(K);
if(A%2==0)A--;var x=A+2,M=(12*p*p-d*A*A-4*d*A-3*d)/(-4*A-4),G=Math.round(M),D=[];for(var P=0;P<d;P++)D.push(P<G?A:x);
return D};Z.blur.eKE=function(p,d,K,A,x){var M=Z.blur.OV(x,3),G=Z.blur.kE(K*A);Z.tM(p,d);Z.blur.qE(d,G,K,A,M[0]-1>>1);
Z.blur.qE(d,G,K,A,M[1]-1>>1);Z.blur.qE(d,G,K,A,M[2]-1>>1)};Z.blur.eKw=function(p,d,K,A){var x=Z.blur.OV(A,3),M=Z.blur.kE(d*K*4);
Z.blur.qX(p,M,d,K,x[0]-1>>1);Z.blur.qX(p,M,d,K,x[1]-1>>1);Z.blur.qX(p,M,d,K,x[2]-1>>1)};Z.blur.eKR=function(p,d,K,A,x,M){if(M==null)M=3;
var G=Z.blur.OV(x,M),D=Z.blur.fZ(K*A);Z.tM(p,d);for(var P=0;P<M;P++)Z.blur.Tt(d,D,K,A,(G[0]-1)/2)};Z.blur.qE=function(p,d,K,A,x){Z.blur.eKW(p,d,K,A,x);
Z.blur.emu(d,p,K,A,x)};Z.blur.qX=function(p,d,K,A,x){Z.blur.TM(p,d,K,A,x);Z.blur.emV(d,p,K,A,x)};Z.blur.Tt=function(p,d,K,A,x){Z.blur.emm(p,d,K,A,x);
Z.blur.emz(d,p,K,A,x)};Z.blur.O$=[];Z.blur.hp=function(p){if(Z.blur.O$[p])return Z.blur.O$[p];var d=1/(p+p+1),K=(p+p+1)*256,A=Z.p(K);
for(var x=0;x<K;x++)A[x]=Math.round(x*d);Z.blur.O$[p]=A;return A};Z.blur.eKW=function(p,d,K,A,x){var M=1/(x+x+1),G=K-x-x-1,D=Z.blur.hp(x);
for(var P=0;P<A;P++){var a=P*K,e=a,f=a+x,N=p[a],Y=p[a+K-1],l=(x+1)*N;for(var h=0;h<x;h++)l+=p[a+h];for(var h=0;
h<=x;h++){l+=p[f+h]-N;d[a+h]=D[l]}f+=x+1;a+=x+1;for(var h=0;h<G;h++){l+=p[f+h]-p[e+h];d[a+h]=D[l]}f+=G;
e+=G;a+=G;for(var h=K-x;h<K;h++){l+=Y-p[e++];d[a++]=D[l]}}};Z.blur.TM=function(p,d,K,A,x){var M=K<<2,G=x<<2,D=1/(x+x+1),P=K-x-x-1,a=P<<2,e=Z.blur.hp(x);
for(var f=0;f<A;f++){var N=f*M,Y=N,l=N+G,h=N+M,s=p[N],J=p[N+1],u=p[N+2],Q=p[N+3],W=(x+1)*s,q=(x+1)*J,H=(x+1)*u,C=(x+1)*Q;
for(var k=0;k<G;k+=4){W+=p[N+k];q+=p[N+k+1];H+=p[N+k+2];C+=p[N+k+3]}for(var k=0;k<=G;k+=4){W+=p[l]-s;
d[N]=e[W];q+=p[l+1]-J;d[N+1]=e[q];H+=p[l+2]-u;d[N+2]=e[H];C+=p[l+3]-Q;d[N+3]=e[C];l+=4;N+=4}for(var k=0;
k<a;k+=4){W+=p[l+k]-p[Y+k];d[N+k]=e[W];q+=p[l+k+1]-p[Y+k+1];d[N+k+1]=e[q];H+=p[l+k+2]-p[Y+k+2];d[N+k+2]=e[H];
C+=p[l+k+3]-p[Y+k+3];d[N+k+3]=e[C]}l+=a;Y+=a;N+=a;s=p[h-4];J=p[h-3];u=p[h-2];Q=p[h-1];for(var k=K-x;
k<K;k++){W+=s-p[Y];d[N]=e[W];q+=J-p[Y+1];d[N+1]=e[q];H+=u-p[Y+2];d[N+2]=e[H];C+=Q-p[Y+3];d[N+3]=e[C];
Y+=4;N+=4}}};Z.blur.emm=function(p,d,K,A,x){var M=1/(x+x+1),G=K-x-x-1,D=0,P=0,a=0;for(var e=0;e<A;e++){D=e*K;
P=D;a=D+x;var f=p[D],N=p[D+K-1],Y=(x+1)*f;for(var l=0;l<x;l++){Y+=p[D+l]}for(var l=0;l<=x;l++){Y+=p[a++]-f;
d[D++]=Y*M}for(var l=0;l<G;l++){Y+=p[a+l]-p[P+l];d[D+l]=Y*M}a+=G;P+=G;D+=G;for(var l=K-x;l<K;l++){Y+=N-p[P++];
d[D++]=Y*M}}};Z.blur.emu=function(p,d,K,A,x){var M=1/(x+x+1),G=A-x-x-1,D=Z.blur.hp(x);for(var P=0;P<K;
P++){var a=P,e=a,f=a+x*K,N=p[a],Y=p[a+K*(A-1)],l=(x+1)*N;for(var h=0;h<x;h++)l+=p[a+h*K];for(var h=0;
h<=x;h++){l+=p[f]-N;d[a]=D[l];f+=K;a+=K}for(var h=0;h<G;h++){var s=h*K;l+=p[f+s]-p[e+s];d[a+s]=D[l]}e+=G*K;
f+=G*K;a+=G*K;for(var h=A-x;h<A;h++){l+=Y-p[e];d[a]=D[l];e+=K;a+=K}}};Z.blur.emV=function(p,d,K,A,x){var M=K<<2,G=x<<2,D=1/(x+x+1),P=A-x-x-1,a=P<<2,e=Z.blur.hp(x);
for(var f=0;f<K;f++){var N=f<<2,Y=N,l=N+x*M,h=N+M*(A-1),s=p[N],J=p[N+1],u=p[N+2],Q=p[N+3],W=(x+1)*s,q=(x+1)*J,H=(x+1)*u,C=(x+1)*Q;
for(var k=0;k<x;k++){var i=N+k*M;W+=p[i];q+=p[i+1];H+=p[i+2];C+=p[i+3]}for(var k=0;k<=x;k++){W+=p[l]-s;
d[N]=e[W];q+=p[l+1]-J;d[N+1]=e[q];H+=p[l+2]-u;d[N+2]=e[H];C+=p[l+3]-Q;d[N+3]=e[C];l+=M;N+=M}for(var k=0;
k<P;k++){var m=k*M;W+=p[l+m]-p[Y+m];d[N+m]=e[W];q+=p[l+m+1]-p[Y+m+1];d[N+m+1]=e[q];H+=p[l+m+2]-p[Y+m+2];
d[N+m+2]=e[H];C+=p[l+m+3]-p[Y+m+3];d[N+m+3]=e[C]}Y+=P*M;l+=P*M;N+=P*M;s=p[h];J=p[h+1];u=p[h+2];Q=p[h+3];
for(var k=A-x;k<A;k++){W+=s-p[Y];d[N]=e[W];q+=J-p[Y+1];d[N+1]=e[q];H+=u-p[Y+2];d[N+2]=e[H];C+=Q-p[Y+3];
d[N+3]=e[C];Y+=M;N+=M}}};Z.blur.emz=function(p,d,K,A,x){var M=1/(x+x+1),G=A-x-x-1;for(var D=0;D<K;D++){var P=D,a=P,e=P+x*K,f=p[P],N=p[P+K*(A-1)],Y=(x+1)*f;
for(var l=0;l<x;l++)Y+=p[P+l*K];for(var l=0;l<=x;l++){Y+=p[e]-f;d[P]=Y*M;e+=K;P+=K}for(var l=0;l<G;l++){var h=l*K;
Y+=p[e+h]-p[a+h];d[P+h]=Y*M}a+=G*K;e+=G*K;P+=G*K;for(var l=A-x;l<A;l++){Y+=N-p[a];d[P]=Y*M;a+=K;P+=K}}};
Z.tO={};Z.tO.p=function(p,d,K,A){var x=[];for(var M=0;M<4;M++)for(var G=0;G<4;G++)x.push(p+K*G/3,d+A*M/3);
return x};Z.tO.Tp=function(p,d){var K=p.slice(0);for(var A=0;A<4;A++)for(var x=0;x<4;x++){var M=2*(A*4+x),G=2*(x*4+(3-A));
if(d){var D=M;M=G;G=D}K[G]=p[M];K[G+1]=p[M+1]}return K};Z.tO.ema=new Float64Array(16);Z.tO.drawImage=function(p,d,K,A,x,M,G){if(G==null)G=!1;
var D=M.t,P=M.D,N=2;x=new Uint32Array(x.buffer);d=new Uint32Array(d.buffer);var a=Z.tO.T.Tm(p,0,1,0,1,K,A),e=a.Ho,f=a.lx,Y=1/N,l=Z.tO.hO,h=new Float64Array(2),s=new Uint32Array(30);
for(var J=0;J<P;J++)for(var u=0;u<D;u++){var Q=u+M.x+.5,W=J+M.y+.5,q=Z.tO.T.eml(e,f,Q,W,s),S=0,o=0,O=0,t=0;
if(q==0)continue;var H=J*D+u,C=Z.tO.uD(p,Q,W,e,s,q,!0),k=l[0]*K,i=l[1]*A;if(G){if(C!=-1&&0<k&&k<K&&0<i&&i<A){var m=Math.floor(i)*K+Math.floor(k);
x[H]=d[m]}continue}var w=C!=-1&&(1<k&&k<K-1)&&(1<i&&i<A-1);if(e[C+8]<.95){Z.c.FO(k,i,d,K,A,x,H,0);continue}for(var c=0;
c<N;c++)for(var g=0;g<N;g++){var Q=u+M.x+(c+.5)*Y,W=J+M.y+(g+.5)*Y,C=0;C=Z.tO.uD(p,Q,W,e,s,q,!0);if(C!=-1){var k=l[0],i=l[1],k=Math.floor(k*K);
i=Math.floor(i*A);var j=d[i*K+k],_=j>>>24;S+=(j&255)*_;o+=(j>>>8&255)*_;O+=(j>>>16&255)*_;t+=_}}if(t!=0){var U=1/t;
S=~~(S*U+.5);o=~~(o*U+.5);O=~~(O*U+.5);t=~~(t*Y*Y+.5);x[H]=t<<24|O<<16|o<<8|S}}};Z.tO.hO=new Float64Array(5*20);
Z.tO.emY=new Uint32Array(5*5*20);Z.tO.uD=function(p,d,K,A,x,M,G){var D=Z.tO.hO,P=Z.tO.emY,a=0,e=0;for(var f=0;
f<M;f++){var N=x[f],Y=a;a=Z.tO.OF(p,d,K,A,N+4,G,D,a);if(a!=Y){P[e]=N;e+=5}}if(a==0)return-1;else if(a==5)return P[0];
else{var l=0;for(var f=0;f<a;f+=5)if(D[f+4]<D[l+4])l=f;D[0]=D[l];D[1]=D[l+1];D[2]=D[l+2];D[3]=D[l+3];
return P[l]}};Z.tO.$E=new Array(10);Z.tO.OF=function(p,d,K,A,x,M,G,D){var P=Z.tO.$E,a=0,e=0,f=0,N=0,Y=0,l=0,h=0,s=A[x],J=A[x+1],u=A[x+2],Q=A[x+3],W=(u-d)*(u-d)+(Q-K)*(Q-K);
for(var q=0;q<5&&W>.05;q++){Z.tO.Ff(P,0,J);Z.tO.$i(P,4,s);Z.tO.Js(p,P);a=P[8];e=P[9];Z.tO.$i(P,0,J);
Z.tO.Ff(P,4,s);Z.tO.Js(p,P);f=P[8];N=P[9];Y=1/(a*N-e*f);l=(u-d)*Y;h=(Q-K)*Y;s+=-N*l+f*h;J+=+e*l-a*h;
Z.tO.OI(p,s,J,P);u=P[8];Q=P[9];W=(u-d)*(u-d)+(Q-K)*(Q-K)}if(M&&(s<0||s>1||J<0||J>1||W>.25))return D;
G[D]=s;G[D+1]=J;G[D+2]=u;G[D+3]=Q;G[D+4]=a*N-e*f;return D+5};Z.tO.apply=function(p,d,K){var A=K.x,x=K.y,M=1/K.t,G=1/K.D,D=Z.tO.$E;
for(var P=0;P<d.length;P+=2){var a=(d[P]-A)*M,e=(d[P+1]-x)*G;Z.tO.OI(p,a,e,D);d[P]=D[8];d[P+1]=D[9]}};
Z.tO.OI=function(p,d,K,A){Z.tO.Ff(A,0,K);Z.tO.Ff(A,4,d);Z.tO.Js(p,A)};Z.tO.$i=function(p,d,K){var A=1-K;
p[d]=-3*(A*A);p[d+1]=3*(A*A)-6*(K*A);p[d+2]=6*(K*A)-3*(K*K);p[d+3]=3*(K*K)};Z.tO.Ff=function(p,d,K){var A=1-K;
p[d]=A*(A*A);p[d+1]=3*K*(A*A);p[d+2]=3*(K*K)*A;p[d+3]=K*K*K};Z.tO.Js=function(p,d){var K=0,A=0,x=0;x=d[0]*d[4];
K+=p[0]*x;A+=p[1]*x;x=d[0]*d[5];K+=p[2]*x;A+=p[3]*x;x=d[0]*d[6];K+=p[4]*x;A+=p[5]*x;x=d[0]*d[7];K+=p[6]*x;
A+=p[7]*x;x=d[1]*d[4];K+=p[8]*x;A+=p[9]*x;x=d[1]*d[5];K+=p[10]*x;A+=p[11]*x;x=d[1]*d[6];K+=p[12]*x;A+=p[13]*x;
x=d[1]*d[7];K+=p[14]*x;A+=p[15]*x;x=d[2]*d[4];K+=p[16]*x;A+=p[17]*x;x=d[2]*d[5];K+=p[18]*x;A+=p[19]*x;
x=d[2]*d[6];K+=p[20]*x;A+=p[21]*x;x=d[2]*d[7];K+=p[22]*x;A+=p[23]*x;x=d[3]*d[4];K+=p[24]*x;A+=p[25]*x;
x=d[3]*d[5];K+=p[26]*x;A+=p[27]*x;x=d[3]*d[6];K+=p[28]*x;A+=p[29]*x;x=d[3]*d[7];K+=p[30]*x;A+=p[31]*x;
d[8]=K;d[9]=A};Z.tO.T={};Z.tO.T.FN=12;Z.tO.T.Tn=new Uint32Array(50);Z.tO.T.eml=function(p,d,K,A,x){var M=0,G=Z.tO.T.Tn,D=1;
G[0]=0;while(D!=0){var P=G[--D];if(p[P+0]<=K&&p[P+1]<=A&&K<p[P+2]&&A<p[P+3]){if(d[P+P+18]==0){x[M]=P;
M++}else{G[D]=d[P+P+18];G[D+1]=d[P+P+19];D+=2}}}return M};Z.tO.T.emk=function(p,d,K,A,x){var M=0,G=Z.tO.T.Oz,D=Z.tO.T.Tn,P=1,a=0,e=999999999999;
D[0]=0;while(P!=0){var f=D[--P],N=G(K,A,p[f+0],p[f+1]),Y=G(K,A,p[f+0],p[f+3]),l=G(K,A,p[f+2],p[f+1]),h=G(K,A,p[f+2],p[f+3]),s=Math.min(N,Math.min(Y,Math.min(l,h))),J=Math.max(N,Math.max(Y,Math.max(l,h)));
if(s>e)continue;if(d[f+f+18]==0){if(J<e){e=J;a=f}}else{D[P]=d[f+f+18];D[P+1]=d[f+f+19];P+=2}}x[M]=a;
M++;return M};Z.tO.T.Oz=function(p,d,K,A){return(K-p)*(K-p)+(A-d)*(A-d)};Z.tO.T.kN=null;Z.tO.T.TK=null;
Z.tO.T.Tm=function(p,d,K,A,x,M,G){if(M==null){M=1;G=1}Z.tO.T.TK=p;if(Z.tO.T.kN==null){Z.tO.T.kN={Ho:new Float64Array(15e3*8),lx:null};
Z.tO.T.kN.lx=new Uint32Array(Z.tO.T.kN.Ho.buffer)}var D=Z.tO.T.kN;Z.tO.T.Oa(p,d,K,A,x,0,D.Ho,D.lx,0,M,G);
return D};Z.tO.T.Oa=function(p,d,K,A,x,M,G,D,P,a,e){var f=Z._.JE(p),N=P,Y=Z.tO.T.TK,l=(d+K)/2,h=(A+x)/2,s=Z.tO.$E,J=Z.tO.hO,u=Z.tO.ema,QS,QQ,Qe;
Z.tO.OI(Y,l,h,s);var Q=s[8],W=s[9];u[0]=l;u[1]=h;u[2]=Q;u[3]=W;Z.tO.OF(Y,Q+1,W,u,0,!1,J,0);var q=(l-J[0])*a,H=(h-J[1])*e,C=Math.sqrt(q*q+H*H);
Z.tO.OF(Y,Q,W+1,u,0,!1,J,0);var k=(l-J[0])*a,i=(h-J[1])*e,m=Math.sqrt(k*k+i*i);G[N]=f.x;G[N+1]=f.y;G[N+2]=f.x+f.t;
G[N+3]=f.y+f.D;G[N+4]=l;G[N+5]=h;G[N+6]=Q;G[N+7]=W;G[N+8]=.5*(C+m);D[N+N+18]=0;D[N+N+19]=0;P+=10;Z.tO.Ff(s,0,.1);
Z.tO.$i(s,4,.1);Z.tO.Js(p,s);var w=s[8],S=s[9];Z.tO.$i(s,0,.1);Z.tO.Ff(s,4,.7);Z.tO.Js(p,s);var o=s[8],O=s[9];
Z.tO.Ff(s,0,.8);Z.tO.$i(s,4,.8);Z.tO.Js(p,s);var t=s[8],c=s[9];Z.tO.$i(s,0,.9);Z.tO.Ff(s,4,.2);Z.tO.Js(p,s);
var g=s[8],j=s[9],_=(t-w)*(t-w)+(g-o)*(g-o)+(c-S)*(c-S)+(j-O)*(j-O);if(P>=G.length){console.log("Buffer not long enough");
throw"e"}if(M==Z.tO.T.FN||_<2)return P;var U=Z.tO.T.Tu(p,!0),$=Z._.JE(U[0]),I=Z._.JE(U[1]),E=Z.tO.T.Tu(p,!1),b=Z._.JE(E[0]),z=Z._.JE(E[1]);
if($.t+$.D+I.t+I.D<b.t+b.D+z.t+z.D){Qe=!0;QS=U[0];QQ=U[1]}else{Qe=!1;QS=E[0];QQ=E[1]}var QB=(d+K)/2,QU=(A+x)/2,Qt=d,F=A,L=K,Qu=x,QK=d,Qm=A,ei=K,Qp=x;
if(Qe){L=QK=QB}else{Qu=Qm=QU}D[N+N+18]=P;P=Z.tO.T.Oa(QS,Qt,L,F,Qu,M+1,G,D,P,a,e);D[N+N+19]=P;P=Z.tO.T.Oa(QQ,QK,ei,Qm,Qp,M+1,G,D,P,a,e);
var QO=D[N+N+18],QE=D[N+N+19];G[N]=Math.min(G[QO],G[QE]);G[N+1]=Math.min(G[QO+1],G[QE+1]);G[N+2]=Math.max(G[QO+2],G[QE+2]);
G[N+3]=Math.max(G[QO+3],G[QE+3]);return P};Z.tO.T.Tu=function(p,d){var K=0,A=0,x=0,M=0,G=0,D=0,P=0,a=0,e=p.slice(0),f=p.slice(0);
for(var N=0;N<4;N++){K=d?p[N*8+2*0]:p[0*8+2*N];A=d?p[N*8+2*0+1]:p[0*8+2*N+1];x=d?p[N*8+2*1]:p[1*8+2*N];
M=d?p[N*8+2*1+1]:p[1*8+2*N+1];G=d?p[N*8+2*2]:p[2*8+2*N];D=d?p[N*8+2*2+1]:p[2*8+2*N+1];P=d?p[N*8+2*3]:p[3*8+2*N];
a=d?p[N*8+2*3+1]:p[3*8+2*N+1];var Y=(K+x)/2,l=(A+M)/2,h=(x+G)/2,s=(M+D)/2,J=(G+P)/2,u=(D+a)/2,Q=(Y+h)/2,W=(l+s)/2,q=(h+J)/2,H=(s+u)/2,C=(Q+q)/2,k=(W+H)/2;
if(d){e[N*8+2*0]=K;e[N*8+2*0+1]=A;e[N*8+2*1]=Y;e[N*8+2*1+1]=l;e[N*8+2*2]=Q;e[N*8+2*2+1]=W;e[N*8+2*3]=C;
e[N*8+2*3+1]=k;f[N*8+2*0]=C;f[N*8+2*0+1]=k;f[N*8+2*1]=q;f[N*8+2*1+1]=H;f[N*8+2*2]=J;f[N*8+2*2+1]=u;f[N*8+2*3]=P;
f[N*8+2*3+1]=a}else{e[0*8+2*N]=K;e[0*8+2*N+1]=A;e[1*8+2*N]=Y;e[1*8+2*N+1]=l;e[2*8+2*N]=Q;e[2*8+2*N+1]=W;
e[3*8+2*N]=C;e[3*8+2*N+1]=k;f[0*8+2*N]=C;f[0*8+2*N+1]=k;f[1*8+2*N]=q;f[1*8+2*N+1]=H;f[2*8+2*N]=J;f[2*8+2*N+1]=u;
f[3*8+2*N]=P;f[3*8+2*N+1]=a}}return[e,f]};Z.wG={};Z.wG.eut=function(p,d,K){var A=Z.wG.eET(d,K),x=Z.wG.eEr(A,p,d,K);
return{qN:A,Ln:x}};Z.wG.eup=function(p,d,K){var A=Math.round(p.length/8),x=new Uint32Array(A),M=new Uint8Array(A),G=new Uint32Array(A);
Z.Pk(x,4294967295,0);x[K]=0;var D=new nk(A);D.push(K,x[K]);var P={qN:p,Ln:d,vs:x,lC:M,qk:G,Gs:D,ePW:K};
return P};Z.wG.Oi=function(p,d){var K=p.qN,A=p.Ln,x=p.vs,M=p.lC,G=p.qk,D=p.Gs;while(!D.kQ()&&(d==null||M[d]==0)){var P=D.pop();
M[P]=1;for(var a=0;a<8;a++){var e=K[8*P+a];if(e==-1||M[e])continue;var f=x[P]+A[8*P+a];if(D.contains(e)&&f<x[e])D.remove(e,x[e]);
if(!D.contains(e)){x[e]=f;G[e]=P;D.push(e,x[e])}}}};function nk(p){this.dl=new Uint32Array(p);this.list=[];
this.HD=0;this.Ap=4294967295}nk.prototype.kQ=function(){return this.HD==0};nk.prototype.push=function(p,d){var K=this.list;
if(K[d]==null)K[d]=[];K[d].push(p);this.HD++;this.dl[p]=K[d].length-1+1;this.Ap=Math.min(this.Ap,d)};
nk.prototype.pop=function(){this.HD--;var p=this.list,d=this.Ap,K=p[d].pop();if(p[d].length==0)p[d]=null;
this.Tw();this.dl[K]=0;return K};nk.prototype.contains=function(p){return this.dl[p]!=0};nk.prototype.remove=function(p,d){this.HD--;
var K=this.list,A=this.dl[p]-1;if(A==K[d].length-1)K[d].pop();else{var x=K[d].pop();K[d][A]=x;this.dl[x]=A+1}if(K[d].length==0)K[d]=null;
this.dl[p]=0;this.Tw()};nk.prototype.Tw=function(){if(this.HD==0){this.Ap=4294967295;return}var p=this.Ap,d=this.list;
while(d[p]==null)p++;this.Ap=p};Z.wG.euK=function(p,d,K){var A=new Float32Array(d*K);for(var x=0;x<K;
x++)for(var M=0;M<d;M++){var G=x*d+M,D=-16*p[G];if(1<M&&M<d-2&&1<x&&x<K-2){D+=p[G-d-d];D+=p[G-d-1]+2*p[G-d]+p[G-d+1];
D+=p[G-2]+2*p[G-1]+2*p[G+1]+p[G+2];D+=p[G+d-1]+2*p[G+d]+p[G+d+1];D+=p[G+d+d]}A[G]=D/16}return A};Z.wG.eur=function(p,d,K){var A=new Float32Array(d*K),x=0,M=0;
for(var G=0;G<K;G++)for(var D=0;D<d;D++){var P=0,a=0;if(0<D&&D<d-1)P=p[x+1]-p[x-1];if(0<G&&G<K-1)a=p[x+d]-p[x-d];
A[x]=Math.sqrt(P*P+a*a);if(A[x]>M)M=A[x];x++}var e=d*K,f=M==0?0:1/M;for(var x=0;x<e;x++)A[x]=1-A[x]*f;
return A};Z.wG.eHA=function(p,d,K){var A=new Float32Array(d*K*2),x=0;for(var M=0;M<K;M++)for(var G=0;
G<d;G++){var D=0,P=0;if(0<G&&G<d-1&&0<M&&M<K-1){D=2*p[x+1]-2*p[x-1];P=2*p[x+d]-2*p[x-d]}var a=Math.sqrt(D*D+P*P);
if(a!=0){A[2*x]=D/a;A[2*x+1]=P/a}else{A[2*x]=D;A[2*x+1]=P}x++}return A};Z.wG.eEr=function(p,d,K,A){var x=Z.wG.euK(d,K,A),M=Z.wG.eur(d,K,A),G=Z.wG.eHA(d,K,A),D=256,P=new Float32Array(D);
for(var a=0;a<D;a++)P[a]=Math.acos(-1+2*a/(D-1));var e=[-1,0,1,1,1,0,-1,-1],f=[-1,-1,-1,0,1,1,1,0],N=1/Math.sqrt(2),Y=new Uint8Array(K*A*8),l=K*A;
for(var h=0;h<l;h++){var s=x[h],J=G[2*h+1],u=-G[2*h];for(var Q=0;Q<8;Q++){var W=8*h+Q,q=p[W];if(q==-1)Y[W]=-1;
else{var H=(Q&1)==0,C=s*x[q]>=0?0:1,k=M[q]*(H?1:N),i=1,m=G[2*q+1],w=-G[2*q];if(!(J==0&&u==0||m==0&&w==0)){var S=e[Q],o=f[Q];
if(J*e[Q]+u*f[Q]<0){S=-S;o=-o}if(H){S*=N;o*=N}var O=J*S+u*o,t=m*S+w*o,c=2/(3*Math.PI)*(P[Math.floor((.5+.5*O)*(D-1))]+P[Math.floor((.5+.5*t)*(D-1))]);
i=c}var g=Math.round(20*(.43*C+.43*i+.14*k));Y[W]=Math.max(1,Math.min(255,g))}}}console.log(Y);return Y};
Z.wG.eET=function(p,d){var K=new Int32Array(p*d*8),A=K,x=0,M=0;A.fill(-1);for(var G=0;G<d;G++)for(var D=0;
D<p;D++){if(G>0&&D>0)A[M+0]=x-p-1;if(G>0)A[M+1]=x-p;if(G>0&&D<p-1)A[M+2]=x-p+1;if(D<p-1)A[M+3]=x+1;if(G<d-1&&D<p-1)A[M+4]=x+p+1;
if(G<d-1)A[M+5]=x+p;if(G<d-1&&D>0)A[M+6]=x+p-1;if(D>0)A[M+7]=x-1;x++;M+=8}return K};Z.uP={};Z.uP.eHi=function(p,d){var K=p.slice(0);
for(var A=0;A<p.length;A++)K[A]*=d;return K};Z.uP.$b=function(p){var d=p.slice(0),K=0;for(var A=0;A<p.length;
A++)K+=p[A];for(var A=0;A<p.length;A++)d[A]/=K;return d};Z.uP.ewP=function(p,d,K,A,x){var M=[-K-1,-K,-K+1,-1,0,1,K-1,K,K+1],G=A-1,D=K-1;
for(var P=1;P<G;P++)for(var a=1;a<D;a++){var e=P*K+a,f=Z.uP.LO(p,e,K,x);d[e]=~~(f+.5)}};Z.uP.LO=function(p,d,K,A){return p[d-K-1]*A[0]+p[d-K]*A[1]+p[d-K+1]*A[2]+p[d-1]*A[3]+p[d]*A[4]+p[d+1]*A[5]+p[d+K-1]*A[6]+p[d+K]*A[7]+p[d+K+1]*A[8]};
Z.uP.JZ=function(p,d,K,A,x,M,G){if(G==null)G=!1;var D=Math.floor(Math.sqrt(x.length)),P=D-1>>>1,a=new Uint32Array(p.buffer),d=new Uint8ClampedArray(d.buffer);
for(var e=0;e<A;e++)for(var f=0;f<K;f++){var N=0,Y=0,l=0,h=0;for(var s=0;s<D;s++)for(var J=0;J<D;J++){var u=x[s*D+J];
if(u==0)continue;var Q=Math.min(K-1,Math.max(0,f-P+J)),W=Math.min(A-1,Math.max(0,e-P+s)),q=a[W*K+Q];
N+=(q&255)*u;Y+=(q>>>8&255)*u;l+=(q>>>16&255)*u;h+=(q>>>24&255)*u}if(G){if(N<0)N=-N;if(Y<0)Y=-Y;if(l<0)l=-l;
if(h<0)h=-h}var H=e*K+f<<2;d[H]=~~(.5+N);d[H+1]=~~(.5+Y);d[H+2]=~~(.5+l);d[H+3]=255-M&d[H+3]|M&~~(.5+h)}};
Z.uP.FP=function(p,d,K,A,x,M,G){if(x<=10)Z.uP.ewt(p,d,K,A,x,M,G);else Z.uP.ewG(p,d,K,A,x,M,G)};Z.uP.ewG=function(p,d,K,A,x,M,G){var D=0,P=new Uint32Array(16),a=new Uint32Array(256),e=new Uint32Array(1*K),f=new Uint32Array(16*K),N=new Uint32Array(256*K),Y=Math.min(x,K),l=Math.min(x,A);
for(var h=0;h<l;h++)Z.uP.Ma(N,f,e,p,K,h);for(var h=0;h<A;h++){if(h+x<A)Z.uP.Ma(N,f,e,p,K,h+x);if(h-x-1>=0)Z.uP.ewQ(N,f,e,p,K,h-x-1);
Z.set(a,0);Z.set(P,0);D=0;for(var s=0;s<Y;s++){Z.uP.T_(a,P,N,f,s);D+=e[s]}for(var s=0;s<K;s++){if(s+x<K&&e[s+x]!=0){D+=e[s+x];
Z.uP.T_(a,P,N,f,s+x)}if(s-x-1>=0&&e[s-x-1]!=0){D-=e[s-x-1];Z.uP.ewn(a,P,N,f,s-x-1)}var J=D==0?0:M(a,P,p[h*K+s],D,G);
d[h*K+s]=J}}};Z.uP.ewt=function(p,d,K,A,x,M,G){var D=0,P=new Uint32Array(16),a=new Uint32Array(256);
for(var e=0;e<A;e++){Z.set(a,0);Z.set(P,0);D=0;var f=Math.max(e-x,0),N=Math.min(A,e+x+1);for(var Y=0;
Y<x;Y++)D+=Z.uP.Oq(a,P,p,f*K+Y,K,N*K+Y,1);for(var Y=0;Y<K;Y++){if(Y+x<K)D+=Z.uP.Oq(a,P,p,f*K+Y+x,K,N*K+Y+x,1);
if(Y-x-1>=0)D+=Z.uP.Oq(a,P,p,f*K+Y-x-1,K,N*K+Y-x-1,-1);var l=D==0?0:M(a,P,p[e*K+Y],D,G);d[e*K+Y]=l}}};
Z.uP.Oq=function(p,d,K,A,x,M,G){var D=0;while(A<M){var P=255*G,a=K[A];p[a]+=P;d[a>>>4]+=P;D+=P;A+=x}return D};
Z.uP.Tc=function(p,d,K,A,x){var M=15;while(d[M]==0&&M>0)M--;M=(M<<4)+15;while(p[M]==0&&M>0)M--;return M};
Z.uP.T$=function(p,d,K,A,x){var M=0;while(d[M]==0&&M<15)M++;M=M<<4;while(p[M]==0&&M<255)M++;return M};
Z.uP.hU=.5;Z.uP.Oh=function(p,d,K,A,x){var M=Math.floor(.5+Z.uP.hU*A),G=0,D=0;while(G<=M)G+=d[D++];if(D>0){D--;
G-=d[D]}D=D<<4;while(G<=M)G+=p[D++];return D-1};Z.uP.TF=function(p,d,K,A,x){var M=x[0],G=0,D=0,P=Math.max(0,K-M),a=Math.min(256,K+M+1);
while(P<a){G+=P*p[P];D+=p[P];P++}return D==0?0:G/D};Z.uP.Ma=function(p,d,K,A,x,M){var G=M*x;for(var D=0;
D<x;D++,G++){var P=255,a=A[G];p[D<<8|a]+=P;d[D<<4|a>>>4]+=P;K[D]+=P}};Z.uP.ewQ=function(p,d,K,A,x,M){var G=M*x;
for(var D=0;D<x;D++,G++){var P=255,a=A[G];p[D<<8|a]-=P;d[D<<4|a>>>4]-=P;K[D]-=P}};Z.uP.Zc=function(p){var d=p.length,K=0;
for(var A=0;A<d;A++)K+=p[A];return K};Z.uP.T_=function(p,d,K,A,x){for(var M=0;M<16;M++){if(A[x<<4|M]==0)continue;
d[M]+=A[x<<4|M];var G=M<<4,D=x<<8|G;p[G]+=K[D];p[G+1]+=K[D+1];p[G+2]+=K[D+2];p[G+3]+=K[D+3];p[G+4]+=K[D+4];
p[G+5]+=K[D+5];p[G+6]+=K[D+6];p[G+7]+=K[D+7];p[G+8]+=K[D+8];p[G+9]+=K[D+9];p[G+10]+=K[D+10];p[G+11]+=K[D+11];
p[G+12]+=K[D+12];p[G+13]+=K[D+13];p[G+14]+=K[D+14];p[G+15]+=K[D+15]}};Z.uP.ewn=function(p,d,K,A,x){for(var M=0;
M<16;M++){if(A[x<<4|M]==0)continue;d[M]-=A[x<<4|M];var G=M<<4,D=x<<8|G;p[G]-=K[D];p[G+1]-=K[D+1];p[G+2]-=K[D+2];
p[G+3]-=K[D+3];p[G+4]-=K[D+4];p[G+5]-=K[D+5];p[G+6]-=K[D+6];p[G+7]-=K[D+7];p[G+8]-=K[D+8];p[G+9]-=K[D+9];
p[G+10]-=K[D+10];p[G+11]-=K[D+11];p[G+12]-=K[D+12];p[G+13]-=K[D+13];p[G+14]-=K[D+14];p[G+15]-=K[D+15]}};
Z.c={};Z.c.Tz=function(p){var d=r.ge.fQ(p.Trnf),K=p.Sz.v,A=Z.c.cg(d,new R(0,0,K.Wdth.v,K.Hght.v));return Z.c.a_(A)};
Z.c.cg=function(p,d){var p=p.slice(0),K=p[0],A=p[1],x=p[2],M=p[3],G=p[6],D=p[7],P=p[4],a=p[5],e=0,f=0,N=1,Y=0,l=0,h=1,s=1,J=1;
if(d){e=d.x;f=d.y;N=d.x+d.t;Y=d.y;l=d.x;h=d.y+d.D;s=d.x+d.t;J=d.y+d.D}var u=[[e,f,1,0,0,0,-e*K,-f*K,K],[0,0,0,e,f,1,-e*A,-f*A,A],[N,Y,1,0,0,0,-N*x,-Y*x,x],[0,0,0,N,Y,1,-N*M,-Y*M,M],[l,h,1,0,0,0,-l*G,-h*G,G],[0,0,0,l,h,1,-l*D,-h*D,D],[s,J,1,0,0,0,-s*P,-J*P,P],[0,0,0,s,J,1,-s*a,-J*a,a]],Q=[0,0,0,0,0,0,0,0],W=Z.uX.LA.hY(u,Q);
if(W!=0)Q=[0,0,0,0,0,0,0,0];return Q};Z.c.hv=function(p){return Math.abs(p[6])<1e-10&&Math.abs(p[7])<1e-10};
Z.c.a_=function(p){return new QI(p[0],p[3],p[1],p[4],p[2],p[5])};Z.c.H$=function(p){return[p.V,p.$H,p.ol,p.M,p.Wb,p.lF,0,0]};
Z.c.apply=function(p,d){var K=new Float64Array(2);for(var A=0;A<d.length;A+=2){var x=d[A],M=d[A+1];Z.c.OA(x,M,p,K);
d[A]=K[0];d[A+1]=K[1]}};Z.c.OA=function(p,d,K,A){var x=1/(K[6]*p+K[7]*d+1);A[0]=(K[0]*p+K[1]*d+K[2])*x;
A[1]=(K[3]*p+K[4]*d+K[5])*x};Z.c.Ta=function(p,d){var K=new Float64Array(2);Z.c.OA(d.x,d.y,p,K);return new QP(K[0],K[1])};
Z.c.HF=function(p,d,K,A){p=new Uint32Array(p.buffer);d=new Uint32Array(d.buffer);for(var x=0;x<A;x++){for(var M=0;
M<K;M++){d[M*A+x]=p[x*K+M]}}};Z.c.ewB=function(p,d,K,A){p=new Uint32Array(p.buffer);d=new Uint32Array(d.buffer);
for(var x=0;x<A;x++){for(var M=0;M<K;M++){d[x*K+M]=p[x*K+K-1-M]}}};Z.c.Ti=function(p){return Math.abs(p[6])<1e-9&&Math.abs(p[7])<1e-9};
Z.c.Th=function(p){return Math.abs(p[0])<1e-9&&Math.abs(p[4])<1e-9||Math.abs(p[1])<1e-9&&Math.abs(p[3])<1e-9};
Z.c.drawImage=function(p,d,K,A,x,M,G,D){if(G==null)G=!1;if(D==null)D=!1;var P=Z.c.an(p),a=!0,e=0,f=1/Math.sqrt(Math.abs(p[0]/K*p[4]/A-p[1]/K*p[3]/A));
for(var N=0;N<8;N++){var Y=Math.round(p[N]);if(N!=2&&N!=5)e+=Math.abs(Y);if(Math.abs(Y-p[N])>1e-9)a=!1}var l=Z.c.Ti(p),h=Z.c.Th(p)&&l,s=h?1:0;
if(G||a&&e==K+A&&l){Z.c.ewO(P,d,K,A,x,M,D,l);return}var J=M.t,u=M.D,Q=new Float64Array(2);x=new Uint32Array(x.buffer);
d=new Uint32Array(d.buffer);for(var W=0;W<u;W++)for(var q=0;q<J;q++){var H=W*J+q,C,k,i,m,z=0,QS=0,QQ=0,Qe=0;
x[H]=0;var w=q+M.x+.5,S=W+M.y+.5;C=w;k=S;i=P;m=1/(i[6]*C+i[7]*k+1);var o=(i[0]*C+i[1]*k+i[2])*m,O=(i[3]*C+i[4]*k+i[5])*m,t=o*K,c=O*A,g=t<-1||t>K+1||c<-1||c>A+1;
if(D){t=Math.max(.001,Math.min(K-1,t));c=Math.max(.001,Math.min(A-1,c))}else if(g)continue;var j=f;if(!l){var _=0,U=0;
i=p;C=o+1/K;k=O;m=1/(i[6]*C+i[7]*k+1);_=(i[0]*C+i[1]*k+i[2])*m-w;U=(i[3]*C+i[4]*k+i[5])*m-S;var $=_*_+U*U;
C=o;k=O+1/A;m=1/(i[6]*C+i[7]*k+1);_=(i[0]*C+i[1]*k+i[2])*m-w;U=(i[3]*C+i[4]*k+i[5])*m-S;var I=_*_+U*U;
j=1/Math.sqrt(Math.max($,I))}if(j<1.1){Z.c.FO(t,c,d,K,A,x,H,s);continue}var E=Math.round(j*2.3);if(!D&&(t<.6||t>K-.6||c<.6||c>A-.6)){E=Math.max(E,5)}if(D&&g)E=1;
var b=1/E,QB=M.x+q,QU=M.y+W;i=P;for(var N=0;N<E;N++)for(var Qt=0;Qt<E;Qt++){C=QB+(N+.5)*b;k=QU+(Qt+.5)*b;
m=1/(i[6]*C+i[7]*k+1);var t=(i[0]*C+i[1]*k+i[2])*m,c=(i[3]*C+i[4]*k+i[5])*m;if(D){t=Math.max(.001,Math.min(.999,t));
c=Math.max(.001,Math.min(.999,c))}else if(t<0||t>=1||c<0||c>=1)continue;t=Math.floor(t*K);c=Math.floor(c*A);
var F=c*K+t,L=d[F],Qu=L>>>24;z+=(L&255)*Qu;QS+=(L>>>8&255)*Qu;QQ+=(L>>>16&255)*Qu;Qe+=Qu}if(Qe!=0){var QK=1/Qe;
z=~~(z*QK+.5);QS=~~(QS*QK+.5);QQ=~~(QQ*QK+.5);Qe=~~(Qe*b*b+.5);x[H]=Qe<<24|QQ<<16|QS<<8|z}}};Z.c.ewO=function(p,d,K,A,x,M,G,D){var P=M.x+M.t,a=M.y+M.D,e=0,f=new Uint32Array(x.buffer),N=new Uint32Array(d.buffer),Y=p[0]*K,l=p[1]*K,h=p[2]*K,s=p[3]*A,J=p[4]*A,u=p[5]*A,Q=p[6],W=p[7];
if(D&&!G)for(var q=M.y+.5;q<a;q++)for(var H=M.x+.5;H<P;H++){var C=Y*H+l*q+h,k=s*H+J*q+u;if(0<C&&C<K&&0<k&&k<A){var i=~~k*K+~~C;
f[e]=N[i]}else f[e]=0;e++}else for(var q=M.y+.5;q<a;q++)for(var H=M.x+.5;H<P;H++){var m=1/(Q*H+W*q+1),C=(Y*H+l*q+h)*m,k=(s*H+J*q+u)*m;
if(G){C=Math.max(.001,Math.min(K-1,C));k=Math.max(.001,Math.min(A-1,k))}if(0<C&&C<K&&0<k&&k<A){var i=Math.floor(k)*K+Math.floor(C);
f[e]=N[i]}else f[e]=0;e++}};Z.c.an=function(p){var d=p[4]-p[5]*p[7],K=p[2]*p[7]-p[1],A=p[1]*p[5]-p[2]*p[4],x=p[5]*p[6]-p[3],M=p[0]-p[2]*p[6],G=p[3]*p[2]-p[0]*p[5],D=p[3]*p[7]-p[4]*p[6],P=p[1]*p[6]-p[0]*p[7],a=1/(p[0]*p[4]-p[1]*p[3]);
return[d*a,K*a,A*a,x*a,M*a,G*a,D*a,P*a]};Z.c.HN=function(p,d){var K=p[0],A=p[1],x=p[2],M=p[3],G=p[4],D=p[5],P=p[6],a=p[7],e=d[0],f=d[1],N=d[2],Y=d[3],l=d[4],h=d[5],s=d[6],J=d[7],u=[K*e+A*Y+x*s,K*f+A*l+x*J,K*N+A*h+x,M*e+G*Y+D*s,M*f+G*l+D*J,M*N+G*h+D,P*e+a*Y+s,P*f+a*l+J],Q=1/(P*N+a*h+1);
for(var W=0;W<8;W++)u[W]*=Q;return u};Z.c.FO=function(p,d,K,A,x,M,G,D){var P=p,a=d,N=0,Y=0,l=0,h=0;p-=.499999;
d-=.499999;var e=Math.floor(p),f=Math.floor(d);if(D==0){var s=f*A+e,J=e>=0&&e<A,u=e+1>=0&&e+1<A,Q=f>=0&&f<x,W=f+1>=0&&f+1<x;
if(J&&Q)N=K[s];if(u&&Q)Y=K[s+1];if(J&&W)l=K[s+A];if(u&&W)h=K[s+A+1]}else if(D==1){var q=e<0?0:e>A-1?A-1:e,H=e<-1?0:e>A-2?A-1:e+1,C=f<0?0:f>x-1?x-1:f,k=f<-1?0:f>x-2?x-1:f+1;
N=K[C*A+q];Y=K[C*A+H];l=K[k*A+q];h=K[k*A+H]}else{var q=(e+50*A)%A,H=(e+50*A)%A,C=(f+50*x)%x,k=(f+50*x)%x;
N=K[C*A+q];Y=K[C*A+H];l=K[k*A+q];h=K[k*A+H]}var i=p-e,m=d-f,w=(1-m)*(1-i)*(N>>>24),S=(1-m)*i*(Y>>>24),o=m*(1-i)*(l>>>24),O=m*i*(h>>>24),t=w+S+o+O,c=w*(N&255)+S*(Y&255)+o*(l&255)+O*(h&255),g=w*(N>>>8&255)+S*(Y>>>8&255)+o*(l>>>8&255)+O*(h>>>8&255),j=w*(N>>>16&255)+S*(Y>>>16&255)+o*(l>>>16&255)+O*(h>>>16&255);
if(t==0)M[G]=0;else{var _=1/t;c=~~(c*_+.5);g=~~(g*_+.5);j=~~(j*_+.5);t=~~(t+.5);M[G]=t<<24|j<<16|g<<8|c}};
Z.c.TW=function(p,d,K,A,x,M){var G=p-.499999,D=d-.499999,P=~~G,a=~~D,e=G-P,f=D-a,N=(1-f)*(1-e),Y=(1-f)*e,l=f*(1-e),h=f*e,s=a*A+P<<2,J=(a+1)*A+P<<2,u=N*K[s]+Y*K[s+4]+l*K[J]+h*K[J+4],Q=N*K[s+1]+Y*K[s+5]+l*K[J+1]+h*K[J+5],W=N*K[s+2]+Y*K[s+6]+l*K[J+2]+h*K[J+6],q=N*K[s+3]+Y*K[s+7]+l*K[J+3]+h*K[J+7];
M[0]=u;M[1]=Q;M[2]=W;M[3]=q};Z.c.Tx=function(p,d,K,A,x,M,G,D,P,a,e,f){var N=new Uint32Array(p.buffer),Y=new Uint32Array(A.buffer),l=(1+2*a)/x,h=[],s=[];
for(var J=0;J<x;J++){var u=-.25+a-J*l;h.push(Math.cos(2*Math.PI*u)*f/e);h.push(Math.sin(2*Math.PI*u)/e)}G*=d;
D*=K;for(var Q=0;Q<M;Q++){var W=Math.pow(Q/M,P)*M;for(var J=0;J<x;J++){var q=G+h[J<<1]*W,H=D+h[(J<<1)+1]*W,C=~~(.5+(q<0?0:q>d-1?d-1:q)),k=~~(.5+(H<0?0:H>K-1?K-1:H));
Y[Q*x+J]=N[k*d+C]}}};Z.c.TD=function(p,d,K,A,x,M,G,D,P,a,e,f){var N=new Uint32Array(p.buffer),Y=new Uint32Array(A.buffer),l=1/f,h=[],s=K*4,J=1/s;
for(var u=0;u<s;u++)h.push(Math.pow(u*J,1/P)*K*e);G*=x;D*=M;for(var u=0;u<M;u++)for(var Q=0;Q<x;Q++){var W=l*(Q-G),q=u-D,H=1.75-Math.atan2(q,W)*(1/(2*Math.PI));
H=H-~~H;H=(H+a)*(1/(1+2*a));var C=Math.sqrt(W*W+q*q);C=h[~~(C*4)];Z.c.FO(H*d+.5,C+.5,N,d,K,Y,u*x+Q,1)}};
Z.k={FL:function(p,d){var K=~~(.499+p*d);return K<0?0:K>d?d:K},ewU:function(p,d,K,A,x,M,G,D){var P=K[0],a=K[1],e=K[2],f=K[3],N=A.t,Y=A.D,l=new Float64Array(N*4+8),h=new Float64Array(N*4+8);
for(var s=0,J=0;s<Y;s++){var u=l;l=h;h=u;h.fill(0);for(var Q=0;Q<N;Q++,J++){var W=Q+x,q=s+M,H=P*W+a*q,C=e*W+f*q,k=0,w=0;
if(D==0)k=H+.5;else if(D==1)k=2*Math.sqrt(H*H+C*C);else if(D==2)k=(Math.PI+Math.atan2(-C,-H))/(2*Math.PI);
else if(D==3)k=Math.abs(H*2);else if(D==4)k=2*(Math.abs(H)+Math.abs(C));var i=Z.k.FL(k,G)*4,m=Q*4;for(var S=0;
S<4;S++){var o=Math.max(0,Math.min(254.999,d[i+S]+l[m+4+S])),O=Math.floor(o);if(Math.random()<o-O)O++;
var t=o-O;l[m+8+S]=t*(7/16);h[m+0+S]=t*(3/16);h[m+4+S]=t*(5/16);h[m+8+S]=t*(1/16);w|=O<<S*8}p[J]=w}}},T:[function(p,d,K,A,x,M,G){var D=K[0],P=K[1],a=K[2],e=K[3],f=A.t,N=A.D;
for(var Y=0,l=0;Y<N;Y++)for(var h=0;h<f;h++,l++){var s=h+x,J=Y+M,u=D*s+P*J,Q=a*s+e*J,W=u+.5;p[l]=d[Z.k.FL(W,G)]}},function(p,d,K,A,x,M,G){var D=K[0],P=K[1],a=K[2],e=K[3],f=A.t,N=A.D;
for(var Y=0,l=0;Y<N;Y++)for(var h=0;h<f;h++,l++){var s=h+x,J=Y+M,u=D*s+P*J,Q=a*s+e*J,W=2*Math.sqrt(u*u+Q*Q);
p[l]=d[Z.k.FL(W,G)]}},function(p,d,K,A,x,M,G){var D=K[0],P=K[1],a=K[2],e=K[3],f=A.t,N=A.D;for(var Y=0,l=0;
Y<N;Y++)for(var h=0;h<f;h++,l++){var s=h+x,J=Y+M,u=D*s+P*J,Q=a*s+e*J,W=(Math.PI+Math.atan2(-Q,-u))/(2*Math.PI);
p[l]=d[Z.k.FL(W,G)]}},function(p,d,K,A,x,M,G){var D=K[0],P=K[1],a=K[2],e=K[3],f=A.t,N=A.D;for(var Y=0,l=0;
Y<N;Y++)for(var h=0;h<f;h++,l++){var s=h+x,J=Y+M,u=D*s+P*J,Q=a*s+e*J,W=Math.abs(u*2);p[l]=d[Z.k.FL(W,G)]}},function(p,d,K,A,x,M,G){var D=K[0],P=K[1],a=K[2],e=K[3],f=A.t,N=A.D;
for(var Y=0,l=0;Y<N;Y++)for(var h=0;h<f;h++,l++){var s=h+x,J=Y+M,u=D*s+P*J,Q=a*s+e*J,W=2*(Math.abs(u)+Math.abs(Q));
p[l]=d[Z.k.FL(W,G)]}}]};Z.k.eHq=function(p,d){return p+.5};Z.k.eHh=function(p,d){return 2*Math.sqrt(p*p+d*d)};
Z.k.eHs=function(p,d){return(Math.PI+Math.atan2(-d,-p))/(2*Math.PI)};Z.k.eHD=function(p,d){return Math.abs(p*2)};
Z.k.eHJ=function(p,d){return 2*(Math.abs(p)+Math.abs(d))};Z.k.kg=function(p,d,K,A,x,M,G,D,P,a,e,f){if(p.Clrs==null)return;
var N=new Uint32Array(d.buffer),Y=1023,l=Z.k.hI(p.Clrs.v,P,a);if(f){var h=Z.k.ewE(p,l,Y+1,G);Z.k.ewU(N,h,A,K,K.x-x,K.y-M,Y,D);
return}var s=Z.k.TA(p,l,Y+1,G);if(D<5){Z.k.T[D](N,s,A,K,K.x-x,K.y-M,Y)}else{var J=new Uint8Array(s.buffer),u=K.t,Q=K.D,W=e.rF-e.dE,q=1/W,H=e.wp.t-K.t>>1,C=e.wp.D-K.D>>1,k=e.wp.t,i=-.6*q,m=(-.6+.4)*q,w=(-.6+2*.4)*q,S=(-.6+3*.4)*q;
for(var o=0,O=0;o<Q;o++)for(var t=0;t<u;t++,O+=4){var c=0,g=0,j=0,_=0,U=(o+C)*k+t+H,$=(e.HA[U]-e.dE)*q,I=0;
if($<=0||$>=1){I=($<=0?0:Y)<<2;d[O]=J[I];d[O+1]=J[I+1];d[O+2]=J[I+2];d[O+3]=J[I+3];continue}I=Math.max(0,Math.min(Y-1,Math.round(($+i)*Y)))<<2;
g+=J[I];j+=J[I+1];_+=J[I+2];c+=J[I+3];I=Math.max(0,Math.min(Y-1,Math.round(($+m)*Y)))<<2;g+=J[I];j+=J[I+1];
_+=J[I+2];c+=J[I+3];I=Math.max(0,Math.min(Y-1,Math.round(($+w)*Y)))<<2;g+=J[I];j+=J[I+1];_+=J[I+2];c+=J[I+3];
I=Math.max(0,Math.min(Y-1,Math.round(($+S)*Y)))<<2;g+=J[I];j+=J[I+1];_+=J[I+2];c+=J[I+3];d[O]=g>>>2;
d[O+1]=j>>>2;d[O+2]=_>>>2;d[O+3]=c>>>2}}};Z.k.hI=function(p,d,K){var A=[];for(var x=0;x<p.length;x++){var M;
if(p[x].v.Type.v.Clry=="FrgC")M={N:d>>16&255,w:d>>8&255,M:d&255};else if(p[x].v.Type.v.Clry=="BckC")M={N:K>>16&255,w:K>>8&255,M:K&255};
else M=Z.k.iz(p[x].v.Clr.v);A.push(M)}return A};Z.k.iz=function(p){var d,K=p.classID;if(K=="RGBC")d={N:p.Rd.v,w:p.Grn.v,M:p.Bl.v};
else if(K=="HSBC"){d=Z.uK(p.H.v.val/360,p.Strt.v/100,p.Brgh.v/100);d.N*=255;d.w*=255;d.M*=255}else if(K=="CMYC"){var A=100-p.Cyn.v,x=100-p.Mgnt.v,M=100-p.Ylw.v,G=100-p.Blck.v,D=255*A*G*1e-4,P=255*(.2*A+.8*x)*G*1e-4,a=255*(.2*x+.8*M)*G*1e-4;
d={N:D,w:P,M:a}}else if(K=="Grsc")d={N:255-p.Gry.v,w:255-p.Gry.v,M:255-p.Gry.v};else if(K=="LbCl"){d=Z.fp(p.Lmnc.v,p.A.v,p.B.v)}else console.log(p);
if(isNaN(d.N))d.N=d.w=d.M=0;return d};Z.k.wI=function(p){return{classID:"RGBC",Rd:{t:"doub",v:p.N},Grn:{t:"doub",v:p.w},Bl:{t:"doub",v:p.M}}};
Z.k.ewE=function(p,d,K,A){var x=[],M=1/(K-0);for(var G=0;G<K;G++){var D=G*4,P=Z.k.TN(p,d,(A?K-1-G:G)*M);
x[D]=P[0];x[D+1]=P[1];x[D+2]=P[2];x[D+3]=P[3]}return x};Z.k.TA=function(p,d,K,A){var x=new Uint32Array(K),M=1/(K-0);
for(var G=0;G<K;G++)x[G]=Z.k.qv(p,d,(A?K-1-G:G)*M);return x};Z.k.TN=function(p,d,K){var A=4096,x=1/4096,M=p.Intr.v*x,G=p.Clrs.v,D=p.Trns.v,P=G.length-1,a=D.length-1,e=-1,f=0,N=0,Y=0,l=0;
while(e<a&&D[e+1].v.Lctn.v<=K*A)e++;if(e==-1){f=D[0].v.Opct.v.val*(255/100)}else if(e==a){f=D[e].v.Opct.v.val*(255/100)}else{var h=Z.k.Tb(D,x,e,K,M);
f=(h*D[e].v.Opct.v.val+(1-h)*D[e+1].v.Opct.v.val)*(255/100)}e=-1;while(e<P&&G[e+1].v.Lctn.v<=K*A)e++;
if(e==-1){var s=d[0];N=s.N;Y=s.w;l=s.M}else if(e==P){var s=d[e];N=s.N;Y=s.w;l=s.M}else{var J=d[e],u=d[e+1],Q=Z.k.Tb(G,x,e,K,M);
N=Q*J.N+(1-Q)*u.N;Y=Q*J.w+(1-Q)*u.w;l=Q*J.M+(1-Q)*u.M}return[N,Y,l,f]};Z.k.qv=function(p,d,K){var A=Z.k.TN(p,d,K),x=~~(.5+A[0]),M=~~(.5+A[1]),G=~~(.5+A[2]),D=~~(.5+A[3]);
return D<<24|G<<16|M<<8|x};Z.k.Tb=function(p,d,K,A,x){if(p.length==2)x*=.5;var M=p[K].v.Lctn.v*d,G=p[K+1].v.Lctn.v*d,D=M+p[K+1].v.Mdpn.v*.01*(G-M),P;
if(A<D)P=.5*(A-M)/(D-M);else P=.5+.5*(A-D)/(G-D);P=.5+.5*(x*Math.cos(Math.PI*P)+(1-x)*(1-2*P));return P};
Z.k.OJ=function(p,d){var K=Math.PI*p.Angl.v.val/180,A=p.Scl.v.val/100,x=p.Ofst.v,M=x.Hrzn.v.val/100,G=x.Vrtc.v.val/100,D=Math.cos(K),P=-Math.sin(K),a=.5*d.D,e=a*(D/P),f=Math.sqrt(a*a+e*e),N=.5*d.t,Y=N*(P/D),l=Math.sqrt(N*N+Y*Y),h=Math.min(f,l)*A,s=d.x+d.t/2+M*d.t,J=d.y+d.D/2+G*d.D;
return[new QP(s,J),new QP(s+D*h,J+P*h)]};Z.k.hz=function(p,d,K,A){var x=d.x-p.x,M=-(d.y-p.y),G=Math.sqrt(x*x+M*M),D=Math.atan2(M,x),P=Math.cos(D),a=-Math.sin(D),e=.5*K.D,f=e*(P/a),N=Math.sqrt(e*e+f*f),Y=.5*K.t,l=Y*(a/P),h=Math.sqrt(Y*Y+l*l),s=G/Math.min(N,h),J=(p.x-K.x-K.t/2)/K.t,u=(p.y-K.y-K.D/2)/K.D;
A.Angl.v.val=180*D/Math.PI;A.Scl.v.val=s*100;var Q=A.Ofst.v;Q.Hrzn.v.val=J*100;Q.Vrtc.v.val=u*100};Z.k.et=function(p,d){for(var K=0;
K<p.length;K++){var A=p[K],x=Math.round(A[0]*4096),M=A[1],G=A[2];if(G==null)G=1;var D=Z.k.wI({N:M[0]*255,w:M[1]*255,M:M[2]*255});
d.Clrs.v[K]={t:"Objc",v:{classID:"Clrt",Lctn:{t:"long",v:x},Mdpn:{t:"long",v:50},Clr:{t:"Objc",v:D},Type:{t:"enum",v:{Clry:"UsrS"}}}};
d.Trns.v[K]={t:"Objc",v:{classID:"TrnS",Lctn:{t:"long",v:x},Mdpn:{t:"long",v:50},Opct:{t:"UntF",v:{type:"#Prc",val:Math.round(G*100)}}}}}};
Z.BA={};Z.BA.eK=function(p,d,K,A,x){var M=!1,l=1,O=0,t=0,E=0,QO=0;if(!d.iV(x)){var G=d.ck(x),D=Z.p(G.r()*4);
Z.PE(p,d,D,G);p=D;d=G}var P=Z.p(d.r());Z.Qj(K,x,P,d);Z.round(P);x=x.pk(d);var a=x.t,e=x.D,f=a*3<e?2:1,N=e*3<a?2:1;
if(x.r()*(f*2+1)*(N*2+1)<d.r()){var G=new R(x.x-a*f,x.y-e*f,a*(f*2+1),e*(N*2+1)).pk(d),D=Z.p(G.r()*4);
Z.PE(p,d,D,G);var Y=Z.p(G.r());Z.Qj(P,d,Y,G);d=G;p=D;P=Y}while((d.t+d.D)/2/l>400)l++;var h=p,s=d,J=P,u=Math.floor(s.t/l),Q=Math.floor(s.D/l);
p=Z.p(u*Q*4);Z.scale.La(h,s.t,s.D,p,u,Q,1/l);P=Z.p(u*Q);Z.scale.ex(J,s.t,s.D,P,u,Q,1/l);Z.round(P,1);
var W=Z.gg(P,new R(0,0,u,Q));if(W.kQ())return;var q=Math.round((W.t+W.D)/2/15),H=Date.now(),C=Z.p(u*Q*4);
Z.eQQ(p,C);var k=Int16Array,i=new k(u*Q*24),m=new k(64),w=new k(64),S=new k(64),o=new k(64);for(var c=3;
c<Q-4;c++)for(var g=3;g<u-4;g++){var j=c*u+g;if(P[j]==255)continue;if(Z.BA.eVn(C,P,g,c,u,Q,m,w,S)!=0)continue;
Z.BA.OZ(m,o);i[O]=g;i[O+1]=c;Z.BA.tM(m,i,O+4,12);O+=16;Z.BA.OZ(w,o);Z.BA.tM(w,i,O,4);O+=4;Z.BA.OZ(S,o);
Z.BA.tM(S,i,O,4);O+=4;var _=i[O-24+5],U=i[O-24+6];i[O-24+5]=i[O-24+20];i[O-24+6]=i[O-24+16];i[O-24+16]=_;
i[O-24+20]=U;t++}if(t==0)return;if(M)console.log(Date.now()-H,"FWHT computed");H=Date.now();var $=[];
Z.BA.OC(0,t-1,$,i,new k(2*24));if(M)console.log(Date.now()-H,"KD tree computed");H=Date.now();var I=new Float32Array(u*Q*4);
for(var b=0;b<t;b++){var z=b,QS=Z.BA.ewq(z,i,$,q);if(QS==-1)continue;var QQ=z*24,Qe=QS*24,QB=i[QQ],QU=i[QQ+1],Qt=i[Qe],F=i[Qe+1];
E+=Z.BA.getError(Qe,QQ,i,1e99);var L=Qt-QB,Qu=F-QU;I[(Q+Qu)*2*u+(u+L)]+=1}if(M)console.log(Date.now()-H,"NN found");
H=Date.now();var QK=[],Qm=1/(2*u);for(var b=0;b<I.length;b++){if(I[b]>0){var c=Math.floor(b*Qm),g=b-c*2*u;
QK.push({x:g-u,y:c-Q,S:I[b],Wl:-1})}}QK.sort(function(Qq,et){return et.S-Qq.S});var ei=new Int32Array(u*Q),Qp=[];
for(var b=0;b<u*Q;b++){if(P[b]==255){ei[b]=QO;Qp.push(b%u,Math.floor(b/u));QO++}else if(p[(b<<2)+3]<200){ei[b]=-2}else{ei[b]=-1}}var QE=Z.BA.ewa(u,Q,QK,ei,Qp,QO);
if(QE==null){return}var Qi=QE.l_,top=QE.top;Qi=Z.BA.eww(Qi,p,u,Q,top,ei,Qp,QO);if(M)console.log(Date.now()-H,"optimal labeling found");
H=Date.now();var G=x.clone();G.WJ(1,1);G=G.pk(s);var QV=Z.p(G.r()*4),Q$=Z.p(G.r());Z.PE(h,s,QV,G);var eS=s.t,Qs=s.D;
for(var c=0;c<Qs;c++)for(var g=0;g<eS;g++){if(J[c*eS+g]==0)continue;var Qw=Math.min(Math.floor(g/l),u-1),Q_=Math.min(Math.floor(c/l),Q-1),QN=ei[Q_*u+Qw],eK=Qi[QN],Qz=top[eK],eQ=g+Qz.x*l,Qd=c+Qz.y*l,Qj=Qd*eS+eQ<<2,QD=(c-G.y+s.y)*G.t+(g-G.x+s.x)<<2;
QV[QD]=h[Qj];QV[QD+1]=h[Qj+1];QV[QD+2]=h[Qj+2];QV[QD+3]=h[Qj+3];QV[QD+3]=h[Qj+3];Q$[QD>>2]=eK+1}if(M)console.log(Date.now()-H,"copied back");
H=Date.now();Z.sO.eK(QV,Q$,G,null,1e3);if(M)console.log(Date.now()-H,"poisson smooth");H=Date.now();
Z.PE(QV,G,A,x)};Z.BA.TY=function(p,d,K,A,x,M){return Z.BA.hr(p+x.x,d+x.y,K,A)&&M[(d+x.y)*K+(p+x.x)]==-1?0:1e9};
Z.BA.eww=function(p,d,K,A,top,x,M,G){var D=Date.now(),P=[-1,0,0,-1,1,0,0,1],a=1e99,e=[],f=[],N=2*(G*2*3+G*2),Y=null,l=0,h=0,s=0,J=1e99;
while(!0&&Date.now()<D+12e3){s++;var u=null,Q=a;for(var W=0;W<top.length;W++){var q=top[W],H=0,C=G+2,k=0;
for(var i=0;i<G;i++){var m=M[i*2],w=M[i*2+1],S=top[p[i]],o=Z.BA.TY(m,w,K,A,q,x),O=p[i]==W?1e9:Z.BA.TY(m,w,K,A,S,x);
for(var t=0;t<4;t++){if(t==0&&m==0||t==1&&w==0||t==2&&m==K-1||t==3&&w==A-1)continue;var c=P[2*t],g=P[2*t+1],j=m+c,_=w+g,U=x[_*K+j];
if(U==-2){}else if(U==-1){o+=3*Z.BA.Mo(j+q.x,_+q.y,j,_,K,A,d,x);o+=2*Z.BA.Mo(j+q.x+c,_+q.y+g,j+c,_+g,K,A,d,x);
O+=3*Z.BA.Mo(j+S.x,_+S.y,j,_,K,A,d,x);O+=2*Z.BA.Mo(j+S.x+c,_+S.y+g,j+c,_+g,K,A,d,x)}else if(t>1){if(p[i]==p[U]){var $=0;
$+=Z.BA.Mo(m+S.x,w+S.y,m+q.x,w+q.y,K,A,d,x);$+=Z.BA.Mo(j+S.x,_+S.y,j+q.x,_+q.y,K,A,d,x);e[H]=i;e[H+1]=U;
f[H]=$;f[H+1]=$;H+=2}else{var I=top[p[U]],E=C,b=0,z=0,QS=0;C++;b+=Z.BA.Mo(m+S.x,w+S.y,m+q.x,w+q.y,K,A,d,x);
b+=Z.BA.Mo(j+S.x,_+S.y,j+q.x,_+q.y,K,A,d,x);z+=Z.BA.Mo(m+I.x,w+I.y,m+q.x,w+q.y,K,A,d,x);z+=Z.BA.Mo(j+I.x,_+I.y,j+q.x,_+q.y,K,A,d,x);
QS+=Z.BA.Mo(m+I.x,w+I.y,m+S.x,w+S.y,K,A,d,x);QS+=Z.BA.Mo(j+I.x,_+I.y,j+S.x,_+S.y,K,A,d,x);e[H]=i;e[H+1]=E;
f[H]=b;f[H+1]=b;H+=2;e[H]=U;e[H+1]=E;f[H]=z;f[H+1]=z;H+=2;e[H]=E;e[H+1]=G+1;f[H]=QS;f[H+1]=0;H+=2}}}e[H]=G;
e[H+1]=i;f[H]=o;f[H+1]=0;H+=2;e[H]=i;e[H+1]=G+1;f[H]=O;f[H+1]=0;H+=2;k+=Math.min(o,O)}if(k>Q)continue;
var QQ=Z.ak.hY(C,H,G,G+1,e,f,Q);if(QQ.vs<Q){Q=QQ.vs;var Qe=p.slice(0);Z.BA.ewV(Qe,H,e,QQ.Wj,W,G);u=Qe}}if(Q*1>=a){break}a=Q;
p=u;if((s&3)==0){if(Q*1.03>=J)break;J=Q}if((s&3)==0){var QB=0*top.length;for(var i=0;i<top.length&&top.length>QB;
i++){if(p.indexOf(i)!=-1)continue;top.splice(i,1);for(var U=0;U<p.length;U++)if(p[U]>i)p[U]--;i--}}}return p};
Z.BA.ewV=function(p,d,K,A,x,M){for(var G=0;G<A.length;G++){var D=A[G]<<1,P=0,a=0;if(D<d){P=K[D];a=K[D+1]}else{a=K[D];
P=K[D+1]}if(P==M&&p[a]!=x)p[a]=x}};Z.BA.Tl=function(top,p,d,K,A,x,M,G,D){for(var P=0;P<d.length;P++){var a=d[P],e=!0;
if(G!=null&&!(Z.BA.hr(G+a.x,D+a.y,x,M)&&K[x*(D+a.y)+G+a.x]==-1))continue;if(a.Wl==-1)a.Wl=Z.BA.ew$(a,K,A,x,M);
if(a.Wl<=0)continue;for(var f=0;f<top.length;f++){var N=top[f],Y=a.x-N.x,l=a.y-N.y;if(Y*Y+l*l<p){e=!1;
break}}if(e)return a}return null};Z.BA.ew$=function(p,d,K,A,x){var M=0;for(var G=0;G<K.length;G+=2){var D=K[G]+p.x,P=K[G+1]+p.y;
if(Z.BA.hr(D,P,A,x)&&d[A*P+D]==-1)M++}return M/(K.length>>1)};Z.BA.ewa=function(p,d,K,A,x,M){var top=[];
for(var G=0;G<60;G++){var D=Z.BA.Tl(top,25,K,A,x,p,d);if(D==null)break;else top.push(D)}if(top.length==0)return null;
var P=[];for(var G=0;G<M;G++){var a=x[G*2],e=x[G*2+1],f=-1,N=0;while(!0){N++;var Y=Math.random();f=Math.floor(Y*.99999*top.length);
var l=top[f],h=a+l.x,s=e+l.y;if(Z.BA.hr(h,s,p,d)&&A[s*p+h]==-1)break;if(N>100){var D;D=Z.BA.Tl(top,0,K,A,x,p,d,a,e);
if(D==null)return null;top.push(D);N=0}}P.push(f)}return{top:top,l_:P}};Z.BA.Mo=function(p,d,K,A,x,M,G,D){if(p==K&&d==A)return 0;
if(p<0||d<0||p>=x||d>=M||K<0||A<0||K>=x||A>=M||D[d*x+p]!=-1||D[A*x+K]!=-1)return 1e7;var P=d*x+p<<2,a=A*x+K<<2,e=G[P]-G[a],f=G[P+1]-G[a+1],N=G[P+2]-G[a+2];
return 1+(e*e+f*f+N*N)};Z.BA.hr=function(p,d,K,A){return p>=0&&p<K&&d>=0&&d<A};Z.BA.ewq=function(p,d,K,A){var x=24*p,M=d[x],G=d[x+1],D=A*A,P=0,N=1e9;
while(K[P]!=99)if(d[x+K[P]]<K[P+1])P=K[P+2];else P=K[P+3];var a=K[P+1],e=K[P+2],f=-1;for(var Y=a;Y<=e;
Y++){var P=Y,l=P*24,h=d[l],s=d[l+1];if((h-M)*(h-M)+(s-G)*(s-G)<D)continue;var J=Z.BA.getError(l,x,d,N);
if(J<N){N=J;f=P}}return f};Z.BA.getError=function(p,d,K,A){var x=0;for(var M=4;M<24;M+=4){var G=K[d+M]-K[p+M],D=K[d+M+1]-K[p+M+1],P=K[d+M+2]-K[p+M+2],a=K[d+M+3]-K[p+M+3];
x+=G*G+D*D+P*P+a*a;if(x>=A)return x+1}return x};Z.BA.OC=function(p,d,K,A,x){var M=16,Y=0;if(d-p<=M){K.push(99,p,d);
return}Z.BA.JE(p,d,A,x);var G=-1,D=-1;for(var P=4;P<24;P++){var a=x[2*P+1]-x[2*P];if(a>D){D=a;G=P}}var e=p+d>>1,f=Z.BA.ewJ(e,p,d,A,G),N=-1;
for(var P=p;P<=d;P++)if(A[24*P+G]==f){if(N==-1)N=P;Y=P}if(p+8<N&&N-p>d-Y)e=N;else if(Y+1<d-8)e=Y+1;else if(d-p<64){K.push(99,p,d);
return}else e=e;var l=K.length;K.push(G,f,0,0);K[l+2]=l+4;Z.BA.OC(p,e-1,K,A,x);K[l+3]=K.length;Z.BA.OC(e,d,K,A,x)};
Z.BA.JE=function(p,d,K,A){for(var x=0;x<48;x+=4){A[x]=3e4;A[x+1]=-3e4;A[x+2]=3e4;A[x+3]=-3e4}for(var x=p;
x<=d;x++){var M=x*24;for(var G=0;G<24;G++){var D=K[M+G],P=A[G<<1],a=A[(G<<1)+1];if(D<P)A[G<<1]=D;if(D>a)A[(G<<1)+1]=D}}};
Z.BA.ON=function(p,d,K){var A=0,x=0;A=K[p+x];K[p+x]=K[d+x];K[d+x]=A;x++;A=K[p+x];K[p+x]=K[d+x];K[d+x]=A;
x++;A=K[p+x];K[p+x]=K[d+x];K[d+x]=A;x++;A=K[p+x];K[p+x]=K[d+x];K[d+x]=A;x++;A=K[p+x];K[p+x]=K[d+x];K[d+x]=A;
x++;A=K[p+x];K[p+x]=K[d+x];K[d+x]=A;x++;A=K[p+x];K[p+x]=K[d+x];K[d+x]=A;x++;A=K[p+x];K[p+x]=K[d+x];K[d+x]=A;
x++;A=K[p+x];K[p+x]=K[d+x];K[d+x]=A;x++;A=K[p+x];K[p+x]=K[d+x];K[d+x]=A;x++;A=K[p+x];K[p+x]=K[d+x];K[d+x]=A;
x++;A=K[p+x];K[p+x]=K[d+x];K[d+x]=A;x++;A=K[p+x];K[p+x]=K[d+x];K[d+x]=A;x++;A=K[p+x];K[p+x]=K[d+x];K[d+x]=A;
x++;A=K[p+x];K[p+x]=K[d+x];K[d+x]=A;x++;A=K[p+x];K[p+x]=K[d+x];K[d+x]=A;x++;A=K[p+x];K[p+x]=K[d+x];K[d+x]=A;
x++;A=K[p+x];K[p+x]=K[d+x];K[d+x]=A;x++;A=K[p+x];K[p+x]=K[d+x];K[d+x]=A;x++;A=K[p+x];K[p+x]=K[d+x];K[d+x]=A;
x++;A=K[p+x];K[p+x]=K[d+x];K[d+x]=A;x++;A=K[p+x];K[p+x]=K[d+x];K[d+x]=A;x++;A=K[p+x];K[p+x]=K[d+x];K[d+x]=A;
x++;A=K[p+x];K[p+x]=K[d+x];K[d+x]=A;x++};Z.BA.Og=function(p,d,K,A){var x=K+A>>>1,M=p[24*x+d];while(K<=A){while(p[24*K+d]<M)K++;
while(p[24*A+d]>M)A--;if(K<=A){if(p[24*K+d]!=p[24*A+d])Z.BA.ON(K*24,A*24,p);K++;A--}}return K};Z.BA.ewJ=function(p,d,K,A,x){var M=0;
while(d!=K){M=Z.BA.Og(A,x,d,K);if(p<M)K=M-1;else d=M}return A[p*24+x]};Z.BA.tM=function(p,d,K,A){for(var x=0;
x<A;x++)d[K+x]=p[x]};Z.BA.eVn=function(p,d,K,A,x,M,G,D,P){var a=(A-3)*x+(K-3),e=a<<2;for(var f=0;f<8;
f++){if(d[a]+d[a+1]+d[a+2]+d[a+3]+d[a+4]+d[a+5]+d[a+6]+d[a+7]!=0||p[e+3]<200||p[e+7]<200||p[e+11]<200||p[e+15]<200||p[e+19]<200||p[e+23]<200||p[e+27]<200||p[e+31]<200)return 1;
var N=f<<3;G[N+0]=p[e+0];D[N+0]=p[e+1];P[N+0]=p[e+2];G[N+1]=p[e+4];D[N+1]=p[e+5];P[N+1]=p[e+6];G[N+2]=p[e+8];
D[N+2]=p[e+9];P[N+2]=p[e+10];G[N+3]=p[e+12];D[N+3]=p[e+13];P[N+3]=p[e+14];G[N+4]=p[e+16];D[N+4]=p[e+17];
P[N+4]=p[e+18];G[N+5]=p[e+20];D[N+5]=p[e+21];P[N+5]=p[e+22];G[N+6]=p[e+24];D[N+6]=p[e+25];P[N+6]=p[e+26];
G[N+7]=p[e+28];D[N+7]=p[e+29];P[N+7]=p[e+30];e+=x<<2;a+=x}return 0};Z.BA.OZ=function(p,d){d[0]=p[32]+p[0];
d[1]=p[33]+p[1];d[2]=p[34]+p[2];d[3]=p[35]+p[3];d[4]=p[36]+p[4];d[5]=p[37]+p[5];d[6]=p[38]+p[6];d[7]=p[39]+p[7];
d[8]=p[40]+p[8];d[9]=p[41]+p[9];d[10]=p[42]+p[10];d[11]=p[43]+p[11];d[12]=p[44]+p[12];d[13]=p[45]+p[13];
d[14]=p[46]+p[14];d[15]=p[47]+p[15];d[16]=p[48]+p[16];d[17]=p[49]+p[17];d[18]=p[50]+p[18];d[19]=p[51]+p[19];
d[20]=p[52]+p[20];d[21]=p[53]+p[21];d[22]=p[54]+p[22];d[23]=p[55]+p[23];d[24]=p[56]+p[24];d[25]=p[57]+p[25];
d[26]=p[58]+p[26];d[27]=p[59]+p[27];d[28]=p[60]+p[28];d[29]=p[61]+p[29];d[30]=p[62]+p[30];d[31]=p[63]+p[31];
d[32]=p[0]-p[32];d[33]=p[1]-p[33];d[34]=p[2]-p[34];d[35]=p[3]-p[35];d[36]=p[4]-p[36];d[37]=p[5]-p[37];
d[38]=p[6]-p[38];d[39]=p[7]-p[39];d[40]=p[8]-p[40];d[41]=p[9]-p[41];d[42]=p[10]-p[42];d[43]=p[11]-p[43];
d[44]=p[12]-p[44];d[45]=p[13]-p[45];d[46]=p[14]-p[46];d[47]=p[15]-p[47];d[48]=p[16]-p[48];d[49]=p[17]-p[49];
d[50]=p[18]-p[50];d[51]=p[19]-p[51];d[52]=p[20]-p[52];d[53]=p[21]-p[53];d[54]=p[22]-p[54];d[55]=p[23]-p[55];
d[56]=p[24]-p[56];d[57]=p[25]-p[57];d[58]=p[26]-p[58];d[59]=p[27]-p[59];d[60]=p[28]-p[60];d[61]=p[29]-p[61];
d[62]=p[30]-p[62];d[63]=p[31]-p[63];p[0]=d[16]+d[0];p[1]=d[17]+d[1];p[2]=d[18]+d[2];p[3]=d[19]+d[3];
p[4]=d[20]+d[4];p[5]=d[21]+d[5];p[6]=d[22]+d[6];p[7]=d[23]+d[7];p[8]=d[24]+d[8];p[9]=d[25]+d[9];p[10]=d[26]+d[10];
p[11]=d[27]+d[11];p[12]=d[28]+d[12];p[13]=d[29]+d[13];p[14]=d[30]+d[14];p[15]=d[31]+d[15];p[16]=d[0]-d[16];
p[17]=d[1]-d[17];p[18]=d[2]-d[18];p[19]=d[3]-d[19];p[20]=d[4]-d[20];p[21]=d[5]-d[21];p[22]=d[6]-d[22];
p[23]=d[7]-d[23];p[24]=d[8]-d[24];p[25]=d[9]-d[25];p[26]=d[10]-d[26];p[27]=d[11]-d[27];p[28]=d[12]-d[28];
p[29]=d[13]-d[29];p[30]=d[14]-d[30];p[31]=d[15]-d[31];d[0]=p[8]+p[0];d[1]=p[9]+p[1];d[2]=p[10]+p[2];
d[3]=p[11]+p[3];d[4]=p[12]+p[4];d[5]=p[13]+p[5];d[6]=p[14]+p[6];d[7]=p[15]+p[7];d[8]=p[0]-p[8];d[9]=p[1]-p[9];
d[10]=p[2]-p[10];d[11]=p[3]-p[11];d[12]=p[4]-p[12];d[13]=p[5]-p[13];d[14]=p[6]-p[14];d[15]=p[7]-p[15];
p[0]=d[4]+d[0];p[1]=d[5]+d[1];p[2]=d[6]+d[2];p[3]=d[7]+d[3];p[4]=d[0]-d[4];p[5]=d[1]-d[5];p[6]=d[2]-d[6];
p[7]=d[3]-d[7];p[8]=d[12]+d[8];p[9]=d[13]+d[9];p[10]=d[14]+d[10];p[11]=d[15]+d[11];p[12]=d[8]-d[12];
p[13]=d[9]-d[13];p[14]=d[10]-d[14];p[15]=d[11]-d[15];d[0]=p[2]+p[0];d[1]=p[3]+p[1];d[2]=p[0]-p[2];d[3]=p[1]-p[3];
d[4]=p[6]+p[4];d[5]=p[7]+p[5];d[6]=p[4]-p[6];d[7]=p[5]-p[7];d[8]=p[10]+p[8];d[9]=p[11]+p[9];d[10]=p[8]-p[10];
d[11]=p[9]-p[11];d[12]=p[14]+p[12];d[13]=p[15]+p[13];d[14]=p[12]-p[14];d[15]=p[13]-p[15];p[0]=d[1]+d[0];
p[1]=d[0]-d[1];p[2]=d[3]+d[2];p[3]=d[2]-d[3];p[4]=d[5]+d[4];p[5]=d[4]-d[5];p[6]=d[7]+d[6];p[7]=d[6]-d[7];
p[8]=d[9]+d[8];p[9]=d[8]-d[9];p[10]=d[11]+d[10];p[11]=d[10]-d[11];p[12]=d[13]+d[12];p[13]=d[12]-d[13];
p[14]=d[15]+d[14];p[15]=d[14]-d[15]};Z.BA.eHZ=function(){var p="",d=64,K="v",A="t",x="a",M=5,G,D,P;for(G=d>>1;
G>0;G>>=1,M--){for(D=0;D<d;D++){P=(D>>M&1)!=0;if(P){p+=A+"["+D+"] = "+K+"["+(-G+D)+"] - "+K+"["+D+"];  "}else{p+=A+"["+D+"] = "+K+"["+(G+D)+"] + "+K+"["+D+"];  "}}x=K;
K=A;A=x;p+="\n"}console.log(p)};Z.BA.eHr=function(p,d,K){var A=d,x=K,M=A,G=0,P,a,e;while(p>>G!=2)G++;
var D=G;for(P=p>>1;P>0;P>>=1,G--){for(a=0;a<p;a++){e=(a>>G&1)!=0;if(e)x[a]=A[-P+a]-A[a];else x[a]=A[P+a]+A[a]}M=A;
A=x;x=M}if((D&1)==1)for(P=0;P<p;P++)K[P]=A[P]};Z.qI={};Z.qI.Ob=function(p,d,K,A,x,M,G,D,P){var a=Date.now(),e=new Uint32Array(p.buffer),f=new Uint32Array(d.buffer),N=G/K,Y=D/A,l=1/N,h=1/Y,s=new Float64Array(2),J=3,u=1/J,Q=1/(J*J),W=0,q=0,H=K,C=A;
if(x){W=x.x;q=x.y;H=x.t;C=x.D}for(var k=0;k<C;k++)for(var i=0;i<H;i++){var m=W+i,w=q+k,S=w*K+m,o=S<<1,O=S<<2;
Z.qI.eVE(M,G,D,(m+.5)*N,(w+.5)*Y,s);var t=s[0]*l,c=s[1]*h;if(t==0&&c==0)f[S]=e[S];else{Z.c.FO(m+t+.5,w+c+.5,e,K,A,f,S,P)}}};
Z.qI.eVE=function(p,d,K,A,x,M){A-=.499999;x-=.499999;var G=~~A,D=~~x,P=A-G,a=x-D,e=(1-a)*(1-P),f=(1-a)*P,N=a*(1-P),Y=a*P,l=G<d-1?G+1:G,h=D<K-1?D+1:D,s=D*d+G<<1,J=D*d+l<<1,u=h*d+G<<1,Q=h*d+l<<1;
M[0]=e*p[s]+f*p[J]+N*p[u]+Y*p[Q];M[1]=e*p[s+1]+f*p[J+1]+N*p[u+1]+Y*p[Q+1]};Z.qI.OT=new Float32Array(512);
Z.qI.TX=function(p){if(Z.qI.OT.length<p)Z.qI.OT=new Float32Array(p);return Z.qI.OT};Z.qI.eVV=function(p,d,K,A,x){var M=1/p,G=[-1,1,-p,p],D=A.length,P=Z.qI.TX(D*2);
for(var a=0;a<2;a++){for(var e=0;e<D;e++){var f=A[e],N=f<<1,Y=e<<1,l=Math.floor(f*M),h=f-p*l,s=K[N],J=K[N+1],u=0,Q=0;
if(h!=0&&h!=p-1){var W=f-1<<1,q=f+1<<1,H=K[W],C=K[q],k=K[W+1],i=K[q+1],m=s-(H+C)*.5,w=J-(k+i)*.5;u-=m*x;
Q-=w*x}if(l!=0&&l!=d-1){var W=f-p<<1,q=f+p<<1,H=K[W],C=K[q],k=K[W+1],i=K[q+1],m=s-(H+C)*.5,w=J-(k+i)*.5;
u-=m*x;Q-=w*x}P[Y]=s+u;P[Y+1]=J+Q}for(var e=0;e<D;e++){var N=A[e]<<1,Y=e<<1;K[N]=P[Y];K[N+1]=P[Y+1]}}};
Z.qI.eVJ=function(p,d,K,A,x,M,G,D,P,a,e,f,N){var Y=Math.max(0,Math.floor(x-G*D-1)),l=Math.min(d,Math.ceil(x+G*D+1)),h=Math.max(0,Math.floor(M-G-1)),s=Math.min(K,Math.ceil(M+G+1)),J=2*d,u=G*G,Q=1/G,W=0,q=Z.qI.TX((l-Y)*(s-h)*2);
for(var H=h;H<s;H++)for(var C=Y;C<l;C++){var k=H*d+C,i=k<<1,m=(x-C)/D,w=M-H,S=m*m+w*w;if(S<u){f[W]=k;
var o=Math.sqrt(S),O=o*Q,t=o==0?1:O/o;m*=t;w*=t;var c=Math.exp(-4*O),g=.96*(1-O*O),j=a*((1-P)*c+P*g);
if(A==1){q[W<<1]=p[i]*(1-j*.05);q[(W<<1)+1]=p[i+1]*(1-j*.05)}else{var _=0,U=0,E,b,z,QS;if(A==0){_=e.x*j;
U=e.y*j}else if(A==2){}else if(A==3){if(N)j=-j;_=j*w;U=-j*m}else if(A==4){_=j*m;U=j*w}else if(A==5){_=-j*m;
U=-j*w}else if(A==6){if(N)j=-j;_=e.y*j;U=-e.x*j}var $=p[i],I=p[i+1];if(C==0||C!=d-1&&_<0){E=1+p[i+2]-$;
z=p[i+3]-I}else{E=$-p[i-2]+1;z=I-p[i-1]}if(H==0||H!=K-1&&U<0){b=p[i+J]-$;QS=1+p[i+J+1]-I}else{b=$-p[i-J];
QS=I-p[i-J+1]+1}q[W<<1]=-(E*_+b*U-$);q[(W<<1)+1]=-(z*_+QS*U-I)}W++}}for(var QQ=0;QQ<W;QQ++){var i=f[QQ]<<1,Qe=QQ<<1;
p[i]=q[Qe];p[i+1]=q[Qe+1]}};Z.qI.evP=function(p){var d=p[0],K=p[0],A=p[1],x=p[1];for(var M=0;M<p.length;
M+=2){var G=p[M],D=p[M+1];if(G<d)d=G;else if(G>K)K=G;if(D<A)A=D;else if(D>x)x=D}return[d,A,K,x]};Z.eVk=function(p,d,K,A,x){function M(Qt,F,L,Qu){return Math.sqrt((Qt-L)*(Qt-L)+(F-Qu)*(F-Qu))}function G(Qt,F){return Qt>=0&&Qt<d&&F>=0&&F<K}function D(Qt){if(Qt<0)return 0;
if(Qt>=d)return d-1;return Qt}function P(Qt){if(Qt<0)return 0;if(Qt>=K)return K-1;return Qt}function a(b,Qt){var F=Qt[3]*(1/255),L=A[b]+Qt[0]*F;
if(L>255)L=255;A[b]=L;L=A[b+1]+Qt[1]*F;if(L>255)L=255;A[b+1]=L;L=A[b+2]+Qt[2]*F;if(L>255)L=255;A[b+2]=L}function e(Qt,F,L){if(!$(Qt,F))return;
if(L[3]<0)L[3]=0;a((F*d+Qt)*4,L)}function f(Qt){var F=Qt.slice(0,3);F[3]=0;return F}var N=d/800;function Y(Qt){return Math.round(Qt*N)}function l(){for(var b=0;
b<=300;b++){E[b]=h(b)}}function h(K){var Qt=.8,F=.2,L=Qt*F,Qu=K/60%2-1,QK=L*(1-Qu*Qu),Qm=F-L,ei;if(K<60){ei=[L+Qm,QK,0]}else if(K<120){ei=[QK,L,0]}else if(K<180){ei=[0,L,QK]}else if(K<240){ei=[0,QK,L]}else if(K<300){ei=[QK,0,L]}else{ei=[L,0,QK]}return[(ei[0]+Qm)*255,(ei[1]+Qm)*255,(ei[2]+Qm)*255]}function s(K){return E[~~K]}function J(Qt){return 1-u(Qt)}function u(Qt){return Qt-~~Qt}function Q(Qt,F,L,Qu){_(Qt,F,L,0,F+1,1,Qu)}function W(Qt,F,L,Qu,QK,Qm){_(Qt,F,L,0,Qu,1,QK,Qm)}function q(Qt){for(var b=0;
b<A.length;b+=4){a(b,Qt)}}function H(Qt,F,L,Qu,QK,Qm,ei,Qp){C(Qt,F,L,Qu,QK,1,Qm,ei,Qp)}function C(Qt,F,L,Qu,QK,Qm,ei,Qp,QO){if(Qm==null)Qm=.5;
if(ei==null)ei=0;if(Qp==null)Qp=0;if(QO==null)QO=!1;var QE=Qt.x,Qi=Qt.y,QV=L.slice(0),Q$=~~(L[3]*QS);
Qu=Qu*QS;if(!QO){F=U(F);QK=U(QK);ei=U(ei);Qp=U(Qp)}var eS=D(QE-F),Qs=D(QE+F);for(var Qw=eS;Qw<=Qs;Qw++){var Q_=Qw-QE,QN=Math.floor(Math.sqrt(F*F-Q_*Q_)),eK=P(Qi-QN),Qz=P(Qi);
for(var eQ=eK;eQ<=Qz;eQ++){var Qd=M(Qw,eQ,QE,Qi);if(Qd>F||Qd<=F-QK)break;var Qj=(Qd-F+QK)/QK;QV[3]=Q$-Qu*(Qm==1?Qj:Math.pow(Qj,Qm));
a((eQ*d+Qw)*4,QV)}eK=P(Qi+QN);for(var eQ=eK;eQ>Qz;eQ--){var Qd=M(Qw,eQ,QE,Qi);if(Qd>F||Qd<=F-QK)break;
var Qj=(Qd-F+QK)/QK;QV[3]=Q$-Qu*(Qm==1?Qj:Math.pow(Qj,Qm));a((eQ*d+Qw)*4,QV)}}if(ei>0){_(Qt,F+ei,QV,QV[3],ei,1,0,0,!0)}if(Qp>0){_(Qt,F-QK,I(L),-L[3],Qp,1,0,0,!0)}}function k(Qt,F,L,Qu,QK,Qm){_(Qt,F,L,L[3],F+1,1,Qu,QK,Qm)}function i(Qt,F,L,Qu,QK){if(QK==null)QK=!1;
var Qm=Qt.x,ei=Qt.y;Qu*=QS;if(!QK){F=U(F);L=U(L)}var Qp=D(Qm-F),QO=D(Qm+F);for(var QE=Qp;QE<QO;QE++){var Qi=QE-Qm,QV=~~Math.sqrt(F*F-Qi*Qi),Q$=P(ei-QV),eS=P(ei);
for(var Qs=Q$;Qs<=eS;Qs++){var Qw=M(QE,Qs,Qm,ei);if(Qw>F||Qw<=F-L)break;var Q_=(F-Qw)/L,QN=s(300*Q_);
QN[3]=Qu;a((Qs*d+QE)*4,QN)}Q$=P(ei+QV);for(var Qs=Q$;Qs>eS;Qs--){var Qw=M(QE,Qs,Qm,ei);if(Qw>F||Qw<=F-L)break;
var Q_=(F-Qw)/L,QN=s(300*Q_);QN[3]=Qu;a((Qs*d+QE)*4,QN)}}}function m(z,Qt){var F=z.Hr,L=z.Dw,Qu=Qt.slice(0),QK=Qt[3]*QS,Qm=Math.abs(L.y-F.y)>Math.abs(L.x-F.x);
if(Qm){var ei=F.x;F.x=F.y;F.y=ei;ei=L.x;L.x=L.y;L.y=ei}if(F.x>L.x){var ei=F;F=L;L=ei}var Qp=L.x-F.x,QO=L.y-F.y,QE=Qp==0?1:QO/Qp,Qi=Math.round(F.x),QV=F.y+QE*(Qi-F.x),Q$=J(F.x+.5),eS=Qi,Qs=~~QV;
if(Qm){Qu[3]=QK*J(QV)*Q$;e(Qs,eS,Qu);Qu[3]=QK*u(QV)*Q$;e(Qs+1,eS,Qu)}else{Qu[3]=QK*J(QV)*Q$;e(eS,Qs,Qu);
Qu[3]=QK*u(QV)*Q$;e(eS,Qs+1,Qu)}var Qw=QV-QE;Qi=Math.round(L.x);QV=L.y+QE*(Qi-L.x);Q$=u(L.x+.5);var Q_=Qi,QN=~~QV;
if(Qm){Qu[3]=QK*J(QV)*Q$;e(QN,Q_,Qu);Qu[3]=QK*u(QV)*Q$;e(QN+1,Q_,Qu)}else{Qu[3]=QK*J(QV)*Q$;e(Q_,QN,Qu);
Qu[3]=QK*u(QV)*Q$;e(Q_,QN+1,Qu)}if(Qm){for(var eK=eS+1;eK<=Q_-1;eK++){Qu[3]=QK*J(Qw);e(~~Qw,eK,Qu);Qu[3]=QK*u(Qw);
e(~~Qw+1,eK,Qu);Qw+=QE}}else{for(var eK=eS+1;eK<=Q_-1;eK++){Qu[3]=QK*J(Qw);e(eK,~~Qw,Qu);Qu[3]=QK*u(Qw);
e(eK,~~Qw+1,Qu);Qw+=QE}}}function w(Qt,F,L,Qu){for(var b=0;b<4;b++){var QK=Qt.HZ(F+1.3*b,L);m(QK,Qu,1)}}function QP(Qt,F){this.x=Math.round(Qt);
this.y=Math.round(F)}var S=Math.PI/180;QP.prototype.HZ=function(Qt,F){Qt=Qt*S;var L=this.x+F*Math.cos(Qt),Qu=this.y+F*Math.sin(Qt);
return new o(this.x,this.y,L,Qu)};QP.prototype.eVy=function(Qt,F){Qt=Qt*S;var L=this.Cx+F*Math.cos(Qt),Qu=this.enz+F*Math.sin(Qt);
return new QP(L,Qu)};function o(Qt,F,L,Qu){this.Hr=new QP(Qt,F);this.Dw=new QP(L,Qu)}o.prototype.GF=function(Qt){var F=Qt*this.Hr.x+(1-Qt)*this.Dw.x,L=Qt*this.Hr.y+(1-Qt)*this.Dw.y;
return new QP(F,L)};var O=H,t=k,c=Q,g=W,j=i,_=C,U=Y,$=G,I=f,E=[];l();for(var b=0;b<p.length;b++){A[b]=p[b]}var z=new o(d*x[2],K*x[3],d/2,K/2),QS=x[1],QQ=[];
QQ[0]=function Qe(){var Qt=[80,40,15,60],L=0,Qu=0;c(z.GF(1.4),260,Qt,10);c(z.GF(1),100,[240,50,50,30],30);
t(z.GF(1),60,[255,40,0,40]);var F=[255,255,255,255];_(z.GF(1),70,F,F[3],58,.5);c(z.GF(1),12,F);F[3]=40;
O(z.GF(1),150,F,F[3],150);for(var b=0;b<40;b++){L+=Math.random()*25;Qu=Math.random()*U(300)+U(100);var QK=z.GF(1).HZ(L,Qu);
m(z.GF(1).HZ(L,Qu),[110,110,110,30])}t(z.GF(1),130,[255,255,255,8]);var Qm=[170,30,23,70];g(z.GF(1),70,Qm,1,3,3);
var ei=[60,60,130,40];c(z.GF(.47),44,ei,5);c(z.GF(.43),22,ei,3);ei[3]=16;c(z.GF(.53),15,ei,2);var Qp=[138,94,42,100];
c(z.GF(.2),16,Qp,2);var QO=[130,255,170,180];t(z.GF(0),4,QO);t(z.GF(-.25),5,QO);Qp=[150,90,0,50];O(z.GF(-.45),55,I(Qp),-Qp[3],40,2);
c(z.GF(-.42),35,Qp,2);c(z.GF(-.5),15,Qp,2);j(z.GF(-1.28),145,11,70);var QE=s(0);QE[3]=50;O(z.GF(-1.28),149,QE,QE[3],4);
QE=s(300);QE[3]=50;O(z.GF(-1.28),155-1,I(QE),-QE[3],3);var Qi=[130,130,10,50];g(z.GF(-1),73,Qi,3,2);
var QV=[40,130,70,40];O(z.GF(-1),70,I(QV),-QV[3],35);QV=[40,170,60,50];c(z.GF(-.7),25,QV,4);var QV=[70,110,50,60];
O(z.GF(1.3),30,I(QV),-QV[3],11,3);ei=[0,50,210,80];t(z.GF(-.72),20,ei)};QQ[1]=function QB(){t(z.GF(1),150,[240,70,70,60]);
c(z.GF(1),100,[200,60,60,40],30);var Qt=[255,255,255,255],F=0,L=0;_(z.GF(1),75,Qt,Qt[3],63);c(z.GF(1),12,Qt);
t(z.GF(1),270,[200,200,200,20],10);for(var b=0;b<10;b++){F+=10+Math.random()*40;L=Math.random()*U(250)+U(80);
var Qu=z.GF(1).HZ(F,L);m(Qu,[110,110,110,35])}F=5;L=100;for(var b=0;b<12;b++){F+=30;w(z.GF(1),F,L,[90,90,90,40])}var QK=[150,40,23,100];
g(z.GF(1),70,QK,1,3,3);var Qm=[30,100,60,40];t(z.GF(-.9),180,[255,255,255,20]);c(z.GF(-.9),140,Qm,15);
var ei=[170,80,25,15];g(z.GF(-.9),120,ei,1,4,4);var Qp=[110,240,190,200];t(z.GF(-.6),3,Qp);Qp[3]=100;
t(z.GF(-.6),7,Qp);var QO=[230,120,40,85];t(z.GF(-.73),9,QO);var QE=[60,60,190,50];c(z.GF(.3),28,QE,6);
QE[3]=25;c(z.GF(.34),20,QE,3)};QQ[2]=function QU(){var Qt=[255,255,255,255],L=0,Qu=0;c(z.GF(1),13,Qt);
_(z.GF(1),150,Qt,Qt[3],137);var F=[120,80,35,20];c(z.GF(1.4),260,F,10);for(var b=0;b<40;b++){L+=5+Math.random()*30;
Qu=Math.random()*U(300);m(z.GF(1).HZ(L,Qu),[110,110,110,20])}var QK=[10,30,255,30];c(z.GF(1),70,QK,50);
var Qm=[15,90,170,15];c(z.GF(1.5),60,Qm);var ei=[220,220,20,50];c(z.GF(-1.15),8,ei,2);var Qt=[255,255,255,40];
t(z.GF(-1.18),6,Qt);t(z.GF(-1.18),4,Qt);ei=[110,110,10,8];O(z.GF(-1.2),32,I(ei),-ei[3],20,3);var Qp=[5,0,16,255];
for(var b=0;b<4;b++){c(z.GF(-1.36),10,Qp,3)}var QO=[90,200,150,20],QE=QO.slice(0);QE[3]*=2;c(z.GF(-1.32),7,QE,3);
c(z.GF(-1.36),7,QE,3);c(z.GF(-1.4),7,QE,3);var Qt=[230,230,230,100];t(z.GF(-1.36),2,Qt);Qt[3]=3;c(z.GF(-.55),10,Qt);
ei=[120,100,10,18];c(z.GF(-.55),160,ei,8);c(z.GF(-.55),80,ei,4);QO[3]=3;QE[3]=6;O(z.GF(-.49),13,I(QE),-QE[3],13,2);
O(z.GF(-.55),13,I(QE),-QE[3],13,2);QO[3]=20;c(z.GF(.15),25,QO,3);ei[3]=100;t(z.GF(-.52),3,ei);ei=[200,200,50,40];
c(z.GF(.27),1,ei,4);var Qi=[150,40,23,30];O(z.GF(1),80,I(Qi),-Qi[3],2,1)};return QQ[x[0]]()};Z.EI={};
Z.EI.Ty=function(p){var d=~~(p+.5);return d<0?0:d>255?255:d};Z.EI.transform=function(p,d,K){var A=Z.EI.Ty,x=p.N.length;
for(var M=0;M<x;M++){var G=p.N[M],D=p.w[M],P=p.M[M];d.N[M]=A(K[0]*G+K[1]*D+K[2]*P+K[3]*255);d.w[M]=A(K[4]*G+K[5]*D+K[6]*P+K[7]*255);
d.M[M]=A(K[8]*G+K[9]*D+K[10]*P+K[11]*255)}};Z.EI.US=function(p,d,K){var A=Z.EI.Ty,x=p.length;for(var M=0;
M<x;M+=4){var G=p[M],D=p[M+1],P=p[M+2];d[M]=A(K[0]*G+K[1]*D+K[2]*P+K[3]*255);d[M+1]=A(K[4]*G+K[5]*D+K[6]*P+K[7]*255);
d[M+2]=A(K[8]*G+K[9]*D+K[10]*P+K[11]*255)}};Z.EI.Ue=function(p){var d=p[0]+p[1]+p[2],K=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1];
if(d==1){var A=p.indexOf(1);K[A]=K[A+4]=K[A+8]=1}else{K[0]=p[0];K[5]=p[1];K[10]=p[2]}return K};Z.EI.eH=function(p,d,K){return[1,0,0,p,0,1,0,d,0,0,1,K,0,0,0,1]};
Z.EI.eE=function(p,d,K){return[p,0,0,0,0,d,0,0,0,0,K,0,0,0,0,1]};Z.EI.evQ=function(p){return[p[0],p[1],p[2],p[4],p[5],p[6],p[8],p[9],p[10]]};
Z.EI.JX=function(p){return[p[0],p[1],p[2],0,p[3],p[4],p[5],0,p[6],p[7],p[8],0,0,0,0,1]};Z.EI.hb=function(p,d){return[p[0]*d[0]+p[1]*d[1]+p[2]*d[2]+p[3]*d[3],p[4]*d[0]+p[5]*d[1]+p[6]*d[2]+p[7]*d[3],p[8]*d[0]+p[9]*d[1]+p[10]*d[2]+p[11]*d[3],p[12]*d[0]+p[13]*d[1]+p[14]*d[2]+p[15]*d[3]]};
Z.EI.HF=function(p){var d=[];d[0]=p[0];d[1]=p[4];d[2]=p[8];d[3]=p[12];d[4]=p[1];d[5]=p[5];d[6]=p[9];
d[7]=p[13];d[8]=p[2];d[9]=p[6];d[10]=p[10];d[11]=p[14];d[12]=p[3];d[13]=p[7];d[14]=p[11];d[15]=p[15];
return d};Z.EI.multiply=function(p,d){var K=[];K[0]=p[0]*d[0]+p[1]*d[4]+p[2]*d[8]+p[3]*d[12];K[1]=p[0]*d[1]+p[1]*d[5]+p[2]*d[9]+p[3]*d[13];
K[2]=p[0]*d[2]+p[1]*d[6]+p[2]*d[10]+p[3]*d[14];K[3]=p[0]*d[3]+p[1]*d[7]+p[2]*d[11]+p[3]*d[15];K[4]=p[4]*d[0]+p[5]*d[4]+p[6]*d[8]+p[7]*d[12];
K[5]=p[4]*d[1]+p[5]*d[5]+p[6]*d[9]+p[7]*d[13];K[6]=p[4]*d[2]+p[5]*d[6]+p[6]*d[10]+p[7]*d[14];K[7]=p[4]*d[3]+p[5]*d[7]+p[6]*d[11]+p[7]*d[15];
K[8]=p[8]*d[0]+p[9]*d[4]+p[10]*d[8]+p[11]*d[12];K[9]=p[8]*d[1]+p[9]*d[5]+p[10]*d[9]+p[11]*d[13];K[10]=p[8]*d[2]+p[9]*d[6]+p[10]*d[10]+p[11]*d[14];
K[11]=p[8]*d[3]+p[9]*d[7]+p[10]*d[11]+p[11]*d[15];K[12]=p[12]*d[0]+p[13]*d[4]+p[14]*d[8]+p[15]*d[12];
K[13]=p[12]*d[1]+p[13]*d[5]+p[14]*d[9]+p[15]*d[13];K[14]=p[12]*d[2]+p[13]*d[6]+p[14]*d[10]+p[15]*d[14];
K[15]=p[12]*d[3]+p[13]*d[7]+p[14]*d[11]+p[15]*d[15];return K};Z.EI.an=function(p){var d=[];d[0]=p[5]*p[10]*p[15]-p[5]*p[14]*p[11]-p[6]*p[9]*p[15]+p[6]*p[13]*p[11]+p[7]*p[9]*p[14]-p[7]*p[13]*p[10];
d[1]=-p[1]*p[10]*p[15]+p[1]*p[14]*p[11]+p[2]*p[9]*p[15]-p[2]*p[13]*p[11]-p[3]*p[9]*p[14]+p[3]*p[13]*p[10];
d[2]=p[1]*p[6]*p[15]-p[1]*p[14]*p[7]-p[2]*p[5]*p[15]+p[2]*p[13]*p[7]+p[3]*p[5]*p[14]-p[3]*p[13]*p[6];
d[3]=-p[1]*p[6]*p[11]+p[1]*p[10]*p[7]+p[2]*p[5]*p[11]-p[2]*p[9]*p[7]-p[3]*p[5]*p[10]+p[3]*p[9]*p[6];
d[4]=-p[4]*p[10]*p[15]+p[4]*p[14]*p[11]+p[6]*p[8]*p[15]-p[6]*p[12]*p[11]-p[7]*p[8]*p[14]+p[7]*p[12]*p[10];
d[5]=p[0]*p[10]*p[15]-p[0]*p[14]*p[11]-p[2]*p[8]*p[15]+p[2]*p[12]*p[11]+p[3]*p[8]*p[14]-p[3]*p[12]*p[10];
d[6]=-p[0]*p[6]*p[15]+p[0]*p[14]*p[7]+p[2]*p[4]*p[15]-p[2]*p[12]*p[7]-p[3]*p[4]*p[14]+p[3]*p[12]*p[6];
d[7]=p[0]*p[6]*p[11]-p[0]*p[10]*p[7]-p[2]*p[4]*p[11]+p[2]*p[8]*p[7]+p[3]*p[4]*p[10]-p[3]*p[8]*p[6];d[8]=p[4]*p[9]*p[15]-p[4]*p[13]*p[11]-p[5]*p[8]*p[15]+p[5]*p[12]*p[11]+p[7]*p[8]*p[13]-p[7]*p[12]*p[9];
d[9]=-p[0]*p[9]*p[15]+p[0]*p[13]*p[11]+p[1]*p[8]*p[15]-p[1]*p[12]*p[11]-p[3]*p[8]*p[13]+p[3]*p[12]*p[9];
d[10]=p[0]*p[5]*p[15]-p[0]*p[13]*p[7]-p[1]*p[4]*p[15]+p[1]*p[12]*p[7]+p[3]*p[4]*p[13]-p[3]*p[12]*p[5];
d[11]=-p[0]*p[5]*p[11]+p[0]*p[9]*p[7]+p[1]*p[4]*p[11]-p[1]*p[8]*p[7]-p[3]*p[4]*p[9]+p[3]*p[8]*p[5];d[12]=-p[4]*p[9]*p[14]+p[4]*p[13]*p[10]+p[5]*p[8]*p[14]-p[5]*p[12]*p[10]-p[6]*p[8]*p[13]+p[6]*p[12]*p[9];
d[13]=p[0]*p[9]*p[14]-p[0]*p[13]*p[10]-p[1]*p[8]*p[14]+p[1]*p[12]*p[10]+p[2]*p[8]*p[13]-p[2]*p[12]*p[9];
d[14]=-p[0]*p[5]*p[14]+p[0]*p[13]*p[6]+p[1]*p[4]*p[14]-p[1]*p[12]*p[6]-p[2]*p[4]*p[13]+p[2]*p[12]*p[5];
d[15]=p[0]*p[5]*p[10]-p[0]*p[9]*p[6]-p[1]*p[4]*p[10]+p[1]*p[8]*p[6]+p[2]*p[4]*p[9]-p[2]*p[8]*p[5];var K=p[0]*d[0]+p[1]*d[4]+p[2]*d[8]+p[3]*d[12];
for(var A=0;A<16;A++)d[A]/=K;return d};Z.EI.evn=function(p){var d=[],K=p[5]*p[10]*p[15]-p[5]*p[14]*p[11]-p[6]*p[9]*p[15]+p[6]*p[13]*p[11]+p[7]*p[9]*p[14]-p[7]*p[13]*p[10],A=-p[4]*p[10]*p[15]+p[4]*p[14]*p[11]+p[6]*p[8]*p[15]-p[6]*p[12]*p[11]-p[7]*p[8]*p[14]+p[7]*p[12]*p[10],x=p[4]*p[9]*p[15]-p[4]*p[13]*p[11]-p[5]*p[8]*p[15]+p[5]*p[12]*p[11]+p[7]*p[8]*p[13]-p[7]*p[12]*p[9],M=-p[4]*p[9]*p[14]+p[4]*p[13]*p[10]+p[5]*p[8]*p[14]-p[5]*p[12]*p[10]-p[6]*p[8]*p[13]+p[6]*p[12]*p[9];
return p[0]*K+p[1]*A+p[2]*x+p[3]*M};Z.EI.UP=Z.EI.JX([3.1338561,-1.6168667,-.4906146,-.9787684,1.9161415,.033454,.0719453,-.2289914,1.4052427]);
Z.EI.evK=Z.EI.JX([1.9624274,-.6105343,-.3413404,-.9787684,1.9161415,.033454,.0286869,-.1406752,1.3487655]);
Z.EI.ecs=Z.EI.an(Z.EI.UP);Z.ak={};Z.ak.F_=new Uint32Array(1);Z.ak.TT=function(p,d,K,A,x,M){var G=new Uint32Array(p),D=0,P=Z.ak.F_;
if(P.length<d*4)Z.ak.F_=P=new Uint32Array(d*4);var a=new Float64Array(P.buffer);for(var e=0;e<d;e+=2){var f=x[e],N=x[e+1],Y=M[e],l=M[e+1];
P[D]=N;a[D+2>>1]=Y;P[D+1]=G[f];G[f]=D+1;D+=4;P[D]=f;a[D+2>>1]=l;P[D+1]=G[N];G[N]=D+1;D+=4}return{lC:P,eps:a,enc:G}};
Z.ak.hY=function(p,d,K,A,x,M,G){var D=1,P=Z.ak.TT(p,d,K,A,x,M),a=P.lC,e=P.eps,f=P.enc,N=new Uint32Array(p),Y=new Z.ak.Uv(p),h=1,W=0;
Y.push(K);Y.push(A);var l=new Z.ak.Uv(p),s=new Uint8Array(p),J=new Uint32Array(p);s[K]=1;s[A]=2;var u=new Uint32Array(p),Q=new Uint32Array(p);
Q[K]=Q[A]=0;u[K]=u[A]=1;while(!0){var q=-1,S=0,g=1e30;while(!Y.hj()&&q==-1){var H=Y.top(),C=s[H],k=f[H]-1;
while(k!=-1){var i=a[k],m=s[i],w=k^C-1<<2;if(e[w+2>>1]!=0){if(m==0){Z.ak.Um(H,k,i,s,J,Q,u);Y.push(i)}else if(m==C&&u[i]<=u[H]&&Q[i]>Q[H])Z.ak.Um(H,k,i,s,J,Q,u);
else if(m!=C){q=w}}k=a[k+1]-1}if(q!=-1)break;Y.pop()}if(q==-1){break}h++;var o=q;while(o!=-1){N[S]=o;
S++;o=J[a[o^4]]-1}var O=S>>1;for(var t=0;t<O;t++){var c=N[t];N[t]=N[S-t-1];N[S-t-1]=c}o=J[a[q]]-1;while(o!=-1){N[S]=o^4;
S++;o=J[a[o^4]]-1}for(var t=0;t<S;t++)g=Math.min(g,e[N[t]+2>>1]);W+=g;if(W>=G)return{Wj:null,vs:W};for(var t=0;
t<S;t++){var j=N[t],_=j^4,H=a[_],i=a[j];e[j+2>>1]-=g;e[_+2>>1]+=g;if(e[j+2>>1]==0&&s[H]==s[i]){if(s[H]==1){J[i]=0;
l.push(i)}if(s[H]==2){J[H]=0;l.push(H)}}}while(!l.hj()){var H=l.pop(),C=s[H],k=f[H]-1,U=C==1?4:0,$=0,I=0,E=1e9;
while(k!=-1){var i=a[k],b=k^4,w=k^U;if(s[i]==C&&e[w+2>>1]>0&&Z.ak.ecY(i,K,A,J,a,h,u,Q)+1<E){$=i;I=b;
E=Q[i]+1}k=a[k+1]-1}if(I!=0){Z.ak.Um($,I,H,s,J,Q,u);continue}k=f[H]-1;while(k!=-1){var i=a[k],w=k^U;
if(s[i]==C){if(e[w+2>>1]>0){Y.push(i)}if(J[i]==k+1){J[i]=0;l.push(i)}}k=a[k+1]-1}s[H]=0;Y.remove(H)}}var z=[];
for(var t=0;t<d;t+=2){var H=x[t],i=x[t+1];if(s[H]==1&&s[i]!=1){z.push(t>>1)}if(s[i]==1&&s[H]!=1){z.push(d+t>>1)}}return{Wj:z,vs:W}};
Z.ak.Um=function(p,d,K,A,x,M,G){A[K]=A[p];x[K]=d+1;M[K]=M[p]+1;G[K]=G[p]};Z.ak.ecY=function(p,d,K,A,x,M,G,D){var P=p,a=A[p]-1,e=0;
while(a!=-1&&G[p]!=M){p=x[a^4];a=A[p]-1;e++}if(a==-1&&p!=d&&p!=K)return 1e9;var f=D[p]+e;e=0;a=A[P]-1;
while(P!=p){D[P]=f-e;e++;G[P]=M;P=x[a^4];a=A[P]-1}return f};Z.ak.evm=function(p,d,K,A,x,M){var G=Z.ak.TT(p,d,K,A,x,M),D=G.lC,P=G.eps,a=G.enc,e=0,f=0,N=new Uint32Array(p*2),Y=new Z.ak.kP(p),l=0;
while(!0){Y.reset();Y.push(K);for(var h=0;h<p;h++)N[h<<1]=0;while(!Y.hj()){var s=Y.pop(),J=a[s]-1;while(J!=-1){l=D[J];
if(N[l<<1]==0&&P[J+2>>1]>0&&l!=K){N[l<<1]=s+1;N[(l<<1)+1]=J;Y.push(l)}J=D[J+1]-1}if(N[A<<1]!=0){break}}if(N[A<<1]==0){break}var u=1e30;
l=A;while(!0){var Q=N[l<<1]-1;if(Q==-1)break;var W=N[(l<<1)+1];u=Math.min(u,P[W+2>>1]);l=Q}l=A;while(!0){var Q=N[l<<1]-1;
if(Q==-1)break;var W=N[(l<<1)+1],q=W^4;P[W+2>>1]-=u;P[q+2>>1]+=u;l=Q}e+=u}var H=[];for(var h=0;h<d;h+=2){var Q=x[h],l=x[h+1];
if((N[Q<<1]!=0||Q==K)&&N[l<<1]==0&&l!=K){H.push(h>>1)}if((N[l<<1]!=0||l==K)&&N[Q<<1]==0&&Q!=K){H.push(d+h>>1)}}return{Wj:H,vs:e}};
Z.ak.kP=function(p){p|=p>>1;p|=p>>2;p|=p>>4;p|=p>>8;p|=p>>16;this.iY=new Uint32Array(p+1);this.MX=p;
this.hR=0;this.ha=0};Z.ak.kP.prototype={push:function(p){var d=this.ha;this.iY[d]=p;this.ha=d+1&this.MX},pop:function(){var p=this.hR,d=this.iY[p];
this.hR=p+1&this.MX;return d},hj:function(){return this.hR==this.ha},reset:function(){this.hR=0;this.ha=0}};
Z.ak.Uv=function(p){p|=p>>1;p|=p>>2;p|=p>>4;p|=p>>8;p|=p>>16;this.iY=new Uint32Array(p+1);this.Aw=new Uint32Array(p+1);
this.MX=p;this.hR=0;this.ha=0};Z.ak.Uv.prototype={top:function(){return this.iY[this.hR]},evW:function(){return this.iY[this.ha]},push:function(p){if(this.Aw[p]!=0)return;
this.Aw[p]=this.ha+1;var d=this.ha;this.iY[d]=p;this.ha=d+1&this.MX},pop:function(){var p=this.hR,d=this.iY[p];
this.Aw[d]=0;this.hR=p+1&this.MX;return d},hj:function(){return this.hR==this.ha},remove:function(p){var d=this.Aw[p]-1;
if(d==-1)return;this.Aw[p]=0;if(d==this.hR){this.pop();return}var K=this.pop();this.iY[d]=K;this.Aw[K]=d+1},Lt:function(p){return p+this.MX+1&this.MX}};
Z.ak.kG=function(p,d,K){var A=Z.ak.Og(p,d,K);if(d<A-1)Z.ak.kG(p,d,A-1);if(A<K)Z.ak.kG(p,A,K)};Z.ak.Og=function(p,d,K){var A=p[d+K>>>1];
while(d<=K){while(p[d]<A)d++;while(p[K]>A)K--;if(d<=K){Z.ak.ON(p,d,K);d++;K--}}return d};Z.ak.ON=function(p,d,K){var A=p[d];
p[d]=p[K];p[K]=A};Z.B$={};Z.B$.ecX=function(p){for(var d=0;d<p.length;d++)Z.B$.hk(p,d)};Z.B$.hk=function(p,d){p[d].v.keyShapeInvalidated={t:"bool",v:!0}};
Z.B$.ecf=function(p){for(var d=0;d<p.length;d++)p[d].v.keyOriginIndex.v=d};Z.B$.MS=function(){return{t:"Objc",v:{classID:"null",keyOriginIndex:{t:"long",v:0},keyShapeInvalidated:{t:"bool",v:!0}}}};
Z.B$.kp=function(p){p=p.v;var d={Rctn:2,Ln:4,Elps:5},K=d[p.classID],A=p.topLeft?Z.B$.kB(p):null,x=null,M=0;
if(K==4){var G=p.Strt.v,D=p.End.v;x=[G.Hrzn.v.val,G.Vrtc.v.val,D.Hrzn.v.val,D.Vrtc.v.val];M=p.Wdth.v.val}if(K==null)return null;
return Z.B$.pN(K,K==4?null:Z.B$.Uw(p),A,x,M)};Z.B$.Nc=function(p,d,K,A,x,M){var G={classID:p,unitValueQuadVersion:{t:"long",v:1}};
if(d)Z.B$.LU(G,["Left","Top","Rght","Btom"],d);if(K)Z.B$.LU(G,["topLeft","topRight","bottomRight","bottomLeft"],K);
if(p=="Ln"){G.Strt={t:"Objc",v:{classID:"Pnt",Hrzn:{t:"UntF",v:{type:"#Pxl",val:A[0]}},Vrtc:{t:"UntF",v:{type:"#Pxl",val:A[1]}}}},G.End={t:"Objc",v:{classID:"Pnt",Hrzn:{t:"UntF",v:{type:"#Pxl",val:A[2]}},Vrtc:{t:"UntF",v:{type:"#Pxl",val:A[3]}}}},G.Wdth={t:"UntF",v:{type:"#Pxl",val:x}}}if(M)G.Nm={t:"TEXT",v:M};
return{t:"Objc",v:G}};Z.B$.pN=function(p,d,K,A,x){var M=Z.B$.MS(),G=M.v;delete G.keyShapeInvalidated;
G.keyOriginType={t:"long",v:p};G.keyOriginResolution={t:"doub",v:75};if(p==4){G.keyOriginLineStart={t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:A[0]},Vrtc:{t:"doub",v:A[1]}}};
G.keyOriginLineEnd={t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:A[2]},Vrtc:{t:"doub",v:A[3]}}};d=[Math.min(A[0],A[2]),Math.min(A[1],A[3]),Math.max(A[0],A[2]),Math.max(A[1],A[3])];
G.keyOriginLineWeight={t:"doub",v:x},G.keyOriginLineArrowSt={t:"bool",v:!1};G.keyOriginLineArrowEnd={t:"bool",v:!1};
G.keyOriginLineArrWdth={t:"doub",v:0};G.keyOriginLineArrLngth={t:"doub",v:0};G.keyOriginLineArrConc={t:"long",v:0}}var D={classID:"unitRect",unitValueQuadVersion:{t:"long",v:1}};
G.keyOriginShapeBBox={t:"Objc",v:D};Z.B$.U$(G,d);if(K!=null){var P={classID:"radii",unitValueQuadVersion:{t:"long",v:1}};
G.keyOriginRRectRadii={t:"Objc",v:P};Z.B$.UI(G,K)}return M};Z.B$.u=function(p,d,K,A){var x=Z.c.Th(d),M=Z.c.Ti(d),G=Math.max(Math.abs(d[0]),Math.abs(d[1])),D=Math.max(Math.abs(d[3]),Math.abs(d[4]));
for(var P=0;P<p.length;P++){var a=p[P].v,e=a.keyShapeInvalidated;if(e&&e.v||a.keyOriginType==null)continue;
if(K.length!=0&&K.indexOf(P)==-1)continue;var f=a.keyOriginType.v;if(!x||!M||A&&f==2&&Math.abs(1-G/D)>.01){Z.B$.hk(p,P);
continue}var N=Z.B$.sQ(a);Z.c.apply(d,N);Z.B$.U$(a,[Math.min(N[0],N[2]),Math.min(N[1],N[3]),Math.max(N[0],N[2]),Math.max(N[1],N[3])]);
if(f==2){var Y=Z.B$.UF(a),l=new QI(d[0],d[1],d[3],d[4],0,0);l.VK();if(l.V==0){Y.push(Y.shift());l.rotate(Math.PI/2);
l.VK()}if(l.V<0){var h=Y[0];Y[0]=Y[1];Y[1]=h;h=Y[2];Y[2]=Y[3];Y[3]=h}if(l.Wb<0){var h=Y[0];Y[0]=Y[3];
Y[3]=h;h=Y[1];Y[1]=Y[2];Y[2]=h}if(A)for(var s=0;s<4;s++)Y[s]=Y[s]*G;Z.B$.UI(a,Y)}if(f==4){a.keyOriginLineWeight.v*=G;
var J=Z.B$.kO(a);Z.c.apply(d,J);Z.B$.e$H(a,J)}}};Z.B$.sG=function(p,d){var K=d.Z;for(var A=0;A<p.length;
A++){var x=p[A].v,M=x.keyShapeInvalidated,N;if(M&&M.v||x.keyOriginType==null)continue;var G=x.keyOriginType.v,D=Z.B$.sQ(x),P=D[0],a=D[1],e=D[2],f=D[3];
if(G==1)N=Z.e.Ek.Rect(P,a,e-P,f-a,0);else if(G==2){var Y=Z.B$.UF(x);N=Z.e.Ek.Rect(P,a,e-P,f-a,Y)}else if(G==4){var l=Z.B$.kO(x);
N=Z.e.Ek._G(l[0],l[1],l[2],l[3],x.keyOriginLineWeight.v)}else if(G==5)N=Z.e.Ek.Ao(P,a,e-P,f-a);var h=Z.e._e(K,A),s=Z.e.Kw(K,A);
N[2].Ez=K[h].Ez;var J=K;K=K.slice(0,h);for(var u=2;u<N.length;u++)K.push(N[u]);for(var u=h+s;u<J.length;
u++)K.push(J[u])}d.Z=K;d.dJ=!0};Z.B$.cg=function(p){var d=1e9,K=-d,A=1e9,x=-A,M=null,G=p.zu(),D=G[0],P=G[1];
for(var a=0;a<P.length;a++){var e=D[P[a]],f=e.add.vogk;if(f==null)continue;var N=e.add.vmsk.Y;for(var Y=0;
Y<f.length;Y++){var l=f[Y].v,h=l.keyShapeInvalidated;if(h&&h.v||l.keyOriginType==null)continue;if(P.length==1&&N.length!=0&&N.indexOf(Y)==-1)continue;
var s=l.keyOriginType.v;if(s!=4){var J=Z.B$.sQ(l);d=Math.min(d,J[0]);A=Math.min(A,J[1]);K=Math.max(K,J[2]);
x=Math.max(x,J[3])}if(s==2&&M==null){M=Z.B$.UF(l)}}}return[d<K?[d,A,K,x]:null,M]};Z.B$.e$t=function(p,d,K){var A=Z.B$.cg(p)[0],x;
if(A){var M=new QI;M.translate(-A[0],-A[1]);M.scale(1/(A[2]-A[0]),1/(A[3]-A[1]));M.scale(d[2]-d[0],d[3]-d[1]);
M.translate(d[0],d[1]);x=Z.c.H$(M)}var G=p.zu(),D=G[0],P=G[1];for(var a=0;a<P.length;a++){var e=D[P[a]],f=e.add.vogk;
if(f==null)continue;var N=e.add.vmsk.Y;for(var Y=0;Y<f.length;Y++){var l=f[Y].v,h=l.keyShapeInvalidated;
if(h&&h.v||l.keyOriginType==null)continue;if(P.length==1&&N.length!=0&&N.indexOf(Y)==-1)continue;var s=l.keyOriginType.v;
if(s!=4&&d[0]!=null){var d=Z.B$.sQ(l);Z.c.apply(x,d);Z.B$.U$(l,d)}if(s==2&&K!=null){Z.B$.UI(l,K)}}}};
Z.B$.sQ=function(p){return Z.B$.Uw(p.keyOriginShapeBBox.v)};Z.B$.Uw=function(p){var d=p.Left.v.val,K=p.Rght.v.val,A=p.Top.v.val,x=p.Btom.v.val;
return[d,A,K,x]};Z.B$.U$=function(p,d){Z.B$.LU(p.keyOriginShapeBBox.v,["Left","Top","Rght","Btom"],d)};
Z.B$.UF=function(p){return Z.B$.kB(p.keyOriginRRectRadii.v)};Z.B$.kB=function(p){var d=[],K=["topLeft","topRight","bottomRight","bottomLeft"];
for(var A=0;A<4;A++)d.push(p[K[A]].v.val);return d};Z.B$.UI=function(p,d){Z.B$.LU(p.keyOriginRRectRadii.v,["topLeft","topRight","bottomRight","bottomLeft"],d)};
Z.B$.LU=function(p,d,K){for(var A=0;A<4;A++)if(K[A]!=null)p[d[A]]={t:"UntF",v:{type:"#Pxl",val:K[A]}}};
Z.B$.kO=function(p){var d=p.keyOriginLineStart.v,K=p.keyOriginLineEnd.v;return[d.Hrzn.v,d.Vrtc.v,K.Hrzn.v,K.Vrtc.v]};
Z.B$.e$H=function(p,d){var K=p.keyOriginLineStart.v,A=p.keyOriginLineEnd.v;K.Hrzn.v=d[0];K.Vrtc.v=d[1];
A.Hrzn.v=d[2];A.Vrtc.v=d[3]};Z._={};Z._.clone=function(p){return{$:p.$.slice(0),B:p.B.slice(0)}};Z._.kH=function(p){if(p.length<6)return!0;
var d=p.length-4;for(var K=0;K<d;K+=2)if(!Z._.Uz(p[K],p[K+1],p[K+2],p[K+3],p[K+4],p[K+5]))return!1;if(!Z._.Uz(p[d],p[d+1],p[d+2],p[d+3],p[0],p[1]))return!1;
if(!Z._.Uz(p[d+2],p[d+3],p[0],p[1],p[2],p[3]))return!1;return!0};Z._.Uz=function(p,d,K,A,x,M){return(d-A)*(x-K)+(K-p)*(M-A)>=0};
Z._.Ui=function(p){var d={},K=null,A=0,x={M:2,L:2,Q:4,C:6};for(var M=0;M<p.$.length;M++){var G=p.$[M];
if(G.charAt(0)=="#"){if(d[G]==null)d[G]={B:[],$:[]};K=d[G]}else if(G!="X"){K.$.push(G);var D=x[G];if(D==null)D=0;
for(var P=0;P<D;P++)K.B.push(p.B[A+P]);A+=D}}return d};Z._.Li=function(p,d){p=Z._.e$(p);var K=p.B,A=p.$,x=0,M=[],G=null;
for(var D=0;D<A.length;D++){var P=A[D];if(P=="M"){G={eOB:x,Lw:0,lr:!1};M.push(G);x+=2}if(P=="C"){G.Lw++;
x+=6}if(P=="Z"){G.lr=!0}}var a=[];for(var D=0;D<M.length;D++)if(M[D].Lw!=0)a.push(M[D]);M=a;for(var D=0;
D<M.length;D++){var e=M[D],f=e.eOB,N=f+2+e.Lw*6,l=0;e.dC=Z._.JE(K,f,N);var Y=K[f]==K[N-2]&&K[f+1]==K[N-1];
for(var h=0;h<e.Lw;h++){var s=f+h*6,J=s+6;l+=(K[J]-K[s])*(K[J+1]+K[s+1])}if(e.Lw==2){var u=function(z,QS,QQ){var Qe=1-QQ;
return Qe*Qe*Qe*z[QS]+3*Qe*Qe*QQ*z[QS+2]+3*Qe*QQ*QQ*z[QS+4]+QQ*QQ*QQ*z[QS+6]},Q=K[f],W=K[f+1],q=K[f+6],H=K[f+7],C=K[f+6],k=K[f+7],i=u(K,f,.5),m=u(K,f+1,.5),w=u(K,f+6,.5),S=u(K,f+7,.5);
l=(i-Q)*(m-W)+(q-i)*(H-m)+(w-q)*(S-H)+(C-w)*(k-S)}if(!Y)l+=(K[f]-K[N-2])*(K[f+1]+K[N-1]);e.lb=l<=0}for(var D=0;
D<M.length-1;D++)for(var s=D+1;s<M.length;s++){var o=M[D],O=M[s];if(O.dC.iV(o.dC)){M[D]=O;M[s]=o}}var t=M.length==0?!0:M[0].lb,c=[{type:6},{type:8,all:0}];
for(var D=0;D<M.length;D++){var e=M[D],f=e.eOB,N=f+2+e.Lw*6,Y=K[f]==K[N-2]&&K[f+1]==K[N-1],g=e.lr||Y?0:3,j=e.lb==t&&!d?1:0;
if(!d&&D!=0){if(M[D-1].dC.iV(e.dC)&&M[D-1].lb!=e.lb)j=0;for(var s=0;s<M.length;s++)if(s!=D&&M[s].dC.iV(e.dC))j=0}c.push({type:g,length:e.Lw+(Y?0:1),Ez:j,LC:2});
for(var s=0;s<e.Lw;s++){var x=f+s*6,_=new QP(K[x],K[x+1]),U=new QP(K[x+2],K[x+3]),$;if(s==0){if(Y)$=new QP(K[N-4],K[N-3]);
else $=_.clone()}else $=new QP(K[x-2],K[x-1]);c.push({type:g+2,Gp:$,I:_,UL:U})}if(!Y){var I=new QP(K[N-2],K[N-1]);
c.push({type:g+2,Gp:new QP(K[N-4],K[N-3]),I:I,UL:I.clone()})}}for(var s=0;s<c.length;s++){var E=c[s];
if(E.type>5||E.type==0||E.type==3)continue;var b=E.Gp.GR(E.I)||E.UL.GR(E.UL);if(!b){var o=E.Gp.x*(E.I.y-E.UL.y)+E.I.x*(E.UL.y-E.Gp.y)+E.UL.x*(E.Gp.y-E.I.y);
if(Math.abs(o)<1e-6)b=!0}if(b)E.type--}return c};Z._.ZT=function(){function p(A,x,M,G){if(!G&&A.UL.GR(A.I)&&x.Gp.GR(x.I)){M.B.push(x.I.x,x.I.y);
M.$.push("L")}else{M.B.push(A.UL.x,A.UL.y,x.Gp.x,x.Gp.y,x.I.x,x.I.y);M.$.push("C")}}function d(A,x,M,G,D,P){var a=x[M];
A.B.push(a.I.x,a.I.y);A.$.push("M");for(var e=M;e<M+G-1;e++)p(x[e],x[e+1],A,P);if(!D)p(x[e],x[M],A,P)}function K(A,x){if(x==null)x=!1;
var M={B:[],$:[]};for(var G=0;G<A.length;G++){if(A[G].type>5)continue;var D=A[G].length;if(D==0)continue;
if(G==A.length-1)break;var P=A[G].type==3;d(M,A,G+1,D,P,x);if(!P)M.$.push("Z");G+=D}return M}return K}();
Z._.evx=function(p){var d=p.B,K=[],A,x=0;for(var M=0;M<p.$.length;M++){var G=p.$[M];if(G=="C"){A.push(d[x++],d[x++],d[x++],d[x++],d[x++],d[x++])}else if(G=="Z"){}else{A=[];
if(G!="M"){A.push(G);M++}A.push(d[x++],d[x++]);K.push(A)}}return K};Z._.sM=function(p,d,K,A){if(A==null)A=1e9;
var x=1e9,M=0;for(var G=0;G<p.length;G+=2){var D=d-p[G],P=K-p[G+1],a=D*D+P*P;if(a<x){x=a;M=G>>>1}}return x<A*A?M:-1};
Z._.Us=function(p,d,K,A){for(var x=0;x<p.length;x+=2){var M=p[x],G=p[x+1],D=d[x],P=d[x+1];K[x]=M+(D-M)*A;
K[x+1]=G+(P-G)*A}};Z._.u=function(p,d,K){for(var A=0;A<p.length;A+=2){var x=p[A],M=p[A+1];K[A]=x*d.V+M*d.$H+d.ol;
K[A+1]=x*d.M+M*d.Wb+d.lF}};Z._.JE=function(p,d,K){if(d==null)d=0;if(K==null)K=p.length;var A=99999999999,x=-A,M=99999999999,G=-M;
for(var D=d;D<K;D+=2){var P=p[D],a=p[D+1];A=Math.min(A,P);M=Math.min(M,a);x=Math.max(x,P);G=Math.max(G,a)}return new R(A,M,x-A,G-M)};
Z._.kV=function(p,d){var K=Math.max(d.x,Math.min(d.x+d.t,p.x)),A=Math.max(d.y,Math.min(d.y+d.D,p.y)),x=p.x-K,M=p.y-A;
return Math.sqrt(x*x+M*M)};Z._.ND=function(p){if(p.kQ())return new R(Math.floor(p.x),Math.floor(p.y),Math.ceil(p.t),Math.ceil(p.D));
var d=Math.floor(p.x),K=Math.ceil(p.x+p.t),A=Math.floor(p.y),x=Math.ceil(p.y+p.D);return new R(d,A,K-d,x-A)};
Z._.rN=function(p){return Z._.ND(Z._.JE(p))};Z._.MF=function(p){var d=p.x,K=p.y,A=p.x+p.t,x=p.y+p.D;
return{$:["M","L","L","L","Z"],B:[d,K,A,K,A,x,d,x]}};Z._.concat=function(p,d,K){if(K==null)K=new QI;
for(var A=0;A<d.B.length;A+=2){var x=d.B[A],M=d.B[A+1];p.B.push(x*K.V+M*K.$H+K.ol);p.B.push(x*K.M+M*K.Wb+K.lF)}for(var A=0;
A<d.$.length;A++)p.$.push(d.$[A])};Z._.e$=function(p){var d=p.B,K=[],A=[],x=0,M=0,G=0,D=0,P=0,a=0,e=0,f=0,N=0;
for(var Y=0;Y<p.$.length;Y++){var l=p.$[Y];if(l=="M"){M=d[x];G=d[x+1];x+=2;A.push(l);K.push(M,G)}else if(l=="C"){D=d[x];
P=d[x+1];a=d[x+2];e=d[x+3];f=d[x+4];N=d[x+5];x+=6;A.push(l);K.push(D,P,a,e,f,N);M=f;G=N}else if(l=="Q"){D=d[x];
P=d[x+1];a=d[x+2];e=d[x+3];x+=4;var h=D-M,s=P-G,J=a-D,u=e-P;A.push("C");K.push(M+2/3*h,G+2/3*s,D+1/3*J,P+1/3*u,a,e);
M=a;G=e}else if(l=="L"){D=d[x];P=d[x+1];x+=2;var Q=D-M,W=P-G;A.push("C");K.push(M,G,D,P,D,P);M=D;G=P}else A.push(l)}return{$:A,B:K}};
Z._.e$r=function(p){var d=p.B,K=[],A=[],x=0;for(var M=0;M<p.$.length;M++){var G=p.$[M];if(G=="Q"){var D=d[x-2],P=d[x-1],a=d[x],e=d[x+1],f=d[x+2],N=d[x+3];
x+=4;var Y=a-D,l=e-P,h=f-a,s=N-e;A.push("C");K.push(D+2/3*Y,P+2/3*l,a+1/3*h,e+1/3*s,f,N)}else{var J=0;
if(G=="M"||G=="L")J=2;else if(G=="C")J=6;for(var u=0;u<J;u++)K.push(d[x+u]);x+=J;A.push(G)}}return{$:A,B:K}};
Z._.eL=function(p,d){var K=p.B,A=[],x=[],M=0,G=0,D=0,P=0,a=0,e=0,f=0,N=0,Y=0;for(var l=0;l<p.$.length;
l++){var h=p.$[l];if(h=="M"){G=K[M];D=K[M+1];M+=2;x.push(h);A.push(G,D)}else if(h=="C"){P=K[M];a=K[M+1];
e=K[M+2];f=K[M+3];N=K[M+4];Y=K[M+5];M+=6;Z._.Ux(G,D,P,a,e,f,N,Y,d,x,A,0);G=N;D=Y}else x.push(h)}return{$:x,B:A}};
Z._.Ux=function(p,d,K,A,x,M,G,D,P,a,e,f){var N=Math.sqrt((G-p)*(G-p)+(D-d)*(D-d)),Y=Math.sqrt((G-x)*(G-x)+(D-M)*(D-M))+Math.sqrt((x-K)*(x-K)+(M-A)*(M-A))+Math.sqrt((K-p)*(K-p)+(A-d)*(A-d)),l=(N+Y)/2;
if(l<=P){a.push("C");e.push(K,A,x,M,G,D)}else{var h=0,s=0,J=0,u=0,Q=0,W=0,q=0,H=0,C=0,k=0,i=0,m=0,w=0;
s=(p+K)/2;J=(d+A)/2;u=(K+x)/2;Q=(A+M)/2;W=(x+G)/2;q=(M+D)/2;H=(s+u)/2;C=(J+Q)/2;k=(u+W)/2;i=(Q+q)/2;
m=(H+k)/2;w=(C+i)/2;Z._.Ux(p,d,s,J,H,C,m,w,P,a,e,f+1);Z._.Ux(m,w,k,i,W,q,G,D,P,a,e,f+1)}};Z._.UA=function(p,d){var K=p.length-2,A=p[0],x=p[1],M=p[K],G=p[K+1],D=M-A,P=G-x,a=1/Math.sqrt(D*D+P*P),e=M*x-G*A,f=-1,N=-1;
for(var Y=2;Y<K;Y+=2){var l=p[Y],h=p[Y+1],s=Math.abs(P*l-D*h+e)*a;if(s>N){N=s;f=Y}}if(N<d)return[A,x,M,G];
var J=Z._.UA(p.slice(0,f+2),d),u=Z._.UA(p.slice(f),d);for(var Y=2;Y<u.length;Y++)J.push(u[Y]);return J};
Z._.e$b=function(){var p=function(A,x,M,G,D,P){return(x-G)*(D-M)+(M-A)*(P-G)>=0},d=function(A,x,M,G,D,P,a,e){var f=a-M,N=e-G,Y=D-M,l=P-G,h=A-M,s=x-G,J=f*f+N*N,u=f*Y+N*l,Q=f*h+N*s,W=Y*Y+l*l,q=Y*h+l*s,H=1/(J*W-u*u),C=(W*Q-u*q)*H,k=(J*q-u*Q)*H;
return C>=0&&k>=0&&C+k<1},K=function(A){var x=A.length>>>1,D=0;if(x<3)return[];var M=[],G=[];for(var D=0;
D<x;D++)G.push(D);var P=x;while(P>3){var a=G[(D+0)%P],e=G[(D+1)%P],f=G[(D+2)%P],N=A[2*a],Y=A[2*a+1],l=A[2*e],h=A[2*e+1],s=A[2*f],J=A[2*f+1],u=!1;
if(p(N,Y,l,h,s,J)){u=!0;for(var Q=0;Q<P;Q++){var W=G[Q];if(W==a||W==e||W==f)continue;if(d(A[2*W],A[2*W+1],N,Y,l,h,s,J)){u=!1;
break}}}if(u){M.push(a,e,f);G.splice((D+1)%P,1);P--;D=0}else if(D++>3*P)break}M.push(G[0],G[1],G[2]);
return M};return K}();Z._.e$Y=function(p,d){var K={},A={$:[],B:[]};for(var x=0;x<d.length;x+=3){var M=d[x]*2,G=d[x+1]*2,D=d[x+2]*2;
Z._.UJ(p,M,G,A,K);Z._.UJ(p,M,D,A,K);Z._.UJ(p,G,D,A,K)}return A};Z._.UJ=function(p,d,K,A,x){if(d>K){var M=K;
K=d;d=M}if(x[d+","+K])return;x[d+","+K]=!0;A.$.push("M","L");A.B.push(p[d],p[d+1],p[K],p[K+1])};Z._.k$=function(p,d){var K=[],A=p.length;
for(var x=0;x<A;x+=2){var M=p[x],G=p[x+1],D=p[(x+2)%A],P=p[(x+3)%A];if(P<G){var a=G;G=P;P=a}if(G<d&&d<P){var e=(d-G)/(P-G);
K.push(M+e*(D-M))}}K.sort(function(f,N){return f-N});return K};Z._.e$l=function(p,d){var K=d.slice(0),A=p.length/2,x=[],M=[];
for(var G=0;G<A;G++){var D=(G+1)%A,P=p[2*G]-p[2*D],a=p[2*G+1]-p[2*D+1];M[G]=Math.sqrt(P*P+a*a)}for(var G=0;
G<A;G++){var e=(G-1+A)%A,D=(G+1)%A,f=d[G],N=f+d[e],Y=f+d[D];if(N!=0)K[G]=Math.min(K[G],M[e]*f/N);if(Y!=0)K[G]=Math.min(K[G],M[G]*f/Y)}for(var G=0;
G<A;G++){var D=(G+1)%A,l=(G+2)%A,h=K[G],s=K[D],J=p[2*G],u=p[2*G+1],Q=p[2*D],W=p[2*D+1],q=p[2*l],H=p[2*l+1],C=M[G],k=M[D],i=Z._.kF(J,u,Q,W,q,H,h,s,C,k);
x.push(i[0],i[1],i[0],i[1],i[2],i[3]);x.push(i[2],i[3],i[4],i[5],i[6],i[7])}return x};Z._.kF=function(p,d,K,A,x,M,G,D,P,a){if(P==null)P=Math.sqrt((K-p)*(K-p)+(A-d)*(A-d));
if(a==null)a=Math.sqrt((x-K)*(x-K)+(M-A)*(M-A));var e=.553,f=0,N=0,Y=0,l=0;if(P!=0){f=(K-p)/P;N=(A-d)/P}if(a!=0){Y=(x-K)/a;
l=(M-A)/a}var h=p+G*f,s=d+G*N,J=K-D*f,u=A-D*N;return[h,s,J,u,K-D*f*(1-e),A-D*N*(1-e),K+D*Y*(1-e),A+D*l*(1-e),K+D*Y,A+D*l]};
Z.sO=function(){};Z.sO.eK=function(p,d,K,A,x){var M=K.t,G=K.D,D=M*G,P=new Int32Array(D),a=0;for(var e=0;
e<D;e++)if(d[e]!=0){P[e]=a;a++}else if(p[(e<<2)+3]<200){P[e]=-2}else P[e]=-1;if(a==0)return;var f=new Z.ig(a,a),N=new Array(3*a),Y=new Array(3*a);
for(var e=0;e<Y.length;e++)Y[e]=N[e]=0;var l=1/255,h=[-M,-1,1,M],s=[],J=[];for(var u=0;u<G;u++)for(var Q=0;
Q<M;Q++){var W=u*M+Q,q=W<<2,e=P[W],H=e*3,C=0,k=0,i=0;if(e==-1||e==-2)continue;for(var m=0;m<4;m++){if(m==2){k=i;
s[i]=0;J[i]=e;i++}var w=W+h[m],S=w<<2,o=P[w];if(m==0&&u==0||m==1&&Q==0||m==2&&Q==M-1||m==3&&u==G-1||o==-2)continue;
C++;if(o==-1){N[H+0]+=p[S+0];N[H+1]+=p[S+1];N[H+2]+=p[S+2]}else{s[i]=-1;J[i]=o;i++;if(d[W]==d[w]){N[H+0]+=p[q+0]-p[S+0];
N[H+1]+=p[q+1]-p[S+1];N[H+2]+=p[q+2]-p[S+2]}}}s[k]=C;f.Ma(s,J,i)}for(var e=0;e<D;e++)if(P[e]!=-1){var O=e<<2,t=P[e],c=t*3;
Y[c]=p[O+0];Y[c+1]=p[O+1];Y[c+2]=p[O+2]}var g=Date.now();f.eIb(Y,N,A,x);console.log(Date.now()-g);for(var e=0;
e<D;e++){var t=P[e],j=t*3,O=e<<2;if(t==-1||p[O+3]!=255)continue;p[O+0]=~~(.5+Math.max(0,Math.min(255,Y[j+0])));
p[O+1]=~~(.5+Math.max(0,Math.min(255,Y[j+1])));p[O+2]=~~(.5+Math.max(0,Math.min(255,Y[j+2])))}};Z.rect={};
Z.rect.kL=function(p,d){var K=[p],A=[];for(var x=0;x<d.length;x++){var M=d[x],G=!1;for(var D=x+1;D<d.length;
D++){var P=d[D];if(P[0]<=M[0]&&P[1]<=M[1]&&M[2]<=P[2]&&M[3]<=P[3]){G=!0;break}}if(!G)A.push(M)}d=A;for(var x=0;
x<d.length;x++){var M=d[x];for(var D=0;D<K.length;D++){var P=K[D],a=Math.max(M[0],P[0]),e=Math.min(M[2],P[2]),f=Math.max(M[1],P[1]),N=Math.min(M[3],P[3]);
if(a<e&&f<N){var Y=[];if(P[1]<M[1]){var l=P.slice(0);l[3]=M[1];Y.push(l)}if(P[0]<M[0]){var h=P.slice(0);
h[1]=f;h[2]=M[0];Y.push(h)}if(M[2]<P[2]){var s=P.slice(0);s[1]=f;s[0]=M[2];Y.push(s)}if(M[3]<P[3]){var J=[a,N,e,P[3]];
Y.push(J)}if(Y.length!=0){K[D]=Y[0];for(var u=1;u<Y.length;u++)K.push(Y[u])}}}K.push(M);K=Z.rect.e$j(K)}K.sort(function(M,P){return M[1]!=P[1]?M[1]-P[1]:M[0]-P[0]});
return K};Z.rect.e$j=function(p){p=p.slice(0);for(var d=0;d<p.length;d++){var K=p[d],A=null;if(K[4]!=null)continue;
for(var x=0;x<p.length;x++){var M=p[x];if(d==x||M[4]!=null)continue;var G=K[0]==M[0],D=K[1]==M[1],P=K[2]==M[2],a=K[3]==M[3];
if(D&&a&&(K[2]==M[0]||K[0]==M[2])){A=[Math.min(K[0],M[0]),K[1],Math.max(K[2],M[2]),K[3]]}if(G&&P&&(K[3]==M[1]||K[1]==M[3])){A=[K[0],Math.min(K[1],M[1]),K[2],Math.max(K[3],M[3])]}if(A){p[d]=A;
p.splice(x,1);break}}if(A){d--}}return p};Z.rect.sU=function(p){var d=new R;for(var K=0;K<p.length;K++)d=d.ck(p[K]);
return d};Z.rect.eFK=function(p,d){var K=Z.rect.sU,A=new UnionFind(p.length),C=1e3,k=1e3;for(var x=0;
x<p.length;x++)for(var M=x+1;M<p.length;M++){if(!d)continue;var G=p[x],D=p[M],N=1e9,Y=1e9;if(G.Xs(D)){A.link(x,M);
continue}var P=G.x+G.t,a=G.y+G.D,e=D.x+D.t,f=D.y+D.D;if((P<D.x||e<G.x)&&(a<D.y||f<G.y))continue;if(!(a<D.y||f<G.y))N=Math.min(Math.abs(P-D.x),Math.abs(G.x-e));
if(!(P<D.x||e<G.x))Y=Math.min(Math.abs(a-D.y),Math.abs(G.y-f));var l=Math.min(N,Y),h=Math.min(G.t,G.D,D.t,D.D);
if(l<.3*h)A.link(x,M)}var s=[],J={};for(var x=0;x<p.length;x++){var u=A.find(x),Q=p[x];if(J[u]==null){J[u]=s.length;
s.push([])}s[J[u]].push(Q)}var W=[],q=[];for(var x=0;x<s.length;x++){W.push(K(s[x]));var H=K(s[x]);H.Lt=x;
q.push(H)}q.sort(function(j,_){return Math.max(_.D,_.t)-Math.max(j.D,j.t)});var i=new NETXUS.RectanglePacker(C,k);
while(!0){var m=!1;i.reset(C,k);for(var x=0;x<q.length;x++){var w=i.findCoords(q[x].t,q[x].D);if(w){q[x].x=w.x;
q[x].y=w.y}else{C=Math.floor(C*1.1);k=Math.floor(k*1.1);m=!0;break}}if(m)continue;break}for(var x=0;
x<s.length;x++){var S=q[x],o=S.Lt,O=W[o],t=s[o],c=S.x-O.x,g=S.y-O.y;for(var M=0;M<t.length;M++)t[M].offset(c,g)}};
Z.ZG=function(){};Z.ZG.gt=Math.floor(16*window.devicePixelRatio);Z.ZG.UC={};Z.ZG.Ny=0;Z.ZG.eW=[[12,76,2],[12,76,3],[12,76,4],[12,76,5],[12,76,6]];
Z.ZG.eFv=["px","in","cm","mm","%"];Z.ZG.k_=function(p,d,K){var A=d.Bk,x=[1,A,A/2.54,A/25.4,d.t/100][K];
return p*x};Z.ZG.bQ=function(p,d,K,A,x){var M=K.mq.aX,G=[1,d,d/2.54,d/25.4,A/100][M],D=[2,3,2,1,2][M];
p=p/G;var P=Math.round(p),a=M==0&&Math.abs(p-P)<1e-6?P+"":p.toFixed(D);if(x)a+=" "+Z.ZG.eFv[M];return a};
Z.ZG.eFs=function(p,d,K,A){var x=K.mq.aX,M=[1,d,d/2.54,d/25.4,A/100][x];p=parseFloat(p)*M;return p};
Z.ZG.eFX=function(p,d){var K=Math.round(Z.ZG.gt*.5);Z.ZG.Ny=K;var A=document.createElement("canvas");
A.width=A.height=K;var x=A.getContext("2d");x.font=K*1.5+"px monospace";var M="0 1 2 3 4 5 6 7 8 9 -".split(" ");
for(var G=0;G<M.length;G++){x.fillStyle="#"+Z.rd(d);x.fillRect(0,0,K,K);x.fillStyle="#"+Z.rd(p);x.fillText(M[G],0,K);
Z.ZG.UC[M[G]]=x.getImageData(0,0,K,K).data}};Z.ZG.eLP=function(p,d,K){var A=0,x=0,M=4*Z.ZG.gt;for(var G=9;
G>=0;G--){var D=Math.pow(10,G);if(5*D*p<=M){A=5*D;x=10;break}if(2*D*p<=M){A=2*D;x=4;break}if(1*D*p<=M){A=1*D;
x=10;break}}if(A==0){A=1;x=10}var P=Math.ceil(A*p),a=Z.p(P*Z.ZG.gt*4);Z.Pk(a,4278190080|K);for(var G=0;
G<Z.ZG.gt;G++)Z.ZG.UN(a,4*G*P,d);for(var G=0;G<P;G++)Z.ZG.UN(a,4*((Z.ZG.gt-1)*P+G),d);if(A==2)x=2;if(A==5)x=5;
if(A>1||A==1&&P>20)for(var G=1;G<x;G++)Z.ZG.eLM(a,G*(P/x),P,(G&1)==1?.8:.7,d);return{Yq:a,step:A}};Z.ZG.eLM=function(p,d,K,A,x){var d=Math.round(d);
for(var M=Math.round(Z.ZG.gt*A);M<Z.ZG.gt-1;M++)Z.ZG.UN(p,4*(M*K+d),x)};Z.ZG.UN=function(p,d,K){p[d+0]=K>>16&255;
p[d+1]=K>>8&255;p[d+2]=K&255};Z.ZG.eLE=function(p,d,K){var A=d&255,x=d>>8&255,M=d>>16&255,J,u,Q,W;d=Math.round(A*.6)<<16|Math.round(x*.6)<<8|Math.round(M*.6);
Z.ZG.eFX(Math.round(A*.8)<<16|Math.round(x*.8)<<8|Math.round(M*.8),K);var G=this.eLP(p.v,d,K),D=p.FT(0,0),P=p.FT(p.W.t,p.W.D),a=Math.floor(D.x/G.step)*G.step,e=Math.ceil(P.x/G.step)*G.step,f=Math.floor(D.y/G.step)*G.step,N=Math.ceil(P.y/G.step)*G.step,Y=p.RI(a,f),l=p.RI(e,f),h=G.step*p.v,s=Math.ceil(h);
J=p.AD.data;u=new R(0,0,p.W.t,Z.ZG.gt);Q=new R(0,0,s,Z.ZG.gt);W=new R(0,Math.round(Z.ZG.gt*.08),Z.ZG.Ny,Z.ZG.Ny);
for(var q=0;q<(e-a)/G.step;q++){Q.x=Math.round(Y.x+q*h);Z.PE(G.Yq,Q,J,u,Q);var H=(a+q*G.step).toString(10);
for(var C=0;C<H.length;C++){W.x=Q.x+3+C*Math.round(Z.ZG.Ny*.8);var k=Z.ZG.UC[H[C]];Z.PE(k,W,J,u,W)}}var i=new Uint32Array(G.Yq.buffer),m=new Uint32Array(G.Yq.length);
for(var w=0;w<s;w++)for(var S=0;S<Z.ZG.gt;S++){m[w*Z.ZG.gt+S]=i[S*s+w]}G.Yq=new Uint8Array(m.buffer);
J=p.Hb.data;u=new R(0,0,Z.ZG.gt,p.W.D);Q=new R(0,0,Z.ZG.gt,s);W=new R(Math.round(Z.ZG.gt*.2),0,Z.ZG.Ny,Z.ZG.Ny);
for(var q=0;q<(N-f)/G.step;q++){Q.y=Math.round(Y.y+q*h);Z.PE(G.Yq,Q,J,u,Q);var H=Math.abs(f+q*G.step).toString(10);
for(var C=0;C<H.length;C++){W.y=Q.y+3+C*Math.round(Z.ZG.Ny*1.15);var k=Z.ZG.UC[H[C]];Z.PE(k,W,J,u,W)}}};
Z.scale={};Z.scale.gM=document.createElement("canvas");Z.scale.Eh=Z.scale.gM.getContext("2d");Z.scale.eLN=document.createElement("canvas");
Z.scale.evZ=Z.scale.eLN.getContext("2d");Z.scale.YP=function(p,d,K){var A=Z.scale.gM,x=Z.scale.Eh;A.width=d;
A.height=K;var M=new ImageData(new Uint8ClampedArray(p.buffer),d,K);x.putImageData(M,0,0);return x.createPattern(A,"repeat")};
Z.scale.evr=function(p,d,K,A,x,M,G,D){var P=Z.scale.kR(p,K,A,x,M,G,D);Z.ul(P.data,d)};Z.scale.e_V=function(p,d,K,A,x,M,G,D){var P=Z.scale.kR(p,K,A,x,M,G,D);
Z.tM(P.data,d)};Z.scale.kR=function(p,d,K,A,x,M,G){var D=Z.scale.gM,P=Z.scale.Eh;D.width=d;D.height=K;
P.rect(0,0,d,K);P.translate(M,G);P.scale(A,x);P.fillStyle=p;P.fill();return P.getImageData(0,0,d,K)};
Z.scale.ex=function(p,d,K,A,x,M,G){if(G<1)Z.scale.e_L(p,d,K,A,x,M,Math.round(1/G));else Z.scale.e_$(p,d,K,A,x,M,G)};
Z.scale.La=function(p,d,K,A,x,M,G,D){if(D)D=D.pk(new R(0,0,d,K));p=new Uint32Array(p.buffer);A=new Uint32Array(A.buffer);
if(G<1)Z.scale.e_i(p,d,K,A,x,M,Math.round(1/G),D);else Z.scale.e_R(p,d,K,A,x,M,G)};Z.scale.e_$=function(p,d,K,A,x,M,G){for(var D=0;
D<K;D++)for(var P=0;P<d;P++){var a=p[D*d+P],e=Math.min(G,x-P*G),f=Math.min(G,M-D*G);for(var N=0;N<f;
N++)for(var Y=0;Y<e;Y++)A[(G*D+N)*x+G*P+Y]=a}};Z.scale.e_L=function(p,d,K,A,x,M,G){for(var D=0;D<M;D++)for(var P=0;
P<x;P++){var a=0,e=Math.min(G,d-P*G),f=Math.min(G,K-D*G);for(var N=0;N<f;N++)for(var Y=0;Y<e;Y++)a+=p[(G*D+N)*d+(G*P+Y)];
A[D*x+P]=Math.round(a/(e*f))}};Z.scale.e_R=function(p,d,K,A,x,M,G){for(var D=0;D<K;D++)for(var P=0;P<d;
P++){var a=p[D*d+P],e=Math.min(G,x-P*G),f=Math.min(G,M-D*G);for(var N=0;N<f;N++)for(var Y=0;Y<e;Y++)A[(G*D+N)*x+G*P+Y]=a}};
Z.scale.e_i=function(p,d,K,A,x,M,G,D){var P=0,a=x,e=0,f=M;if(D){P=Math.floor(D.x/G);a=Math.ceil((D.x+D.t)/G);
e=Math.floor(D.y/G);f=Math.ceil((D.y+D.D)/G)}for(var N=e;N<f;N++)for(var Y=P;Y<a;Y++){var l=0,h=0,s=0,J=0,u=Math.min(G,d-Y*G),Q=Math.min(G,K-N*G);
for(var W=0;W<Q;W++)for(var q=0;q<u;q++){var H=p[(G*N+W)*d+G*Y+q],C=H>>>24;l+=C;h+=C*(H>>>16&255);s+=C*(H>>>8&255);
J+=C*(H&255)}if(l!=0){var k=1/l;A[N*x+Y]=l/(u*Q)<<24|h*k<<16|s*k<<8|J*k}else A[N*x+Y]=0}};Z.P={};Z.P.e_o=function(p,d,K){var A=128,x=0,M=K.t,G=K.D;
for(var D=0;D<G;D++)for(var P=0;P<M;P++){if(p[x]>=A&&(P==0||p[x-1]<A||(P==M-1||p[x+1]<A)||(D==0||p[x-M]<A)||(D==G-1||p[x+M]<A)))d[x]=255;
x++}};Z.P.e_d=function(p,d,K,A){var x=new Uint32Array([4278190080,4294967295]),M=K.t,G=K.D,D=0,P=0,a=M,e=G;
if(A){D=A.x-K.x;P=A.y-K.y;a=D+A.t;e=P+A.D}var f=new Uint8Array(d.buffer),N=new Uint32Array(d.buffer);
for(var Y=P;Y<e;Y++)for(var l=D;l<a;l++){var h=Y*M+l;if((p[h]&128)!=0&&(Y==0||(p[h-M]&128)==0||l==0||(p[h-1]&128)==0||l==M-1||(p[h+1]&128)==0||Y==G-1||(p[h+M]&128)==0)){N[h]=x[(l+Y&4)>>>2]}}};
Z.P.e_A=function(p,d,K,A,x,M){var G=K.t,D=K.D,P=0,a=0,e=G,f=D;if(A){P=A.x-K.x;a=A.y-K.y;e=P+A.t;f=a+A.D}var N=new Uint8Array(d.buffer),Y=new Uint32Array(d.buffer);
for(var l=a;l<f;l++)for(var h=P;h<e;h++){var s=l*G+h,J=p[s];if(x==1)Y[s]=255-J>>>1<<24|M;else Y[s]=255<<24|(J<<16|J<<8|J)}};
Z.af={};Z.af.UY=function(p,d,K){var A,x;if(K=="front"){A=p.rect.clone();x=Z.af.eIB}if(K=="union"){A=p.rect.ck(d.rect);
x=Z.af.ck}if(K=="difference"){A=d.rect.clone();x=Z.af.eIE}if(K=="intersection"){A=p.rect.pk(d.rect);
x=Z.af.pk}if(K=="xor"){A=p.rect.ck(d.rect);x=Z.af.eID}if(A.kQ())return null;var M=Z.p(A.r());Z.Qj(d.channel,d.rect,M,A);
var G=Z.p(A.r());Z.Qj(p.channel,p.rect,G,A);x(G,M,M);var D=Z.gg(M,A);if(D.kQ())return null;if(!D.GR(A)){var P=Z.p(D.r());
Z.Qj(M,A,P,D);M=P;A=D}return{channel:M,rect:A}};Z.af.eIB=function(p,d,K){for(var A=0;A<p.length;A++)K[A]=p[A]};
Z.af.ck=function(p,d,K){for(var A=0;A<p.length;A++)K[A]=Math.min(p[A]+d[A],255)};Z.af.eIE=function(p,d,K){for(var A=0;
A<p.length;A++)K[A]=Math.max(d[A]-p[A],0)};Z.af.pk=function(p,d,K){var A=1/255;for(var x=0;x<p.length;
x++)K[x]=p[x]*d[x]*A};Z.af.eID=function(p,d,K){var A=1/255;for(var x=0;x<p.length;x++)K[x]=Math.min(p[x]+d[x],255)-p[x]*d[x]*A};
Z.ig=function(p,d){this.H=[];this.LT=[0];this.il=[];this.AZ=[];this.Hk=[0];this.ve=[];this.AT=[];this.rows=p;
this.cols=d};Z.ig.prototype.clone=function(){var p=this,d=p.rows,K=p.cols,A=new Z.ig(d,K);A.H=p.H.slice(0);
A.LT=p.LT.slice(0);A.il=p.il.slice(0);A.AZ=p.AZ.slice(0);A.Hk=p.Hk.slice(0);A.ve=p.ve.slice(0);A.AT=p.AT.slice(0);
return A};Z.ig.prototype.Ma=function(p,d,K){var A=this.LT.length-1;for(var x=0;x<K;x++){var M=p[x],G=d[x];
this.H.push(M);this.il.push(G);if(G==A){this.AT.push(M==0?0:1/M)}else{this.AZ.push(M);this.ve.push(G)}}this.LT.push(this.H.length);
this.Hk.push(this.AZ.length)};Z.ig.prototype.eD=function(p,d){var K=this,A=K.rows,x=K.H,M=K.il;if(d==null)d=new Array(A);
for(var G=0;G<A;G++){var D=K.LT[G],P=K.LT[G+1],a=0;while((P-D&3)!=0){a+=x[D]*p[M[D]];D++}for(var e=D;
e<P;e+=4)a+=x[e]*p[M[e]]+x[e+1]*p[M[e+1]]+x[e+2]*p[M[e+2]]+x[e+3]*p[M[e+3]];d[G]=a}return d};Z.ig.prototype.multiply=function(p){return this.Ul(p.HF())};
Z.ig.prototype.Ul=function(p){var d=this,K=d.rows,A=d.cols,x=p.rows,M=new Z.ig(K,x),G=d.il,D=p.il;for(var P=0;
P<K;P++){var a=[],e=[],f=d.LT[P],N=d.LT[P+1];for(var Y=0;Y<x;Y++){var l=p.LT[Y],h=p.LT[Y+1],s=0,J=f,u=l;
while(J<N&&u<h){var Q=Math.max(G[J],D[u]);while(J<N&&G[J]<Q)J++;while(u<h&&D[u]<Q)u++;if(J<N&&u<h&&G[J]==D[u])s+=d.H[J++]*p.H[u++]}if(s!=0){a.push(s);
e.push(Y)}}M.Ma(a,e,a.length)}return M};Z.ig.prototype.HF=function(){var p=this.rows,d=this.cols,K=[];
for(var A=0;A<d;A++)K.push([[],[]]);var x=this.H,M=this.LT,G=this.il;for(var A=0;A<p;A++){var D=M[A],P=M[A+1];
for(var a=D;a<P;a++){var e=K[G[a]];e[0].push(x[a]);e[1].push(A)}}var f=new Z.ig(d,p);for(var A=0;A<d;
A++)f.Ma(K[A][0],K[A][1],K[A][1].length);return f};Z.ig.prototype.Bb=function(){var p=this.rows,d=this.cols,K=new Array(p),A=this.H,x=this.LT,M=this.il;
for(var G=0;G<p;G++){var D=K[G]=new Array(d);for(var P=0;P<d;P++)D[P]=0;var a=x[G],e=x[G+1];for(var f=a;
f<e;f++)D[M[f]]=A[f]}return K};Z.ig.prototype.Ke=function(p,d,K,A,x){function M(C,d,k,i){var m=C.length;
for(var w=0;w<m;w++)i[w]=C[w]-d[w]*k}function G(C,d,k,i){var m=C.length,w=0;while((m-w&3)!=0){i[w]=C[w]+d[w]*k;
w++}for(var S=w;S<m;S+=4){i[S]=C[S]+d[S]*k;i[S+1]=C[S+1]+d[S+1]*k;i[S+2]=C[S+2]+d[S+2]*k;i[S+3]=C[S+3]+d[S+3]*k}}function D(C,d,k){var i=C.length;
for(var m=0;m<i;m++)k[m]=C[m]*d[m]}function P(C,d){var k=C.length,i=0,m=0;while((k-i&3)!=0){m+=C[i]*d[i];
i++}for(var w=i;w<k;w+=4)m+=C[w]*d[w]+C[w+1]*d[w+1]+C[w+2]*d[w+2]+C[w+3]*d[w+3];return m}var a=A!=null?2:1,e=Date.now(),f=0,N=this,Y=p.slice(0),l=p.slice(0);
N.eD(p,l);M(d,l,1,Y);var h=this.AT;if(a==0){h=Y.slice(0);h.fill(1)}var s=Y.slice(0);D(h,Y,s);var J=s.slice(0),u=P(Y,s);
while(!0){N.eD(J,l);var Q=u/P(J,l);G(p,J,Q,p);M(Y,l,Q,Y);if((f&7)==0&&Math.sqrt(P(Y,Y))<K)break;if(a<=1)D(h,Y,s);
else{var W=Y.slice(0);A.eGq(W,Y);x.eGh(s,W)}var q=P(Y,s),H=q/u;G(s,J,H,J);u=q;f++}};Z.ig.prototype.evy=function(p,d,K,A){var x=Date.now(),M=1.96,P=0;
if(K==null)K=5e-6;if(A==null)A=1e9;var G=1-M,D=this.rows,a=this.AZ,e=this.Hk,f=this.ve,N=this.AT;while(!0){var Y=0;
for(var l=0;l<D;l++){var h=d[l],s=e[l],J=e[l+1];if(J-s==4)h-=a[s]*p[f[s]]+a[s+1]*p[f[s+1]]+a[s+2]*p[f[s+2]]+a[s+3]*p[f[s+3]];
else for(var u=s;u<J;u++)h-=a[u]*p[f[u]];var Q=p[l]*G+N[l]*h*M,W=Q-p[l];Y+=W*W;p[l]=Q}if(Y/D<K||Date.now()>x+A)break}};
Z.ig.prototype.eIb=function(p,d,K,A){var x=Date.now(),M=1.96,P=0;if(K==null)K=5e-5;if(A==null)A=1e9;
var G=1-M,D=this.rows,a=this.AZ,e=this.Hk,f=this.ve,N=this.AT;while(!0){var Y=0;for(var l=0;l<D;l++){var h=l*3,s=d[h],J=d[h+1],u=d[h+2],Q=e[l],W=e[l+1];
for(var q=Q;q<W;q++){var H=a[q],C=f[q]*3;s-=H*p[C+0];J-=H*p[C+1];u-=H*p[C+2]}var k=N[l]*M,i=p[h+0]*G+s*k,m=p[h+1]*G+J*k,w=p[h+2]*G+u*k,S=i-p[h+0],o=m-p[h+1],O=w-p[h+2];
Y+=.4*S*S+.5*o*o+.1*O*O;p[h+0]=i;p[h+1]=m;p[h+2]=w}if(Y/D<K||Date.now()>x+A)break}};Z.uX={};Z.uX.gS=function(p,d,K){return{t:"Objc",v:{classID:"CrPt",Hrzn:{t:"doub",v:p},Vrtc:{t:"doub",v:d},Cnty:{t:"bool",v:K}}}};
Z.uX.u=function(p,d){for(var K=0;K<p.length;K++){var A=p[K].v,x=d.zK(new QP(A.Hrzn.v,A.Vrtc.v));A.Hrzn.v=Math.round(x.x);
A.Vrtc.v=Math.round(x.y)}};Z.uX.LA={};Z.uX.LA.hY=function(p,d){var K=p.length;for(var A=0;A<K;A++){var x=0,M=Number.NEGATIVE_INFINITY;
for(var G=A;G<K;G++)if(Math.abs(p[G][A])>M){x=G;M=Math.abs(p[G][A])}Z.uX.LA.eRe(p,A,x);for(var G=A+1;
G<K;G++){if(p[A][A]==0)return 1;var D=p[G][A]/p[A][A];for(var P=A;P<K+1;P++)p[G][P]-=p[A][P]*D}}for(var G=K-1;
G>=0;G--){if(p[G][G]==0)return 1;var a=p[G][K]/p[G][G];d[G]=a;for(var P=G-1;P>=0;P--){p[P][K]-=p[P][G]*a;
p[P][G]=0}}return 0};Z.uX.LA.eIf=function(p,d){var K=[];for(var A=0;A<p;A++){K.push([]);for(var x=0;
x<d;x++)K[A].push(0)}return K};Z.uX.LA.eEq=function(p){for(var d=0;d<p.length;d++)console.log(JSON.stringify(p[d]))};
Z.uX.LA.eRe=function(p,d,K){var A=p[d];p[d]=p[K];p[K]=A};Z.uX.ks=function(p,d,K){var A=p.length-1,x=Z.uX.LA.eIf(A+1,A+2);
for(var M=1;M<A;M++){x[M][M-1]=1/(p[M]-p[M-1]);x[M][M]=2*(1/(p[M]-p[M-1])+1/(p[M+1]-p[M]));x[M][M+1]=1/(p[M+1]-p[M]);
x[M][A+1]=3*((d[M]-d[M-1])/((p[M]-p[M-1])*(p[M]-p[M-1]))+(d[M+1]-d[M])/((p[M+1]-p[M])*(p[M+1]-p[M])))}x[0][0]=2/(p[1]-p[0]);
x[0][1]=1/(p[1]-p[0]);x[0][A+1]=3*(d[1]-d[0])/((p[1]-p[0])*(p[1]-p[0]));x[A][A-1]=1/(p[A]-p[A-1]);x[A][A]=2/(p[A]-p[A-1]);
x[A][A+1]=3*(d[A]-d[A-1])/((p[A]-p[A-1])*(p[A]-p[A-1]));Z.uX.LA.hY(x,K)};Z.uX.eRn=function(p,d,K,A){if(p<=d[0])return K[0];
if(p>=d[d.length-1])return K[d.length-1];var x=1;while(d[x]<p)x++;var M=d[x],G=d[x-1],D=K[x],P=K[x-1],a=(p-G)/(M-G),e=A[x-1]*(M-G)-(D-P),f=-A[x]*(M-G)+(D-P),N=(1-a)*P+a*D+a*(1-a)*(e*(1-a)+f*a);
return N};Z.uX.ko=function(p,d,K,A){var x={_p:[p[0]],RT:[d[0]],ll:[]};A[0]=x;for(var M=1;M<p.length-1;
M++){x._p.push(p[M]);x.RT.push(d[M]);if(K[M]==!1){Z.uX.ks(x._p,x.RT,x.ll);x={_p:[p[M]],RT:[d[M]],ll:[]}}A[M]=x}x._p.push(p[M]);
x.RT.push(d[M]);Z.uX.ks(x._p,x.RT,x.ll);A[M]=x};Z.uX.kW=function(p,d,K,A){if(p<=d[0])return K[0];if(p>=d[d.length-1])return K[d.length-1];
var x=1;while(d[x]<p)x++;var M=A[x-1];return Z.uX.eRn(p,M._p,M.RT,M.ll)};Z.uX.kx=function(p){var d={_p:[],RT:[],JS:[]};
for(var K=0;K<p.length;K++){d._p[K]=p[K].v.Hrzn.v;d.RT[K]=p[K].v.Vrtc.v;d.JS[K]=p[K].v.Cnty?p[K].v.Cnty.v:!0}return d};
Z.uX.eC=function(p,d,K){var A=0,x=255;if(K){A=-1e9;x=1e9}var M=Z.uX.kx(p),G=[];Z.uX.ko(M._p,M.RT,M.JS,G);
var D=[];for(var P=0;P<d;P++)D[P]=1/255*Math.max(A,Math.min(x,Z.uX.kW(P*(255/(d-1)),M._p,M.RT,G)));return D};
Z.uX.eR_=function(p,d,K){var A=Math.round(p.length/20),x=d-p.length,M=K?(p[A]-p[0])/A:0,G=K?p[0]-x*M:p[p.length-1],D=[];
for(var P=0;P<x;P++)D.push(G+P*M);return K?D.concat(p):p.concat(D)};Z.uX.Lq=function(p,d,K){var A=Z.uX.kx(p),x=[];
Z.uX.ko(A._p,A.RT,A.JS,x);var M=new Uint8Array(d),G=d/256;for(var D=0;D<d;D++)M[D]=Math.max(0,Math.min(d-1,Z.uX.kW(D*G,A._p,A.RT,x)));
if(K){M[0]=0;if(M[1]>100)M[1]=.4*M[1];if(M[2]>150)M[1]=.7*M[2]}return M};Z.uX.kD=function(p,d){var K=new Uint8Array(p.length);
for(var A=0;A<p.length;A++)K[A]=d[p[A]];return K};Z.uX.XN=function(p,d,K){var A=n.b("canvas","");A.width=d;
A.height=K;var x=A.getContext("2d"),M=Z.uX.Lq(p,256);x.scale(d/255,K/255);x.fillStyle="#fff";x.fillRect(0,0,255,255);
x.fillStyle="#333";x.beginPath();x.moveTo(0,255);for(var G=0;G<M.length;G++)x.lineTo(G,255-M[G]);x.lineTo(255,255);
x.closePath();x.fill();return A.toDataURL()};Z.style={};Z.style.stroke=function(p,d,K,A){var x=K.t,M=K.D,G=new Float64Array(x*M);
Z.style.Lf(p,G,x,M);Z.style.KP(d,K,G,K,A)};Z.style.KP=function(p,d,K,A,x){var M=d.pk(A),G=M.t,D=M.D;
x+=.5;var P=M.x-d.x,a=M.y-d.y,e=d.t,f=M.x-A.x,N=M.y-A.y,Y=A.t;for(var l=0;l<D;l++){var h=(l+N)*Y+f,s=(l+a)*e+P;
for(var J=0;J<G;J++){var u=Math.max(0,Math.min(1,x-K[h+J]));p[s+J]=Math.round(u*255)}}};Z.style.eEZ=function(p,d,K,A){for(var x=0;
x<K;x++)for(var M=0;M<d;M++){var G=x*d+M,D=0,P=0,a=p[G];if(M==0||x==0){D=p[G+1]-a;P=p[G+d]-a}else if(M==K-1||x==d-1){D=a-p[G-1];
P=a-p[G-d]}else{D=p[G+1]-p[G-1];P=p[G+d]-p[G-d]}if(D!=0||P!=0){var e=1/Math.sqrt(D*D+P*P);D*=e;P*=e}A[G+G]=D;
A[G+G+1]=P}};Z.style.Lf=function(p,d,K,A){var x=0,M=K*A;for(var G=0;G<M;G++)x|=p[G];if(x==0){d.fill(1e9);
return}var D=Z.style.KM(p,K,A);for(var P=0;P<A;P++)for(var a=0;a<K;a++){var G=P*K+a,e=D[G*2],f=D[G*2+1],N=(P+f)*K+a+e;
if(e==0&&f==0){d[G]=0;continue}var Y=Math.sqrt(e*e+f*f),l=p[N]*(1/255),h=1/Y,s=Math.abs(e)*h,J=Math.abs(f)*h;
if(J>s){var u=J;J=s;s=u}d[G]=Y+Z.style.eRs(s,J,l)}};Z.style.KM=function(p,d,K,A){if(A==null){A=!0;for(var x=0;
x<p.length;x++)A=A&&(p[x]==0||p[x]==255)}var M=new Int16Array(d*K*2);if(A)Z.style.eRN(p,M,d,K);else Z.style.eRD(p,M,d,K);
return M};Z.style.eRs=function(p,d,K){return(.5-K)*p};Z.style.eRD=function(p,d,K,A){var x=K*A;for(var M=0;
M<x;M++)if(p[M]==0){d[M*2]=16383;d[M*2+1]=16383}for(var G=1;G<=A-1;G++){var M=G*K;for(var D=0;D<=K-1;
D++)Z.style.kd(d,p,K,M+D<<1,-1);for(var D=1;D<=K-1;D++)Z.style.sD(d,p,K,M+D<<1,-1);for(var D=K-2;D>=0;
D--)Z.style.sD(d,p,K,M+D<<1,1)}for(var G=A-2;G>=0;G--){var M=G*K;for(var D=0;D<=K-1;D++)Z.style.kd(d,p,K,M+D<<1,1);
for(var D=1;D<=K-1;D++)Z.style.sD(d,p,K,M+D<<1,-1);for(var D=K-2;D>=0;D--)Z.style.sD(d,p,K,M+D<<1,1)}};
Z.style.sD=function(p,d,K,A,x){var M=(A>>>1)+x<<1,G=p[A],D=p[A+1],P=p[M]+x,a=p[M+1],e=P*P+a*a,f=G*G+D*D;
if(a!=16383&&(G==16383||Math.sqrt(e)+(.5-d[(A>>>1)+a*K+P]*(1/255))<Math.sqrt(f)+(.5-d[(A>>>1)+D*K+G]*(1/255)))){p[A]=P;
p[A+1]=a}};Z.style.kd=function(p,d,K,A,x){var M=(A>>>1)+x*K<<1,G=p[A],D=p[A+1],P=p[M],a=p[M+1]+x,e=P*P+a*a,f=G*G+D*D;
if(P!=16383&&(G==16383||Math.sqrt(e)+(.5-d[(A>>>1)+a*K+P]*(1/255))<Math.sqrt(f)+(.5-d[(A>>>1)+D*K+G]*(1/255)))){p[A]=P;
p[A+1]=a}};Z.style.eRN=function(p,d,K,A){var x=K*A;for(var M=0;M<x;M++)if(p[M]==0){d[M*2]=16383;d[M*2+1]=16383}for(var G=1;
G<=A-1;G++){var M=G*K;for(var D=0;D<=K-1;D++)Z.style.kJ(d,p,K,M+D<<1,-1);for(var D=1;D<=K-1;D++)Z.style.sA(d,p,K,M+D<<1,-1);
for(var D=K-2;D>=0;D--)Z.style.sA(d,p,K,M+D<<1,1)}for(var G=A-2;G>=0;G--){var M=G*K;for(var D=0;D<=K-1;
D++)Z.style.kJ(d,p,K,M+D<<1,1);for(var D=1;D<=K-1;D++)Z.style.sA(d,p,K,M+D<<1,-1);for(var D=K-2;D>=0;
D--)Z.style.sA(d,p,K,M+D<<1,1)}};Z.style.sA=function(p,d,K,A,x){var M=(A>>>1)+x<<1,G=p[A],D=p[A+1],P=p[M]+x,a=p[M+1],e=P*P+a*a,f=G*G+D*D;
if(a!=16383&&(G==16383||e<f)){p[A]=P;p[A+1]=a}};Z.style.kJ=function(p,d,K,A,x){var M=(A>>>1)+x*K<<1,G=p[A],D=p[A+1],P=p[M],a=p[M+1]+x,e=P*P+a*a,f=G*G+D*D;
if(P!=16383&&(G==16383||e<f)){p[A]=P;p[A+1]=a}};Z.style.ewp=function(p,d,K,A,x){var M=K*A,G=(K+A+1)*1.01;
for(var D=0;D<M;D++)if(p[D]<=x)d[D]=G;for(var P=1;P<K;P++)d[P]=Math.min(d[P],d[P-1]);for(var a=1;a<A;
a++){var D=a*K;d[D]=Math.min(d[D],Math.min(d[D-K]+1,d[D-K+1]+Math.SQRT2));for(var P=1;P<K-1;P++){var e=d[++D],f=Math.min(d[D-1]+1,Math.min(d[D-K-1]+Math.SQRT2,Math.min(d[D-K]+1,d[D-K+1]+Math.SQRT2)));
if(f<e)d[D]=f}D++;d[D]=Math.min(d[D],Math.min(d[D-1]+1,Math.min(d[D-K-1]+Math.SQRT2,d[D-K]+1)))}for(var P=K-2;
P>=0;P--)d[P+M-K]=Math.min(d[P+M-K],d[P+M-K+1]);for(var a=A-2;a>=0;a--){var D=a*K+K-1;d[D]=Math.min(d[D],Math.min(d[D+K]+1,d[D+K-1]+Math.SQRT2));
for(var P=K-2;P>=1;P--){var e=d[--D],f=Math.min(d[D+1]+1,Math.min(d[D+K-1]+Math.SQRT2,Math.min(d[D+K]+1,d[D+K+1]+Math.SQRT2)));
if(f<e)d[D]=f}D--;d[D]=Math.min(d[D],Math.min(d[D+1]+1,Math.min(d[D+K]+1,d[D+K+1]+Math.SQRT2)))}};Z.style.eVS=function(p,d,K,A,x){var M=new Int32Array(K*A);
Z.style.eRg(p,M,K,A,x);Z.style.ezd(M,d,K,A)};Z.style.eRg=function(p,d,K,A,x){var M=new Int32Array(A);
for(var G=0;G<K;G++){var D=K+A;for(var P=A-1;P>=0;P--){if(p[P*K+G]>x)D=0;else D++;M[P]=D}D=K+A;for(var P=0;
P<A;P++){if(p[P*K+G]>x)D=0;else D++;d[P*K+G]=D<M[P]?-D:M[P]}}};Z.style.ezd=function(p,d,K,A){var x=(K+A)*(K+A),M=new Float64Array(K),G=new Uint16Array(K);
for(var D=0;D<A;D++){var P=D*K,a=0;G[0]=0;M[0]=-x;M[1]=+x;for(var e=1;e<K;e++){var f=p[e+P]*p[e+P]+e*e,N=(f-(p[G[a]+P]*p[G[a]+P]+G[a]*G[a]))/(2*e-2*G[a]);
while(N<=M[a]){a--;N=(f-(p[G[a]+P]*p[G[a]+P]+G[a]*G[a]))/(2*e-2*G[a])}a++;G[a]=e;M[a]=N;M[a+1]=x}a=0;
for(var e=0;e<K;e++){while(M[a+1]<e)a++;var Y=G[a]-e,l=p[G[a]+P],h=D*K+e<<1;d[h]=Y;d[h+1]=l}}};Z.style.KB=function(p,d,K){if(K)for(var A=0;
A<p.length;A++){var x=p[A];if(x>0)p[A]=Math.max(0,Math.min(255,x+d*2*(Z.style.ZP(A)-128)))}else for(var A=0;
A<p.length;A++){var x=p[A];if(x>0)p[A]=Math.max(0,Math.min(255,x+Math.min(x*3,d*2*(Z.style.ZP(A)-128))))}};
Z.style.ZP=function(p){p=p^61^p>>16;p=p+(p<<3);p=p^p>>4;p=p*668265261;p=p^p>>15;return p&255};Z.Bn={};
Z.Bn.YH=function(p,d,K){var A=p.canvas,x=n.F(),M=Math.floor;if(A.width!=M(d*x)||A.height!=M(K*x))n.wc(A,d,K,p)};
Z.Bn.er=function(p,d,K,A,x,M){Z.Bn.YH(p,d,K);if(M==null)M=!1;var G=x.channel,D=x.rect,P=!x.isEnabled;
d=Math.floor(d*n.F());K=Math.floor(K*n.F());if(d*K==0)return;var a=p.createImageData(d,K),e=a.data,f=1/d,N=1/K;
for(var Y=0;Y<K;Y++)for(var l=0;l<d;l++){var h=Y*d+l,s=h*4,J=Math.round(A.x+l*f*A.t),u=Math.round(A.y+Y*N*A.D),Q=0;
if(J<D.x||J>=D.x+D.t||u<D.y||u>=D.y+D.D)Q=x.color;else Q=G[(u-D.y)*D.t+(J-D.x)];Q=255*(255-x.HW)+Q*x.HW>>>8;
if(M)Q=170+Math.round(.4*(Q-170));e[s]=Q;e[s+1]=Q;e[s+2]=Q;e[s+3]=255}p.putImageData(a,0,0);if(P)Z.Bn.KK(p,d,K)};
Z.Bn.ezA=function(p,d,K,A){p.fillStyle="#eeeeee";p.fillRect(.6*d,.6*K,d,K);p.lineWidth=1.5;var x=.65*d,M=.95*d,G=.65*K,D=.95*K,P=.75*d,a=.85*d,e=.75*K,f=.85*K;
p.beginPath();p.moveTo(x,G);p.lineTo(M,G);p.lineTo(M,D);p.lineTo(x,D);p.lineTo(x,G);p.moveTo(P,e);p.lineTo(a,e);
p.lineTo(a,f);p.lineTo(P,f);p.lineTo(P,e);p.closePath();p.stroke()};Z.Bn.kC=[];Z.Bn.ezJ=function(p,d,K){var A,x,M,G=n.F();
d=Math.floor(G*d);K=Math.floor(G*K);A=Math.ceil(Math.max(d,K)*.35);x=d-A;M=K-A;var D=Z.Bn.kC[A];if(D==null){p.save();
p.scale(1/G,1/G);p.fillStyle="#eeeeee";p.fillRect(x,M,d,K);p.lineWidth=1;p.strokeRect(x+2.5,M+2.5,d-x-5,K-M-5);
var P=p.createImageData(3,3);Z.Pk(P.data,4278190080);P.data[4*4]=P.data[4*4+1]=P.data[4*4+2]=238;p.putImageData(P,x+1,M+1);
p.putImageData(P,d-4,M+1);p.putImageData(P,x+1,K-4);p.putImageData(P,d-4,K-4);p.restore();Z.Bn.kC[A]=p.getImageData(x,M,d,K)}else p.putImageData(D,x,M)};
Z.Bn.ezg=function(p,d,K,A,x){Z.Bn.YH(p,d,K);d=Math.floor(d*n.F());K=Math.floor(K*n.F());var M=d/A.t;
if(d*K==0)return;p.fillStyle="#999999";p.setTransform(1,0,0,1,0,0);p.clearRect(0,0,d,K);var G=Z.Bn.pB;
if(G==null){G=Z.Bn.pB=JSON.parse(JSON.stringify(QG.Wh.default));G.strokeEnabled.v=!0}G.strokeStyleLineWidth.v.val=1*n.F()/M;
p.fillStyle="#ffffff";p.scale(M,M);Z.e.Kz(x.Z,p,0,0);Z.e.Kz(x.Z,p,0,0,G)};Z.Bn.Y$=null;Z.Bn.ej=function(p,d,K,A,x,M,G,D){Z.Bn.YH(p,d,K);
d=Math.floor(d*n.F());K=Math.floor(K*n.F());if(d*K==0)return;var P=Math.max(d,K),a=Z.Bn.Y$;if(a==null||a.width<P||a.height<P){Z.Bn.Y$=a=p.createImageData(P,P)}P=a.width;
var e=a.data,f=A.t/d,N=A.D/K,Y=1/255,l=M.x,h=M.x+M.t,s=M.y,J=M.y+M.D;for(var u=0;u<K;u++)for(var Q=0;
Q<d;Q++){var W=u*P+Q,q=W*4,H=~~(A.x+Q*f),C=~~(A.y+u*N),k=Z.fG(u,Q,2);if(H<l||H>=h||C<s||C>=J){e[q]=k;
e[q+1]=k;e[q+2]=k;e[q+3]=255}else{var i=(C-M.y)*M.t+(H-M.x)<<2,m=x[i+3]*Y;e[q]=x[i+0]*m+k*(1-m);e[q+1]=x[i+1]*m+k*(1-m);
e[q+2]=x[i+2]*m+k*(1-m);e[q+3]=255}}if(D!=null)for(var u=0;u<e.length;u+=4)e[u]=e[u+1]=e[u+2]=e[u+D];
p.putImageData(a,0,0);if(G)Z.Bn.KK(p,d,K)};Z.Bn.ezy=function(p,d,K,A){Z.Bn.YH(p,d,K);p.fillStyle=Z.Bn.iz(A.Clr.v);
p.fillRect(0,0,d,K);Z.Bn.Km(p,d,K)};Z.Bn.kb=null;Z.Bn.ezT=function(p,d,K,A){Z.Bn.YH(p,d,K);var x=p.canvas.width,M=p.canvas.height,G=Z.Bn.kb;
if(G==null||G.width!=x||G.height!=M){p.fillStyle="#ffffff";p.fillRect(0,0,d,K);p.fillStyle="#000000";
p.font=""+K*.7+"px serif";p.fillText("T",(d-K*.43)/2,K*.75);p.fillText("T",(d-K*.43)/2,K*.75);Z.Bn.kb=p.getImageData(0,0,x,M)}else p.putImageData(G,0,0)};
Z.Bn.eai=function(p,d,K){Z.Bn.YH(p,d,K);p.clearRect(0,0,d,K);p.font=K*.7+"px serif";p.fillText(":(",(d-K*.43)/2,K*.7)};
Z.Bn.eaq=function(p,d,K,A){Z.Bn.YH(p,d,K);var x=QW.get(A),M=Qc.get(QW.names[x]).substring(0,3);p.fillStyle="#ffffff";
p.fillRect(0,0,d,K);p.fillStyle="#000000";p.font=K*.55+"px sans-serif";var G=p.measureText(M);p.fillText(M,(d-G.width)/2,K*.67);
p.fillRect(0,0,d,K*.1);p.fillRect(0,K*.9,d,K*.1)};Z.Bn.eah=function(p,d,K,A){Z.Bn.YH(p,d,K);var x=p.canvas.width,M=p.canvas.height,G=p.getImageData(0,0,x,M);
Z.k.kg(A.Grad.v,new Uint8Array(G.data.buffer),new R(0,0,x,M),[1/x,0,0,1/M],x/2,M/2,!1,0,16711680,65280);
p.putImageData(G,0,0);Z.Bn.Km(p,d,K)};Z.Bn.eas=function(p,d,K,A,x){Z.Bn.YH(p,d,K);var M=p,G=QL.xc(A.Ptrn.v,x.add.Patt),D=G.m;
Z.Bn.ej(p,d,K,D,G.nM,D,!1);Z.Bn.Km(M,d,K)};Z.Bn.KK=function(p,d,K){p.strokeStyle="#bb0000";p.lineWidth=3;
p.beginPath();p.moveTo(d*.15,K*.15);p.lineTo(d*.85,K*.85);p.moveTo(d*.85,K*.15);p.lineTo(d*.15,K*.85);
p.closePath();p.stroke()};Z.Bn.KK=function(p,d,K){p.strokeStyle="#bb0000";p.lineWidth=3;p.beginPath();
p.moveTo(d*.15,K*.15);p.lineTo(d*.85,K*.85);p.moveTo(d*.85,K*.15);p.lineTo(d*.15,K*.85);p.closePath();
p.stroke()};Z.Bn.Km=function(p,d,K){p.fillStyle="#eeeeee";p.fillRect(0,K*.75,d,K*.25);p.beginPath();
p.moveTo(0,K*.75);p.lineTo(d,K*.75);p.moveTo(d*.1,K*.875);p.lineTo(d*.9,K*.875);p.moveTo(d*.65,K*.825);
p.lineTo(d*.65,K*.95);p.closePath();p.stroke()};Z.Bn.iz=function(p){var d=Z.k.iz(p),K=Math.round(d.N)<<16|Math.round(d.w)<<8|Math.round(d.M);
return"#"+Z.rd(K)};Z.e={};Z.e.gK=function(p,d,K){var A=[],x=-1;for(var M=0;M<p.length;M++){var G=p[M];
if((G.type==0||G.type==3)&&G.Ez!=-1)x++;if(G.type>5||G.type==0||G.type==3)continue;if(d!=null&&d.indexOf(x)==-1)continue;
if(K!=null&&K.indexOf(M)==-1)continue;A.push(G.Gp.x);A.push(G.Gp.y);A.push(G.I.x);A.push(G.I.y);A.push(G.UL.x);
A.push(G.UL.y)}return A};Z.e.KH=function(p,d,K,A){var x=0,M=-1;for(var G=0;G<d.length;G++){var D=d[G];
if((D.type==0||D.type==3)&&D.Ez!=-1)M++;if(D.type>5||D.type==0||D.type==3)continue;if(K!=null&&K.indexOf(M)==-1)continue;
if(A!=null&&A.indexOf(G)==-1)continue;D.Gp.pf(p[x],p[x+1]);D.I.pf(p[x+2],p[x+3]);D.UL.pf(p[x+4],p[x+5]);
x+=6}};Z.e.RF=function(p,d,K,A){var x=Z.e.gK(p,K,A);Z._.u(x,d,x);Z.e.KH(x,p,K,A)};Z.e.eao=function(p,d,K,A){var x=Z.e.gK(p,K,A);
Z.c.apply(d,x);Z.e.KH(x,p,K,A)};Z.e.eaW=function(p,d,K,A){if(K==null&&A==null){var x=Z.e.eiF(p,40);for(var M=0;
M<x.length;M++)p[M]=x[M]}var G=Z.e.gK(p,K,A);Z.tO.apply(d,G,Z._.JE(G));Z.e.KH(G,p,K,A)};Z.e.eiF=function(p,d){var K=[];
for(var A=0;A<p.length;A++){var x=p[A];if(x.type>5){K.push(JSON.parse(JSON.stringify(x)));continue}var M=Z.e.eiL(p,A+1,x.length);
M=Z._.eL(M,d);var G=Z.e.eiX(M);A+=x.length;x=JSON.parse(JSON.stringify(x));x.length=G.length;K.push(x);
for(var D=0;D<G.length;D++)K.push(G[D])}return K};Z.e.eiL=function(p,d,K){var A={$:["M"],B:[]},x=p[d],M=p[d+K-1];
A.B.push(x.I.x,x.I.y);for(var G=1;G<K;G++){var D=p[d+G-1],P=p[d+G];A.$.push("C");A.B.push(D.UL.x,D.UL.y,P.Gp.x,P.Gp.y,P.I.x,P.I.y)}A.$.push("C");
A.B.push(M.UL.x,M.UL.y,x.Gp.x,x.Gp.y,x.I.x,x.I.y);return A};Z.e.eiX=function(p){var d=[],K=p.$,A=p.B,x=0,M=A.length;
d.push({type:2,Gp:new QP(A[M-4],A[M-3]),I:new QP(A[0],A[1]),UL:new QP(A[2],A[3])});for(var G=0;G<K.length-2;
G++){var D=G*6+4;d.push({type:2,Gp:new QP(A[D],A[D+1]),I:new QP(A[D+2],A[D+3]),UL:new QP(A[D+4],A[D+5])})}return d};
Z.e.eqe=function(p){for(var d=0;d<p.length;d++){if(p[d].type>5)continue;var K=p[d].length;if(!(K==4||K==6||K==8)){d+=K;
continue}for(var A=0;A<K;A++){var x=p[d+1+A],M=p[d+1+(A+1)%K],G=Math.min(x.I.x,M.I.x),D=Math.min(x.I.y,M.I.y),P=0,a=0;
if(x.I.x<M.I.x){P=x.I.y-D;a=P-(M.I.x-G)}else{P=M.I.y-D;a=P-(x.I.x-G)}if(Math.abs(a)<.2*P)return P}}return-1};
Z.e.Du=function(p,d){var K=null,A=-1;for(var x=0;x<p.length;x++){if(p[x].type>5)continue;var M=p[x].length;
if((p[x].type==0||p[x].type==3)&&p[x].Ez!=-1)A++;if(d!=null&&d.indexOf(A)==-1)continue;if(x==p.length-1)break;
var G=p[x].type==3;if(K==null)K=Z.e.kl(p,x+1,M,G);else{var D=Z.e.kl(p,x+1,M,G);if(d!=null||p[x].Ez==0||p[x].Ez==-1||p[x].Ez==1){var P=Math.min(K.x,D.x),a=Math.min(K.y,D.y),e=Math.max(K.x+K.t,D.x+D.t),f=Math.max(K.y+K.D,D.y+D.D);
K.x=P;K.y=a;K.t=e-P;K.D=f-a}else if(p[x].Ez==2)K=K;else if(p[x].Ez==3)K=K.pk(D)}x+=M}if(K==null||K.t<0||K.D<0)K=new R(0,0,0,0);
return K};Z.e.eqt=new Float64Array(4);Z.e.kl=function(p,d,K,A){var x=Z.e.eqt;x[0]=1e30;x[1]=1e30;x[2]=-1e30;
x[3]=-1e30;var M=p[d+K-1];if(!A)Z.e.kj(M.I.x,M.I.y,M.UL.x,M.UL.y,p[d].Gp.x,p[d].Gp.y,p[d].I.x,p[d].I.y,x);
for(var G=d;G<d+K-1;G++){var D=p[G],P=p[G+1];if(D.I.GR(D.UL)&&P.Gp.GR(P.I)){x[0]=Math.min(x[0],Math.min(D.I.x,P.I.x));
x[1]=Math.min(x[1],Math.min(D.I.y,P.I.y));x[2]=Math.max(x[2],Math.max(D.I.x,P.I.x));x[3]=Math.max(x[3],Math.max(D.I.y,P.I.y))}else Z.e.kj(D.I.x,D.I.y,D.UL.x,D.UL.y,P.Gp.x,P.Gp.y,P.I.x,P.I.y,x)}return new R(x[0],x[1],x[2]-x[0],x[3]-x[1])};
Z.e.kj=function(p,d,K,A,x,M,G,D,P){var a=1e30,e=1e30,f=-1e30,N=-1e30,Y=40,l=K-p,h=A-d,s=x-K,J=M-A,u=G-x,Q=D-M,W=1/Y;
for(var q=0;q<Y+1;q++){var H=q*W,C=p+H*l,k=d+H*h,i=K+H*s,m=A+H*J,w=x+H*u,S=M+H*Q,o=C+H*(i-C),O=k+H*(m-k),t=i+H*(w-i),c=m+H*(S-m),g=o+H*(t-o),j=O+H*(c-O);
if(g<a)a=g;if(j<e)e=j;if(g>f)f=g;if(j>N)N=j}P[0]=Math.min(P[0],a);P[1]=Math.min(P[1],e);P[2]=Math.max(P[2],f);
P[3]=Math.max(P[3],N)};Z.e.kX=function(p,d){var K=p.length-3,A=d%K,x=Math.floor(A);if(d<0||x>=K)return null;
var M=p[3+x],G=p[3+(x+1)%K],D=M.I,P=M.UL,a=G.Gp,e=G.I,f=A-x,N=1-f,Y=N*N*N*D.x+3*N*N*f*P.x+3*N*f*f*a.x+f*f*f*e.x,l=N*N*N*D.y+3*N*N*f*P.y+3*N*f*f*a.y+f*f*f*e.y;
return new QP(Y,l)};Z.e.kT=function(p){var d=2,K=Z.e.vB(p),A=!1,x=!1;for(var M=2;M<p.length;M++){var G=p[M].Ez;
if(G!=null){if(G==2||G==0)A=!0;if(G==-1)x=!0}}if(x){var D=Z._.ZT(p);return{D$:Typr.U.pathToSVG({crds:D.B,cmds:D.$},d),Cz:A?1:0}}if(A&&p.length<5e3&&K>1)p=Z.e.Kv(p);
var D=Z._.ZT(p);return{D$:Typr.U.pathToSVG({crds:D.B,cmds:D.$},d),Cz:A?1:0}};Z.e.Kv=function(p){Z.e.Pe();
var d,K=Z.e.KV(p),A=[];for(var x=0;x<K.length;x++){var M=K[x][0],G=K[x][1];if(Math.abs(M.area)<1e-5)A.push(M);
else if(d==null)d=M;else{d=d[G](M);d.remove()}}if(d==null)d=new paper.CompoundPath(A);else{if(d.segments)d=new paper.CompoundPath(d);
for(var x=0;x<A.length;x++){d.children.push(A[x])}}var D=p.slice(0,2);D=D.concat(Z.e.Ph(d));if(D[2])D[2].Ez=1;
for(var x=3;x<D.length;x++)if(D[x].Ez!=null)D[x].Ez=-1;return D};Z.e.Pe=function(){if(Z.e.e_Z==null){var p=n.b("canvas");
paper.setup(p);Z.e.e_Z=!0}};Z.e.eqm=function(p,d){Z.e.Pe();var K=[],A=Z.e.KV(p),x=new paper.Path.Rectangle(new paper.Rectangle(d.x,d.y,d.t,d.D));
x.remove();x.fillColor=new paper.Color(1,0,0);for(var M=0;M<A.length;M++)if(x.intersects(A[M][0])||x.contains(A[M][0].segments[0].point))K.push(M);
return K};Z.e.uD=function(p,d,K,A){Z.e.Pe();var x=K?{curves:!0,tolerance:A}:null,M=new paper.Point(d.x,d.y),G=Z.e.KV(p);
for(var D=G.length-1;D>=0;D--){var P=G[D][0],a=P.hitTest(M,x);if(a!=null)return{_W:D,wz:K?a.location.index:null}}return{_W:-1}};
Z.e.sJ=function(p,d){var K=[[],[],[]];for(var A=0;A<p.length;A++){var x=p[A];if(x.type>5||x.type==0||x.type==3)continue;
if(d.Bf(x.I))K[0].push(A);if(d.Bf(x.Gp))K[1].push(A);if(d.Bf(x.UL))K[2].push(A)}return K};Z.e.eqE=function(p,d,K){var A=K.slice(0),x=[null,null],M=-1,P=null;
for(var G=2;G<p.length;G++){if((p[G].type==0||p[G].type==3)&&p[G].Ez!=-1)M++;x[G]=K[M]}K=x;var D=p.slice(0,2);
x=K.slice(0,2);for(var G=2;G<p.length;G++){if(p[G].type==0||p[G].type==3){P=p[G];D.push(P);x.push(K[G])}else{if(d.indexOf(G)==-1){D.push(p[G]);
x.push(K[G])}else{P.length--;Z.B$.hk(K,G)}}}for(var G=2;G<D.length;G++){var a=D[G];if(a.type!=0&&a.type!=3)continue;
if(a.length==0){if(D[G+1]&&D[G+1].Ez==-1){D[G+1].Ez=a.Ez}x.splice(G,1);D.splice(G,1);G--}}for(var G=0;
G<A.length;G++)if(x.indexOf(A[G])==-1){A.splice(G,1);G--}return D};Z.e.eq$=function(p,d){var K=p.slice(0,2),A=-1;
for(var x=2;x<p.length;x++){if((p[x].type==0||p[x].type==3)&&p[x].Ez!=-1)A++;if(d.indexOf(A)==-1)K.push(p[x])}return K};
Z.e.eqF=function(p,d){var K=p.slice(0,2),A=-1;for(var x=2;x<p.length;x++){if((p[x].type==0||p[x].type==3)&&p[x].Ez!=-1)A++;
if(d.indexOf(A)!=-1)K.push(p[x])}return K};Z.e.eVe=function(p){var d=0;for(var K=0;K<p.length;K++)if(p[K].type==0||p[K].type==3)d=K;
return p[d]};Z.e.vB=function(p){var d=-1;for(var K=0;K<p.length;K++)if((p[K].type==0||p[K].type==3)&&p[K].Ez!=-1)d++;
return d+1};Z.e._e=function(p,d){var K=-1;for(var A=0;A<p.length;A++)if((p[A].type==0||p[A].type==3)&&p[A].Ez!=-1){K++;
if(K==d)return A}return-1};Z.e.PR=function(p,d){var K=-1;for(var A=0;A<p.length;A++)if((p[A].type==0||p[A].type==3)&&p[A].Ez!=-1){if(A>=d)return K;
K++}return K};Z.e.Kw=function(p,d){var K=-1,A=0;for(var x=0;x<p.length;x++){if((p[x].type==0||p[x].type==3)&&p[x].Ez!=-1)K++;
if(K==d)A++}return A};Z.e.Ph=function(p){var d=p.segments?[p]:p.children,K=[];for(var A=0;A<d.length;
A++){var x=d[A],M=x.segments,G=x.closed?0:3,D=K.length,P=null;if(M.length<=1)continue;K.push({type:G,length:M.length,Ez:0,LC:2});
for(var a=0;a<M.length;a++){var e=M[a],f=new QP(e.handleIn.x,e.handleIn.y),N=new QP(e.handleOut.x,e.handleOut.y),Y=new QP(e.point.x,e.point.y),l={type:G+1,Gp:Y.add(f),I:Y,UL:Y.add(N)};
if(P==null)P=l;K.push(l);if(a+1==M.length&&QP.gG(P.I,l.I)<1e-5){K.pop();K[D].length--;P.Gp=l.Gp;if(G==3)for(var h=D;
h<K.length;h++)K[h].type-=3}}}return K};Z.e.KV=function(p){Z.e.Pe();var d=[],K,A=new paper.Color(1,0,0);
for(var x=0;x<p.length;x++){if(p[x].type>5)continue;var M=p[x].length,G;if(x==p.length-1)break;var D=p[x].type==3;
if(x==2){if(!Z.e.PG(p))G="subtract";else G="unite"}else{if(p[x].Ez==0)G="exclude";if(p[x].Ez==1)G="unite";
if(p[x].Ez==2)G="subtract";if(p[x].Ez==3)G="intersect"}if(p[x].Ez!=-1)K=[];for(var P=0;P<M;P++){var a=p[x+1+P],e=a.Gp.TS(a.I),f=a.UL.TS(a.I);
K.push([[a.I.x,a.I.y],[e.x,e.y],[f.x,f.y]])}if(p[x+1+M]==null||p[x+1+M].Ez!=-1){var N=new paper.Path(K);
N.remove();N.closed=!D;N.fillRule="evenodd";N.fillColor=A;d.push([N,G])}x+=M}return d};Z.e.KR=function(p){for(var d=0;
d<p.length;d++){var K=p[d];if(K.I==null)continue;if(!K.I.GR(K.Gp)||!K.I.GR(K.UL))return!1}return!0};
Z.e.eVP=function(p){if(p.length<=5)return 0;var d=0,K=p.length-3-1;for(var A=0;A<K;A++){var x=p[3+A],M=p[3+A+1];
if(x.type==0||M.type==0)return 0;d+=(M.I.x-x.I.x)*(x.I.y+M.I.y)}d+=(p[3].I.x-p[3+K].I.x)*(p[3+K].I.y+p[3+1].I.y);
return-d*.5};Z.e.PG=function(p){if(p.length==2)return p[1].all==0;var d=p[2];if(p[1].all==1){if(d.Ez==1||d.Ez==3)return!0;
return!1}else{if(d.Ez==1||d.Ez==3||d.Ez==0)return!0;return!1}};Z.e.eq_=0;Z.e.Pl=0;Z.e.eVG=0;Z.e.eqh=function(p,d,K,A){if(K.kQ())return;
var x=K.r(),a=16384;Z.e.eq_+=x;if(x>Z.e.Pl){Z.e.Pl=x}var M=K.t,G=K.D,D=Z.Iy,P=Z.W,e=Math.ceil(M/a),f=Math.ceil(G/a),N=Math.ceil(M/e),Y=Math.ceil(G/f),l=Date.now();
for(var h=0;h<f;h++)for(var s=0;s<e;s++){var J=s*N,u=h*Y,Q=N,W=Y;D.width=Q;D.height=W;if(!Z.e.PG(p))P.fillRect(0,0,Q,W);
Z.e.Kz(p,P,-K.x-J,-K.y-u,A);var q=new Uint8Array(P.getImageData(0,0,Q,W).data.buffer);if(Q==M&&W==G)Z.$m(q,d,3);
else Z.Bh(q,new R(J,u,Q,W),d,new R(0,0,M,G))}};Z.e.Kz=function(p,d,K,A,x){if(x!=null&&x.fillEnabled.v){var M=!1,G=!1,D=0;
for(var P=0;P<p.length;P++){var a=p[P].Ez;if(a!=null)D++;if(a==-1)M=!0;if(a>0)G=!0}if(!M&&D<20)p=Z.e.Kv(p)}for(var P=0;
P<p.length;P++){if(p[P].type>5)continue;var e=p[P].length;if(e==0)continue;if(P==p.length-1)break;var f=p[P].type==3;
if(P==2){if(!Z.e.PG(p))d.globalCompositeOperation="destination-out";else d.globalCompositeOperation="source-over"}else{var N;
if(p[P].Ez==0)N="xor";if(p[P].Ez==1)N="source-over";if(p[P].Ez==2)N="destination-out";if(p[P].Ez==3)N="source-in";
if(p[P].Ez!=-1&&x==null)d.globalCompositeOperation=N}if(p[P].Ez!=-1){d.beginPath();if(x){var Y=x.strokeStyleLineWidth.v.val,l=x.strokeStyleLineAlignment.v.strokeStyleLineAlignment,h=x.strokeStyleLineCapType.v.strokeStyleLineCapType,s=x.strokeStyleLineJoinType.v.strokeStyleLineJoinType,J=x.strokeStyleMiterLimit.v,u=[],Q=x.strokeStyleLineDashSet.v;
for(var W=0;W<Q.length;W++)u.push(Q[W].v.val*Y);d.setLineDash(u);d.lineCap=["butt","round","square"][QG.Wh.zR.indexOf(h)];
d.lineJoin=["miter","round","bevel"][QG.Wh.join.indexOf(s)];d.lineWidth=QG.Wh.zW.indexOf(l)==1?Y:Y*=2;
d.miterLimit=J}}Z.e.eqN(d,p,P+1,e,K,A,f);if(f){}else d.closePath();if(p[P+1+e]==null||p[P+1+e].Ez!=-1){if(x)d.stroke();
else d.fill("evenodd")}P+=e}};Z.e.eqN=function(p,d,K,A,x,M,G){var D=d[K],P=null;p.moveTo(D.I.x+x,D.I.y+M);
for(var a=K;a<K+A-1;a++){D=d[a];P=d[a+1];p.bezierCurveTo(D.UL.x+x,D.UL.y+M,P.Gp.x+x,P.Gp.y+M,P.I.x+x,P.I.y+M)}if(!G){D=d[a];
P=d[K];p.bezierCurveTo(D.UL.x+x,D.UL.y+M,P.Gp.x+x,P.Gp.y+M,P.I.x+x,P.I.y+M)}};Z.e.oP=function(p,d,K){var A=[],x=K?4:1,M=!1;
if(d!=null)for(var G=0;G<d.length;G++)if(d[G]!=0){M=!0;break}if(d!=null&&M){var D=Z._.e$l(p,d),P=D.length/6;
for(var G=0;G<P;G++){var a=G*6,e=(G-1+P)%P*6,f=D[a],N=D[a+1],Y=D[a+2],l=D[a+3],h=D[e+4],s=D[e+5];A.push({type:x,Gp:new QP(h,s),I:new QP(f,N),UL:new QP(Y,l)})}}else{for(var G=0;
G<p.length;G+=2){var J=new QP(p[G],p[G+1]);A.push({type:x,Gp:J.clone(),I:J.clone(),UL:J.clone()})}}return A};
Z.e.Ki=function(p,d){Z.e.Pe();var K=new paper.Path;K.remove();var A=p.length-1,x=Math.sqrt((p[A-1]-p[0])*(p[A-1]-p[0])+(p[A]-p[1])*(p[A]-p[1]))<3;
K.closed=x;for(var M=0;M<p.length;M+=2)K.add(new paper.Point(p[M],p[M+1]));K.simplify(d);var G=[{type:6},{type:8,all:0}];
G=G.concat(Z.e.Ph(K));return G};Z.e.eqr=function(p,d,K){var A=p[d].length,x=p[d].type,M=0,G=p.slice(d+1,d+1+A);
for(var D=0;D<A;D++){var P=K[D];if(P!=0){var a=G[(D-1+A)%A].I,e=G[(D+0+A)%A].I,f=G[(D+1+A)%A].I;P=Math.min(P,QP.gG(a,e)/2,QP.gG(e,f)/2);
var N=Z._.kF(a.x,a.y,e.x,e.y,f.x,f.y,0,P),Y={type:x+1,Gp:new QP(N[2],N[3]),I:new QP(N[2],N[3]),UL:new QP(N[4],N[5])},l={type:x+1,Gp:new QP(N[6],N[7]),I:new QP(N[8],N[9]),UL:new QP(N[8],N[9])};
p.splice(d+M+1,1,Y,l);M++;p[d].length++}M++}};Z.e.KR=function(p){for(var d=0;d<p.length;d++){var K=p[d],A=K.type;
if(A==1||A==2||A==4||A==5)if(!K.I.GR(K.Gp)||!K.I.GR(K.UL))return!1}return!0};Z.e.ehS=function(p){if(p.length!=7||!Z.e.KR(p))return!1;
for(var d=0;d<4;d++){var K=!0;for(var A=0;A<4;A++){var x=p[3+(d+A&3)],M=p[3+(d+A+1&3)];if(x.I.x!=M.I.x&&x.I.y!=M.I.y)K=!1}if(K)return!0}return!1};
Z.e.Ek={};Z.e.Ek.gj=function(p,d,K){var A=[{type:6},{type:8,all:0}],x=null;A.push({type:K?3:0,Ez:1,length:0,if:0,qP:0,LC:1});
if(d==0)x==null;else if(d instanceof Array)x=d;else{x=[];for(var M=0;M<p.length;M+=2)x.push(d)}A=A.concat(Z.e.oP(p,x,K));
A[2].length=A.length-3;return A};Z.e.Ek.ehe=function(p,d,K,A,x){var M=[],G=[],D=.553,P=1,a=-1;M.push({type:1,Gp:new QP(0,D),I:new QP(0,0),UL:new QP(0,-D)});
x+=2;for(var e=0;e<x;e++){var f={type:1};if(e==0){f.I=new QP(1,-1);f.Gp=new QP(1-D,-1);f.UL=new QP(1+D,-1)}else{var N=-(e+2)*Math.PI/2,Y=1+((e&1)==1?e-1:e),l=Math.sin(N),h=Math.cos(N);
P+=Y*(l-h);a+=Y*(h+l);f.I=new QP(P,a);f.Gp=new QP(P+Y*h*D,a-Y*l*D);if((e&1)==1)Y+=2;f.UL=new QP(P-Y*h*D,a+Y*l*D)}var s={type:1,Gp:new QP(-f.UL.x,-f.UL.y),I:new QP(-f.I.x,-f.I.y),UL:new QP(-f.Gp.x,-f.Gp.y)};
M.push(f);if(e<x-2)G.push(s)}G.reverse();M=M.concat(G);var J=[{type:6},{type:8,all:0}];J.push({type:0,Ez:1,length:M.length,if:0,qP:0,LC:1});
J=J.concat(M);var u=new QI(K/x,0,0,K/x,0,0);u.rotate(A);u.translate(p,d);Z.e.RF(J,u);return J};Z.e.Ek.Rect=function(p,d,K,A,x){var M=[p,d,p+K,d,p+K,d+A,p,d+A];
return Z.e.Ek.gj(M,x)};Z.e.Ek.Ks=function(p,d,K,A,x,M){var G=[],D=2*Math.PI/x;for(var P=0;P<x;P++)G.push(Math.cos(P*D),Math.sin(P*D));
var a=new QI(K,0,0,K,0,0);a.rotate(A);a.translate(p,d);Z._.u(G,a,G);return Z.e.Ek.gj(G,M)};Z.e.Ek.ehP=function(p,d,K,A,x,M,G){var D=[],P=Math.PI/x;
for(var a=0;a<x*2;a++){var e=(a&1)==0?1:G;D.push(e*Math.cos(a*P),e*Math.sin(a*P))}var f=new QI(K,0,0,K,0,0);
f.rotate(A);f.translate(p,d);Z._.u(D,f,D);return Z.e.Ek.gj(D,M)};Z.e.Ek._G=function(p,d,K,A,x){return Z.e.Ek.Pf(0,p,d,K,A,x)};
Z.e.Ek.ehO=function(p,d,K,A,x,M){return Z.e.Ek.Pf(1,p,d,K,A,x,M)};Z.e.Ek.Pf=function(p,d,K,A,x,M,G){var D=Math.sqrt((A-d)*(A-d)+(x-K)*(x-K)),P;
M/=2;if(p==0)P=[-M,0,M,0,M,D,-M,D];else{var a=M*2*G*1.3/1.5,e=M*G;P=[-M,0,M,0,M,D-a,e,D-a,0,D,-e,D-a,-M,D-a]}var f=new QI(1,0,0,1,0,0);
f.rotate(Math.atan2(-x+K,A-d)+Math.PI/2);f.translate(d,K);Z._.u(P,f,P);return Z.e.Ek.gj(P,0)};Z.e.Ek.Ao=function(p,d,K,A){var x=[{type:6},{type:8,all:0}],f=.553;
x.push({type:0,Ez:1,length:4,if:0,qP:0,LC:1});var M=p,G=d,D=p+K,P=d+A,p=(M+D)/2,d=(G+P)/2,a=(M-D)/2,e=(G-P)/2;
x.push({type:1,Gp:new QP(p-f*a,d-e),I:new QP(p,d-e),UL:new QP(p+f*a,d-e)});x.push({type:1,Gp:new QP(p+a,d-f*e),I:new QP(p+a,d),UL:new QP(p+a,d+f*e)});
x.push({type:1,Gp:new QP(p+f*a,d+e),I:new QP(p,d+e),UL:new QP(p-f*a,d+e)});x.push({type:1,Gp:new QP(p-a,d+f*e),I:new QP(p-a,d),UL:new QP(p-a,d-f*e)});
return x};Z.e.Ek.ehl=function(p,d,K,A,x){var M=[{type:6},{type:8,all:0}];M.push({type:3,Ez:1,length:5,if:0,qP:0,LC:1});
var G=(x-A)/4;for(var D=0;D<5;D++){var P=D*G,a=Math.cos(P),e=Math.sin(P),f=.553*(G/(Math.PI/2)),N=e*f,Y=-a*f,l=new QP(a,e);
M.push({type:4,Gp:D==0?l.clone():new QP(a+N,e+Y),I:l,UL:D==4?l.clone():new QP(a-N,e-Y)})}var h=new QI;
h.rotate(-A);h.scale(K,K);h.translate(p,d);Z.e.RF(M,h);return M};Z.Fl={};Z.Fl.type={warpNone:[22,5,0],warpCustom:[22,5,16],warpArc:[22,5,1],warpArcLower:[22,5,2],warpArcUpper:[22,5,3],warpArch:[22,5,4],warpBulge:[22,5,5],warpShellLower:[22,5,6],warpShellUpper:[22,5,7],warpFlag:[22,5,8],warpWave:[22,5,9],warpFish:[22,5,10],warpRise:[22,5,11],warpFisheye:[22,5,12],warpInflate:[22,5,13],warpSqueeze:[22,5,14],warpTwist:[22,5,15]};
Z.Fl.Ab=function(p){var d=p.warpStyle.v.warpStyle;if(d=="warpNone")return!0;else if(d=="warpCustom"){var K=!1,A=p.customEnvelopeWarp.v.meshPoints.v.arr,x=A[0].arr,M=A[1].arr;
for(var G=0;G<4;G++)for(var D=0;D<4;D++){if(Math.abs(x[G]-x[D*4+G])>1||Math.abs(M[G*4]-M[G*4+D])>1)K=!0}return!K}else return p.warpValue.v==0&&p.warpPerspective.v==0&&p.warpPerspectiveOther.v==0};
Z.Fl.p=function(p){var d={classID:"warp",warpStyle:{t:"enum",v:{warpStyle:"warpNone"}},warpValue:{t:"doub",v:0},warpPerspective:{t:"doub",v:0},warpPerspectiveOther:{t:"doub",v:0},warpRotate:{t:"enum",v:{Ornt:"Hrzn"}}};
if(p){d.bounds={t:"Objc",v:{classID:"Rctn",Top:{t:"UntF",v:{type:"#Pxl",val:p.y}},Left:{t:"UntF",v:{type:"#Pxl",val:p.x}},Btom:{t:"UntF",v:{type:"#Pxl",val:p.y+p.D}},Rght:{t:"UntF",v:{type:"#Pxl",val:p.x+p.t}}}};
d.uOrder={t:"long",v:4};d.vOrder={t:"long",v:4}}return d};Z.Fl.esG=function(p,d,K,A){for(var x=0;x<p.length;
x+=2){var M=p[x],G=p[x+1],D=(M-d.x)/d.t,P=(G-d.y)/d.D,a=(1-K)/2,e=1-a,f=a+D*(e-a);P=.5+(P-.5)*f*2;var N=(1-A)/2,Y=1-N,l=N+P*(Y-N);
D=.5+(D-.5)*l*2;M=d.x+D*d.t;G=d.y+P*d.D;p[x]=M;p[x+1]=G}};Z.Fl.Gt=function(p,d){var K=[],A=[];for(var x=0;
x<p.length;x+=2){K.push(p[x]);A.push(p[x+1])}var M=[];M.push({id:"Hrzn",type:"UnFl",uID:"#Pxl",arr:K});
M.push({id:"Vrtc",type:"UnFl",uID:"#Pxl",arr:A});d.warpStyle.v.warpStyle="warpCustom";d.customEnvelopeWarp={t:"Objc",v:{classID:"customEnvelopeWarp",meshPoints:{t:"ObAr",v:{classID:"rationalPoint",arr:M}}}}};
Z.Fl.aJ=function(p,d){if(d==null){var K=p.bounds.v,A=K.Left.v.val,x=K.Rght.v.val,M=K.Top.v.val,G=K.Btom.v.val;
d=new R(A,M,x-A,G-M)}if(d.kQ())d.t=d.D=1;var D=[],P=p.warpStyle.v.warpStyle;if(P=="warpCustom"){var a=p.customEnvelopeWarp.v.meshPoints.v.arr,e=a[0].arr,f=a[1].arr;
for(var N=0;N<16;N++)D.push(e[N],f[N])}else D=Z.Fl.Fl(d,P,p.warpRotate.v.Ornt=="Hrzn",p.warpValue.v/100,p.warpPerspective.v/100,p.warpPerspectiveOther.v/100);
return D};Z.Fl.Fl=function(p,d,K,A,x,M){var G=Z.tO.p(p.x,p.y,p.t,p.D);if(d=="warpNone")return G;var D=JSON.parse(JSON.stringify(p)),P=new QI;
if(!K){P.translate(-p.x,-p.y);P.rotate(-Math.PI/2);P.translate(p.D,0);Z._.u(G,P,G);p=new R(0,0,p.D,p.t);
G=Z.tO.Tp(G,!1)}Z.Fl.esB(G,p,d,A,x,M);if(!K){G=Z.tO.Tp(G,!0);p=D;P.an();Z._.u(G,P,G)}if(A==0)Z.Fl.esG(G,p,x,M);
else{var P=new QI(1/p.t,0,0,1/p.D,-p.x,-p.y);P.translate(-.5,-.5);Z._.u(G,P,G);Z.Fl.esm(G,M,x);P.an();
Z._.u(G,P,G)}return G};Z.Fl.esB=function(p,d,K,A,x,M){for(var G=0;G<4;G++){for(var D=0;D<4;D++){var P=2*(4*G+D),a=p[P]-d.x,e=p[P+1]-d.y,f=a,N=e;
if(A!=0){var Y=d.t/2,l=d.D/2;f-=Y;N-=l;var h=f,s=f,J=-l,u=l,Q=Math.abs(A),W=Math.tan((1-Q)*Math.PI/2),q=Math.sqrt(W*W+1),H=Math.atan2(1,W),C=f/Y*H,k=Y*q,i=Y*q+d.D,m=Math.cos(H),w=Math.sin(H),S=Z.Fl.esv(m,w),o=Z.Fl.esE(m,w),O=-W*Y+S*k;
if(K=="warpArc"){h=Math.sin(C)*i;J=W*Y-Math.cos(H)*i+l;s=Math.sin(C)*k;u=W*Y-Math.cos(H)*k+l;if(D==1||D==2){h=D==1?-o*i:o*i;
s=D==1?-o*k:o*k;J=W*Y+l-S*i;u=W*Y+l-S*k}if(A<0){var t=h;h=s;s=t;t=J;J=-u;u=-t}}if(K=="warpArcLower"){if(D==1||D==2){s=D==1?-o*k:o*k;
u=A<0?l-O:l+O}}if(K=="warpArcUpper"||K=="warpArch"||K=="warpBulge"){if(D==1||D==2){h=D==1?-o*k:o*k;J=A<0?-l+O:-l-O}if(K=="warpArch"){s=h;
u=J+2*l}if(K=="warpBulge"){s=h;u=-J}}if(K=="warpFish"||K=="warpFlag"||K=="warpWave"){if(D==1){J-=A*4*l;
u+=A*4*l}if(D==2){J+=A*4*l;u-=A*4*l}if(K=="warpFlag"||K=="warpWave")J=u-2*l}if(K=="warpRise"){if(D<2)J=-l+A*l*4;
u=J+2*l}var c=(N+l)/d.D;f=h+c*(s-h);N=J+c*(u-J);if(K=="warpWave"){if(G==0)N=-l;if(G==3)N=l;if(G==1||G==2)N=2*l*(G/3-.5)*(1/3)+N*(2/3)}if(K=="warpFisheye"){if((G==1||G==2)&&(D==1||D==2)){f=f+4*f*A;
N=N+4*N*A}}if(K=="warpInflate"){var g=2/3;if((G==1||G==2)&&(D==1||D==2)){f=f+.5*f*A;N=N+.5*N*A}else if(G==1||G==2)f=f+g*f*A;
else if(D==1||D==2)N=N+g*N*A}if(K=="warpSqueeze"){var g=2/3;if((G==1||G==2)&&(D==1||D==2)){if(A>0)f=f-g*f*A;
else N=N+g*N*A}else if(G==1||G==2)f=f-g*f*A;else if(D==1||D==2)N=N+g*N*A}if(K=="warpTwist"){if((G==1||G==2)&&(D==1||D==2)){var j=A*Math.PI/2,q=1+Math.abs(A)*2,_=f*Math.cos(j)-N*Math.sin(j),U=f*Math.sin(j)+N*Math.cos(j);
f=_*q;N=U*q}}if(K=="warpShellLower"||K=="warpShellUpper"){if(K=="warpShellUpper"){G=3-G;N=-N}if(G>2||G==2&&(D==0||D==3)){if(A>0){var $=k+G/3*2*l;
f=Math.sin(C)*$;N=-W*Y-l+Math.cos(C)*$;if(D==1||D==2){f=D==1?-o*$:o*$;N=-W*Y-l+S*$}}else{if((D==1||D==2)&&G==3){f=D==1?-o*k:o*k;
N=W*Y-S*k+l}else if(G==2){N=l-l*(2/3)*Math.cos(C);f=f+l*(2/3)*Math.sin(C)}}}if(K=="warpShellUpper"){G=3-G;
N=-N}}f+=Y;N+=l}a=f,e=N;p[P]=a+d.x;p[P+1]=e+d.y}}};Z.Fl.esm=function(p,d,K){var A=[];for(var x=0;x<4;
x++)A.push(1-K+x/3*2*K);var M=[];for(var x=0;x<4;x++)M.push(1-d+x/3*2*d);var G=[0,0,0,0],D=[0,0,0,0];
for(var P=0;P<4;P++)for(var x=0;x<4;x++){var a=2*(4*P+x),e=p[a],f=p[a+1];G[x]+=e/4;D[x]+=f/4}for(var P=0;
P<4;P++)for(var x=0;x<4;x++){var N=A[x],a=2*(4*P+x),e=p[a],f=p[a+1],Y=G[x],l=D[x];p[a]=Y+N*(e-Y);p[a+1]=l+N*(f-l)}var h=p.slice(0);
for(var P=0;P<4;P++)for(var x=1;x<3;x++){var a=2*(4*P+x),e=p[a],f=p[a+1],s=a+(x==1?-2:2),J=p[s],u=p[s+1];
p[a]=e-J;p[a+1]=f-u}var Q=p[0],W=p[1],q=p[8],H=p[9],C=p[16],k=p[17],i=p[24],m=p[25],w=p[6],S=p[7],o=p[14],O=p[15],t=p[22],c=p[23],g=p[30],j=p[31],_=w-Q,U=S-W,$=o-q,I=O-H,E=t-C,b=c-k,z=g-i,QS=j-m;
for(var P=0;P<4;P++){var QQ=2*P*4,Qe=0,QB=0,QU=P==1?.33:.66,Qt=1-QU;if(P==0){Qe=_;QB=U}if(P==1){Qe=Qt*_+QU*-z;
QB=Qt*U+QU*-QS}if(P==2){Qe=Qt*_+QU*-z;QB=Qt*U+QU*-QS}if(P==3){Qe=-z;QB=-QS}p[QQ]=p[QQ]+Qe/2;p[QQ+1]=p[QQ+1]+QB/2;
p[QQ+6]=p[QQ+6]-Qe/2;p[QQ+7]=p[QQ+7]-QB/2}for(var P=0;P<4;P++)for(var x=1;x<3;x++){var a=2*(4*P+x),e=p[a],f=p[a+1],s=a+(x==1?-2:2),J=p[s],u=p[s+1],N=2*P/3;
p[a]=J+N*e;p[a+1]=u+N*f}for(var P=1;P<3;P++)for(var x=1;x<3;x++){var a=2*(4*P+x),e=p[a],f=p[a+1],F=P==1?-8:-16,L=P==1?16:8,Qu=p[a+F],QK=p[a+F+1],Qm=p[a+L],ei=p[a+L+1],N=P/3;
e=(1-N)*Qu+N*Qm;f=(1-N)*QK+N*ei;p[a]=e;p[a+1]=f}Z._.Us(h,p,p,d)};Z.Fl.esv=function(p,d){return(4-p)*(1/3)};
Z.Fl.esE=function(p,d){return(1-p)*(3-p)/(3*d)};Z.Fk={};Z.Fk.ex=function(p,d,K,A,x,M,G,D,P,a){var e=[0,1,1/2,1/3,1/4,1/5,1/6,1/7,1/8,1/9],f=1/P,N=[-1,-1,0,-1,1,-1,-1,0,1,0,-1,1,0,1,1,1],Y=new Uint32Array(6);
for(var l=0;l<D;l++){for(var h=0;h<G;h++){var s=3*(l*G+h),J=l+M,u=h+x;Y[0]=0;Y[1]=0;Y[2]=0;Y[3]=0;Y[4]=0;
Y[5]=0;for(var Q=0;Q<16;Q+=2){var W=u+N[Q],q=J+N[Q+1],H=W-P*~~(W*f),C=q-P*~~(q*f),k=a[C*P+H];Y[k]+=p[q*d+W];
Y[k+3]++}var W=u,q=J,H=W-P*~~(W*f),C=q-P*~~(q*f),k=a[C*P+H];Y[k]=p[J*d+u];Y[k+3]=1;A[s]=Y[0]*e[Y[3]];
A[s+1]=Y[1]*e[Y[4]];A[s+2]=Y[2]*e[Y[5]]}}};Z.Fk.GM=function(p,d,K){for(var A=0;A<K;A+=2)p[d+A]=p[d+A+1];
d=d+K;for(var A=0;A<K;A+=2)p[d+A+1]=p[d+A]};Z.Fk.GB=function(p,d,K,A){for(var x=0;x<A;x+=2){var M=d+x*K;
p[M]=p[M+K];p[M+K+1]=p[M+1]}};Z.Fk.GI=function(p,d,K,A,x,M){var G=A[x],D=A[x+1],P=A[M],a=A[M+1],e=D+P>>>1;
p[d]=p[d+3]=p[K]=p[K+3]=G;p[d+1]=e;p[d+4]=D;p[K+1]=P;p[K+4]=e;p[d+2]=p[d+5]=p[K+2]=p[K+5]=a};Z.Fk.esW=function(p,d,K,A,x,M){var G=M*3;
for(var D=0;D<M;D+=2){var P=d+D,a=x+D*3;Z.Fk.GI(A,a,a+G,p,P,P+K)}};Z.Fk.esY=function(p,d,K,A,x,M,G){var D=M*3;
for(var P=0;P<G;P+=2){var a=d+P*K,e=x+P*M*3;Z.Fk.GI(A,e,e+D,p,a,a+K)}};Z.Fk.Gq=function(p,d,K){var A=p[d-K-K],x=p[d-K],M=p[d-2],G=p[d-1],D=p[d],P=p[d+1],a=p[d+2],e=p[d+K],f=p[d+K+K],N=Math.abs(x-e),Y=Math.abs(G-P),l=Math.abs(D-A)*2+N,h=Math.abs(D-a)*2+Y,s=Math.abs(D-M)*2+Y,J=Math.abs(D-f)*2+N,u=Math.min(l,Math.min(h,Math.min(s,J)));
if(u==l)return x*3+e+D-A>>2;if(u==h)return P*3+G+D-a>>2;if(u==s)return G*3+P+D-M>>2;return e*3+x+D-f>>2};
Z.Fk._M=function(p,d,K,A,x){if(p<d&&d<K||p>d&&d>K)return~~(.5+A+(x-A)*(d-p)/(K-p));else return(A+x>>1)+(d+d-p-K>>2)};
Z.Fk.GW=function(p,d,K,A){var x=d[K-A-1],M=d[K-A+1],G=d[K],D=d[K+A-1],P=d[K+A+1],a=p[K-A-1],e=p[K-A+1],f=p[K],N=p[K+A-1],Y=p[K+A+1],l=Math.abs(e-N)+Math.abs(p[K-A-A+2]-f)+Math.abs(f-p[K+A+A-2])+Math.abs(M-G)+Math.abs(G-D),h=Math.abs(a-Y)+Math.abs(p[K-A-A-2]-f)+Math.abs(f-p[K+A+A+2])+Math.abs(x-G)+Math.abs(G-P);
if(l<h)return Z.Fk._M(M,G,D,e,N);else return Z.Fk._M(x,G,P,a,Y)};Z.Fk.oG=function(p,d,K,A,x,M){p[d+0]=K[x];
p[d+1]=A[x];p[d+2]=Z.Fk.GW(K,A,x,M)};Z.Fk.oO=function(p,d,K,A,x,M){var G=A[x];p[d+0]=Z.Fk._M(A[x-1],G,A[x+1],K[x-1],K[x+1]);
p[d+1]=G;p[d+2]=Z.Fk._M(A[x-M],G,A[x+M],K[x-M],K[x+M])};Z.Fk.oV=function(p,d,K,A,x,M){var G=A[x];p[d+0]=Z.Fk._M(A[x-M],G,A[x+M],K[x-M],K[x+M]);
p[d+1]=G;p[d+2]=Z.Fk._M(A[x-1],G,A[x+1],K[x-1],K[x+1])};Z.Fk.oF=function(p,d,K,A,x,M){p[d+0]=Z.Fk.GW(K,A,x,M);
p[d+1]=A[x];p[d+2]=K[x]};Z.Fk.esX=function(p,d,K,A,x,M,G,D,P){var a=Date.now(),e=2,f=d-2,N=2;if((x&1)==1){e++;
f--}var Y=K-2;if((M&1)==1){N++;Y--}if(P==1||P==3){e++;f--}var l=p.slice(0);Z.Fk.GM(l,0,d);Z.Fk.GB(l,0,d,K);
Z.Fk.GB(l,d-2,d,K);Z.Fk.GM(l,(K-2)*d,d);for(var h=N;h<Y;h+=2)for(var s=e;s<f;s+=2){var J=h*d+s,u=Z.Fk.Gq(l,J,d),Q=Z.Fk.Gq(l,J+d+1,d);
l[J]=Math.max(0,u);l[J+d+1]=Math.max(0,Q)}var W=G,q=D;if(M+D==K){q-=2;Z.Fk.esW(p,(K-2)*d+x,d,A,(D-2)*G*3,G)}if(x+G==d){W-=2;
Z.Fk.esY(p,M*d+x+G-2,d,A,(G-2)*3,G,D)}if(P==0)for(var h=0;h<q;h+=2)for(var s=0;s<W;s+=2){var H=(h+M)*d+s+x,C=(h*G+s)*3;
Z.Fk.oG(A,C,p,l,H,d);Z.Fk.oO(A,C+3,p,l,H+1,d);H+=d;C+=3*G;Z.Fk.oV(A,C,p,l,H,d);Z.Fk.oF(A,C+3,p,l,H+1,d)}else if(P==1)for(var h=0;
h<q;h+=2)for(var s=0;s<W;s+=2){var H=(h+M)*d+s+x,C=(h*G+s)*3;Z.Fk.oO(A,C,p,l,H,d);Z.Fk.oG(A,C+3,p,l,H+1,d);
H+=d;C+=3*G;Z.Fk.oF(A,C,p,l,H,d);Z.Fk.oV(A,C+3,p,l,H+1,d)}else if(P==2)for(var h=0;h<q;h+=2)for(var s=0;
s<W;s+=2){var H=(h+M)*d+s+x,C=(h*G+s)*3;Z.Fk.oF(A,C,p,l,H,d);Z.Fk.oV(A,C+3,p,l,H+1,d);H+=d;C+=3*G;Z.Fk.oO(A,C,p,l,H,d);
Z.Fk.oG(A,C+3,p,l,H+1,d)}else if(P==3)for(var h=0;h<q;h+=2)for(var s=0;s<W;s+=2){var H=(h+M)*d+s+x,C=(h*G+s)*3;
Z.Fk.oV(A,C,p,l,H,d);Z.Fk.oF(A,C+3,p,l,H+1,d);H+=d;C+=3*G;Z.Fk.oG(A,C,p,l,H,d);Z.Fk.oO(A,C+3,p,l,H+1,d)}};
Z.raw={};Z.raw.eot=function(p){var d=p.width,K=p.height,A=Date.now(),x=Z.raw.eod(p),M=0,G=0;Z.raw.KD(2,p,x,d,K);
var D=d,P=K;if(p.t50829){var a=p.t50829;M=a[1];G=a[0];D=a[3];P=a[2]}if(p.t50719){var e=p.t50719;M+=e[0]>>1<<1;
G+=e[1]>>1<<1}if(p.t50720){var f=p.t50720;D=M+f[0];P=G+f[1]}var N=D-M,Y=P-G,l=new Float32Array(N*Y*3);
if(p.t277[0]==1){var h=p.t33421;if(h.length!=2||h[0]!=2||h[1]!=2){console.log("Unknown CFA pattern size",h);
Z.Fk.ex(x,d,K,l,M,G,N,Y,h[0],p.t33422)}else{var s=p.t33422.join(","),J=0;if(s=="0,1,1,2")J=0;else if(s=="1,0,2,1")J=1;
else if(s=="2,1,1,0")J=2;else if(s=="1,2,0,1")J=3;else throw"Unknown CFA pattern "+s;if((N&1)!=0||(Y&1)!=0)throw"e";
Z.Fk.esX(x,d,K,l,M,G,N,Y,J)}}else{for(var u=0;u<Y;u++)for(var Q=0;Q<N;Q++){var W=((u+G)*d+Q+M)*3,q=(u*N+Q)*3;
l[q+0]=x[W+0];l[q+1]=x[W+1];l[q+2]=x[W+2]}}var H=l,C=l.length,k=Z.raw.eoA(p),i=1/k;for(var m=0;m<C;m+=3){l[m]=Math.min(1,H[m]*i);
l[m+1]=Math.min(1,H[m+1]*i);l[m+2]=Math.min(1,H[m+2]*i)}Z.raw.KD(3,p,l,N,Y);var w=p.Hi,S=N,o=Y;if(w==1||w==9){}else{var O=Z.raw.GC(w,N,Y),q=0;
S=O[0];o=O[1];var t=l.slice(0);for(var u=0;u<o;u++)for(var Q=0;Q<S;Q++){var c=O[2]*Q+O[3]*u+O[4],g=O[5]*Q+O[6]*u+O[7],W=(g*N+c)*3;
l[q]=t[W];l[q+1]=t[W+1];l[q+2]=t[W+2];q+=3}}return{nM:l,pU:S,pK:o}};Z.raw.GC=function(p,d,K){var A=d,x=K;
if(p==3)return[d,K,-1,0,d-1,0,-1,K-1];else if(p==6)return[K,d,0,1,0,-1,0,K-1];else if(p==8)return[K,d,0,-1,d-1,1,0,0];
else throw"unknown orientation "+p};Z.raw.Kx=function(p,d,K,A){var x=p.nM,M=Math.round(x.length/3),G=pt.eSd(A[0],A[1]),D=Z.raw.eWn(K,G),P=Z.EI.multiply(Z.EI.UP,D),a=Math.pow(2,A[2]+(K.t50730?K.t50730[0]:0));
P=Z.EI.multiply(P,Z.EI.eE(a,a,a));var e=K.t50728,f=[e[1]/e[0],e[2]/e[0],e[0]/e[1],e[2]/e[1],e[0]/e[2],e[1]/e[2]],N=new Float64Array(1e3);
for(var Y=0;Y<1e3;Y++){var l=Y*(1/999);l=Y==999?1:Z.BL(Y*(1/999));l=Z.raw.wN.eoh(l,A[3]/100);N[Y]=l}var h=Date.now();
for(var Y=0;Y<M;Y++){var s=Y<<2,J=s-Y,u=x[J],Q=x[J+1],W=x[J+2];if(Q>=.92){var q=Math.min(u,W);if(q==u){Q=Math.max(Q,f[0]*u);
W=Math.max(W,f[1]*u)}else{u=Math.max(u,f[4]*W);Q=Math.max(Q,f[5]*W)}}var H=P[0]*u+P[1]*Q+P[2]*W,C=P[4]*u+P[5]*Q+P[6]*W,k=P[8]*u+P[9]*Q+P[10]*W;
if(H<0)H=0;else if(H>1)H=1;if(C<0)C=0;else if(C>1)C=1;if(k<0)k=0;else if(k>1)k=1;H=N[~~(H*999)];C=N[~~(C*999)];
k=N[~~(k*999)];d[s]=~~(.5+H*255);d[s+1]=~~(.5+C*255);d[s+2]=~~(.5+k*255)}};Z.raw.wN={eoh:function(p,d){var K=.5-.5*Math.cos(p*3.2),A=0;
if(d>0){var x=p*.2;A=x*p+(1-x)*K}else{var M=Math.pow(p,.33);A=(1-M)*M+M*(p+(p-K)*.63)}var G=Math.abs(d);
return G*A+(1-G)*p},eVu:function(p,d){var K=0;if(d>0){var A=p*1.47,x=Math.pow(p,2.4);K=Math.min(1,x*p+(1-x)*A)}else{var A=p*.68,x=Math.pow(p,3);
K=x*p*.5+(1-x)*A}var M=Math.abs(d);return M*K+(1-M)*p},eVF:function(p,d){var K=0;if(d>0){var A=Math.pow(p,.3),x=p;
K=(1-p)*A+p*x}else{var A=Math.pow(p,2.5),M=p,x=p;K=Math.min(1,(1-M)*A+M*x)}var G=Math.abs(d);return G*K+(1-G)*p}};
Z.raw.eod=function(p){var d=p.width,K=p.height,A=d*K*p.t277,x=new Uint16Array(A),M=null,G=0;Z.raw.eoj(p,x);
Z.raw.KD(1,p,x,d,K);if(p.t50712){M=p.t50712;G=M.length-1;if(M[G]>65535)throw"too big values"}var D=Z.raw.GN(p),P=Z.raw.Gb(p);
if(M==null)for(var a=0;a<A;a++)x[a]=Math.max(0,x[a]-D);else for(var a=0;a<A;a++){var e=x[a];if(e>G)e=G;
e=M[e];x[a]=Math.max(0,e-D)}return x};Z.raw.GN=function(p){var d=p.t50714,K=d?d[0]:0,A=p.t50715,x=p.t50716;
if(A)K+=A[0];if(x)K+=x[0];return Math.round(K)};Z.raw.Gb=function(p){var d=null,K=0;if(p.t50712){d=p.t50712;
K=d.length-1}var A=p.t50717[0];if(d)A=Math.min(A,d[K]);return A};Z.raw.eoA=function(p){var d=Z.raw.GN(p),K=Z.raw.Gb(p);
return K-d};Z.raw.eoj=function(p,d){var K=d.length,A=p.data,x=p.t258[0];if(x!=16&&x!=14&&x!=12&&x!=10&&x!=8)throw"Unsupported Bits Per Sample:"+x;
x=Math.round(A.length*8/K);if(x==16&&p.isLE){Z.tM(A,d);return}for(var M=0;M<K;M+=2){var G=0,D=0,P=0;
if(x==16){G=M<<1;D=A[G]<<8|A[G+1];P=A[G+2]<<8|A[G+3]}else if(x==14){var a=M*14,e=a>>>3,f=A[e]<<24|A[e+1]<<16|A[e+2]<<8|A[e+3];
if((a&7)==0){D=f>>>18;P=f>>>4&16383}else{D=f>>>14&16383;P=f&16383}}else if(x==12){G=M+(M>>>1);D=A[G]<<4|A[G+1]>>4;
P=(A[G+1]&15)<<8|A[G+2]}else if(x==10){var a=M*10,e=a>>>3;if((a&7)==0){D=(A[e]<<2|A[e+1]>>6)&1023;P=(A[e+1]<<4|A[e+2]>>4)&1023}else{D=(A[e]<<6|A[e+1]>>2)&1023;
P=(A[e+1]<<8|A[e+2]>>0)&1023}}else if(x==8){G=M;D=A[G];P=A[G+1]}d[M]=D;d[M+1]=P}};Z.raw.KD=function(p,d,K,A,x){var M=d["t"+[51008,51009,51022][p-1]],e=0;
if(M==null)return;var G=A*x,D=v.X,P=v.Ut,a=new Uint8Array(M),f=v.X(a,e);e+=4;for(var N=0;N<f;N++){var Y=D(a,e);
e+=4;var l=D(a,e);e+=4;var h=D(a,e);e+=4;var s=D(a,e);e+=4;if(!1){}else if(Y==1&&p==3){var J=e,u=D(a,J);
J+=4;var Q=P(a,J);J+=8;var W=P(a,J);J+=8;var q=P(a,J);J+=8;var H=P(a,J);J+=8;var C=P(a,J);J+=8;var k=P(a,J);
J+=8;J+=(u-1)*8*6;var i=P(a,J);J+=8;var m=P(a,J);J+=8;var w=i*A,S=m*x,o=Math.max(w,A-w),O=Math.max(S,x-S),t=Math.sqrt(o*o+O*O),c=1/t,g=K.slice(0);
for(var j=0;j<x;j++)for(var _=0;_<A;_++){var U=(_+.5-w)*c,$=(j+.5-S)*c,I=U*U+$*$,E=Q+W*I+q*(I*I)+H*(I*I)*I,b=C*(2*U*$)+k*(I+2*U*U),z=k*(2*U*$)+C*(I+2*$*$),QS=~~(w+t*(E*U+b)),QQ=~~(S+t*(E*$+z)),Qe=(QQ*A+QS)*3,QB=(j*A+_)*3;
K[QB]=g[Qe];K[QB+1]=g[Qe+1];K[QB+2]=g[Qe+2]}}else if(Y==3&&p==3){var J=e,QU=P(a,J);J+=8;var Qt=P(a,J);
J+=8;var F=P(a,J);J+=8;var L=P(a,J);J+=8;var Qu=P(a,J);J+=8;var i=P(a,J);J+=8;var m=P(a,J);J+=8;var w=i*A,S=m*x,o=Math.max(w,A-w),O=Math.max(S,x-S),t=Math.sqrt(o*o+O*O),c=1/t;
for(var j=0;j<x;j++)for(var _=0;_<A;_++){var U=(_+.5-w)*c,$=(j+.5-S)*c,I=U*U+$*$,QK=1+(QU+(Qt+(F+(L+Qu*I)*I)*I)*I)*I,QB=(j*A+_)*3;
K[QB]=QK*K[QB];K[QB+1]=QK*K[QB+1];K[QB+2]=QK*K[QB+2]}}else if(Y==4&&p==1){var J=e,Qm=D(a,J);J+=4;var ei=D(a,J);
J+=4;for(var Qp=0;Qp<G;Qp++)if(K[Qp]==Qm)K[Qp]=K[Qp-2]+K[Qp+2]>>1}else if(Y==5&&p==1){var J=e,QO=D(a,J);
J+=4;var QE=D(a,J);J+=4;var Qi=D(a,J);J+=4;for(var Qp=0;Qp<QE;Qp++){var QV=D(a,J);J+=4;var Q$=D(a,J);
J+=4;var Qp=QV*A+Q$;K[Qp]=K[Qp-2]+K[Qp+2]>>1}}else if(Y==7&&p==1){var J=e,eS=v.rq(a,J);J+=16;var Qs=D(a,J);
J+=4;var Qw=D(a,J);J+=4;var Q_=D(a,J),QN=D(a,J+4);J+=8;var eK=D(a,J);J+=4;var Qz=new Uint16Array(eK);
for(var Qp=0;Qp<eK;Qp++)Qz[Qp]=v.OW(a,J+2*Qp);var eQ=eS.t,Qd=eS.D;for(var j=0;j<Qd;j+=Q_)for(var _=0;
_<eQ;_+=QN){var Qp=(eS.y+j)*A+(eS.x+_);K[Qp]=Qz[K[Qp]]}}else if(Y==9&&p==2){var J=e,eS=v.rq(a,J),eG=!0;
J+=16;var Qs=D(a,J);J+=4;var Qw=D(a,J);J+=4;var Q_=D(a,J),QN=D(a,J+4);J+=8;var Qj=D(a,J),QD=D(a,J+4);
J+=8;var Qq=P(a,J),et=P(a,J+8);J+=16;var QC=P(a,J),Qf=P(a,J+8);J+=16;var QA=D(a,J);J+=4;if(QA!=1)throw"more than one map plane";
var Qb=Qj*QD,MS=new Float32Array(Qb);for(var QR=0;QR<Qb;QR++)MS[QR]=v.lX(a,J+QR*4);for(var QR=0;QR<Qb;
QR++)if(MS[QR]!=1)eG=!1;if(!eG){var eQ=eS.t,Qd=eS.D,MG=.9999*(QD-1)/eQ,MM=.9999*(Qj-1)/Qd;for(var j=0;
j<Qd;j+=Q_)for(var _=0;_<eQ;_+=QN){var Qp=(eS.y+j)*A+(eS.x+_),MP=_*MG,Mu=j*MM,Mm=Math.floor(MP),Mw=Math.floor(Mu),MU=MP-Mm,Pp=Mu-Mw,QB=Mw*QD+Mm,Ma=MS[QB]*(1-MU)+MS[QB+1]*MU,MQ=MS[QB+QD]*(1-MU)+MS[QB+1+QD]*MU,P$=Ma*(1-Pp)+MQ*Pp;
K[Qp]=~~(K[Qp]*P$+.5)}}}else console.log("Unknown opcode "+Y+" in OpcodeList"+p+". Length: "+s);e+=s}};
Z.raw.eWn=function(p,d){var K=pt.QX(d),A=Z.raw.Gj(p,d),x=Z.EI.an(A),M=pt.eek(K,pt.QX(pt.eSL)),G=Z.EI.multiply(M,x);
return G};Z.raw.eWw=function(p){var d=p.t50728.slice(0),A=1;d.push(0);var K={x:.34567,y:.3585};do{var x=Z.EI.an(Z.raw.Gj(p,K)),M=Z.EI.hb(x,d),G=pt.eeq(M);
A=Math.abs(K.x-G.x)+Math.abs(K.y-G.y);K=G}while(A>1e-7);return K};Z.raw.Gj=function(p,d){var K=pt.ta(d),A=Z.raw.eSS,x=p.t50779?p.t50779[0]:0,M=A(p.t50721,p.t50722,p.t50778[0],x,K.Di),G=A(p.t50723,p.t50724,p.t50778[0],x,K.Di);
G=G||[1,0,0,0,1,0,0,0,1];var D=p.t50727?[p.t50727[0],0,0,0,p.t50727[1],0,0,0,p.t50727[2]]:[1,0,0,0,1,0,0,0,1];
return Z.EI.multiply(Z.EI.JX(D),Z.EI.multiply(Z.EI.JX(G),Z.EI.JX(M)))};Z.raw.eSS=function(p,d,K,A,x){if(!p&&!d){return null}else if(p&&!d){return p}else if(x<K){return p}else if(x>A){return d}else{var M=(1/x-1/A)/(1/K-1/A),G=1-M,D=[];
for(var P=0;P<9;P++)D[P]=p[P]*M+d[P]*G;return D}};var pt={};pt.eSL={x:.34567,y:.3585};pt.GT=[{N:0,jb:.18006,jV:.26352,pz:-.24341},{N:10,jb:.18066,jV:.26589,pz:-.25479},{N:20,jb:.18133,jV:.26846,pz:-.26876},{N:30,jb:.18208,jV:.27119,pz:-.28539},{N:40,jb:.18293,jV:.27407,pz:-.3047},{N:50,jb:.18388,jV:.27709,pz:-.32675},{N:60,jb:.18494,jV:.28021,pz:-.35156},{N:70,jb:.18611,jV:.28342,pz:-.37915},{N:80,jb:.1874,jV:.28668,pz:-.40955},{N:90,jb:.1888,jV:.28997,pz:-.44278},{N:100,jb:.19032,jV:.29326,pz:-.47888},{N:125,jb:.19462,jV:.30141,pz:-.58204},{N:150,jb:.19962,jV:.30921,pz:-.70471},{N:175,jb:.20525,jV:.31647,pz:-.84901},{N:200,jb:.21142,jV:.32312,pz:-1.0182},{N:225,jb:.21807,jV:.32909,pz:-1.2168},{N:250,jb:.22511,jV:.33439,pz:-1.4512},{N:275,jb:.23247,jV:.33904,pz:-1.7298},{N:300,jb:.2401,jV:.34308,pz:-2.0637},{N:325,jb:.24792,jV:.34655,pz:-2.4681},{N:350,jb:.25591,jV:.34951,pz:-2.9641},{N:375,jb:.264,jV:.352,pz:-3.5814},{N:400,jb:.27218,jV:.35407,pz:-4.3633},{N:425,jb:.28039,jV:.35577,pz:-5.3762},{N:450,jb:.28863,jV:.35714,pz:-6.7262},{N:475,jb:.29685,jV:.35823,pz:-8.5955},{N:500,jb:.30505,jV:.35907,pz:-11.324},{N:525,jb:.3132,jV:.35968,pz:-15.628},{N:550,jb:.32129,jV:.36011,pz:-23.325},{N:575,jb:.32931,jV:.36038,pz:-40.77},{N:600,jb:.33724,jV:.36051,pz:-116.45}];
pt.ta=function(p){var d=pt.GT,K=2*p.x/(1.5-p.x+6*p.y),A=3*p.y/(1.5-p.x+6*p.y),x=0,M=0,G=0;for(;G<31;
G++){x=A-d[G].jV-d[G].pz*(K-d[G].jb);if(G>0&&x<0){break}M=x}while(G>=d.length)G--;x/=Math.sqrt(1+d[G].pz*d[G].pz);
M/=Math.sqrt(1+d[G-1].pz*d[G-1].pz);var D=M/(M-x),P=1e6/((d[G].N-d[G-1].N)*D+d[G-1].N),a=K-((d[G].jb-d[G-1].jb)*D+d[G-1].jb),e=A-((d[G].jV-d[G-1].jV)*D+d[G-1].jV),f=Math.sqrt(1+d[G].pz*d[G].pz),N=1/f,Y=d[G].pz/f,l=Math.sqrt(1+d[G-1].pz*d[G-1].pz),h=1/l,s=d[G-1].pz/l,J=(N-h)*D+h,u=(Y-s)*D+s,Q=Math.sqrt(J*J+u*u);
J/=Q;u/=Q;var W=(a*J+e*u)*-3e3;return{Di:P,jS:W}};pt.eSd=function(p,d){var K=pt.GT,A=1e6/p,x=1;for(;
x<31;x++){if(A<K[x].N){break}}var M=(K[x].N-A)/(K[x].N-K[x-1].N),G=(K[x-1].jb-K[x].jb)*M+K[x].jb,D=(K[x-1].jV-K[x].jV)*M+K[x].jV,P=Math.sqrt(1+K[x].pz*K[x].pz),a=1/P,e=K[x].pz/P,f=Math.sqrt(1+K[x-1].pz*K[x-1].pz),N=1/f,Y=K[x-1].pz/f,l=(N-a)*M+a,h=(Y-e)*M+e,s=Math.sqrt(l*l+h*h);
l/=s;h/=s;G+=l*d/-3e3;D+=h*d/-3e3;return{x:1.5*G/(G-4*D+2),y:D/(G-4*D+2)}};pt.eeq=function(p){var d=p[0]+p[1]+p[2];
return{x:p[0]/d,y:p[1]/d}};pt.QX=function(p){return{x:p.x/p.y,y:1,zS:(1-p.x-p.y)/p.y}};pt.eek=function(p,d){var K=Z.EI.JX([.8951,.2664,-.1614,-.7502,1.7135,.0367,.0389,-.0685,1.0296]),A=[p.x,p.y,p.zS,0],x=[d.x,d.y,d.zS,0];
A=Z.EI.hb(K,A);x=Z.EI.hb(K,x);var M=x[0]/A[0],G=x[1]/A[1],D=x[2]/A[2],P=Z.EI.JX([M,0,0,0,G,0,0,0,D]),a=Z.EI.an(K);
return Z.EI.multiply(Z.EI.multiply(a,P),K)};Z.raw.Iu={};Z.raw.Kd=function(p){p*=8;var d=[8,10,12,14,16];
for(var K in Z.raw.oz){var A=Z.raw.oz[K];if(A.length==4)continue;var x=A[4],M=A[5];for(var G=0;G<d.length;
G++)if(x*M*d[G]==p)return[K,d[G]]}var D=[[4e3,3e3]];for(var G=0;G<D.length;G++){var A=D[G],x=A[0],M=A[1];
for(var G=0;G<d.length;G++)if(x*M*d[G]==p)return[A,d[G]]}return null};Z.raw.ePG=function(p){var p=new Uint8Array(p);
for(var d=0;d<p.length;d+=2){var K=p[d];p[d]=p[d+1];p[d+1]=K}var A=Z.raw.Kd(p.length),x=Z.raw.oz[A[0]];
if(x==null)x=[[8489,-2583,-1036,-8051,15583,2643,-1307,1407,7354],0,1e3,64383,A[0][0],A[0][1]];var M=x[4],G=x[5],D=Math.max(x[2],116),P={data:p,Hi:1,width:M,height:G,t256:[M],t257:[G],t258:[A[1]],t277:[1],t33421:[2,2],t33422:Z.raw.MD[x[1]],t50706:[1,2,0,0],t50714:[D,D,D,D],t50717:[x[3]],t50721:x[0].slice(0),t50723:[1,0,0,0,1,0,0,0,1],t50728:[.64,1,.46],t50778:[17]};
for(var d=0;d<9;d++)P.t50721[d]/=1e4;return P};Z.raw.Mx=function(p){if(p==null||p.length==0||typeof p[0]=="number")return p;
var d=[];for(var K=0;K<p.length;K++)d[K]=p[K][1]==0?0:p[K][0]/p[K][1];return d};Z.raw.MD=[[2,1,1,0],[0,1,1,2],[1,0,2,1],[1,2,0,1]];
Z.raw.normalize=function(p,d){if(p.t50706!=null){var K=[50714,50718,50719,50720,50721,50722,50723,50724,50727,50728,50730,50731,50732,50734,50736,50738,50739,50780,50964,50965];
for(var A=0;A<K.length;A++)if(p["t"+K[A]]!=null)p["t"+K[A]]=Z.raw.Mx(p["t"+K[A]]);return}var x=p.t258[0],M=p.exifIFD,d=new Uint8Array(d);
p.t50706=[1,2,0,0];var G=p.t272[0].trim();if(G.indexOf(" ")==-1)G=p.t271[0].trim()+" "+G;p.t50708=[G];
var D=Z.raw.oz,P=D[G.toLowerCase()];if(P==null)for(var a in D)if(G.toLowerCase().startsWith(a))P=D[a];
if(P==null)throw G;var e=P[2];p.t50714=[e,e,e,e];p.t50717=[P[3]];p.t50721=P[0].slice(0);for(var A=0;
A<9;A++)p.t50721[A]=p.t50721[A]*(1/1e4);p.t50723=[1,0,0,0,1,0,0,0,1];if(p.t50728==null)p.t50728=[.35,1,.6];
p.t50778=[17];if(p.t271[0].startsWith("SONY")){var f=UTIF["_bin"+(p.isLE?"LE":"BE")],N=p.t28688,Q;if(JSON.stringify(N)!="[8000,10400,12900,14100]")console.log(N);
if(N){var Y=[0,0,0,0,0,4095],l=new Uint16Array(16385);for(var A=0;A<4;A++){var h=N[A]>>>2;Y[A+1]=h;if(h>4095)throw"e"}for(var A=0;
A<16385;A++)l[A]=A;for(var A=0;A<5;A++)for(var s=Y[A]+1;s<=Y[A+1];s++)l[s]=l[s-1]+(1<<A);var J=d.length*8<p.width*p.height*x;
if(J)p.t50712=l}else console.log("no curve");var u=p.dngPrvt;if(u){var W=u.t29184[0],q=u.t29185[0],H=(p.isLE?v.WL:v.X)(u.t29217,0),C=new Uint32Array(d.slice(W,W+(q&4294967292)).buffer),k=new Uint32Array(q>>>2);
Z.raw.ePh(C,k,q>>>2,H);var i=new Uint8Array(W+q);i.set(new Uint8Array(k.buffer),W);var m=[];UTIF._readIFD(f,i,W,m,0,!1);
var w=m.pop(),S=w.t29458;p.t50728=[S[1]/S[0],1,S[1]/S[3]];p.t50730=[.5];var o=w.t29891;p.t50829=[o[1],o[0],o[3],o[2]]}else if(M.makerNote&&M.makerNote.t8208){var Q=M.makerNote,O=Q.t8208,t=O.length,c=0,g=new Uint8Array(256);
for(var A=249;A<256;A++)g[A]=A;for(var A=0;A<249;A++)g[A*A*A%249]=A;for(var A=0;A<t;A++)O[A]=g[O[A]];
if(t==6604)c=612;else throw"e";var S=[];for(var A=0;A<3;A++)S.push(v.Wo(O,c+A*2));console.log(S);p.t50728=[S[1]/S[0],1,S[1]/S[2]]}else console.log("no white balance");
if(p.width*p.height*1.5==p.t279[0]){e=e>>>2;p.t50714=[e,e,e,e];p.t50717=[P[3]>>>2]}}else if(p.t271[0].startsWith("Canon")){var d=p.data,j=d.slice(0),_=p.t50752,U=[],I=0;
if(_==null||_[0]==0&&_[1]==0)U.push(p.width);else{for(var A=0;A<_[0];A++)U.push(_[1]);U.push(_[2])}var $=p.width*2;
for(var E=0;E<U.length;E++){var b=U[E],z=2*I,QS=2*b;for(var QQ=0;QQ<p.height;QQ+=2){var Qe=QQ*$+z,QB=p.height*z+(QQ>>1)*QS*2;
for(var A=0;A<QS;A++){d[Qe+A]=j[QB+A];d[Qe+A+$]=j[QB+A+QS]}}I+=b}var Q=M.makerNote;if(Q.t16385){var QU=Q.t224,L=0;
if(QU){p.t50719=[QU[5],QU[6]];p.t50720=[QU[7]+1-QU[5],QU[8]+1-QU[6]]}var Qt=Q.t16385,F=Qt.length;if(F==582)L=1;
else if(F==653)L=2;else if(F==796)L=3;else if([692,674,702,1227,1250,1251,1337,1338,1346].indexOf(F)!=-1)L=4;
else if(F==5120){L=5;Qt=new Int16Array(Qt.slice(0).buffer)}else if(F==1273||F==1275)L=6;else if([1312,1313,1316,1506].indexOf(F)!=-1)L=7;
else if([1560,1592,1353,1602].indexOf(F)!=-1)L=8;else throw"e"+F;var Qu=Qt[0],QK=[null,[25,166],[34,286],[63,196],[63],[71,Qu==-4?333:264],[63,251],[63,Qu==10?504:728],[63,326]],c=QK[L][0],Qm=QK[L][1];
if(L==4){if(Qt[0]==2)Qm=231;else if(Qt[0]==3)Qm=231;else if(Qt[0]==4)Qm=231;else if(Qt[0]==5)Qm=231;
else if(Qt[0]==6)Qm=231;else if(Qt[0]==7)Qm=231;else if(Qt[0]==9)Qm=231;else throw"e"}p.t50728=[Qt[c+1]/Qt[c],1,Qt[c+1]/Qt[c+3]];
var e=Qm==null?1024:Qt[Qm];p.t50714=[e,e,e,e]}else{p.t50728=[.4,1,.6]}}else if(p.t271[0].startsWith("NIKON")){var Q=M.makerNote,ei=p.isLE?v.Wo:v.ZW,Q$=0,eS=0,eK,QC=0;
if(Q.t61){var Qp=Q.t61,QO=[];for(var A=0;A<4;A++)QO[A]=Qp[A]/Math.pow(2,14-x);p.t50714=QO}if(Q.t3585){var QE=Q.t3585,A=0,W=22;
while(W<QE.length&&A!=-4){var Qi=v.WL(QE,W);W+=4;W+=14;A=v.WL(QE,W)-4;W+=4;if(Qi==1990472198){if(QE[W]!=0)throw"Flip"}if(Qi==1990472199){var QV=v.Wo(QE,W);
if(QV==0)p.Hi=1;else if(QV==270)p.Hi=8;else throw"e "+QV}W+=A}}if(Q.t183){var Qs=Q.t183,Qw=[];for(var A=0;
A<6;A++)Qw.push(ei(Qs,16+A*2));Q$=Qw[0];eS=Qw[1]}if(Q.t3614){var Q_=Q.t3614;Q$=v.WL(Q_,8);eS=v.WL(Q_,12)}if(Q$!=0){if(Q$<eS){var QN=Q$;
Q$=eS;eS=QN}var I=p.width-Q$>>>1,QQ=p.height-eS>>>1;p.t50829=[QQ,I,QQ+eS,I+Q$]}if(Q.t12){var Qz=Z.raw.Mx(Q.t12);
eK=[1/Qz[0],1,1/Qz[1]]}else if(Q.t151){var eQ=Z.raw.eGu(Q,151),Qd=eQ[0],Qj=eQ[1],QD=eQ[2];if(Qd=="0100"&&Qj>=80)throw"e";
else if(Qd=="0103"&&Qj>=26){var Qq=[];for(var A=0;A<4;A++)Qq.push(ei(QD,16+A*2));eK=[Qq[1]/Qq[0],1,Qq[3]/Qq[2]]}else if(Qd=="0204"&&Qj>=564||Qd=="0205"&&Qj>=284){var W=Qd=="0204"?6:14,Qq=[];
for(var A=0;A<4;A++)Qq.push(ei(QD,W+A*2));eK=[Qq[1]/Qq[0],1,Qq[1]/Qq[3]]}else throw"e"}else console.log("no white balance info");
if(G=="NIKON D1")eK=[1,1,1];if(eK)p.t50728=eK;var et=Q.t150?Q.t150:Q.t140;if(et){var Qf=et[QC++],QA=et[QC++],QR;
if(Qf==73||QA==88)QC+=2110;QC+=8;var Qb=1<<x&32767,MS=ei(et,QC);QC+=2;var l=[];if(MS>1)QR=Math.floor(Qb/(MS-1));
if(Qf==68&&QA==32&&QR>0){for(A=0;A<MS;A++){l[A*QR]=ei(et,QC);QC+=2}for(A=0;A<Qb;A++)l[A]=Math.floor((l[A-A%QR]*(QR-A%QR)+l[A-A%QR+QR]*(A%QR))/QR)}else if(Qf!=70&&MS<=16385){Qb=MS;
for(var A=0;A<MS;A++)l[A]=ei(et,QC+2*A);QC+=2*MS}if(l.length!=0)p.t50712=new Uint16Array(l)}}else if(G.startsWith("FujiFilm")){}else alert("Unknown camera "+G)};
Z.raw.ePh=function(p,d,K,A){if(0==K)return;var x=new Uint32Array(128),M=new Uint8Array(x.buffer),G=127,D=0,P=0;
for(var G=0;G<4;G++)x[G]=A=(A*15625>>>0)*3125+1>>>0;x[3]=x[3]<<1|(x[0]^x[2])>>>31;for(var G=4;G<127;
G++)x[G]=(x[G-4]^x[G-2])<<1|(x[G-3]^x[G-1])>>>31;for(var G=0;G<127;G++)x[G]=v.X(M,G*4);for(;K>0;K--){x[G&127]=x[G+1&127]^x[G+1+64&127];
var a=x[G&127],e=p[D];e^=a;d[P]=e;D++;P++;G++}};Z.raw.ePs=function(p,d){var K=v.Ms(d,0,4),A=Z.raw.eGW;
for(var x=0;x<A.length;x++)if(A[x][0]==p&&K.startsWith(A[x][1])&&(A[x][2]==0||A[x][2]==d.length))return A[x];
throw"e"};Z.raw.eGK=function(p){if(p.t29==null)return[];var d=Z.raw.eGl,K=Z.raw.etE,A=p.t29[0],x=0,D=0;
for(var M=0;M<A.length;M++){var G=A.charCodeAt(M);x=x*10+(48<=G&&G<=57?G-48:G%10)}var P=p.t167[0];for(var M=0;
M<4;M++)D^=P>>>(M<<3)&255;var a=d[x&255],e=K[D&255];return[a,e,96]};Z.raw.eGu=function(p,d){var K=p["t"+d],A=K.length,x=Z.raw.ePs(d,K),M=v.Ms(K,0,4),G,D=x[4];
if(D==null)G=K.slice(4);else{G=new Uint8Array(A-D);var P=Z.raw.eGK(p),a=P[0],e=P[1],f=P[2];for(var N=0;
N<G.length;N++){e=e+a*f++&255;G[N]=K[D++]^e}}return[M,A,G]};Z.raw.eGW=[[145,"0208",0,0,4],[145,"0209",0,1,4],[145,"0210",5291,2,4],[145,"0210",5303,3,4],[145,"02",0,4,4],[145,"01",0,5,null],[151,"0100",0,0,null],[151,"0102",0,1,null],[151,"0103",0,4,null],[151,"0204",0,3,284],[151,"0205",0,2,4],[151,"0206",0,3,284],[151,"0207",0,3,284],[151,"0208",0,3,284],[151,"0209",0,5,284],[151,"02",0,3,284],[152,"0100",0,0,null],[152,"0101",0,1,null],[152,"0201",0,1,4],[152,"0202",0,1,4],[152,"0203",0,1,4],[152,"0204",0,2,4],[168,"0100",0,0,null],[168,"0101",0,0,null],[168,"0102",0,1,null],[168,"0103",0,2,null]];
Z.raw.eGl=[193,191,109,13,89,197,19,157,131,97,107,79,199,127,61,61,83,89,227,199,233,47,149,167,149,31,223,127,43,41,199,13,223,7,239,113,137,61,19,61,59,19,251,13,137,193,101,31,179,13,107,41,227,251,239,163,107,71,127,149,53,167,71,79,199,241,89,149,53,17,41,97,241,61,179,43,13,67,137,193,157,157,137,101,241,233,223,191,61,127,83,151,229,233,149,23,29,61,139,251,199,227,103,167,7,241,113,167,83,181,41,137,229,43,167,23,41,233,79,197,101,109,107,239,13,137,73,47,179,67,83,101,29,73,163,19,137,89,239,107,239,101,29,11,89,19,227,79,157,179,41,67,43,7,29,149,89,89,71,251,229,233,97,71,47,53,127,23,127,239,127,149,149,113,211,163,11,113,163,173,11,59,181,251,163,191,79,131,29,173,233,47,113,101,163,229,7,53,61,13,181,233,229,71,59,157,239,53,163,191,179,223,83,211,151,83,73,113,7,53,97,113,47,67,47,17,223,23,151,251,149,59,127,107,211,37,191,173,199,197,197,181,139,239,47,211,7,107,37,73,149,37,73,109,113,199];
Z.raw.etE=[167,188,201,173,145,223,133,229,212,120,213,23,70,124,41,76,77,3,233,37,104,17,134,179,189,247,111,97,34,162,38,52,42,190,30,70,20,104,157,68,24,194,64,244,126,95,27,173,11,148,182,103,180,11,225,234,149,156,102,220,231,93,108,5,218,213,223,122,239,246,219,31,130,76,192,104,71,161,189,238,57,80,86,74,221,223,165,248,198,218,202,144,202,1,66,157,139,12,115,67,117,5,148,222,36,179,128,52,229,44,220,155,63,202,51,69,208,219,95,245,82,195,33,218,226,34,114,107,62,208,91,168,135,140,6,93,15,221,9,25,147,208,185,252,139,15,132,96,51,28,155,69,241,240,163,148,58,18,119,51,77,68,120,40,60,158,253,101,87,22,148,107,251,89,208,200,34,54,219,210,99,152,67,161,4,135,134,247,166,38,187,214,89,77,191,106,46,170,43,239,230,120,182,78,224,47,220,124,190,87,25,50,126,42,208,184,186,41,0,60,82,125,168,73,59,45,235,37,73,250,163,170,57,167,197,167,80,17,54,251,198,103,74,245,165,18,101,126,176,223,175,78,179,97,127,47];
Z.raw.oz={"canon eos 100d":[[6602,-841,-939,-4472,12458,2247,-975,2039,6148],1,2048,15e3],"canon eos rebel sl1":[[6602,-841,-939,-4472,12458,2247,-975,2039,6148],1,2048,15e3],"canon eos kiss x7":[[6602,-841,-939,-4472,12458,2247,-975,2039,6148],1,2048,15e3],"canon eos 200d":[[7377,-742,-998,-4235,11981,2549,-673,1918,5538],1,2049,14338],"canon eos rebel sl2":[[7377,-742,-998,-4235,11981,2549,-673,1918,5538],1,2049,14338],"canon eos kiss x9":[[7377,-742,-998,-4235,11981,2549,-673,1918,5538],1,2049,14338],"canon eos 300d":[[8197,-2e3,-1118,-6714,14335,2592,-2536,3178,8266],1,126,4e3],"canon eos digital rebel":[[8197,-2e3,-1118,-6714,14335,2592,-2536,3178,8266],1,126,4e3],"canon eos kiss digital":[[8197,-2e3,-1118,-6714,14335,2592,-2536,3178,8266],1,126,4e3],"canon eos d30":[[9805,-2689,-1312,-5803,13064,3068,-2438,3075,8775],1,126,4095],"canon eos d60":[[6188,-1341,-890,-7168,14489,2937,-2640,3228,8483],1,127,4e3],"canon eos 10d":[[8197,-2e3,-1118,-6714,14335,2592,-2536,3178,8266],1,127,4e3],"canon eos 20d":[[6599,-537,-891,-8071,15783,2424,-1983,2234,7462],1,126,4095],"canon eos 30d":[[6257,-303,-1e3,-7880,15621,2396,-1714,1904,7046],1,127,3398],"canon eos 350d":[[6018,-617,-965,-8645,15881,2975,-1530,1719,7642],1,255,4095],"canon eos digital rebel xt":[[6018,-617,-965,-8645,15881,2975,-1530,1719,7642],1,255,4095],"canon eos kiss digital n":[[6018,-617,-965,-8645,15881,2975,-1530,1719,7642],1,255,4095],"canon eos 350d":[[6018,-617,-965,-8645,15881,2975,-1530,1719,7642],1,255,4095],"canon eos 350d digital":[[6018,-617,-965,-8645,15881,2975,-1530,1719,7642],1,255,4095],"canon eos 40d":[[6071,-747,-856,-7653,15365,2441,-2025,2553,7315],1,1021,13600],"canon eos 450d":[[5784,-262,-821,-7539,15064,2672,-1982,2681,7427],1,1020,14500],"canon eos digital rebel xsi":[[5784,-262,-821,-7539,15064,2672,-1982,2681,7427],1,1020,14500],"canon eos kiss digital x2":[[5784,-262,-821,-7539,15064,2672,-1982,2681,7427],1,1020,14500],"canon eos kiss x2":[[5784,-262,-821,-7539,15064,2672,-1982,2681,7427],1,1020,14500],"canon eos 50d":[[4920,616,-593,-6493,13964,2784,-1774,3178,7005],3,1020,13653],"canon eos 60d":[[6719,-994,-925,-4408,12426,2211,-887,2129,6051],3,2026,14200],"canon eos 70d":[[7034,-804,-1014,-4420,12564,2058,-851,1994,5758],1,2026,13653],"canon eos 80d":[[7457,-671,-937,-4849,12495,2643,-1213,2354,5492],1,512,11892],"canon eos 700d":[[6602,-841,-939,-4472,12458,2247,-975,2039,6148],1,2052,15e3],"canon eos rebel t5i":[[6602,-841,-939,-4472,12458,2247,-975,2039,6148],1,2052,15e3],"canon eos kiss x7i":[[6602,-841,-939,-4472,12458,2247,-975,2039,6148],1,2052,15e3],"canon eos 750d":[[6362,-823,-847,-4426,12109,2616,-743,1857,5635],1,2047,11765],"canon eos rebel t6i":[[6362,-823,-847,-4426,12109,2616,-743,1857,5635],1,2047,11765],"canon eos kiss x8i":[[6362,-823,-847,-4426,12109,2616,-743,1857,5635],1,2047,11765],"canon eos 800d":[[6970,-512,-968,-4425,12161,2553,-739,1982,5601],1,2049,14338],"canon eos rebel t7i":[[6970,-512,-968,-4425,12161,2553,-739,1982,5601],1,2049,14338],"canon eos kiss x9i":[[6970,-512,-968,-4425,12161,2553,-739,1982,5601],1,2049,14338],"canon eos 760d":[[6362,-823,-847,-4426,12109,2616,-743,1857,5635],1,2047,11765],"canon eos rebel t6s":[[6362,-823,-847,-4426,12109,2616,-743,1857,5635],1,2047,11765],"canon eos 8000d":[[6362,-823,-847,-4426,12109,2616,-743,1857,5635],1,2047,11765],"canon eos 77d":[[7377,-742,-998,-4235,11981,2549,-673,1918,5538],1,2048,14338],"canon eos 9000d":[[7377,-742,-998,-4235,11981,2549,-673,1918,5538],1,2048,14338],"canon eos 500d":[[4763,712,-646,-6821,14399,2640,-1921,3276,6561],1,1020,16e3],"canon eos rebel t1i":[[4763,712,-646,-6821,14399,2640,-1921,3276,6561],1,1020,16e3],"canon eos kiss x3":[[4763,712,-646,-6821,14399,2640,-1921,3276,6561],1,1020,16e3],"canon eos 550d":[[6941,-1164,-857,-3825,11597,2534,-416,1540,6039],0,2048,15831],"canon eos rebel t2i":[[6941,-1164,-857,-3825,11597,2534,-416,1540,6039],0,2048,15831],"canon eos kiss x4":[[6941,-1164,-857,-3825,11597,2534,-416,1540,6039],0,2048,15831],"canon eos 600d":[[6461,-907,-882,-4300,12184,2378,-819,1944,5931],3,2026,13584],"canon eos rebel t3i":[[6461,-907,-882,-4300,12184,2378,-819,1944,5931],3,2026,13584],"canon eos kiss x5":[[6461,-907,-882,-4300,12184,2378,-819,1944,5931],3,2026,13584],"canon eos 650d":[[6602,-841,-939,-4472,12458,2247,-975,2039,6148],1,2026,13584],"canon eos rebel t4i":[[6602,-841,-939,-4472,12458,2247,-975,2039,6148],1,2026,13584],"canon eos kiss x6i":[[6602,-841,-939,-4472,12458,2247,-975,2039,6148],1,2026,13584],"canon eos 5d":[[6347,-479,-972,-8297,15954,2480,-1968,2131,7649],1,127,3692],"canon eos 5d mark ii":[[4716,603,-830,-7798,15474,2480,-1496,1937,6651],3,1024,12995],"canon eos 5d mark iii":[[6722,-635,-963,-4287,12460,2028,-908,2162,5668],1,2060,16383],"canon eos 5d mark iv":[[6446,-366,-864,-4436,12204,2513,-952,2496,6348],1,2049,14448],"canon eos 5ds":[[6250,-711,-808,-5153,12794,2636,-1249,2198,5610],1,2048,15181],"canon eos 5ds r":[[6250,-711,-808,-5153,12794,2636,-1249,2198,5610],1,2048,15181],"canon eos 6d":[[7034,-804,-1014,-4420,12564,2058,-851,1994,5758],1,2048,15e3],"canon eos 6d mark ii":[[6875,-970,-932,-4691,12459,2501,-874,1953,5809],1,2049,14558],"canon eos 7d":[[6844,-996,-856,-3876,11761,2396,-593,1772,6198],3,1025,8150],"canon eos 7d mark ii":[[7268,-1082,-969,-4186,11839,2663,-825,2029,5839],1,2047,13400],"canon eos 1000d":[[6771,-1139,-977,-7818,15123,2928,-1244,1437,7533],1,255,3650],"canon eos digital rebel xs":[[6771,-1139,-977,-7818,15123,2928,-1244,1437,7533],1,255,3650],"canon eos kiss digital f":[[6771,-1139,-977,-7818,15123,2928,-1244,1437,7533],1,255,3650],"canon eos 1100d":[[6444,-904,-893,-4563,12308,2535,-903,2016,6728],1,2036,15500],"canon eos rebel t3":[[6444,-904,-893,-4563,12308,2535,-903,2016,6728],1,2036,15500],"canon eos 1200d":[[6461,-907,-882,-4300,12184,2378,-819,1944,5931],3,2046,12279],"canon eos rebel t5":[[6461,-907,-882,-4300,12184,2378,-819,1944,5931],3,2046,12279],"canon eos kiss x70":[[6461,-907,-882,-4300,12184,2378,-819,1944,5931],3,2046,12279],"canon eos 1300d":[[6939,-1016,-866,-4428,12473,2177,-1175,2178,6162],3,2048,15e3],"canon eos rebel t6":[[6939,-1016,-866,-4428,12473,2177,-1175,2178,6162],3,2048,15e3],"canon eos kiss x80":[[6939,-1016,-866,-4428,12473,2177,-1175,2178,6162],3,2048,15e3],"canon eos 2000d":[[8532,-701,-1167,-4095,11879,2508,-797,2424,7010],3,2048,15092],"canon eos rebel t7":[[8532,-701,-1167,-4095,11879,2508,-797,2424,7010],3,2048,15092],"canon eos 1500d":[[8532,-701,-1167,-4095,11879,2508,-797,2424,7010],3,2048,15092],"canon eos 4000d":[[6939,-1016,-866,-4428,12473,2177,-1175,2178,6162],3,2051,15e3],"canon eos rebel t100":[[6939,-1016,-866,-4428,12473,2177,-1175,2178,6162],3,2051,15e3],"canon eos 3000d":[[6939,-1016,-866,-4428,12473,2177,-1175,2178,6162],3,2051,15e3],"canon eos 400d":[[7054,-1501,-990,-8156,15544,2812,-1278,1414,7796],1,255,3726],"canon eos digital rebel xti":[[7054,-1501,-990,-8156,15544,2812,-1278,1414,7796],1,255,3726],"canon eos kiss digital x":[[7054,-1501,-990,-8156,15544,2812,-1278,1414,7796],1,255,3726],"canon eos m":[[6602,-841,-939,-4472,12458,2247,-975,2039,6148],1,2026,13584],"canon eos m2":[[6400,-480,-888,-5294,13416,2047,-1296,2203,6137],1,2026,13584],"canon eos m3":[[6362,-823,-847,-4426,12109,2616,-743,1857,5635],1,2048,16e3],"canon eos m5":[[8532,-701,-1167,-4095,11879,2508,-797,2424,7010],1,2048,16e3],"canon eos m6":[[8532,-701,-1167,-4095,11879,2508,-797,2424,7010],1,2048,16e3],"canon eos m10":[[6400,-480,-888,-5294,13416,2047,-1296,2203,6137],1,2048,16e3],"canon eos m100":[[8532,-701,-1167,-4095,11879,2508,-797,2424,7010],1,2048,16e3],"canon eos-1d":[[6806,-179,-1020,-8097,16415,1687,-3267,4236,7690],2,0,3588],"canon eos-1ds":[[4374,3631,-1743,-7520,15212,2472,-2892,3632,8161],2,0,3500],"canon eos d2000c":[[24542,-10860,-3401,-1490,11370,-297,2858,-605,3225],2,96,4095],"canon eos-1d mark ii":[[6264,-582,-724,-8312,15948,2504,-1744,1919,8664],1,127,3700],"canon eos-1d mark ii n":[[6240,-466,-822,-8180,15825,2500,-1801,1938,8042],1,127,3700],"canon eos-1d mark iii":[[6291,-540,-976,-8350,16145,2311,-1714,1858,7326],1,1023,15100],"canon eos-1d mark iv":[[6014,-220,-795,-4109,12014,2361,-561,1824,5787],3,2e3,13e3],"canon eos-1ds mark ii":[[6517,-602,-867,-8180,15926,2378,-1618,1771,7633],3,126,4060],"canon eos-1ds mark iii":[[5859,-211,-930,-8255,16017,2353,-1732,1887,7448],1,1021,15100],"canon eos-1d x":[[6847,-614,-1014,-4669,12737,2139,-1197,2488,6846],1,2050,15100],"canon eos-1d x mark ii":[[7596,-978,-967,-4808,12571,2503,-1398,2567,5752],1,2048,14888],"canon powershot pro1":[[10062,-3522,-999,-7643,15117,2730,-765,817,7323],1,129,4095],"canon powershot g1":[[-4778,9467,2172,4743,-1141,4344,-5146,9908,6077,-1566,11051,557],0,31,1023],"canon powershot g2":[[9087,-2693,-1049,-6715,14382,2537,-2291,2819,7790],1,0,1023],"canon powershot g3":[[9212,-2781,-1073,-6573,14189,2605,-2300,2844,7664],1,0,4095],"canon powershot g3 x":[[9701,-3857,-921,-3149,11537,1817,-786,1817,5147],1,2047,16e3],"canon powershot g5":[[9757,-2872,-933,-5972,13861,2301,-1622,2328,7212],1,0,4095],"canon powershot g5 x":[[9602,-3823,-937,-2984,11495,1675,-407,1415,5049],1,2047,16e3],"canon powershot g6":[[9877,-3775,-871,-7613,14807,3072,-1448,1305,7485],1,128,4095],"canon powershot g7 x":[[9602,-3823,-937,-2984,11495,1675,-407,1415,5049],1,511,4e3],"canon powershot g7 x mark ii":[[9602,-3823,-937,-2984,11495,1675,-407,1415,5049],1,2047,16e3],"canon powershot g1 x":[[7378,-1255,-1043,-4088,12251,2048,-876,1946,5805],1,0,16383],"canon powershot g1 x mark ii":[[7378,-1255,-1043,-4088,12251,2048,-876,1946,5805],1,0,16e3],"canon powershot g1 x mark iii":[[8532,-701,-1167,-4095,11879,2508,-797,2424,7010],1,2048,16e3],"canon powershot g12":[[13244,-5501,-1248,-1508,9858,1935,-270,1083,4366],1,120,4095],"canon powershot g11":[[12177,-4817,-1069,-1612,9864,2049,-98,850,4471],1,120,4095],"canon powershot g10":[[11093,-3906,-1028,-5047,12492,2879,-1003,1750,5561],3,128,4095],"canon powershot g9":[[7368,-2141,-598,-5621,13254,2625,-1418,1696,5743],1,125,4095],"canon powershot g9 x":[[9602,-3823,-937,-2984,11495,1675,-407,1415,5049],1,2047,16e3],"canon powershot g9 x mark ii":[[10056,-4131,-944,-2576,11143,1625,-238,1294,5179],1,2048,16e3],"canon powershot g15":[[7474,-2301,-567,-4056,11456,2975,-222,716,4181],3,500,2800],"canon powershot g16":[[8020,-2687,-682,-3704,11879,2052,-965,1921,5556],1,0,4095],"canon powershot sx1 is":[[6578,-259,-502,-5974,13030,3309,-308,1058,4970],1,125,4095],"canon powershot s30":[[10566,-3652,-1129,-6552,14662,2006,-2197,2581,7670],1,31,1023],"canon powershot s40":[[8510,-2487,-940,-6869,14231,2900,-2318,2829,9013],1,0,1023],"canon powershot s45":[[8163,-2333,-955,-6682,14174,2751,-2077,2597,8041],1,129,4095],"canon powershot s50":[[8882,-2571,-863,-6348,14234,2288,-1516,2172,6569],1,129,4095],"canon powershot s60":[[8795,-2482,-797,-7804,15403,2573,-1422,1996,7082],1,129,4095],"canon powershot s70":[[9976,-3810,-832,-7115,14463,2906,-901,989,7889],1,129,4095],"canon powershot s90":[[12374,-5016,-1049,-1677,9902,2078,-83,852,4683],1,125,4095],"canon powershot s95":[[13440,-5896,-1279,-1236,9598,1931,-180,1001,4651],1,125,4095],"canon powershot s100":[[7968,-2565,-636,-2873,10697,2513,180,667,4211],3,125,4095],"canon powershot s110":[[8039,-2643,-654,-3783,11230,2930,-206,690,4194],3,500,3072],"canon powershot s120":[[6961,-1685,-695,-4625,12945,1836,-1114,2152,5518],1,0,4e3],"canon powershot sx50 hs":[[12432,-4753,-1247,-2110,10691,1629,-412,1623,4926],1,127,4095],"canon powershot sx60 hs":[[13161,-5451,-1344,-1989,10654,1531,-47,1271,4955],1,128,4e3],"nikon d100":[[5902,-933,-782,-8983,16719,2354,-1402,1455,6464],2,0,4095],"nikon d1":[[16772,-4726,-2141,-7611,15713,1972,-2846,3494,9521],0,0,4095],"nikon d1h":[[7577,-2166,-926,-7454,15592,1934,-2377,2808,8606],0,0,4095],"nikon d1x":[[7702,-2245,-975,-9114,17242,1875,-2679,3055,8521],0,0,4095],"nikon d200":[[8367,-2248,-763,-8758,16447,2422,-1527,1550,8053],2,0,3880],"nikon d2h":[[5710,-901,-615,-8594,16617,2024,-2975,4120,6830],3,0,3880],"nikon d2hs":[[5710,-901,-615,-8594,16617,2024,-2975,4120,6830],3,0,3880],"nikon d2x":[[10231,-2769,-1255,-8301,15900,2552,-797,680,7148],1,0,3880],"nikon d2xs":[[10231,-2769,-1255,-8301,15900,2552,-797,680,7148],1,0,3880],"nikon d3":[[8139,-2171,-663,-8747,16541,2295,-1925,2008,8093],1,0,15892],"nikon d3s":[[8828,-2406,-694,-4874,12603,2541,-660,1509,7587],1,0,15520],"nikon d3x":[[7171,-1986,-648,-8085,15555,2718,-2170,2512,7457],1,0,15892],"nikon d300":[[9030,-1992,-715,-8465,16302,2255,-2689,3217,8069],1,0,15236],"nikon d300s":[[9030,-1992,-716,-8465,16302,2256,-2689,3217,8069],1,0,15236],"nikon d3000":[[8736,-2458,-935,-9075,16894,2251,-1354,1242,8263],3,0,3880],"nikon d3200":[[7013,-1408,-635,-5268,12902,2640,-1470,2801,7379],1,0,3880],"nikon d3300":[[6988,-1384,-714,-5631,13410,2447,-1485,2204,7318],1,150,3880],"nikon d3400":[[6988,-1384,-714,-5631,13410,2447,-1485,2204,7318],1,150,3880],"nikon d3500":[[8821,-2938,-785,-4178,12142,2287,-824,1651,6860],1,150,3972],"nikon d4":[[8598,-2848,-857,-5618,13606,2195,-1002,1773,7137],1,0,15520],"nikon d5":[[9200,-3522,-992,-5755,13803,2117,-753,1486,6338],1,400,15520],"nikon z 6":[[8210,-2534,-683,-5355,13338,2212,-1143,1929,6464],1,1008,15520],"nikon z 7":[[10405,-3755,-1270,-5461,13787,1793,-1040,2015,6785],1,1008,15520],"nikon df":[[8598,-2848,-857,-5618,13606,2195,-1002,1773,7137],1,0,15520],"nikon d5100":[[8198,-2239,-724,-4871,12389,2798,-1043,2050,7181],1,0,15892],"nikon d3100":[[7911,-2167,-813,-5327,13150,2408,-1288,2483,7968],3,0,3880],"nikon d40":[[6992,-1668,-806,-8138,15748,2543,-874,850,7897],0,0,3880],"nikon d40x":[[8819,-2543,-911,-9025,16928,2151,-1329,1213,8449],3,0,3880],"nikon d50":[[7732,-2422,-789,-8238,15884,2498,-859,783,7330],0,0,4095],"nikon d500":[[8813,-3210,-1036,-4703,12868,2021,-1054,1940,6129],1,400,15520],"nikon d5000":[[7309,-1403,-519,-8474,16008,2622,-2433,2826,8064],3,0,3767],"nikon d5200":[[8322,-3112,-1047,-6367,14342,2179,-988,1638,6394],1,0,15892],"nikon d5300":[[6988,-1384,-714,-5631,13410,2447,-1485,2204,7318],1,150,3972],"nikon d5500":[[8821,-2938,-785,-4178,12142,2287,-824,1651,6860],1,150,3972],"nikon d5600":[[8821,-2938,-785,-4178,12142,2287,-824,1651,6860],1,150,3972],"nikon d60":[[8736,-2458,-935,-9075,16894,2251,-1354,1242,8263],3,0,3880],"nikon d600":[[8178,-2245,-609,-4857,12394,2776,-1207,2086,7298],1,0,15520],"nikon d610":[[8178,-2245,-609,-4857,12394,2776,-1207,2086,7298],1,0,15520],"nikon d70":[[7732,-2422,-789,-8238,15884,2498,-859,783,7330],0,0,4095],"nikon d700":[[8139,-2171,-663,-8747,16541,2295,-1925,2008,8093],1,0,3972],"nikon d750":[[9020,-2890,-715,-4535,12436,2348,-934,1919,7086],1,150,3880],"nikon d7000":[[8198,-2239,-724,-4871,12389,2798,-1043,2050,7181],1,0,15892],"nikon d7100":[[8322,-3112,-1047,-6367,14342,2179,-988,1638,6394],1,0,15892],"nikon d7200":[[8322,-3112,-1047,-6367,14342,2179,-988,1638,6394],1,600,15892],"nikon d7500":[[8813,-3210,-1036,-4703,12868,2021,-1054,1940,6129],1,100,3880],"nikon d70s":[[7732,-2422,-789,-8238,15884,2498,-859,783,7330],0,0,4095],"nikon d80":[[8629,-2410,-883,-9055,16940,2171,-1490,1363,8520],3,0,3880],"nikon d800":[[7866,-2108,-555,-4869,12483,2681,-1176,2069,7501],1,0,15520],"nikon d800e":[[7866,-2108,-555,-4869,12483,2681,-1176,2069,7501],1,0,15520],"nikon d810":[[9369,-3195,-791,-4488,12430,2301,-893,1796,6872],1,150,3880],"nikon d850":[[10405,-3755,-1270,-5461,13787,1793,-1040,2015,6785],1,100,3880],"nikon d4s":[[8598,-2848,-857,-5618,13606,2195,-1002,1773,7137],1,192,3880],"nikon d90":[[7309,-1403,-519,-8474,16008,2622,-2434,2826,8064],3,0,3767],"nikon 1 j1":[[8994,-2667,-865,-4594,12324,2552,-699,1786,6260],1,0,3300],"nikon 1 j2":[[8994,-2667,-865,-4594,12324,2552,-699,1786,6260],1,0,4095],"nikon 1 j3":[[6588,-1305,-693,-3277,10987,2634,-355,2016,5106],1,0,4095],"nikon 1 j4":[[5958,-1559,-571,-4021,11453,2939,-634,1548,5087],1,200,4e3],"nikon 1 j5":[[7520,-2518,-645,-3844,12102,1945,-913,2249,6835],1,200,3800],"nikon 1 s1":[[8994,-2667,-865,-4594,12324,2552,-699,1786,6260],1,0,3300],"nikon 1 s2":[[6612,-1342,-618,-3338,11055,2623,-174,1792,5075],1,200,4095],"nikon 1 v1":[[8994,-2667,-865,-4594,12324,2552,-699,1786,6260],1,0,3300],"nikon 1 v2":[[6588,-1305,-693,-3277,10987,2634,-355,2016,5106],1,0,4095],"nikon 1 v3":[[5958,-1559,-571,-4021,11453,2939,-634,1548,5087],1,200,4e3],"nikon 1 aw1":[[6588,-1305,-693,-3277,10987,2634,-355,2016,5106],1,0,4095],"nikon e5400":[[9349,-2987,-1001,-7919,15766,2266,-2098,2680,6839],0,0,4095],"nikon e5700":[[-5368,11478,2368,5537,-113,3148,-4969,10021,5782,778,9028,211],0,0,4095],"nikon coolpix p330":[[10321,-3920,-931,-2750,11146,1824,-442,1545,5539],1,3200,65e3],"nikon coolpix p340":[[10321,-3920,-931,-2750,11146,1824,-442,1545,5539],1,200,3800],"nikon coolpix a":[[8198,-2239,-724,-4871,12389,2798,-1043,2050,7181],1,0,15892],"nikon coolpix b700":[[14387,-6014,-1299,-1357,9975,1616,467,1047,4744],1,200,4e3],"nikon coolpix p6000":[[9698,-3367,-914,-4706,12584,2368,-837,968,5801],1,0,4095],"nikon coolpix p7000":[[11432,-3679,-1111,-3169,11239,2202,-791,1380,4455],1,0,4095],"nikon coolpix p7100":[[11053,-4269,-1024,-1976,10182,2088,-526,1263,4469],1,0,3800],"nikon coolpix p7700":[[10321,-3920,-931,-2750,11146,1824,-442,1545,5539],1,3200,65e3],"nikon coolpix p7800":[[10321,-3920,-931,-2750,11146,1824,-442,1545,5539],1,3200,65e3],"nikon coolpix p1000":[[14294,-6116,-1333,-1628,10219,1637,-14,1158,5022],1,200,4095],"panasonic dmc-cm1":[[8770,-3194,-820,-2871,11281,1803,-513,1552,4434],1,142,4095],"panasonic dmc-fx150":[[9082,-2907,-925,-6119,13377,3058,-1797,2641,5609],0,15,3986],"panasonic dmc-fz28":[[10109,-3488,-993,-5412,12812,2916,-1305,2140,5543],0,15,3986],"panasonic dmc-fz150":[[11904,-4541,-1189,-2355,10899,1662,-296,1586,4289],3,145,3956],"panasonic dmc-fz200":[[8112,-2563,-740,-3730,11784,2197,-941,2075,4933],3,150,3956],"panasonic dmc-fz2000":[[7386,-2443,-743,-3437,11864,1757,-608,1660,4766],3,142,2095],"panasonic dmc-fz2500":[[7386,-2443,-743,-3437,11864,1757,-608,1660,4766],3,142,2095],"panasonic dmc-fz300":[[8378,-2798,-769,-3068,11410,1877,-538,1792,4623],3,143,4095],"panasonic dmc-g1":[[8199,-2065,-1056,-8124,16156,2033,-2458,3022,7220],3,15,3986],"panasonic dmc-g2":[[10113,-3400,-1114,-4765,12683,2317,-377,1437,6710],3,0,3900],"panasonic dmc-g10":[[10113,-3400,-1114,-4765,12683,2317,-377,1437,6710],3,0,3900],"panasonic dmc-gh1":[[6299,-1466,-532,-6535,13852,2969,-2331,3112,5984],3,0,3986],"panasonic dmc-gh3":[[6559,-1752,-491,-3672,11407,2586,-962,1875,5130],3,155,3956],"panasonic dmc-gh4":[[7122,-2108,-512,-3155,11201,2231,-541,1423,5045],0,142,4095],"panasonic dmc-gf1":[[7888,-1902,-1011,-8106,16085,2099,-2353,2866,7330],3,15,3986],"panasonic dmc-gf2":[[7888,-1902,-1011,-8106,16085,2099,-2353,2866,7330],3,150,3956],"panasonic dmc-gm1":[[6770,-1895,-744,-5232,13145,2303,-1664,2691,5703],0,143,3971],"panasonic dmc-gm5":[[8238,-3244,-679,-3921,11814,2384,-836,2022,5852],0,143,4095],"panasonic dmc-g3":[[6763,-1919,-863,-3868,11515,2684,-1216,2387,5879],2,143,3956],"panasonic dmc-g5":[[7798,-2562,-740,-3879,11584,2613,-1055,2248,5434],0,150,3956],"panasonic dmc-g6":[[8294,-2891,-651,-3869,11590,2595,-1183,2267,5352],0,142,3956],"panasonic dmc-g7":[[7610,-2780,-576,-4614,12195,2733,-1375,2393,6490],0,143,4095],"panasonic dmc-g70":[[7610,-2780,-576,-4614,12195,2733,-1375,2393,6490],0,143,4095],"panasonic dmc-g8":[[7610,-2780,-576,-4614,12195,2733,-1375,2393,6490],0,143,4095],"panasonic dmc-g80":[[7610,-2780,-576,-4614,12195,2733,-1375,2393,6490],0,143,4095],"panasonic dmc-g81":[[7610,-2780,-576,-4614,12195,2733,-1375,2393,6490],0,143,4095],"panasonic dmc-g85":[[7610,-2780,-576,-4614,12195,2733,-1375,2393,6490],0,143,4095],"panasonic dmc-gf3":[[9051,-2468,-1204,-5212,13276,2121,-1197,2510,6890],3,150,3956],"panasonic dmc-gf5":[[8228,-2945,-660,-3938,11792,2430,-1094,2278,5793],3,150,3956],"panasonic dmc-gf6":[[8130,-2801,-946,-3520,11289,2552,-1314,2511,5791],2,150,3956],"panasonic dmc-gf7":[[7610,-2780,-576,-4614,12195,2733,-1375,2393,6490],0,143,4095],"panasonic dmc-gh2":[[7780,-2410,-806,-3913,11724,2484,-1018,2390,5298],3,15,3800],"panasonic dmc-fz35":[[9938,-2780,-890,-4604,12393,2480,-1117,2304,4620],0,150,3986],"panasonic dmc-fz38":[[9938,-2780,-890,-4604,12393,2480,-1117,2304,4620],0,150,3986],"panasonic dmc-fz45":[[13639,-5535,-1371,-1698,9633,2430,316,1152,4108],3,150,3986],"panasonic dmc-fz40":[[13639,-5535,-1371,-1698,9633,2430,316,1152,4108],3,150,3986],"panasonic dmc-fz70":[[11532,-4324,-1066,-2375,10847,1749,-564,1699,4351],1,120,3971],"panasonic dmc-fz72":[[11532,-4324,-1066,-2375,10847,1749,-564,1699,4351],1,120,3971],"panasonic dmc-fz100":[[16197,-6146,-1761,-2393,10765,1869,366,2238,5248],3,120,3986],"panasonic dmc-fz1000":[[7830,-2696,-763,-3325,11667,1866,-641,1712,4824],3,143,4095],"panasonic dmc-gx1":[[6763,-1919,-863,-3868,11515,2684,-1216,2387,5879],2,150,3956],"panasonic dmc-gx7":[[7610,-2780,-576,-4614,12195,2733,-1375,2393,6490],0,150,3956],"panasonic dmc-gx8":[[7564,-2263,-606,-3148,11239,2177,-540,1435,4853],3,143,4095],"panasonic dmc-gx85":[[7771,-3020,-629,-4029,11950,2345,-821,1977,6119],0,143,4095],"panasonic dmc-gx80":[[7771,-3020,-629,-4029,11950,2345,-821,1977,6119],0,143,4095],"panasonic dmc-gx7mk2":[[7771,-3020,-629,-4029,11950,2345,-821,1977,6119],0,143,4095],"panasonic dmc-lf1":[[9379,-3267,-816,-3227,11560,1881,-926,1928,5340],1,143,3971],"panasonic dmc-lx3":[[8128,-2668,-655,-6134,13307,3161,-1782,2568,6083],0,15,3971],"panasonic dmc-lx15":[[7790,-2736,-755,-3452,11870,1769,-628,1647,4898],3,143,4095],"panasonic dmc-lx9":[[7790,-2736,-755,-3452,11870,1769,-628,1647,4898],3,143,4095],"panasonic dmc-lx10":[[7790,-2736,-755,-3452,11870,1769,-628,1647,4898],3,143,4095],"leica c (typ 112)":[[9379,-3267,-816,-3227,11560,1881,-926,1928,5340],1,146,3956],"leica digilux 2":[[11340,-4069,-1275,-7555,15266,2448,-2960,3426,7685],1,0,4095],"leica d-lux 3":[[8048,-2810,-623,-6450,13519,3272,-1700,2146,7049],0,0,3986],"leica v-lux 1":[[7906,-2709,-594,-6231,13351,3220,-1922,2631,6537],0,0,3986],"panasonic dmc-l10":[[8025,-1942,-1050,-7920,15904,2100,-2456,3005,7039],3,0,3986],"panasonic dmc-fz30":[[10976,-4029,-1141,-7918,15491,2600,-1670,2071,8246],1,0,3971],"panasonic dmc-fz50":[[7906,-2709,-594,-6231,13351,3220,-1922,2631,6537],0,0,3986],"panasonic dmc-fz8":[[8986,-2755,-802,-6341,13575,3077,-1476,2144,6379],1,0,3986],"panasonic dmc-fz18":[[9932,-3060,-935,-5809,13331,2753,-1267,2155,5575],0,0,3986],"panasonic dmc-l1":[[8054,-1885,-1025,-8349,16367,2040,-2805,3542,7629],3,0,3986],"panasonic dmc-lx2":[[8048,-2810,-623,-6450,13519,3272,-1700,2146,7049],0,0,3986],"leica d-lux 4":[[8128,-2668,-655,-6134,13307,3161,-1782,2568,6083],0,15,3971],"panasonic dmc-lx5":[[10909,-4295,-948,-1333,9306,2399,22,1738,4582],2,150,3986],"leica d-lux 5":[[10909,-4295,-948,-1333,9306,2399,22,1738,4582],2,150,3986],"panasonic dmc-lx7":[[10148,-3743,-991,-2837,11366,1659,-701,1893,4899],2,150,3971],"leica d-lux 6":[[10148,-3743,-991,-2837,11366,1659,-701,1893,4899],2,150,3971],"leica d-lux (typ 109)":[[8844,-3538,-768,-3709,11762,2200,-698,1792,5220],0,143,4095],"panasonic dmc-lx1":[[10704,-4187,-1230,-8314,15952,2501,-920,945,8927],1,0,3971],"panasonic dmc-lx100":[[8844,-3538,-768,-3709,11762,2200,-698,1792,5220],0,143,4095],"panasonic dc-lx100m2":[[8585,-3127,-833,-4005,12250,1953,-650,1494,4862],0,143,4095],"panasonic dmc-tz60":[[8607,-2822,-808,-3755,11930,2049,-820,2060,5224],1,145,3971],"panasonic dmc-tz61":[[8607,-2822,-808,-3755,11930,2049,-820,2060,5224],1,145,3971],"panasonic dmc-zs40":[[8607,-2822,-808,-3755,11930,2049,-820,2060,5224],1,145,3971],"panasonic dmc-tz71":[[8802,-3135,-789,-3151,11468,1904,-550,1745,4810],1,143,3971],"panasonic dmc-zs50":[[8802,-3135,-789,-3151,11468,1904,-550,1745,4810],1,143,3971],"panasonic dmc-tz70":[[8802,-3135,-789,-3151,11468,1904,-550,1745,4810],1,143,3971],"panasonic dmc-tz81":[[8550,-2908,-842,-3195,11529,1881,-338,1603,4631],3,142,4095],"panasonic dmc-zs60":[[8550,-2908,-842,-3195,11529,1881,-338,1603,4631],3,142,4095],"panasonic dmc-tz80":[[8550,-2908,-842,-3195,11529,1881,-338,1603,4631],3,142,4095],"panasonic dmc-tz85":[[8550,-2908,-842,-3195,11529,1881,-338,1603,4631],3,142,4095],"panasonic dmc-tz100":[[7790,-2736,-755,-3452,11870,1769,-628,1647,4898],3,142,4095],"panasonic dmc-zs100":[[7790,-2736,-755,-3452,11870,1769,-628,1647,4898],3,142,4095],"panasonic dmc-zs110":[[7790,-2736,-755,-3452,11870,1769,-628,1647,4898],3,142,4095],"panasonic dmc-tz101":[[7790,-2736,-755,-3452,11870,1769,-628,1647,4898],3,142,4095],"panasonic dmc-tz110":[[7790,-2736,-755,-3452,11870,1769,-628,1647,4898],3,142,4095],"panasonic dmc-tx1":[[7790,-2736,-755,-3452,11870,1769,-628,1647,4898],3,142,4095],"panasonic dc-fz82":[[8550,-2908,-842,-3195,11529,1881,-338,1603,4631],3,143,4095],"panasonic dc-fz80":[[8550,-2908,-842,-3195,11529,1881,-338,1603,4631],3,143,4095],"panasonic dmc-fz80":[[8550,-2908,-842,-3195,11529,1881,-338,1603,4631],3,143,4095],"panasonic dmc-fz85":[[8550,-2908,-842,-3195,11529,1881,-338,1603,4631],3,143,4095],"panasonic dc-gh5":[[7641,-2336,-605,-3218,11299,2187,-485,1338,5121],1,143,4095],"panasonic dc-gh5s":[[6929,-2355,-708,-4192,12534,1828,-1097,1989,5195],1,510,8e3],"panasonic dc-g9":[[7685,-2375,-634,-3687,11700,2249,-748,1546,5111],1,148,4095],"panasonic dc-gf9":[[7610,-2780,-576,-4614,12195,2733,-1375,2393,6490],0,143,4095],"panasonic dc-gx800":[[7610,-2780,-576,-4614,12195,2733,-1375,2393,6490],0,143,4095],"panasonic dc-gx850":[[7610,-2780,-576,-4614,12195,2733,-1375,2393,6490],0,143,4095],"panasonic dc-gx9":[[7564,-2263,-606,-3148,11239,2177,-540,1435,4853],0,143,4095],"panasonic dc-tz90":[[9052,-3117,-883,-3045,11346,1927,-205,1520,4730],3,139,4095],"panasonic dc-zs70":[[9052,-3117,-883,-3045,11346,1927,-205,1520,4730],3,139,4095],"panasonic dc-fz91":[[9052,-3117,-883,-3045,11346,1927,-205,1520,4730],3,139,4095],"panasonic dc-fz92":[[9052,-3117,-883,-3045,11346,1927,-205,1520,4730],3,139,4095],"panasonic dc-fz93":[[9052,-3117,-883,-3045,11346,1927,-205,1520,4730],3,139,4095],"panasonic dc-tz202":[[7790,-2736,-755,-3452,11870,1769,-628,1647,4898],3,142,4095],"panasonic dc-tz200":[[7790,-2736,-755,-3452,11870,1769,-628,1647,4898],3,142,4095],"pentax k100d":[[11095,-3157,-1324,-8377,15834,2720,-1108,947,11688],1,127,3950],"pentax k110d":[[11095,-3157,-1324,-8377,15834,2720,-1108,947,11688],1,127,4095],"pentax k100d super":[[11095,-3157,-1324,-8377,15834,2720,-1108,947,11688],1,127,4095],"pentax *ist d":[[9651,-2059,-1189,-8881,16512,2487,-1460,1345,10687],1,128,4095],"pentax *ist dl":[[10829,-2838,-1115,-8339,15817,2696,-837,680,11939],1,128,4095],"pentax *ist dl2":[[10504,-2438,-1189,-8603,16207,2531,-1022,863,12242],1,127,3950],"pentax *ist ds":[[10371,-2333,-1206,-8688,16231,2602,-1230,1116,11282],1,128,3950],"pentax k10d":[[9566,-2863,-803,-7170,15172,2112,-818,803,9705],1,0,4095],"pentax k20d":[[9427,-2714,-868,-7493,16092,1373,-2199,3264,7180],0,0,4095],"pentax k200d":[[9186,-2678,-907,-8693,16517,2260,-1129,1094,8524],1,0,4095],"pentax k-s1":[[8512,-3211,-787,-4167,11966,2487,-638,1288,6054],1,32,4062],"pentax k-s2":[[8662,-3280,-798,-3928,11771,2444,-586,1232,6054],1,0,3839],"pentax k-70":[[8113,-2078,-1275,-4359,12953,1514,-1091,1955,6044],1,64,16319],"pentax k-1":[[8827,-2829,-1238,-3611,12203,1549,-897,1687,6291],1,64,16316],"pentax k-1 mark ii":[[8952,-2869,-1256,-3612,12204,1550,-934,1757,6549],1,64,16316],"pentax k-3":[[7415,-2052,-721,-5186,12788,2682,-1446,2157,6773],1,1,15868],"pentax k-3 ii":[[7415,-2052,-721,-5186,12788,2682,-1446,2157,6773],1,1,15865],"pentax k-5":[[8713,-2833,-743,-4342,11900,2772,-722,1543,6247],0,512,16383],"pentax k-5 ii":[[8170,-2725,-639,-4440,12017,2744,-771,1465,6599],0,512,16383],"pentax k-5 ii s":[[8170,-2725,-639,-4440,12017,2744,-771,1465,6599],0,512,15863],"pentax k-7":[[9142,-2947,-678,-8648,16967,1663,-2224,2898,8615],0,0,4095],"pentax k-m":[[11057,-3604,-1155,-5152,13046,2329,-282,375,8104],1,0,4095],"pentax k-x":[[8843,-2837,-625,-5025,12644,2668,-411,1234,7410],0,41,4095],"pentax k-r":[[9895,-3077,-850,-5304,13035,2521,-883,1768,6936],0,64,4e3],"pentax kp":[[8617,-3228,-1034,-4674,12821,2044,-803,1577,5728],1,128,16254],"pentax k2000":[[11057,-3604,-1155,-5152,13046,2329,-282,375,8104],1,0,4095],"pentax 645d":[[9814,-2716,-1439,-5049,13907,1166,-1830,3836,5706],0,0,15767],"pentax 645z":[[9551,-3012,-1235,-3685,12133,1721,-1019,1887,6544],1,1,16316],"samsung ex2f":[[10648,-3897,-1055,-2022,10573,1668,-492,1611,4742],1,0,4095],"samsung ex1":[[8898,-2498,-994,-3144,11328,2066,-760,1381,4576],1,0,16383],"samsung nx1":[[10686,-4042,-1052,-3595,13238,276,-464,1259,5931],2,1024,16100],"samsung nx5":[[10332,-3234,-1168,-6111,14639,1520,-1352,2647,8331],0,0,4095],"samsung nx10":[[10332,-3234,-1168,-6111,14639,1520,-1352,2647,8331],0,0,4095],"samsung nx11":[[10332,-3234,-1168,-6111,14639,1520,-1352,2647,8331],0,0,4095],"samsung nx100":[[10332,-3234,-1168,-6111,14639,1520,-1352,2647,8331],0,0,4095],"samsung nx1000":[[6933,-2268,-753,-4921,13387,1647,-803,1641,6096],2,0,4095],"samsung nx1100":[[6933,-2268,-753,-4921,13387,1647,-803,1641,6096],2,0,4095],"samsung nx20":[[6933,-2268,-753,-4921,13387,1647,-803,1641,6096],2,0,4095],"samsung nx200":[[6933,-2268,-753,-4921,13387,1647,-803,1641,6096],2,0,4095],"samsung nx210":[[6933,-2268,-753,-4921,13387,1647,-803,1641,6096],2,0,4095],"samsung nx2000":[[7557,-2522,-739,-4679,12949,1894,-840,1777,5311],2,0,4095],"samsung nx30":[[7557,-2522,-739,-4679,12949,1894,-840,1777,5311],2,0,4095],"samsung nx300":[[7557,-2522,-739,-4679,12949,1894,-840,1777,5311],2,0,4095],"samsung nx300m":[[7557,-2522,-739,-4679,12949,1894,-840,1777,5311],2,0,4095],"samsung nx3000":[[8060,-2933,-761,-4504,12890,1762,-630,1489,5227],2,0,4095],"samsung nx500":[[10686,-4042,-1052,-3595,13238,276,-464,1259,5931],2,1024,16100],"samsung ek-gn120":[[7557,-2522,-739,-4679,12949,1894,-840,1777,5311],3,0,4095],"samsung wb2000":[[12093,-3557,-1155,-1e3,9534,1733,-22,1787,4576],1,0,4095],"sony dsc-rx0":[[9396,-3507,-843,-2497,11111,1572,-343,1355,5089],1,800,16620],"sony dsc-rx10":[[6679,-1825,-745,-5047,13256,1953,-1580,2422,5183],1,800,16300],"sony dsc-rx10m2":[[6679,-1825,-745,-5047,13256,1953,-1580,2422,5183],1,800,16300],"sony dsc-rx10m3":[[6679,-1825,-745,-5047,13256,1953,-1580,2422,5183],1,800,16300],"sony dsc-rx10m4":[[7699,-2566,-629,-2967,11270,1928,-378,1286,4807],1,800,16380],"sony dsc-rx100":[[8651,-2754,-1057,-3464,12207,1373,-568,1398,4434],1,800,16620],"sony dsc-rx100m2":[[6596,-2079,-562,-4782,13016,1933,-970,1581,5181],1,800,16300],"sony dsc-rx100m3":[[6596,-2079,-562,-4782,13016,1933,-970,1581,5181],1,800,16300],"sony dsc-rx100m4":[[6596,-2079,-562,-4782,13016,1933,-970,1581,5181],1,800,16300],"sony dsc-rx100m5":[[6596,-2079,-562,-4782,13016,1933,-970,1581,5181],1,800,16300],"sony dsc-rx100m5a":[[11176,-4700,-965,-4004,12184,2032,-763,1726,5876],1,800,16300],"sony dsc-rx100m6":[[7325,-2321,-596,-3494,11674,2055,-668,1562,5031],1,800,16300],"sony dsc-rx1r":[[6344,-1612,-462,-4863,12477,2681,-865,1786,6899],1,512,33192],"sony dsc-rx1rm2":[[6629,-1900,-483,-4618,12349,2550,-622,1381,6514],1,512,16300],"sony dslr-a100":[[9437,-2811,-774,-8405,16215,2290,-710,596,7181],2,0,4095],"sony dslr-a200":[[9847,-3091,-928,-8485,16345,2225,-715,595,7103],1,0,4095],"sony dslr-a230":[[9847,-3091,-928,-8485,16345,2225,-715,595,7103],1,0,4095],"sony dslr-a290":[[6038,-1484,-579,-9145,16746,2512,-875,746,7218],1,0,4095],"sony dslr-a300":[[9847,-3091,-928,-8485,16345,2225,-715,595,7103],1,0,4095],"sony dslr-a330":[[9847,-3091,-929,-8485,16346,2225,-714,595,7103],1,0,4095],"sony dslr-a350":[[6038,-1484,-578,-9146,16746,2513,-875,746,7217],1,0,4095],"sony dslr-a380":[[6038,-1484,-579,-9145,16746,2512,-875,746,7218],1,0,4095],"sony dslr-a390":[[6038,-1484,-579,-9145,16746,2512,-875,746,7218],1,0,4095],"sony dslr-a450":[[4950,-580,-103,-5228,12542,3029,-709,1435,7371],1,500,16e3],"sony dslr-a500":[[6046,-1127,-278,-5574,13076,2786,-691,1419,7625],0,500,16600],"sony dslr-a550":[[4950,-580,-103,-5228,12542,3029,-709,1435,7371],0,512,16372],"sony dslr-a560":[[4950,-580,-103,-5228,12542,3029,-709,1435,7371],0,476,16596],"sony dslr-a580":[[5932,-1492,-411,-4813,12285,2856,-741,1524,6739],0,520,16596],"sony dslr-a700":[[5775,-805,-359,-8574,16295,2391,-1943,2341,7249],0,520,16383],"sony dslr-a850":[[5413,-1162,-365,-5665,13098,2866,-608,1179,8440],0,500,15e3],"sony dslr-a900":[[5209,-1072,-397,-8845,16120,2919,-1618,1803,8654],1,520,16383],"sony nex-3":[[6907,-1256,-645,-4940,12621,2320,-1710,2581,6230],1,520,16360],"sony nex-3n":[[6129,-1545,-418,-4930,12490,2743,-977,1693,6615],1,520,16596],"sony nex-5":[[6807,-1350,-342,-4216,11649,2567,-1089,2001,6420],1,520,16383],"sony nex-5n":[[5991,-1456,-455,-4764,12135,2980,-707,1425,6701],1,520,16596],"sony nex-5r":[[6129,-1545,-418,-4930,12490,2743,-977,1693,6615],1,520,16596],"sony nex-5t":[[6129,-1545,-418,-4930,12490,2743,-977,1693,6615],1,512,16300],"sony nex-6":[[6129,-1545,-418,-4930,12490,2743,-977,1693,6615],1,520,16596],"sony nex-7":[[5491,-1192,-363,-4951,12342,2948,-911,1722,7192],1,512,16300],"sony nex-c3":[[5991,-1456,-455,-4764,12135,2980,-707,1425,6701],1,520,16596],"sony nex-f3":[[5991,-1456,-455,-4764,12135,2980,-707,1425,6701],1,520,16360],"sony ilce-3000":[[5991,-1456,-455,-4764,12135,2980,-707,1425,6701],1,512,16300],"sony ilce-3500":[[5991,-1456,-455,-4764,12135,2980,-707,1425,6701],1,512,16300],"sony ilce-5000":[[5991,-1456,-455,-4764,12135,2980,-707,1425,6701],1,512,16300],"sony ilce-5100":[[5991,-1456,-455,-4764,12135,2980,-707,1425,6701],1,512,16300],"sony ilce-6000":[[5991,-1456,-455,-4764,12135,2980,-707,1425,6701],1,512,16300],"sony ilce-6300":[[5973,-1695,-419,-3826,11797,2293,-639,1398,5789],1,512,16300],"sony ilce-6500":[[5973,-1695,-419,-3826,11797,2293,-639,1398,5789],1,512,16300],"sony ilce-7":[[5271,-712,-347,-6153,13653,2763,-1601,2366,7242],1,512,16300],"sony ilce-7m2":[[5271,-712,-347,-6153,13653,2763,-1601,2366,7242],1,512,16300],"sony ilce-7m3":[[7374,-2389,-551,-5435,13162,2519,-1006,1795,6552],1,512,16300],"sony ilce-7r":[[4913,-541,-202,-6130,13513,2906,-1564,2151,7183],1,512,16300],"sony ilce-7rm2":[[6629,-1900,-483,-4618,12349,2550,-622,1381,6514],1,512,16300],"sony ilce-7rm3":[[6640,-1847,-503,-5238,13010,2474,-993,1673,6527],1,512,16383],"sony ilce-7s":[[5838,-1430,-246,-3497,11477,2297,-748,1885,5778],1,512,16300],"sony ilce-7sm2":[[5838,-1430,-246,-3497,11477,2297,-748,1885,5778],1,512,16300],"sony ilce-9":[[6389,-1703,-378,-4562,12265,2587,-670,1489,6550],1,512,16383],"sony dsc-rx1":[[6344,-1612,-462,-4863,12477,2681,-865,1786,6899],1,520,16628],"sony slt-a33":[[6069,-1221,-366,-5221,12779,2734,-1024,2066,6834],1,520,16596],"sony slt-a35":[[5986,-1618,-415,-4557,11820,3120,-681,1404,6971],1,545,16596],"sony slt-a37":[[5991,-1456,-455,-4764,12135,2980,-707,1425,6701],1,520,16500],"sony slt-a55":[[5932,-1492,-411,-4813,12285,2856,-741,1524,6739],1,520,16596],"sony slt-a55v":[[5932,-1492,-411,-4813,12285,2856,-741,1524,6739],1,520,16596],"sony slt-a57":[[5991,-1456,-455,-4764,12135,2980,-707,1425,6701],1,512,16596],"sony slt-a58":[[5991,-1456,-455,-4764,12135,2980,-707,1425,6701],1,520,16596],"sony slt-a65":[[5491,-1192,-363,-4951,12342,2948,-911,1722,7192],1,520,16596],"sony slt-a65v":[[5491,-1192,-363,-4951,12342,2948,-911,1722,7192],1,520,16596],"sony slt-a77":[[5491,-1192,-363,-4951,12342,2948,-911,1722,7192],1,520,16596],"sony slt-a77v":[[5491,-1192,-363,-4951,12342,2948,-911,1722,7192],1,520,16596],"sony ilca-77m2":[[5991,-1732,-443,-4100,11989,2381,-704,1467,5992],1,512,16300],"sony ilca-68":[[6435,-1903,-536,-4722,12449,2550,-663,1363,6517],1,512,16300],"sony ilca-99m2":[[6660,-1918,-471,-4613,12398,2485,-649,1433,6447],1,512,16300],"sony slt-a99":[[6344,-1612,-462,-4863,12477,2681,-865,1786,6899],1,520,16596],"sony slt-a99v":[[6344,-1612,-462,-4863,12477,2681,-865,1786,6899],1,520,16596],"sinar hy6":[[16442,-2956,-2422,-2877,12128,750,-1136,6066,4559],1,0,0],"fujifilm finepix s6000fd":[[12628,-4887,-1401,-6861,14996,1962,-2198,2782,7091],3,0,15872],"fujifilm finepix s100fs":[[11521,-4355,-1065,-6524,13767,3058,-1466,1984,6045],3,512,16383],"fujifilm finepix s200exr":[[11401,-4498,-1312,-5088,12751,2613,-838,1568,5941],1,519,16250],"fujifilm finepix f600exr":[[13690,-5358,-1474,-3369,11600,1998,-132,1554,4395],1,256,3900],"fujifilm finepix f700":[[10004,-3219,-1201,-7036,15047,2107,-1863,2565,7736],3,0,16383],"fujifilm finepix f770exr":[[13690,-5358,-1474,-3369,11600,1998,-132,1554,4395],1,256,3900],"fujifilm finepix f900exr":[[12085,-4727,-953,-3257,11489,2002,-511,2046,4592],0,256,3900],"fujifilm finepix e550":[[11044,-3888,-1120,-7248,15168,2208,-1531,2277,8069],3,0,15875],"fujifilm is-1":[[21461,-10807,-1441,-2332,10599,1999,289,875,7703],3,0,15872],"fujifilm finepix s3pro":[[11807,-4612,-1294,-8927,16968,1988,-2120,2741,8006],3,0,15872],"fujifilm finepix s5pro":[[12300,-5110,-1304,-9117,17143,1998,-1947,2448,8100],3,0,15872],"fujifilm finepix s5600":[[9636,-2804,-988,-7442,15040,2589,-1803,2311,8621],3,0,15872],"fujifilm finepix e900":[[9183,-2526,-1078,-7461,15071,2574,-2022,2440,8639],3,0,15872],"fujifilm finepix s2pro":[[12492,-4690,-1402,-7033,15423,1647,-1507,2111,7697],3,128,4095],"fujifilm finepix s5000":[[8754,-2732,-1019,-7204,15069,2276,-1702,2334,6982],3,0,15872],"fujifilm finepix s5200":[[9636,-2804,-988,-7442,15040,2589,-1803,2311,8621],3,0,15872],"fujifilm finepix s5500":[[11940,-4431,-1255,-6766,14428,2542,-993,1165,7421],1,0,15872],"fujifilm finepix s6500fd":[[12628,-4887,-1401,-6861,14996,1962,-2198,2782,7091],3,0,15872],"fujifilm finepix s9500":[[10491,-3423,-1145,-7385,15027,2538,-1809,2275,8692],3,0,15872],"fujifilm finepix s9000":[[10491,-3423,-1145,-7385,15027,2538,-1809,2275,8692],3,0,15872],"fujifilm finepix s9600":[[12343,-4515,-1285,-7165,14899,2435,-1895,2496,8800],3,0,15872],"fujifilm finepix s9600fd":[[12343,-4515,-1285,-7165,14899,2435,-1895,2496,8800],3,0,15872],"fujifilm finepix hs10 hs11":[[12440,-3954,-1183,-1123,9674,1708,-83,1614,4086],0,50,3900],"fujifilm finepix hs20exr":[[13690,-5358,-1474,-3369,11600,1998,-132,1554,4395],1,256,3900],"fujifilm finepix hs30exr":[[13690,-5358,-1474,-3369,11600,1998,-132,1554,4395],1,258,3900],"fujifilm finepix hs50exr":[[12085,-4727,-953,-3257,11489,2002,-511,2046,4592],0,256,3900],"fujifilm finepix x100":[[12161,-4457,-1069,-5034,12874,2400,-795,1724,6904],0,254,4e3],"fujifilm finepix x10":[[13509,-6199,-1254,-4430,12733,1865,-331,1441,5022],0,256,4e3],"fujifilm x-s1":[[13509,-6199,-1254,-4430,12733,1865,-331,1441,5022],0,260,4e3],"fujifilm gfx 50s":[[11756,-4754,-874,-3056,11045,2305,-381,1457,6006],1,65,16383],"fujifilm x-pro1":[[10413,-3996,-993,-3721,11640,2361,-733,1540,6011],2,256,4094],"fujifilm x-pro2":[[11434,-4948,-1210,-3746,12042,1903,-666,1479,5235],1,1024,16383],"fujifilm x70":[[10450,-4329,-878,-3217,11105,2421,-752,1758,6519],1,1024,16383],"fujifilm xf1":[[13509,-6199,-1254,-4430,12733,1865,-331,1441,5022],0,257,4e3],"fujifilm x-e1":[[10413,-3996,-993,-3721,11640,2361,-733,1540,6011],2,255,4094],"fujifilm x20":[[11768,-4971,-1133,-4904,12927,2183,-480,1723,4605],3,257,4094],"fujifilm x30":[[12328,-5256,-1144,-4469,12927,1675,-87,1291,4351],3,257,4094],"fujifilm x100f":[[11434,-4948,-1210,-3746,12042,1903,-666,1479,5235],1,1024,16383],"fujifilm x100s":[[10592,-4262,-1008,-3514,11355,2465,-870,2025,6386],1,1024,16383],"fujifilm x100t":[[10592,-4262,-1008,-3514,11355,2465,-870,2025,6386],1,1024,16383],"fujifilm x-h1":[[11434,-4948,-1210,-3746,12042,1903,-666,1479,5235],1,1024,16383],"fujifilm x-m1":[[10413,-3996,-993,-3721,11640,2361,-733,1540,6011],2,256,4094],"fujifilm x-a1":[[11086,-4555,-839,-3512,11310,2517,-815,1341,5940],1,256,4094],"fujifilm x-a2":[[10763,-4560,-917,-3346,11311,2322,-475,1135,5843],1,256,4094],"fujifilm x-a3":[[12407,-5222,-1086,-2971,11116,2120,-294,1029,5284],1,1024,16383],"fujifilm x-a5":[[11673,-4760,-1041,-3988,12058,2166,-771,1417,5569],1,1024,16383],"fujifilm xq1":[[9252,-2704,-1064,-5893,14265,1717,-1101,2341,4349],3,257,4094],"fujifilm xq2":[[9252,-2704,-1064,-5893,14265,1717,-1101,2341,4349],3,257,4094],"fujifilm x-e2":[[8458,-2451,-855,-4597,12447,2407,-1475,2482,6526],1,1024,16383],"fujifilm x-e3":[[11434,-4948,-1210,-3746,12042,1903,-666,1479,5235],1,1023,16383],"fujifilm x-e2s":[[11562,-5118,-961,-3022,11007,2311,-525,1569,6097],1,1024,16383],"fujifilm x-t1":[[8458,-2451,-855,-4597,12447,2407,-1475,2482,6526],1,1024,16383],"fujifilm x-t2":[[11434,-4948,-1210,-3746,12042,1903,-666,1479,5235],1,1024,16383],"fujifilm x-t3":[[16393,-7740,-1436,-4238,12131,2371,-633,1424,6553],2,1022,16383],"fujifilm x-t10":[[8458,-2451,-855,-4597,12447,2407,-1475,2482,6526],1,1024,16383],"fujifilm x-t20":[[10592,-4262,-1008,-3514,11355,2465,-870,2025,6386],1,1024,16383],"fujifilm x-t30":[[16393,-7740,-1436,-4238,12131,2371,-633,1424,6553],2,1022,16383],"fujifilm x-t100":[[11673,-4760,-1041,-3988,12058,2166,-771,1417,5569],1,1024,16383],"minolta dimage a1":[[9274,-2547,-1167,-8220,16323,1943,-2273,2720,8340],1,0,3965],"minolta dimage 5":[[8983,-2942,-963,-6556,14476,2237,-2426,2887,8014],1,0,3965],"minolta dimage 7":[[9144,-2777,-998,-6676,14556,2281,-2470,3019,7744],1,0,3965],"minolta dimage 7i":[[10880,-3638,-1186,-6496,14313,2364,-2456,3092,7485],1,0,3965],"minolta dimage 7hi":[[11368,-3894,-1242,-6521,14358,2339,-2475,3056,7285],1,0,3965],"sony dsc-f828":[[7924,-1910,-777,-8226,15459,2998,-1517,2199,6818,-7242,11401,3481],0,495,16383],"sony dsc-hx99":[[13076,-5686,-1481,-4027,12851,1251,-167,725,4937],1,800,16300],"sony dsc-r1":[[8512,-2641,-694,-8042,15670,2526,-1821,2117,7414],2,511,16383],"mamiya zd":[[7645,2579,-1363,-8689,16717,2015,-3712,5941,5961],1,0,4e3],"leaf aptus 22":[[8236,1746,-1314,-8251,15953,2428,-3673,5786,5771],1,0,16191],"leaf credo 40":[[8035,435,-962,-6001,13872,2320,-1159,3065,5434],1,0,16383],"leaf credo 60":[[8035,435,-962,-6001,13872,2320,-1159,3065,5434],1,0,16383],"leaf credo 80":[[8035,435,-962,-6001,13872,2320,-1159,3065,5434],1,0,16383],"leaf aptus-ii 5":[[1846,7955,-1222,-12994,19563,3596,-2035,3340,5136],2,0,15e3],"phase one p30":[[4516,-245,-37,-7020,14976,2173,-3206,4671,7087],2,0,16383],"phase one p65+":[[8035,435,-962,-6001,13872,2320,-1159,3065,5434],1,0,16383],"phase one iq140":[[8035,435,-962,-6001,13872,2320,-1159,3065,5434],1,0,65535],"phase one iq250":[[3984,0,0,0,1e4,0,0,0,7666],1,1024,65535],"kodak dcs pro slr/n":[[5494,2393,-232,-6427,13850,2846,-1876,3997,5445],2,0,4095],"kodak dcs pro 14n":[[5494,2393,-232,-6427,13850,2846,-1876,3997,5445],2,0,3700],"kodak dcs pro 14nx":[[5494,2393,-232,-6427,13850,2846,-1876,3997,5445],2,0,3700],"kodak dcs460":[[10592,-2206,-967,-1944,11685,230,2206,670,1273],2,7,6664],"kodak dcs520c":[[24542,-10860,-3401,-1490,11370,-297,2858,-605,3225],2,176,4095],"kodak dcs560c":[[20482,-7172,-3125,-1033,10410,-285,2542,226,3136],2,208,4095],"kodak dcs760c":[[16623,-6309,-1411,-4344,13923,323,2285,274,2926],2,0,3500],"kodak p880":[[12805,-4662,-1376,-7480,15267,2360,-1626,2194,7904],0,0,4095],"kodak easyshare z980 digital camera":[[11313,-3559,-1101,-3893,11891,2257,-1214,2398,4908],1,0,4095],"kodak z1015 is":[[11265,-4286,-992,-4694,12343,2647,-1090,1523,5447],0,0,4095],"epson r-d1":[[6827,-1878,-732,-8429,16012,2564,-704,592,7145],1,63,4095],"hasselblad cfv-50":[[5656,-659,-346,-3923,12306,1791,-1602,3509,5442],1,256,65535],"hasselblad h3d":[[3857,452,-46,-6008,14477,1596,-2627,4481,5718],1,0,31456],"hasselblad h5d-40":[[6159,-1402,-177,-5439,12762,3007,-955,2200,7104],1,256,62914],"hasselblad h5d-50c":[[4932,-835,141,-4878,11868,3437,-1138,1961,7067],1,256,62914],"canon powershot a610":[[15591,-6402,-1592,-5365,13198,2168,-1300,1824,5075],1,0,1023,2672,1968],"canon powershot s3 is":[[14062,-5199,-1446,-4712,12470,2243,-1286,2028,4836],1,0,1023,2888,2136],"canon powershot a620":[[15265,-6193,-1558,-4125,12116,2010,-888,1639,5220],1,0,1023,3152,2340],"canon powershot a720 is":[[14573,-5482,-1546,-1266,9799,1468,-1040,1912,3810],3,0,1023,3336,2480],"canon powershot a630":[[14201,-5308,-1757,-6087,14472,1617,-2191,3105,5348],1,0,1023,3344,2484],"canon powershot a640":[[13124,-5329,-1390,-3602,11658,1944,-1612,2863,4885],1,0,1023,3736,2772],"canon powershot a650":[[9427,-3036,-959,-2581,10671,1911,-1039,1982,4430],1,0,1023,4104,3048],"canon powershot sx110 is":[[14134,-5576,-1527,-1991,10719,1273,-1158,1929,3581],1,0,4095,3720,2772],"gitup git2":[[8489,-2583,-1036,-8051,15583,2643,-1307,1407,7354],1,3200,65535,4608,3456],"gitup git2p":[[8489,-2583,-1036,-8051,15583,2643,-1307,1407,7354],1,4160,65535,4624,3488],"paralenz dive camera":[[8489,-2583,-1036,-8051,15583,2643,-1307,1407,7354],1,1024,16383,3840,2160],"sjcam sj6 legend":[[9489,-3814,-225,-6650,13742,3236,-627,797,7550],1,0,4095,4024,3036]};
Z.uL={};Z.uL.uL=function(p,d,K,A,x){if(A==null)A=3;if(x==null)x==!0;var M=p.t,G=p.D,D=1/M,P=M*G,a=Date.now(),e=!1,f=Z.uL.Md(K,M,G,255,128),N=Z.uL.Md(K,M,G,0,128),M$=0;
if(e)console.log("extract contours",Date.now()-a);a=Date.now();var Y=function(QA,Qb){var MS=QA<<2,QR=Qb<<2;
return d[MS]+d[MS+1]+d[MS+2]-(d[QR]+d[QR+1]+d[QR+2])};f.sort(Y);N.sort(Y);var l=Z.p(P),h=Z.p(P),s=[],J=new Uint32Array(M*G);
J.fill(4294967295);for(var u=0;u<P;u++)if(K[u]==0)h[u]=255;else if(K[u]==255)l[u]=255;else{J[u]=s.length;
s.push(u)}var Q=f.length,W=N.length,q=s.length;function H(QA,Qb,MS,QR){var eG=QA.length,MG=new Array(eG*2);
for(var u=0;u<eG;u++){var j=QA[u],_=~~(j*QR),U=j-_*MS,et=j<<2;MG[u*2]=U<<16|_;MG[u*2+1]=Qb[et]<<16|Qb[et+1]<<8|Qb[et+2]}return MG}var C=H(f,d,M,D),k=H(N,d,M,D),i=H(s,d,M,D);
if(e)console.log("Itemize",Date.now()-a,"Unknown:",q,Q,W);a=Date.now();var m=Z.style.KM(l,M,G,!0),w=Z.style.KM(h,M,G,!0),S=new Array(q),o=new Array(q),O=new Array(q),t=new Array(q),c=new Array(q);
if(e)console.log("Dist transform",Date.now()-a);a=Date.now();var g=Z.uL.vs;for(var u=0;u<q;u++){var j=s[u],_=~~(j*D),U=j-_*M,$=m[j<<1],I=m[(j<<1)+1],E=Math.sqrt($*$+I*I),b=w[j<<1],z=w[(j<<1)+1],QS=Math.sqrt(b*b+z*z);
S[u]=1/E;o[u]=1/QS;var QQ=Math.floor(Z.h.ZP(j*17)*Q),Qe=Math.floor(Z.h.ZP(j*19)*W);O[u]=QQ;t[u]=Qe;c[u]=g(i[u*2],i[u*2+1],C[QQ*2],C[QQ*2+1],k[Qe*2],k[Qe*2+1],S[u],o[u],1e9)}var QB=[-M-1,-M,-M+1,-1,1,M-1,M,M+1];
while(Math.floor(Math.max(Q,W)*Math.pow(.5,M$))>1)M$++;for(var QU=0;QU<A;QU++){var Qt=0;for(var u=0;
u<q;u++){var j=s[u],_=~~(j*D),U=j-_*M,F=S[u],L=o[u],Qu=i[u*2],QK=i[u*2+1],Qm=c[u],QQ=O[u],Qe=t[u],QV=1;
if(_!=0&&U!=0&&U!=M-1&&_!=G-1)for(var ei=0;ei<8;ei++){var Qp=J[j+QB[ei]];if(Qp==4294967295)continue;
var QO=O[Qp],QE=t[Qp];if(QO==QQ&&QE==Qe)continue;var Qi=g(Qu,QK,C[QO*2],C[QO*2+1],k[QE*2],k[QE*2+1],F,L,Qm);
if(Qi<Qm){Qm=Qi;QQ=QO;Qe=QE}}for(var Q$=0;Q$<M$;Q$++){var eS=~~(Q*QV),Qs=~~(W*QV);QV*=.5;var Qw=Z.h.ZP(j+QU*17+Q$*31),Q_=Z.h.ZP(j+QU*29+Q$*63),QN=Math.max(0,QQ-eS),eK=Math.min(QQ+eS,Q-1),Qz=Math.max(0,Qe-Qs),eQ=Math.min(Qe+Qs,W-1),QO=QN+~~(Qw*(eK-QN)),QE=Qz+~~(Q_*(eQ-Qz)),Qi=g(Qu,QK,C[QO*2],C[QO*2+1],k[QE*2],k[QE*2+1],F,L,Qm);
if(Qi<Qm){Qm=Qi;QQ=QO;Qe=QE}}c[u]=Qm;O[u]=QQ;t[u]=Qe;Qt+=Qm}}if(e)console.log(Qt);if(e)console.log("iterations",Date.now()-a);
a=Date.now();var Qd=K.slice(0);for(var u=0;u<q;u++){var Qj=Z.uL.alpha(i[u*2+1],C[O[u]*2+1],k[t[u]*2+1]);
Qd[s[u]]=~~(.5+255*Qj)}Qd=Z.Wc.etf(Qd,d,new R(0,0,M,G),16,.01*.01);if(e)console.log("guided filter",Date.now()-a);
a=Date.now();if(x)for(var u=0;u<P;u++)if(K[u]==255||K[u]==0)Qd[u]=K[u];var QD=d.slice(0);for(var u=0;
u<q;u++){var Qq=s[u],QQ=f[O[u]],Qm=c[u],et=Qq<<2,QC=Qd[Qq],Qf=(QC>=250?Qq:QQ)<<2;QD[et]=d[Qf];QD[et+1]=d[Qf+1];
QD[et+2]=d[Qf+2]}Z.qF(Qd,QD,3);if(e)console.log(Date.now()-a);a=Date.now();return QD};Z.uL.vs=function(p,d,K,A,x,M,G,D,P){var a=p>>>16,e=p&65535,f=a-(K>>>16),N=e-(K&65535),Y=a-(x>>>16),l=e-(x&65535),h=Math.sqrt(f*f+N*N)*G,s=Math.sqrt(Y*Y+l*l)*D;
if(h+s>=P)return 1e9;var J=Z.uL.etX(d,A,M);return J+h+s};Z.uL.etX=function(p,d,K){var A=p>>>16,x=p>>>8&255,M=p&255,G=d>>>16,D=d>>>8&255,P=d&255,a=K>>>16,e=K>>>8&255,f=K&255,N=Z.uL.alpha(p,d,K),Y=A-(N*G+(1-N)*a),l=x-(N*D+(1-N)*e),h=M-(N*P+(1-N)*f);
return Math.sqrt(Y*Y+l*l+h*h)};Z.uL.alpha=function(p,d,K){var A=p>>>16,x=p>>>8&255,M=p&255,G=d>>>16,D=d>>>8&255,P=d&255,a=K>>>16,e=K>>>8&255,f=K&255,N=G-a,Y=D-e,l=P-f,h=A-a,s=x-e,J=M-f,u=N*N+Y*Y+l*l,Q=u==0?.5:(h*N+s*Y+J*l)/u;
return Math.max(0,Math.min(1,Q))};Z.uL.eVL=function(p){};Z.uL.Md=function(p,d,K,A,x){var M=[],G=d-1,D=K-1;
for(var P=1;P<D;P++)for(var a=1;a<G;a++){var e=P*d+a;if(p[e]==A&&(p[e-d-1]==x||p[e-d]==x||p[e-d+1]==x||(p[e-1]==x||p[e+1]==x)||(p[e+d-1]==x||p[e+d]==x||p[e+d+1]==x)))M.push(e)}return M};
Z.Wc={};Z.Wc.eV_=function(p,d,K,A,x){var M=K.t,G=K.D,D=M*G,P=Z.Wc.MA,a=Z.p(D*4),e;Z.Pk(a,4294967295);
var f=K,N=p,Y=d,l=A;Z.qF(p,a,0);e=Z.cA(a,K);e=Z.cA(e.nM,e.rect);f=e.rect;l=A>>>2;console.log(f,l);N=Z.p(f.r());
Z.$m(e.nM,N,0);Z.qF(d,a,0);e=Z.cA(a,K);e=Z.cA(e.nM,e.rect);Y=Z.p(f.r());Z.$m(e.nM,Y,0);var h=Z.Wc.ety(N,Y,f,l,x),s=h[0],J=h[1],u=new R(0,0,f.t*2,f.D*2);
s=P(s,f,u,!0);s=P(s,u,K,!0);J=P(J,f,u,!0);J=P(J,u,K,!0);var Q=Z.p(D);for(var W=0;W<D;W++)Q[W]=Math.max(0,Math.min(255,Math.floor(.5+(s[W]*d[W]+255*J[W]))));
return Q};Z.Wc.MA=function(p,d,K,A){var x=K.t,M=K.D,G=d.t,D=d.D,P=Z.Wc.FO,a=new Float32Array(x*M);for(var e=0;
e<D;e++){var f=(e+e)*x;for(var N=0;N<G;N++){if(!0||N==0||e==0||N==G-1||e==D-1)a[f]=a[f+1]=a[f+x]=a[f+x+1]=p[e*G+N];
else{a[f]=P(N+.25,e+.25,p,G,D);a[f+1]=P(N+.75,e+.25,p,G,D);a[f+x]=P(N+.25,e+.75,p,G,D);a[f+x+1]=P(N+.75,e+.75,p,G,D)}f+=2}}return a};
Z.Wc.FO=function(p,d,K,A,x){p-=.499999;d-=.499999;var M=Math.floor(p),G=Math.floor(d),D=G*A+M,P=p-M,a=d-G,e=(1-a)*(1-P),f=(1-a)*P,N=a*(1-P),Y=a*P;
if(K[D]==null||K[D+A+1]==null){console.log(p,d,A,x);throw"e"}return e*K[D+0]+f*K[D+1]+N*K[D+A+0]+Y*K[D+A+1]};
Z.Wc.ety=function(p,d,K,A,x){var M=K.t,G=K.D,D=M*G,P=Z.Wc.MJ,a=Z.Wc.p,e=Z.blur.Ou,f=Z.Wc.KA,d=P(d),p=P(p),N=a(D);
e(d,N,K,A);var Y=a(D);e(p,Y,K,A);var l=a(D);f(d,d,l);e(l,l,K,A);var h=a(D);f(d,p,h);e(h,h,K,A);var s=a(D),J=a(D);
for(var u=0;u<D;u++){var Q=N[u],W=Y[u],q=l[u]-Q*Q,H=h[u]-Q*W,C=H/(q+x),k=W-C*Q;s[u]=C;J[u]=k}var i=a(D);
e(s,i,K,A);var m=a(D);e(J,m,K,A);return[i,m]};Z.Wc.etf=function(p,d,K,A,x){var M=K.t,G=K.D,D=M*G,P=Z.Wc.MA,a=Date.now(),e=!1,f=K,N=p,Y=d,l=A;
f=new R(0,0,M>>>2,G>>>2);l=A>>>2;N=Z.Wc.etT(p,M,G);Y=Z.Wc.eQP(d,M,G);if(e)console.log(Date.now()-a);
a=Date.now();var h=Z.Wc.eQG(N,Y,f,l,x),s=h[0],J=h[1],u=h[2],Q=h[3];if(e)console.log(Date.now()-a);a=Date.now();
var W=Z.p(D);for(var q=0;q<G;q++)for(var H=0;H<M;H++){var C=q*M+H,k=(q>>>2)*(M>>>2)+(H>>>2),i=C<<2,m=s[k]*d[i]+J[k]*d[i+1]+u[k]*d[i+2]+Q[k]*255;
W[C]=Math.max(0,Math.min(255,~~(.5+m)))}if(e)console.log(Date.now()-a);a=Date.now();return W};Z.Wc.etT=function(p,d,K){var A=d>>>2,x=K>>>2,M=Z.p(d*K);
for(var G=0;G<x;G++)for(var D=0;D<A;D++)M[G*A+D]=p[G*d+D<<2];return M};Z.Wc.eQP=function(p,d,K){var A=d>>>2,x=K>>>2,M=Z.p(d*K*4);
for(var G=0;G<x;G++)for(var D=0;D<A;D++){var P=G*A+D<<2,a=G*d+D<<4;M[P]=p[a];M[P+1]=p[a+1];M[P+2]=p[a+2];
M[P+3]=p[a+3]}return M};Z.Wc.eQG=function(p,d,K,A,x){var M=K.t,G=K.D,D=M*G,P=Z.Wc.MJ,a=Z.Wc.p,e=Z.blur.Ou,f=Z.Wc.KA,p=P(p),N=new Z.dY(M*G);
Z.ul(d,N);var d=[P(N.N),P(N.w),P(N.M)],Y=Z.Wc.eMe(p,d,K,A,x),l=a(D);e(p,l,K,A);var h=a(D);f(d[0],p,h);
e(h,h,K,A);var s=a(D);f(d[1],p,s);e(s,s,K,A);var J=a(D);f(d[2],p,J);e(J,J,K,A);var u=a(D),Q=a(D),W=a(D),q=a(D);
for(var H=0;H<D;H++){var C=l[H],k=Y.Ds[H],i=Y.Dg[H],m=Y.Dr[H],w=h[H]-k*C,S=s[H]-i*C,o=J[H]-m*C;u[H]=Y.eOW[H]*w+Y.dO[H]*S+Y.di[H]*o;
Q[H]=Y.dO[H]*w+Y.eOk[H]*S+Y.dj[H]*o;W[H]=Y.di[H]*w+Y.dj[H]*S+Y.eKL[H]*o;q[H]=C-u[H]*k-Q[H]*i-W[H]*m}e(u,u,K,A);
e(Q,Q,K,A);e(W,W,K,A);e(q,q,K,A);return[u,Q,W,q]};Z.Wc.eMe=function(p,d,K,A,x){var M=K.t,G=K.D,D=M*G,P=Z.Wc.p,a=Z.blur.Ou,e=Z.Wc.KA,f={};
f.Ds=P(D);a(d[0],f.Ds,K,A);f.Dg=P(D);a(d[1],f.Dg,K,A);f.Dr=P(D);a(d[2],f.Dr,K,A);var N=P(D);e(d[0],d[0],N);
a(N,N,K,A);var Y=P(D);e(d[0],d[1],Y);a(Y,Y,K,A);var l=P(D);e(d[0],d[2],l);a(l,l,K,A);var h=P(D);e(d[1],d[1],h);
a(h,h,K,A);var s=P(D);e(d[1],d[2],s);a(s,s,K,A);var J=P(D);e(d[2],d[2],J);a(J,J,K,A);f.eOW=N;f.dO=Y;
f.di=l;f.eOk=h;f.dj=s;f.eKL=J;for(var u=0;u<D;u++){var Q=f.Ds[u],W=f.Dg[u],q=f.Dr[u],H=N[u]-Q*Q+x,C=Y[u]-Q*W,k=l[u]-Q*q,i=h[u]-W*W+x,m=s[u]-W*q,w=J[u]-q*q+x,S=i*w-m*m,o=m*k-C*w,O=C*m-i*k,t=H*w-k*k,c=k*C-H*m,g=H*i-C*C,j=S*H+o*C+O*k,_=1/j;
f.eOW[u]=S*_;f.dO[u]=o*_;f.di[u]=O*_;f.eOk[u]=t*_;f.dj[u]=c*_;f.eKL[u]=g*_}return f};Z.Wc.p=function(p){return new Float32Array(p)};
Z.Wc.MJ=function(p){var d=p.length,K=new Float32Array(d);for(var A=0;A<d;A++)K[A]=p[A]*(1/255);return K};
Z.Wc.KA=function(p,d,K){for(var A=0;A<p.length;A++)K[A]=p[A]*d[A]};Z.To={};Z.To.KJ=function(p,d,K,A){var x=p[d]-K[A],M=p[d+1]-K[A+1],G=p[d+2]-K[A+2];
return Math.sqrt(x*x+M*M+G*G)*(1/441.7)};Z.To.getSelection=function(p,d,K){var A=d*K,x=Z.p(A),M=!1,G=Math.round(K*.7),D=1,P=new Uint32Array(12),a=Z.p(12);
for(var e=0;e<G;e++)for(var f=0;f<d;f++){if(f<D||e<D||f>d-D-1||e>K-D-1){var N=e*d+f,Y=N<<2,l=0;if(e<D)l=4;
else if(f>d-D-1)l=8;P[l]+=p[Y];P[l+1]+=p[Y+1];P[l+2]+=p[Y+2];P[l+3]++;x[N]=255}}for(var N=0;N<12;N+=4)for(var h=0;
h<3;h++)a[N+h]=P[N+h]/P[N+3];var s=new Float32Array(A);for(var N=0;N<A;N++){var Y=N*4,J=Z.To.KJ(p,Y,a,0),u=Z.To.KJ(p,Y,a,4),Q=Z.To.KJ(p,Y,a,8),W=Math.max(J,Math.max(u,Q));
s[N]=J+u+Q-W}Z.To.KC(s);var q=Date.now(),H=new Float32Array(A),C=[],k=Z.p(A);for(var N=0;N<3;N++){Z.$m(p,k,N);
var i=new Uint16Array(A);C.push(i);Z.To.eMM(k,x,d,K,i)}if(M)console.log("MBD",Date.now()-q);q=Date.now();
for(var N=0;N<A;N++)H[N]=C[0][N]+C[1][N]+C[2][N];Z.To.KC(H);for(var N=0;N<A;N++)H[N]+=.4*s[N];var m=d>>>1,G=K>>>1,w=1/Math.sqrt(m*m+G*G);
for(var e=0;e<K;e++)for(var f=0;f<d;f++){var S=f-m,o=e-G,O=1-Math.sqrt(S*S+o*o)*w;H[e*d+f]*=O}if(M)console.log("Centeredness",Date.now()-q);
q=Date.now();for(var N=0;N<A;N++)x[N]=H[N]*255;var t=Math.round(d/120),c=Math.round(t*.8);if(M)console.log(t,c);
Z.uP.FP(x,k,d,K,t,Z.uP.T$,[]);x.set(k);if(M)console.log("erosion",Date.now()-q);q=Date.now();for(var N=0;
N<A;N++)H[N]=x[N];Z.To.KC(H);var g=Z.p(256);for(var N=0;N<256;N++)g[N]=256/(1+Math.exp(-20*(N/255-.5)));
for(var N=0;N<A;N++){var j=~~(H[N]*255+.5);x[N]=g[j]}if(M)console.log("Simoid",Date.now()-q);q=Date.now();
return x};Z.To.KC=function(p){var d=p.length,K=0;for(var A=0;A<d;A++)K=Math.max(K,p[A]);var x=1/K;for(var A=0;
A<d;A++)p[A]=p[A]*x};Z.To.eMM=function(p,d,K,A,x){var M=K*A,G=p.slice(0),D=p.slice(0);for(var P=0;P<M;
P++)x[P]=d[P]==255?0:65535;Z.To.pv(p,D,G,x,K,A);Z.To.pE(p,D,G,x,K,A);Z.To.pv(p,D,G,x,K,A);Z.To.pE(p,D,G,x,K,A);
return x};Z.To.pv=function(p,d,K,A,x,M){for(var G=1;G<x;G++)Z.To._P(G,-1,p,d,K,A);for(var D=1;D<M;D++){Z.To._P(D*x,-x,p,d,K,A);
for(var G=1;G<x;G++){var P=D*x+G;Z.To._P(P,-1,p,d,K,A);Z.To._P(P,-x,p,d,K,A)}}};Z.To.pE=function(p,d,K,A,x,M){for(var G=x-2;
G>=0;G--)Z.To._P(x*M-x+G,1,p,d,K,A);for(var D=M-2;D>=0;D--){Z.To._P(D*x+x-1,x,p,d,K,A);for(var G=x-2;
G>=0;G--){var P=D*x+G;Z.To._P(P,1,p,d,K,A);Z.To._P(P,x,p,d,K,A)}}};Z.To._P=function(p,d,K,A,x,M){var G=p+d,D=K[p],P=A[G],a=x[G];
if(P<D)P=D;else if(D<a)a=D;var e=P-a;if(M[G]!=65535&&e<M[p]){M[p]=e;A[p]=P;x[p]=a}};Z.dS={};Z.dS.filter=function(p,d,K,A){var x=d.t,M=d.D,G=x*M,D=A[0],P=A[1],a=A[2],e=A[3],f=A[4],N=A[5],Y=A[6],l=Date.now(),h=new Float32Array(x*M*4);
Z.dS.epO(p,x,M,h);var s=Math.ceil(D*Math.sqrt(-2*Math.log(.1))),J=new ArrayBuffer(G*4),u=new Float32Array(J),Q=new Float32Array(G),W=new Float32Array(G);
for(var q=0;q<G;q++){var H=q*4;u[q]=h[H];Q[q]=h[H+1];W[q]=h[H+2]}Z.blur.Fr(u,u,d,s*1/2.4,2);Z.blur.Fr(Q,Q,d,s*1/2.4,2);
Z.blur.Fr(W,W,d,s*1/2.4,2);for(var q=0;q<G;q++){var H=q*4;h[H]=u[q];h[H+1]=Q[q];h[H+2]=W[q]}var C=new Uint8Array(J);
for(var q=0;q<G;q++){var H=q*4,k=q*4,u=h[H],Q=h[H+1],W=h[H+2],i=Math.sqrt((u-W)*(u-W)+4*Q*Q),m=(u+W+i)*.5,w=(u+W-i)*.5,S=w-W,o=Q,O=S*S+o*o;
if(O!=0){var t=Math.sqrt(O),c=1/t;S*=c;o*=c}C[k]=128+127*S;C[k+1]=128+127*o}var g=1.3*P+2,j=e*(2/10),_=p.slice();
if(X.Ug){var U=new Float32Array([1/x,1/M]),$=X.PV(0,x,M);$.set(_);var I=X.PV(1,x,M);I.set(C);X.El($,d);
if(f){$.YA(d);X.filter.ww({type:X.filter.UU,Jn:U,e_r:1/a,e_j:j},$.Yz)}$.YA(d);X.filter.ww({type:X.filter.PM,df:I.Ni,Jn:U,eKj:g,emT:2},$.Yz);
if(f){$.YA(d);X.filter.ww({type:X.filter.UG,Jn:U,eIQ:new Float32Array(Y),eIc:N},$.Yz)}$.get(K)}else{if(f)Z.dS.KB(1/a,j,_,x,M);
Z.dS.PM(_,K,C,x,M,g);if(f)Z.dS.eME(x,M,K,Y,N)}var E=G*4;for(var q=3;q<E;q+=4)K[q]=p[q]};Z.dS.PM=function(p,d,K,A,x,M){var G=Math.ceil(2*M),D=-1/(2*M*M),P=[],a=1;
for(var e=0;e<G+20;e++)P[e]=Math.exp(e*e*D);var f=[0,0,0,0];for(var N=0;N<x;N++){for(var Y=0;Y<A;Y++){var l=N*A+Y,h=l*4,s=1,J=p[h],u=p[h+1],Q=p[h+2],W=p[h+3],q=(K[h]-128)*(1/127),H=(K[h+1]-128)*(1/127),C=q,k=H,i=Y==0?.51:.49,m=N==0?.51:.49;
for(var e=0;e<2;e++){var w=Y+i,S=N+m,o=0;while(o<G){if(w<.5||A-.5<w||S<.5||x-.5<S)break;var O=~~w,t=~~S,c=t*A+O,g=c*4,j=(K[g]-128)*(1/127),_=(K[g+1]-128)*(1/127);
if(j*C+_*k<0){j=-j;_=-_}C=j;k=_;w+=a*j;S+=a*_;if(w<.5||A-.5<w||S<.5||x-.5<S)break;var U=~~w,$=~~S,I=$*A+U<<2;
o+=a;var E=P[~~o];Z.c.TW(w,S,p,A,x,f);J+=f[0]*E;u+=f[1]*E;Q+=f[2]*E;W+=f[3]*E;s+=E}C=-q;k=-H}var b=1/s;
d[h]=~~(.5+J*b);d[h+1]=~~(.5+u*b);d[h+2]=~~(.5+Q*b);d[h+3]=~~(.5+W*b)}}};Z.dS.eME=function(p,d,K,A,x){for(var M=0;
M<d;M++)for(var G=0;G<p;G++){var D=M*p+G<<2,P=1+Z.dS.eMY(G,M,K,p,d,A)*x;K[D]=Math.max(0,Math.min(255,K[D]*P));
K[D+1]=Math.max(0,Math.min(255,K[D+1]*P));K[D+2]=Math.max(0,Math.min(255,K[D+2]*P))}};Z.dS.eMY=function(p,d,K,A,x,M){var G=K[(d*A+Math.max(0,p-1))*4+3],D=K[(d*A+Math.min(A-1,p+1))*4+3],P=K[(Math.max(0,d-1)*A+p)*4+3],a=K[(Math.min(x-1,d+1)*A+p)*4+3],e=.7,f=(D-G)*(1/255),N=.7,Y=(a-P)*(1/255),l=-f*N,h=-e*Y,s=e*N,J=Math.sqrt(l*l+h*h+s*s),u=1/J,Q=l*u,W=h*u,q=s*u,H=M[0]*Q+M[1]*W+M[2]*q;
return H};Z.dS.KB=function(p,d,K,A,x){function M(D,a,e){return Math.max(a,Math.min(e,D))}for(var G=0;
G<x;G++)for(var D=0;D<A;D++){var P=Z.dS.epQ(D+.5,G+.5,p,d);K[(G*A+D)*4+3]=Math.max(0,Math.min(255,P*255))}};
Z.dS.epQ=function(p,d,K,A){function x(k,i,m){return(1-m)*k+m*i}var M=(p+613)*K,G=(d+117)*K,D=~~M,P=~~G,a=M-D,e=G-P,f=Math.sin(11),N=Math.cos(D)*f,Y=Math.cos(D+1)*f,l=Math.cos(P)*f,h=Math.cos(P+1)*f,s=Z.dS.hash(N,l),J=Z.dS.hash(Y,l),u=Z.dS.hash(N,h),Q=Z.dS.hash(Y,h),W=x(s,J,a),q=x(u,Q,a),H=x(W,q,e);
H=H<.5?0:1;var C=H+A*Z.dS.hash(Math.cos(M)*f,Math.cos(G)*f);return C*(1/3)};Z.dS.hash=function(p,d){var K=Math.sin(p*11.697096+d*73.32456)*12157.47691;
return K-Math.floor(K)};Z.dS.epO=function(p,d,K,A){var x=[-1,0,1,-2,0,2,-1,0,1],M=[-1,-2,-1,0,0,0,1,2,1],G=d-1,D=K-1,P=d*4;
for(var a=1;a<D;a++)for(var e=1;e<G;e++){var f=a*d+e,N=f*4,Y=Z.dS.LO(p,N,P,x),l=Z.dS.LO(p,N,P,M),h=Z.dS.LO(p,N+1,P,x),s=Z.dS.LO(p,N+1,P,M),J=Z.dS.LO(p,N+2,P,x),u=Z.dS.LO(p,N+2,P,M);
A[N]=Y*Y+h*h+J*J;A[N+1]=Y*l+h*s+J*u;A[N+2]=l*l+s*s+u*u}Z.dS.epm(A,d,K)};Z.dS.LO=function(p,d,K,A){return p[d-K-4]*A[0]+p[d-K]*A[1]+p[d-K+4]*A[2]+p[d-4]*A[3]+p[d]*A[4]+p[d+4]*A[5]+p[d+K-4]*A[6]+p[d+K]*A[7]+p[d+K+4]*A[8]};
Z.dS.epm=function(p,d,K){function A(P,a,e){var f=a*4,N=e*4;P[N]=P[f];P[N+1]=P[f+1];P[N+2]=P[f+2]}var x=d-1,M=K-1;
A(p,d+1,0);A(p,2*d-2,d-1);for(var G=1;G<x;G++)A(p,d+G,G);for(var D=1;D<M;D++){A(p,D*d+1,D*d);A(p,D*d+d-2,D*d+d-1)}for(var G=1;
G<x;G++)A(p,(K-2)*d+G,(K-1)*d+G);A(p,(D-2)*d+1,(D-1)*d);A(p,(D-1)*d-2,D*d-1)};Z.i_={};Z.i_.KN=function(p,d,K,A){var x=p[d*2],M=p[d*2+1],G=p[K*2],D=p[K*2+1],P=p[A*2],a=p[A*2+1];
return x*D+G*a+P*M-P*D-G*M-x*a};Z.i_.pI=function(p,d){var K=[],A=[],x=[],M={};for(var G=0;G<d.length;
G+=3){var D=~~(G*(1/3)),P=d[G+0],a=d[G+1],e=d[G+2],f=Z.i_.KN(p,P,a,e);if(f>0){var N=a;a=e;e=N}var Y=M[e+"-"+a],l=M[a+"-"+P],h=M[P+"-"+e],s=[e,Y,D,null],J=[a,l,D,s],u=[P,h,D,J];
s[3]=u;if(Y)Y[1]=s;if(l)l[1]=J;if(h)h[1]=u;M[e+"-"+P]=u;M[P+"-"+a]=J;M[a+"-"+e]=s;K[P]=J;x[G]=J;K[a]=s;
x[G+1]=s;K[e]=u;x[G+2]=u;A[D]=J}return{qQ:K,qC:A,P_:x}};Z.i_.epE=function(p){var d=[],K=p.qC;for(var A=0;
A<K.length;A++){var x=K[A];d.push(x[0]);x=x[3];d.push(x[0]);x=x[3];d.push(x[0])}return d};Z.i_.epL=function(p,d,K,A){var x=p[d*2],M=p[d*2+1],G=p[K*2],D=p[K*2+1],P=p[A*2],a=p[A*2+1],e=G-x,f=D-M,N=P-x,Y=a-M,l=e*(x+G)+f*(M+D),h=N*(x+P)+Y*(M+a),s=2*(e*(a-D)-f*(P-G));
if(Math.abs(s)<1e-5){var J=Math.min(x,G,P),u=Math.min(M,D,a),Q=(Math.max(x,G,P)-J)*.5,W=(Math.max(M,D,a)-u)*.5;
return[J+Q,u+W,Q*Q+W*W,1]}var q=(Y*l-f*h)/s,H=(e*h-N*l)/s,Q=q-x,W=H-M;return[q,H,Q*Q+W*W,0]};Z.i_.ep_=function(p,d,K){var A=K[1],x=K[3],M=x[3],G=A[3],D=G[3],P=K[2],a=A[2],e=K[0],f=A[0],N=x[0],Y=G[0],l=Z.i_.epL(p,f,Y,N),h=p[e*2]-l[0],s=p[e*2+1]-l[1],J=h*h+s*s>l[2]&&l[3]==0&&Z.i_.KN(p,Y,e,N)<0&&Z.i_.KN(p,N,f,Y)<0;
if(J){K[0]=N;A[0]=Y;K[3]=M;M[3]=G;G[3]=K;A[3]=D;D[3]=x;x[3]=A;x[2]=a;G[2]=P;d.qC[a]=D;d.qC[P]=M;d.qQ[f]=G;
d.qQ[e]=x}return J};Z.i_.Oz=function(p,d,K){var A=p[d*2]-p[K*2],x=p[d*2+1]-p[K*2+1];return Math.sqrt(A*A+x*x)};
Z.i_.epa=function(p,d,K){var A=K[1],x=K[3],M=x[3],G,D,P=K[2],a,e=K[0],f=M[0],N=x[0],Y;if(A){G=A[3];D=G[3];
a=A[2];Y=G[0]}var l=p.length>>>1;p[2*l]=(p[2*f]+p[2*e])*.5;p[2*l+1]=(p[2*f+1]+p[2*e+1])*.5;if(!0){var h=P,s=K,J=d.qC.length,u=[l,null,h,s],Q=[N,u,J,M];
u[1]=Q;var W=[l,null,J,Q];x[3]=u;M[3]=W;M[2]=J;d.qC[h]=x;d.qC[J]=W;d.qQ[e]=x;d.qQ[N]=M;d.P_.push(u,Q,W)}if(A){var q=a,H=A,C=J+1;
W[1]=H,H[1]=W;var k=[l,null,q,H],i=[Y,k,C,D];k[1]=i;var m=[l,s,C,i];s[1]=m;G[3]=k;D[3]=m;D[2]=C;d.qC[q]=G;
d.qC[C]=D;d.qQ[f]=G;d.qQ[Y]=D;d.P_.push(k,i,m)}d.qQ[l]=s};Z.i_.po=function(p,d){var K=0;while(!0){var A=K;
for(var x=0;x<d.P_.length;x++){var M=d.P_[x];if(M[1]==null)continue;var G=Z.i_.ep_(p,d,M);if(G){K++;
break}}if(A==K)break}return K!=0};Z.i_.enn=function(p,d,K,A){var x=0;for(var M=0;M<A;M++){var G=null,D=0;
for(var P=0;P<d.P_.length;P++){var a=d.P_[P],e=Z.i_.Oz(p,a[0],a[3][3][0])*(a[1]?1:2);if(e>D){G=a;D=e}}if(D>K){Z.i_.epa(p,d,G);
x++}}return x!=0};Z.i_.enH=function(p,d){var K=[],Y=0;for(var A=0;A<p.length;A++)K.push(0);for(var A=0;
A<d.P_.length;A++){var x=d.P_[A],M=x[0],G=x[3][3][0],D=p[M*2],P=p[M*2+1],a=p[G*2],e=p[G*2+1],f=D-a,N=P-e;
K[M*2]+=-f;K[M*2+1]+=-N;K[G*2]+=f;K[G*2+1]+=N}for(var A=0;A<p.length;A+=2){var l=A>>>1,h=d.qQ[l],x=h,s=!0;
do{if(x[1]==null){s=!1;break}x=x[1][3]}while(x!=h);if(s){var J=.02;p[A]+=J*K[A];p[A+1]+=J*K[A+1];Y+=J*(K[A]*K[A]+K[A+1]*K[A+1])}}return Y};
Z.i_.eBi=function(p,d,K){var A=Z._.JE(p),x=Z.i_.pI(p,d);Z.i_.po(p,x);for(var M=0;M<300;M++){var G=!1,D=!1;
G=Z.i_.enn(p,x,K,5);if(G)D=Z.i_.po(p,x);var P=Z.i_.enH(p,x);if(!G&&!D&&P<1e-4){break}}return Z.i_.epE(x)};
Z._o={};Z._o.eBs=function(p,d){var K=p.length,A=p[0].length,x=d[0].length;if(A!=d.length)throw"e";if((A&1)!=0)throw"e";
var M=new Array(K);for(var G=0;G<K;G++)M[G]=new Array(x);for(var G=0;G<K;G++){var D=p[G],P=M[G];for(var a=0;
a<x;a++){var e=0;for(var f=0;f<A;f+=2)e+=D[f]*d[f][a]+D[f+1]*d[f+1][a];P[a]=e}}return M};Z._o.pD=function(p){var d=p.jP,K=p.PJ,A=p.uT,x=p.AS,M=p.MN,G=p.lj,D=p.My,Q,W,q=0;
function P(F,L){var Qu=F.length,QK=F[0].length,f=new Array(Qu);for(var h=0;h<Qu;h++){var Qm=0;for(var ei=0;
ei<QK;ei++)Qm+=F[h][ei]*L[ei];f[h]=Qm}return f}function a(F){var L=new Array(F);for(var h=0;h<F;h++)L[h]=0;
return L}var e=K.length>>>1,f=a(d.An*2),N=a(d.An),Y=a(d.An),l=Date.now();for(var h=0;h<p.aB.length;h++){var s=d.eIz+h,J=d.dv*(G[h*2]+D[h*2]),u=d.dv*(G[h*2+1]+D[h*2+1]);
f[s*2]=J;f[s*2+1]=u;N[s]=J;Y[s]=u}d.eIa.Ke(x,d.eIC.eD(f),.01,Q,W);for(var h=0;h<d.eum.P_.length;h++){var H=d.eum.P_[h],C=H[3][3][0],k=H[0],i=H[3][0],m=H[1]?H[1][3][0]:i;
if(H[1]&&C>k)continue;var w=K[C*2],S=K[C*2+1],o=K[k*2],O=K[k*2+1],t=x[C*2],c=x[C*2+1],g=x[k*2],j=x[k*2+1],_=x[i*2],U=x[i*2+1],$=x[m*2],I=x[m*2+1],E=[t,c,g,j,_,U];
if(H[1])E.push($,I);var b=P(d.eIN[q],E),z=b[0],QS=b[1],QQ=1/Math.sqrt(z*z+QS*QS);z*=QQ;QS*=QQ;var Qe=o-w,QB=O-S;
N[q]=z*Qe+QS*QB;Y[q]=-QS*Qe+z*QB;q++}var QU=new Array(e),Qt=new Array(e);for(var h=0;h<e;h++){QU[h]=M[h*2];
Qt[h]=M[h*2+1]}d.euH.Ke(QU,d.eHI.eD(N),.5);d.euH.Ke(Qt,d.eHI.eD(Y),.5);for(var h=0;h<e;h++){M[h*2]=QU[h];
M[h*2+1]=Qt[h]}};Z._o.pA=function(p){var d=p.PJ,K=p.uT,A=p.aB,e=0,J=0,Qe=1e3;function x(Qu){var QK=Qu.length,Qm=Qu[0].length,ei=new Array(Qm);
for(var f=0;f<Qm;f++)ei[f]=new Array(QK);for(var f=0;f<Qm;f++)for(var QQ=0;QQ<QK;QQ++)ei[f][QQ]=Qu[QQ][f];
return ei}function M(Qu,QK){var Qm=Qu.length,ei=Qu[0].length,Qp=new Array(Qm);for(var f=0;f<Qm;f++)Qp[f]=new Array(ei);
for(var f=0;f<Qm;f++)for(var QQ=0;QQ<ei;QQ++)Qp[f][QQ]=Qu[f][QQ]-QK[f][QQ];return Qp}var G=Z._o.eBs,D=Date.now(),P=Z.i_.pI(d,K),a=d.length>>>1;
for(var f=0;f<P.P_.length;f++)e+=P.P_[f][1]?.5:1;var N=e+A.length,Y=[],l=new Z.ig(N*2,a*2),h=new Z.ig(N,a),s=[[[-1,0,1,0,0,0],[0,-1,0,1,0,0]],[[-1,0,1,0,0,0,0,0],[0,-1,0,1,0,0,0,0]]],u=[],Q=[];
for(var f=0;f<P.P_.length;f++){var W=P.P_[f],q=W[3][3][0],H=W[0],C=W[3][0],k=W[1]?W[1][3][0]:C;if(W[1]&&q>H)continue;
var i=d[q*2],m=d[q*2+1],w=d[H*2],S=d[H*2+1],o=d[C*2],O=d[C*2+1],t=d[k*2],c=d[k*2+1],g=[[i,m,1,0],[m,-i,0,1],[w,S,1,0],[S,-w,0,1],[o,O,1,0],[O,-o,0,1]];
if(W[1])g.push([t,c,1,0],[c,-t,0,1]);var j=x(g),_=G(linear.invert(G(j,g)),j);_.pop();_.pop();Y.push(_);
var U=w-i,$=S-m,I=s[W[1]?1:0];I=M(I,G([[U,$],[$,-U]],_));var E=[q*2,q*2+1,H*2,H*2+1,C*2,C*2+1,k*2,k*2+1],b=W[1]?8:6,z=[];
for(var QS=0;QS<b;QS++)z.push([E[QS],I[0][QS],I[1][QS]]);z.sort(function(Qu,QK){return Qu[0]-QK[0]});
for(var QQ=0;QQ<2;QQ++){for(var QS=0;QS<b;QS++){u[QS]=z[QS][0];Q[QS]=z[QS][1+QQ]}l.Ma(Q,u,b)}if(q<H)h.Ma([-1,1],[q,H],2);
else h.Ma([1,-1],[H,q],2);J++}for(var f=0;f<A.length;f++){var QB=A[f];l.Ma([Qe],[QB*2],1);l.Ma([Qe],[QB*2+1],1);
h.Ma([Qe],[QB],1)}var QU=l.HF(),Qt=QU.Ul(QU),F=h.HF(),L=F.Ul(F);return{eIz:e,An:N,eIC:QU,eIa:Qt,eHI:F,euH:L,eum:P,eIN:Y,dv:Qe}};
Z._o.eBl=function(p,d,K,A,x){var M=new R(0,0,d,K),G=Z.p(M.r());Z.$m(p,G,3);Z.round(G,70);var D=Z.gg(G,M),P=[.1,.065,.035][A]*Math.max(D.t,D.D),a=x+1,e=d+a*2,f=K+a*2,N=new R(-a,-a,e,f),Y=Z.p(N.r());
Z.Qj(G,M,Y,N);var l=Y.slice(0);for(var h=0;h<x;h++){for(var s=1;s<f-1;s++){for(var J=1;J<e-1;J++){var u=s*e+J;
l[u]=Y[u-e]|Y[u-1]|Y[u]|Y[u+1]|Y[u+e]}}var Q=l;l=Y;Y=Q}var W=pk.BK(Y,e,f,Math.round(D.r()*5e-4)),q=pk.zu(W),H=new QI(1,0,0,1,-a,-a);
for(var u=0;u<q.length;u++){var C=q[u];Z._.u(C.path.B,H,C.path.B);C.PJ=Z._o.eBj(C.path);C.uT=Z._.e$b(C.PJ);
C.uT=Z.i_.eBi(C.PJ,C.uT,P)}return q};Z._o.eBj=function(p){var d=[],K=p.B,A=p.$.length-1,x=0,M=0;for(var G=0;
G<A;G++){var D=G*6,P=K[D+6]-K[D+0],a=K[D+7]-K[D+1],e=Math.ceil(Math.sqrt(P*P+a*a));for(var f=0;f<e;f++){var N=f/e,Y=1-N,l=Y*Y*Y*K[D+0]+3*Y*Y*N*K[D+2]+3*Y*N*N*K[D+4]+N*N*N*K[D+6],h=Y*Y*Y*K[D+1]+3*Y*Y*N*K[D+3]+3*Y*N*N*K[D+5]+N*N*N*K[D+7];
d.push(l,h);x=l;M=h}}d=Z._.UA(d,1);var s=[],J=d.length;for(var D=0;D<J;D+=2){var h=d.pop(),l=d.pop();
s.push(l,h)}return s};Z._o.eOK=function(p,d,K,A){function x(i,m,w,S,o){var O=o[i*2]-o[m*2],t=o[i*2+1]-o[m*2+1],c=Math.sqrt(O*O+t*t);
if(w[i].indexOf(m)==-1){w[i].push(m);S[i].push(c)}if(w[m].indexOf(i)==-1){w[m].push(i);S[m].push(c)}}var M=p.length>>>1,G=new Array(M);
if(K.length==0){G.fill(0);return G}var D=new Array(M),P=new Array(M);for(var a=0;a<M;a++){D[a]=[];P[a]=[]}for(var a=0;
a<d.length;a+=3){x(d[a],d[a+1],D,P,p);x(d[a],d[a+2],D,P,p);x(d[a+1],d[a+2],D,P,p)}var e=new Float64Array(M*2),f=new Uint32Array(M*2);
e.fill(1e9);var N=new Uint8Array(M);for(var Y=0;Y<K.length;Y++){N.fill(0);var l=["---",[0,K[Y]]];while(l.length!=1){var h=Z.fs.eph(l),s=h[0],J=h[1];
if(N[J]==1)continue;var u=J<<1;if(s<e[u]){e[u+1]=e[u];f[u+1]=f[u];e[u]=s;f[u]=Y}else if(s<e[u+1]){e[u+1]=s;
f[u+1]=Y}N[J]=1;var Q=D[J],W=P[J];for(var a=0;a<Q.length;a++){var q=Q[a];if(N[q]!=1){Z.fs.epi(l,[s+W[a],q])}}}}for(var a=0;
a<M;a++){var u=a<<1,H=e[u],C=e[u+1],k=1/(H+C);G[a]=(1-H*k)*A[f[u]]+(1-C*k)*A[f[u+1]]}return G};Z._o.eVI=function(p){var d={$:[],B:[]},K=[p];
while(K.length!=0){var A=K.pop(),x=A.dC;if(A.eIl instanceof Array||A.eRm instanceof Array){d.$.push("M","L","L","L","Z");
d.B.push(x[0],x[1],x[2],x[1],x[2],x[3],x[0],x[3])}else K.push(A.eIl,A.eRm)}return d};Z._o.ZM=function(p,d,K,A,x,M,G){var D=K.t,P=K.D,a=Math.round(G.length/3),e=new Array(a);
for(var f=0;f<a;f++)e[f]=f;e.sort(function(Y,l){return M[G[Y*3]]-M[G[l*3]]});for(var f=0;f<a;f++){var N=e[f]*3;
Z._o.eOw(G[N]*2,G[N+1]*2,G[N+2]*2,A,x,p,d,D,P)}};Z._o.eOw=function(p,d,K,A,x,M,G,D,P){var a=Z._o.pY,e=[p,d,K,1.2,1.2,1.2,0],f=[0,0,0,0],N=x[p],Y=x[p+1],l=x[d],h=x[d+1],s=x[K],J=x[K+1],u=Math.max(0,Math.min(D-1,A[p])),Q=Math.max(0,Math.min(D-1,A[d])),W=Math.max(0,Math.min(D-1,A[K])),q=Math.max(0,Math.min(P-1,A[p+1])),H=Math.max(0,Math.min(P-1,A[d+1])),C=Math.max(0,Math.min(P-1,A[K+1])),k=l-N,i=h-Y,m=s-N,w=J-Y,S=1/(k*w-m*i+1e-9),o=Math.max(0,Math.floor(Math.min(N,l,s))),O=Math.min(D,Math.ceil(Math.max(N,l,s))),t=Math.max(0,Math.floor(Math.min(Y,h,J))),c=Math.min(P,Math.ceil(Math.max(Y,h,J)));
for(var g=t;g<c;g++)for(var j=o;j<O;j++){var _=j+.5-N,U=g+.5-Y,$=(_*w-m*U)*S,I=(k*U-_*i)*S;if($>=0&&I>=0&&$+I<=1){var E=1-$-I,b=u*E+Q*$+W*I,z=q*E+H*$+C*I;
Z.c.TW(b,z,M,D,P,f);Z._o.eOA(f,G,g*D+j<<2)}}};Z._o.eOA=function(p,d,K){var A=d[K],x=d[K+1],M=d[K+2],G=d[K+3],D=1-p[3]*(1/255);
d[K]=~~(.5+p[0]+A*D);d[K+1]=~~(.5+p[1]+x*D);d[K+2]=~~(.5+p[2]+M*D);d[K+3]=~~(.5+p[3]+G*D)};Z._o.pY=function(){var p=function(K,A,x,M){var G=M[0],D=M[1],P=M[2],a=K[G+0],e=K[G+1],f=K[D+0],N=K[D+1],Y=K[P+0],l=K[P+1],h=f-a,s=N-e,J=Y-a,u=l-e,Q=A-a,W=x-e,q=h*u-J*s,H=1/(q+1e-9),C=(Q*u-J*W)*H,k=(h*W-Q*s)*H;
if(C>=0&&k>=0&&C+k<=1){M[3]=1-C-k;M[4]=C;M[5]=k;return 1}return 0},d=function(K,A,x,M){var G=[0,0,0,0,0,0];
for(var D=0;D<A.length;D+=3){G[0]=A[D]*2;G[1]=A[D+1]*2;G[2]=A[D+2]*2;if(p(K,x,M,G)==1)return!0}return!1};
return{etx:p,eRH:d}}();Z.IK={};Z.IK.eUF=function(p,d,K,A,x){var M=Z.IK.py(p.buffer,d,K).cb,G=Date.now(),D=new Uint32Array(M.length);
for(var P=0;P<M.length;P++)D[P]=M[P].$H;var a=UPNG.quantize.getKDtree(new Uint8Array(D.buffer),A),e=[d,1,-d,-1,d+1,-d+1,-d-1,d-1,d+d,2,-d-d,-2,d+d-1,d+d+1,d+2,-d+2,-d-d+1,-d-d-1,-d-2,d-2,d+d+2,-d-d+2-d-d-2,d+d-2],f=new Uint8Array(d*K),N=p;
for(var Y=0;Y<K;Y++)for(var l=0;l<d;l++){var P=Y*d+l<<2,h=N[P]*(1/255),s=N[P+1]*(1/255),J=N[P+2]*(1/255),u=N[P+3]*(1/255),Q=Z.IK.oi(a,h,s,J,u,x);
if(Q==null){var W=[],q=0;while(q<20){var H=Y*d+l+e[q]<<2,C=N[H]*(1/255),k=N[H+1]*(1/255),i=N[H+2]*(1/255),m=N[H+3]*(1/255),w=Z.IK.oi(a,C,k,i,m,.005);
if(w!=null){if(W.indexOf(w)==-1){W.push(w);w.vP=1}else w.vP++}q++}W.sort(function(u,J){return J.vP-u.vP});
while(W.length!=0&&W[W.length-1].vP<3)W.pop();if(W.length==0)Q=Z.IK.oi(a,h,s,J,u,100);else if(W.length==1)Q=W[0];
else if(W.length==2){var S=W[0],o=W[1],O=S.est.q,t=o.est.q,c=t[0]-O[0],g=t[1]-O[1],j=t[2]-O[2],_=t[3]-O[3],U=h-O[0],$=s-O[1],I=J-O[2],E=u-O[3],b=c*c+g*g+j*j+_*_,z=U*U+$*$+I*I+E*E,QS=(U*c+$*g+I*j+E*_)/b,QQ=z-QS*QS*b;
if(QQ<.5)Q=QS<.5?S:o;else{Q=Z.IK.oi(a,h,s,J,u,100)}}else{var S=W[0],o=W[1],Qe=W[2],O=S.est.q,t=o.est.q,QB=Qe.est.q,QU=O[0]-QB[0],Qt=O[1]-QB[1],F=O[2]-QB[2],L=O[3]-QB[3],Qu=t[0]-QB[0],QK=t[1]-QB[1],Qm=t[2]-QB[2],ei=t[3]-QB[3],Qp=QB[0]-h,QO=QB[1]-s,QE=QB[2]-J,Qi=QB[3]-u,QV=QU*QU+Qt*Qt+F*F+L*L,Q$=QU*Qu+Qt*QK+F*Qm+L*ei,eS=Qp*QU+QO*Qt+QE*F+Qi*L,Qs=QU*Qu+Qt*QK+F*Qm+L*ei,Qw=Qu*Qu+QK*QK+Qm*Qm+ei*ei,Q_=Qp*Qu+QO*QK+QE*Qm+Qi*ei,QN=1/(Q$*Qs-QV*Qw),QS=(Qw*eS-Q_*Q$)*QN,eK=(Q_*QV-eS*Qs)*QN,Qz=1-QS-eK,eQ=Math.max(QS,eK,Qz);
if(eQ==QS)Q=S;else if(eQ==eK)Q=o;else Q=Qe}}f[P>>2]=Q.ind}return{uT:f,cb:a[1]}};Z.IK.py=function(p,d,K){var A=[],x={},M=d-1,G=K-1,D=0,P=new Uint32Array(p),a=[-d-1,-d,-d+1,-1,1,d-1,d,d+1,d+d,2,-d-d,-2,d+d-1,d+d+1,d+2,-d+2,-d-d+1,-d-d-1,-d-2,d-2,d+d+2,-d-d+2-d-d-2,d+d-2];
for(var e=1;e<G;e++)for(var f=1;f<M;f++){var N=e*d+f,Y=P[N],l=!0;for(var h=0;h<8;h++)l=l&&P[N+a[h]]==Y;
if(l){D++;var s=x[Y];if(s==null){x[Y]=A.length;A.push({$H:Y,qN:1})}else A[s].qN++}}return{cb:A,eRz:D}};
Z.IK.oi=function(p,d,K,A,x,M){var G=UPNG.quantize.getNearest(p[0],d,K,A,x);return Z.IK.eUN(G,d,K,A,x)<M?G:null};
Z.IK.eUN=function(p,d,K,A,x){var M=p.est.q,G=d-M[0],D=K-M[1],P=A-M[2],a=x-M[3];return G*G+D*D+P*P+a*a};
Z.IK.eVC=function(p,d,K,A){var x=Z.IK.eUl(p,d,K,A),M=x.uT,G=x.cb,D=x.eRo,P=UPNG.quantize.getKDtree(new Uint8Array(D.buffer.slice(0)),200),a=[];
for(var e=0;e<G.length;e++){var f=G[e].Zc,N=f[0],Y=f[1],l=f[2],h=f[3];if(Math.min(N,Y,l,h)<0)throw"e";
var s=UPNG.quantize.getNearest(P[0],N/255,Y/255,l/255,h/255);a.push(P[1].indexOf(s))}for(var e=0;e<d*K;
e++)M[e]=a[M[e]];return{uT:M,cb:P[1]}};Z.IK.eUl=function(p,d,K,A){var x=d*K,M=2*x,G=Z.IK.eKU(p,d,K),D=65535+1,P=new Uint32Array(D),f=0;
for(var a=0;a<M;a++)P[G[a]]++;var e=new Uint32Array(D);for(var a=0;a<D;a++){e[a]=f;f+=P[a]}var N=new Uint32Array(M);
for(var a=0;a<M;a++){var Y=G[a];N[e[Y]]=a;e[Y]++}var l=new UnionFind(x),h=new Uint16Array(x),s=new Uint32Array(x);
for(var a=0;a<x;a++)s[a]=1;var J=x,u=1e5/(A*10);for(var Q=0;Q<M;Q++){var W=N[Q],q=G[W];if(q==65535)continue;
var a=W>>1,H=a+((W&1)==0?1:d),C=l.find(a),k=l.find(H),i=Math.min(h[C]+u/Math.sqrt(s[C]),h[k]+u/Math.sqrt(s[k]));
if(C!=k&&q<=i){l.link(a,H);J--;var m=l.find(a);s[m]=s[C]+s[k];h[m]=q}}var w=[],S={},o=new Uint16Array(x);
for(var a=0;a<x;a++){var m=l.find(a),O=S[m];if(O==null){S[m]=O=w.length;w.push({qN:0,Zc:[0,0,0,0]})}w[O].qN++;
for(var H=0;H<4;H++)w[O].Zc[H]+=p[(a<<2)+H];o[a]=O}var t=new Uint32Array(w.length);for(var a=0;a<w.length;
a++){var O=w[a];for(var H=0;H<4;H++)O.Zc[H]=Math.round(O.Zc[H]/O.qN);t[a]=O.Zc[3]<<24|O.Zc[2]<<16|O.Zc[1]<<8|O.Zc[0]}return{uT:o,cb:w,eRo:t}};
Z.IK.eKU=function(p,d,K){var A=new Uint16Array(d*K*2);for(var x=0;x<K;x++)for(var M=0;M<d;M++){var G=x*d+M;
A[G+G]=M<d-1?Z.IK.n_(p,G,G+1):65535;A[G+G+1]=x<K-1?Z.IK.n_(p,G,G+d):65535}return A};Z.IK.n_=function(p,d,K){var A=d<<2,x=K<<2,M=p[A],G=p[A+1],D=p[A+2],P=p[A+3],a=p[x],e=p[x+1],f=p[x+2],N=p[x+3],Y=M-a,l=G-e,h=D-f,s=P-N;
return Y*Y+l*l+h*h+s*s>>2};Z.IK.BO=function(){function p(J,u,Q,W,q,H){var C=[],k=H,i=H,m=H>>>2;for(var w=0;
w<q;w++)for(var S=0;S<W;S++){var o=~~((S+.5)*k),O=~~((w+.5)*i),t=1e9,c=Math.max(0,o-m),g=Math.min(u,o+m+1),j=Math.max(0,O-m),_=Math.min(Q,O+m+1);
for(var U=j;U<_;U++)for(var $=c;$<g;$++){var I=d(J,u,$,U);if(I<t){o=$;O=U;t=I}}var E=(O*u+o)*4;C.push(J[E],J[E+1],J[E+2],o,O)}return C}function d(J,u,Q,W){var q=(W*u+Q)*4,H=u*4,C=K(J,q-4,q)+K(J,q,q+4),k=K(J,q-H,q)+K(J,q,q+H);
return C+k}function K(J,u,Q){var W=J[u]-J[Q],q=J[u+1]-J[Q+1],H=J[u+2]-J[Q+2];return W*W+q*q+H*H}var A=0,x=0;
function M(J,u,Q,W){x++;if(W<A)A=W;J[W].push(u,Q)}function G(J){x--;while(J[A].length==0)A++}function D(J,u,Q){A=0;
x=0;var W=u*Q,q=Math.round(Math.min(u,Q)/50),H=30/q,C=Math.floor(u/q),k=Math.floor(Q/q),i=C*k,t=0,c=16;
if(i>65535)throw"e";var m=new Uint16Array(W);for(var w=0;w<W;w++)m[w]=65535;var S=p(J,u,Q,C,k,q),o=[];
for(var w=0;w<1e3+Q;w++)o.push([]);var O=[0,1,0,-1,-1,0,1,0],g=Math.min(k,5),j=new Uint32Array(i*6);
for(var _=0;_<k;_+=g){var U=Math.min(_+g+1,k);for(var $=_;$<U;$++)for(var I=0;I<C;I++){var w=$*C+I,E=w*5,b=S[E+4]<<16|S[E+3];
M(o,b,w,S[E+4]>>>c)}var z=Math.min(Q,U*q);if(_+g>=k)z=Q;while(x!=0){G(o);var QS=o[A].pop(),QQ=o[A].pop(),Qe=QQ>>>16,QB=QQ&65535,w=Qe*u+QB;
if(m[w]==65535){var QU=QS*6,Qt=w<<2;m[w]=QS;j[QU]+=J[Qt];j[QU+1]+=J[Qt+1];j[QU+2]+=J[Qt+2];j[QU+3]+=QB;
j[QU+4]+=Qe;j[QU+5]++;var F=Qe>>>c;if(Qe!=z-1&&m[w+u]==65535)M(o,Qe+1<<16|QB,QS,P(J,u,H,QB,Qe+1,j,QU)+F);
if(Qe!=0&&m[w-u]==65535)M(o,Qe-1<<16|QB,QS,P(J,u,H,QB,Qe-1,j,QU)+F);if(QB!=0&&m[w-1]==65535)M(o,Qe<<16|QB-1,QS,P(J,u,H,QB-1,Qe,j,QU)+F);
if(QB!=u-1&&m[w+1]==65535)M(o,Qe<<16|QB+1,QS,P(J,u,H,QB+1,Qe,j,QU)+F)}}if(z!=Qe){var L=(_+g)*C;j.fill(0,L*6,(L+C)*6);
for(var Qe=(_+g-2)*q;Qe<z;Qe++)for(var QB=0;QB<u;QB++){var w=Qe*u+QB;if(m[w]>=L){m[w]=65535}}}}return{uT:m,Ix:i,vU:j}}Z.IK.Ki=function(J,u,Q,W,q){var H=J.Ix,C=u*Q,k=J.vU,i=J.uT,m=Y(W,i,H,C),w=new UnionFind(H),j=0;
for(var S=1;S<Q;S++)for(var o=1;o<u;o++){var O=S*u+o,t=i[O],c=0;if((c=i[O-1])!=t&&m[c]==m[t]&&a(k,0,t*6,c*6)<q)w.link(t,c);
if((c=i[O-u])!=t&&m[c]==m[t]&&a(k,0,t*6,c*6)<q)w.link(t,c)}var g=new Uint16Array(H);g.fill(65535);var _=new Uint16Array(H);
for(var O=0;O<H;O++){var U=w.find(O);if(g[U]==65535)g[U]=j++;_[O]=g[U]}var $=new Uint16Array(C);for(var O=0;
O<C;O++)$[O]=_[i[O]];return{uT:$,Ix:j}};Z.IK.evv=function(J,u,Q,W){var q=Z.p(Q),H=u.length,C=0;for(var k=0;
k<H&&C!=3;k++){var i=W[k];if(i==0||i==255){var m=u[k],w=2-(i>>>7);q[m]=C=q[m]|w}}return C!=3};function P(J,u,Q,W,q,H,C){var k=(q*u+W)*4,i=H[C+5],m=1/ i,w=J[k]*i-H[C],S=J[k+1]*i-H[C+1],o=J[k+2]*i-H[C+2],O=W*i-H[C+3],t=q*i-H[C+4],c=Math.sqrt(w*w+S*S+o*o),g=Math.sqrt(O*O+t*t);
return~~((c+Q*g)*m+.5)}function a(J,u,Q,W){var q=1/J[Q+5],H=1/J[W+5],C=J[Q]*q-J[W]*H,k=J[Q+1]*q-J[W+1]*H,i=J[Q+2]*q-J[W+2]*H,m=J[Q+3]*q-J[W+3]*H,w=J[Q+4]*q-J[W+4]*H,S=Math.sqrt(C*C+k*k+i*i),o=Math.sqrt(m*m+w*w);
return~~(S+u*o+.5)}function e(J,u,Q){var W=Z.fu(J,new R(0,0,u,Q)),q=W.rect.t,H=W.rect.D,C=D(W.nM,q,H),k=C.uT,i=Date.now(),m=new Uint16Array(u*Q);
m.fill(65535);for(var w=0;w<H;w++){for(var S=0;S<q;S++){var o=w*q+S,O=(w<<1)*u+(S<<1),t=k[o];if(k[o-q]!=t||k[o-1]!=t||k[o+1]!=t||k[o+q]!=t)t=65535;
m[O]=t;m[O+1]=t;m[O+u]=t;m[O+u+1]=t}}C.uT=m;return C}function f(J,u){var Q=0,W=J.length;while(Q!=W&&J[Q]!=u)Q+=2;
return Q==W?-1:Q}function N(J,u){if(u==J.length-2){J.pop();J.pop()}else{J[u+1]=J.pop();J[u]=J.pop()}}Z.IK.eRW=function(J,u,Q,W,q){var H=new Uint32Array(q*4400),d=[];
for(var C=0;C<q;C++)d.push([]);for(var k=0;k<Q;k++)for(var i=0;i<u;i++){var C=k*u+i,m=C<<2,w=W[C],S=0,o=J[m]>>>4,O=J[m+1]>>>4,t=J[m+2]>>>4;
H[w*4400+(o<<8|O<<4|t)]++;H[w*4400+4096]++;H[w*4400+4100+(o<<4|O)]++;H[w*4400+4360+o]++;if(i!=0&&(S=W[C-1])!=w&&f(d[w],S)==-1){d[w].push(S,0);
d[S].push(w,0)}if(k!=0&&(S=W[C-u])!=w&&f(d[w],S)==-1){d[w].push(S,0);d[S].push(w,0)}}for(var C=0;C<q;
C++){var t=d[C];for(var c=0;c<t.length;c+=2)t[c+1]=s(H,C,t[c])}return[H,d]};function Y(J,u,Q,W){var q=Z.p(Q);
for(var H=0;H<W;H++){var C=J[H];if(C==0||C==255)q[u[H]]=2-(C>>>7)}return q}Z.IK.eRf=function(J,u,Q,W,q,H,C){var k=u*Q,i=C[0],d=C[1],m=new UnionFind(W),w=Y(q,J,W,k),S=-1,O=!0,t=0;
for(var o=0;o<W;o++)if(w[o]==1){if(S==-1)S=o;else m.link(o,S)}if(S==-1){for(var o=0;o<k;o++)H[o]=q[o]==255?255:0;
return}while(O){while(O){O=!1;for(var o=0;o<W;o++){if(w[o]==0){var c=l(d[o]);if(w[c]==1){w[o]=w[c];O=!0;
m.link(o,c)}}}}O=!0;t=0;while(O){O=!1;for(var o=0;o<W;o++){if(w[o]==0){var c=l(d[o]);if(w[c]==0){var g=o*4400,j=c*4400;
for(var _=0;_<4400;_+=2){i[g+_]+=i[j+_];i[g+_+1]+=i[j+_+1]}h(d,i,o,c);t++;w[c]=3;O=!0;m.link(o,c)}}}}O=t!=0}var U=m.find(S);
for(var o=0;o<W;o++)w[o]=m.find(o)==U?255:0;for(var o=0;o<k;o++){H[o]=w[J[o]]}for(var o=0;o<k;o++){var c=q[o];
if(c==0||c==255)H[o]=c}};function l(J){var u=0,Q=0,W=J.length;for(var q=0;q<W;q+=2){var H=J[q+1];if(H>Q){Q=H;
u=q}}return J[u]}function h(d,J,u,Q){var W=d[u],q=d[Q];N(W,f(W,Q));N(q,f(q,u));for(var H=0;H<q.length;
H+=2){var C=q[H],k=d[C];N(k,f(k,Q));if(f(k,u)==-1){k.push(u,0);W.push(C,0)}}for(var H=0;H<W.length;H+=2){var C=W[H],k=d[C],i=s(J,u,C);
W[H+1]=i;k[f(k,u)+1]=i}}function s(J,u,Q){var W=0,q=4096,H=u*4400,C=Q*4400;for(var k=0;k<16;k++){if(J[H+4360+k]==0||J[C+4360+k]==0)continue;
for(var i=0;i<16;i++){var m=k<<4|i;if(J[H+4100+m]==0||J[C+4100+m]==0)continue;var w=H+(m<<4),S=C+(m<<4);
for(var o=0;o<16;o++)W+=Math.sqrt(J[w+o]*J[S+o])}}var O=W/Math.sqrt(J[H+q]*J[C+q]);return~~(999.99999*O)}return D}();
var pk=function(){function p(){this.r=0;this.Lw=0;this.kY={};this.lL=[];this.jG=1e5;this.jn=1e5;this.jL=-1;
this.jR=-1;this.color=0}function d(x){this.pH=x;this.vX=new Array(x);this.$H=new Array(x*6);this.eQS=0;
this.Lp=new Array(x*2);this.alpha=new Array(x);this.jz=new Array(x);this.ja=new Array(x)}function K(x,M,G,D){function P(J,u,x,M){return x[M*u+J]}function a(s){var k=x.length;
while(s<k&&x[s]==0)s++;return s<k?s:-1}function e(J,u,k){for(var s=2;s<5;s++){var i=0;for(var m=-s+1;
m<=s-1;m++){i+=P(J+m,u+s-1,x,M)==k?1:-1;i+=P(J+s-1,u+m-1,x,M)==k?1:-1;i+=P(J+m-1,u-s,x,M)==k?1:-1;i+=P(J-s,u+m,x,M)==k?1:-1}if(i>0)return 1;
else if(i<0)return 0}return 0}function f(k,l){var h=new p,J=k,u=l,i=0,m=1,w;h.color=x[l*M+k];h.sign=P(k,l,x,M)==h.color?"+":"-";
while(1){h.lL.push(J,u);if(J>h.jL)h.jL=J;if(J<h.jG)h.jG=J;if(u>h.jR)h.jR=u;if(u<h.jn)h.jn=u;h.Lw++;J+=i;
u+=m;h.r-=J*m;if(J==k&&u==l)break;var S=P(J+(i+m-1>>1),u+(m-i-1>>1),x,M)==h.color,o=P(J+(i-m-1>>1),u+(m+i-1>>1),x,M)==h.color;
if(o&&!S){if(D.vK=="right"||D.vK=="black"&&h.sign=="+"||D.vK=="white"&&h.sign=="-"||D.vK=="majority"&&e(J,u,h.color)||D.vK=="minority"&&!e(J,u,h.color)){w=i;
i=-m;m=w}else{w=i;i=m;m=-w}}else if(o){w=i;i=-m;m=w}else if(!S){w=i;i=m;m=-w}}return h}var N=0,Y=[];
while(!0){var N=a(N);if(N==-1)break;var l=Math.floor(N/M),h=f(N-l*M,l);for(var s=0;s<h.lL.length-2;s+=2){var J=h.lL[s],u=h.lL[s+1],Q=u*M+J;
if(J==h.lL[s+2]&&u+1==h.lL[s+3]&&x[Q]!=0)pk.fill(Q,x,M,0)}if(h.r>D.ezS)Y.push(h)}for(var s=0;s<Y.length;
s++)Y[s].parent=-1;var W=Date.now();for(var s=1;s<Y.length;s++){var q=Y[s];for(var H=s-1;H>=0;H--){var C=Y[H];
if(q.jG<C.jG||q.jL>C.jL||q.jn<C.jn||q.jR>C.jR)continue;if(!pk.eKz(C.lL,q.lL[0]+.5,q.lL[1]+.5))continue;
q.parent=H;break}}return Y}function A(x,M){function G(i,m,w,S,o){this.x=i;this.y=m;this.pp=w;this.px=S;
this.pZ=o}function D(i,m){return(m+i)%m}function P(i,m,w,S){return i*S-w*m}function a(i,m,w,S){return i*w+m*S}function e(i,m,w){if(i<=w)return i<=m&&m<w;
else return i<=m||m<w}function f(i,m,w){var S=0;S+=m*i[0]*m;S+=m*i[1]*w;S+=m*i[2];S+=w*i[3]*m;S+=w*i[4]*w;
S+=w*i[5];S+=i[6]*m;S+=i[7]*w;S+=i[8];return S}function N(i,m,w){return m+i*(w-m)}function Y(i,m,w,S){var o=Math.sign(w-i),O=-Math.sign(S-m);
return o*(w-i)-O*(S-m)}function l(i,m){return Math.sqrt(i*i+m*m)}function h(i,m,w,S,o){var O=1-i;return O*O*O*m+3*(O*O*i)*w+3*(i*i*O)*S+i*i*i*o}function s(i,m,w,S,o,O,t,c){var g=P(i,m,t,c),j=P(w,S,t,c),_=P(o,O,t,c),U=g-2*j+_,$=-2*g+2*j,I=g,E=$*$-4*U*I;
if(U==0||E<0)return-1;var b=Math.sqrt(E),z=(-$+b)/(2*U),QS=(-$-b)/(2*U);if(z>=0&&z<=1)return z;else if(QS>=0&&QS<=1)return QS;
else return-1}function J(k){var C,i,m;k.vD=k.lL[0];k.eEm=k.lL[1];k.AU=[];var w=k.AU;w.push(new G(0,0,0,0,0));
for(C=0;C<k.Lw;C++){i=k.lL[C<<1]-k.vD;m=k.lL[(C<<1)+1]-k.eEm;w.push(new G(w[C].x+i,w[C].y+m,w[C].pp+i*m,w[C].px+i*i,w[C].pZ+m*m))}}function u(k){var i=k.Lw,m=k.lL,w,S=new Array(i),o=new Array(i),O=new Array(4),t,c,g,j,_,U,$,I,E,b,z,C,QS,QQ,Qe,QB,QU,Qt,F=0;
k.vd=new Array(i);for(C=i-1;C>=0;C--){if(m[C<<1]!=m[F<<1]&&m[(C<<1)+1]!=m[(F<<1)+1])F=C+1;o[C]=F}for(C=i-1;
C>=0;C--){var L=D(C+1,i)<<1;O[0]=O[1]=O[2]=O[3]=0;w=(3+3*(m[L]-m[C<<1])+(m[L+1]-m[(C<<1)+1]))/2;O[w]++;
t=0;c=0;g=0;j=0;F=o[C];QQ=C;while(1){z=0;w=(3+3*Math.sign(m[F*2]-m[QQ*2])+Math.sign(m[F*2+1]-m[QQ*2+1]))/2;
O[w]++;if(O[0]&&O[1]&&O[2]&&O[3]){S[C]=QQ;z=1;break}E=m[F*2]-m[C*2];b=m[F*2+1]-m[C*2+1];if(P(t,c,E,b)<0||P(g,j,E,b)>0){break}if(Math.abs(E)<=1&&Math.abs(b)<=1){}else{_=E+(b>=0&&(b>0||E<0)?1:-1);
U=b+(E<=0&&(E<0||b<0)?1:-1);if(P(t,c,_,U)>=0){t=_;c=U}_=E+(b<=0&&(b<0||E<0)?1:-1);U=b+(E>=0&&(E>0||b<0)?1:-1);
if(P(g,j,_,U)<=0){g=_;j=U}}QQ=F;F=o[QQ];if(!e(F,C,QQ)){break}}if(z==0){$=Math.sign(m[F*2]-m[QQ*2]);I=Math.sign(m[F*2+1]-m[QQ*2+1]);
E=m[QQ*2]-m[C*2];b=m[QQ*2+1]-m[C*2+1];Qe=P(t,c,E,b);QB=P(t,c,$,I);QU=P(g,j,E,b);Qt=P(g,j,$,I);QS=1e7;
if(QB<0){QS=Math.floor(Qe/-QB)}if(Qt>0){QS=Math.min(QS,Math.floor(-QU/Qt))}S[C]=D(QQ+QS,i)}}QS=S[i-1];
k.vd[i-1]=QS;for(C=i-2;C>=0;C--){if(e(C+1,S[C],QS)){QS=S[C]}k.vd[C]=QS}for(C=i-1;e(D(C+1,i),QS,k.vd[C]);
C--){k.vd[C]=QS}}function Q(k){function i(k,C,m){var o=k.Lw,E=k.lL,b=k.AU,z,QS,QQ,Qe,QB,S,QU,Qt,I,F,L,Qu,QK,Qm,ei=0;
if(m>=o){m-=o;ei=1}if(ei==0){z=b[m+1].x-b[C].x;QS=b[m+1].y-b[C].y;Qe=b[m+1].px-b[C].px;QQ=b[m+1].pp-b[C].pp;
QB=b[m+1].pZ-b[C].pZ;S=m+1-C}else{z=b[m+1].x-b[C].x+b[o].x;QS=b[m+1].y-b[C].y+b[o].y;Qe=b[m+1].px-b[C].px+b[o].px;
QQ=b[m+1].pp-b[C].pp+b[o].pp;QB=b[m+1].pZ-b[C].pZ+b[o].pZ;S=m+1-C+o}L=(E[C<<1]+E[m<<1])/2-E[0];Qu=(E[(C<<1)+1]+E[(m<<1)+1])/2-E[1];
Qm=E[m<<1]-E[C<<1];QK=-(E[(m<<1)+1]-E[(C<<1)+1]);QU=(Qe-2*z*L)/S+L*L;Qt=(QQ-z*Qu-QS*L)/S+L*Qu;I=(QB-2*QS*Qu)/S+Qu*Qu;
F=QK*QK*QU+2*QK*Qm*Qt+Qm*Qm*I;return Math.sqrt(F)}var C,m,w,S,o=k.Lw,O=new Array(o+1),t=new Array(o+1),c=new Array(o),g=new Array(o+1),j=new Array(o+1),_=new Array(o+1),U,$,I;
for(C=0;C<o;C++){I=D(k.vd[D(C-1,o)]-1,o);if(I==C){I=D(C+1,o)}if(I<C){c[C]=o}else{c[C]=I}}m=1;for(C=0;
C<o;C++){while(m<=c[C]){g[m]=C;m++}}C=0;for(m=0;C<o;m++){j[m]=C;C=c[C]}j[m]=o;w=m;C=o;for(m=w;m>0;m--){_[m]=C;
C=g[C]}_[0]=0;O[0]=0;for(m=1;m<=w;m++){for(C=_[m];C<=j[m];C++){$=-1;for(S=j[m-1];S>=g[C];S--){U=i(k,S,C)+O[S];
if($<0||U<$){t[C]=S;$=U}}O[C]=$}}k.qr=w;k.eEX=new Array(w);for(C=o,m=w-1;C>0;m--){C=t[C];k.eEX[m]=C}}function W(k){function i(k,C,U,c,g,Qp){var S=k.Lw,QO=k.AU,QE=0,I;
while(U>=S){U-=S;QE+=1}while(C>=S){C-=S;QE-=1}while(U<0){U+=S;QE-=1}while(C<0){C+=S;QE+=1}var Qi=QO[U+1].x-QO[C].x+QE*QO[S].x,QV=QO[U+1].y-QO[C].y+QE*QO[S].y,Q$=QO[U+1].px-QO[C].px+QE*QO[S].px,eS=QO[U+1].pp-QO[C].pp+QE*QO[S].pp,Qs=QO[U+1].pZ-QO[C].pZ+QE*QO[S].pZ,$=U+1-C+QE*S;
c[Qp]=Qi/$;c[Qp+1]=QV/$;var Qw=(Q$-Qi*Qi/$)/$,Q_=(eS-Qi*QV/$)/$,QN=(Qs-QV*QV/$)/$,eK=(Qw+QN+Math.sqrt((Qw-QN)*(Qw-QN)+4*Q_*Q_))/2;
Qw-=eK;QN-=eK;if(Math.abs(Qw)>=Math.abs(QN)){I=Math.sqrt(Qw*Qw+Q_*Q_);if(I!=0){g[Qp]=-Q_/I;g[Qp+1]=Qw/I}}else{I=Math.sqrt(QN*QN+Q_*Q_);
if(I!=0){g[Qp]=-QN/I;g[Qp+1]=Q_/I}}if(I==0){g[Qp]=g[Qp+1]=0}}var m=k.qr,w=k.eEX,S=k.Lw,o=k.lL,O=k.vD,t=k.eEm,c=new Array(m*2),g=new Array(m*2),j=new Array(m),_=new Array(3),C,U,$,I,QS,QQ,Qe,QB,QU,Qt,F;
k.kY=new d(m);for(C=0;C<m;C++){U=w[D(C+1,m)];U=D(U-w[C],S)+w[C];c[C<<1]=0;c[(C<<1)+1]=0;g[C<<1]=0;g[(C<<1)+1]=0;
i(k,w[C],U,c,g,C<<1)}for(C=0;C<m;C++){j[C]=[0,0,0,0,0,0,0,0,0];var E=g[C<<1]*g[C<<1]+g[(C<<1)+1]*g[(C<<1)+1],b=1/E;
if(E!=0){_[0]=g[(C<<1)+1];_[1]=-g[C<<1];_[2]=-_[1]*c[(C<<1)+1]-_[0]*c[C<<1];for(I=0;I<3;I++){j[C][I*3+0]=_[I]*_[0]*b;
j[C][I*3+1]=_[I]*_[1]*b;j[C][I*3+2]=_[I]*_[2]*b}}}var z=[0,0,0,0,0,0,0,0,0];for(C=0;C<m;C++){z[0]=z[1]=z[2]=z[3]=z[4]=z[5]=z[6]=z[7]=z[8]=z[9]=0;
var L=o[w[C]<<1]-O,Qu=o[(w[C]<<1)+1]-t,QK=0,Qm=0;U=D(C-1,m);for(I=0;I<9;I+=3){z[I+0]=j[U][I+0]+j[C][I+0];
z[I+1]=j[U][I+1]+j[C][I+1];z[I+2]=j[U][I+2]+j[C][I+2]}while(1){var ei=z[0]*z[4]-z[1]*z[3];if(ei!=0){QK=(-z[2]*z[4]+z[5]*z[0])/ei;
Qm=(z[2]*z[3]-z[5]*z[0])/ei;break}if(z[0]>z[4]){_[0]=-z[1];_[1]=z[0]}else if(z[4]){_[0]=-z[4];_[1]=z[3]}else{_[0]=1;
_[1]=0}var E=_[0]*_[0]+_[1]*_[1],b=1/E;_[2]=-_[1]*Qu-_[0]*L;for(I=0;I<3;I++){z[I*3+0]+=_[I]*_[0]*b;z[I*3+1]+=_[I]*_[1]*b;
z[I*3+2]+=_[I]*_[2]*b}}QS=Math.abs(QK-L);QQ=Math.abs(Qm-Qu);if(QS<=.5&&QQ<=.5){k.kY.Lp[C<<1]=QK+O;k.kY.Lp[(C<<1)+1]=Qm+t;
continue}Qe=f(z,L,Qu);QU=L;Qt=Qu;if(z[0]!=0){for(F=0;F<2;F++){Qm=Qu-.5+F;QK=-(z[1]*Qm+z[2])/z[0];QS=Math.abs(QK-L);
QB=f(z,QK,Qm);if(QS<=.5&&QB<Qe){Qe=QB;QU=QK;Qt=Qm}}}if(z[4]!=0){for(F=0;F<2;F++){QK=L-.5+F;Qm=-(z[3]*QK+z[5])/z[4];
QQ=Math.abs(Qm-Qu);QB=f(z,QK,Qm);if(QQ<=.5&&QB<Qe){Qe=QB;QU=QK;Qt=Qm}}}for(I=0;I<2;I++){for($=0;$<2;
$++){QK=L-.5+I;Qm=Qu-.5+$;QB=f(z,QK,Qm);if(QB<Qe){Qe=QB;QU=QK;Qt=Qm}}}k.kY.Lp[C<<1]=QU+O;k.kY.Lp[(C<<1)+1]=Qt+t}}function q(k){var i=k.kY.pH,m=k.kY,C,w,S,o,O,t,c,g,j;
for(C=0;C<i;C++){w=D(C+1,i);S=D(C+2,i);var _=m.Lp[C<<1],U=m.Lp[(C<<1)+1],$=m.Lp[S<<1],I=m.Lp[(S<<1)+1],E=m.Lp[w<<1],b=m.Lp[(w<<1)+1],z=N(.5,$,E),QS=N(.5,I,b);
O=Y(_,U,$,I);if(O!=0){o=P(E-_,b-U,$-_,I-U)/O;o=Math.abs(o);t=o>1?1-1/o:0;t=t*(1/.75)}else{t=4/3}m.jz[w]=t;
var QQ=3*w<<1;if(t>=M.ezH){m.vX[w]=0;m.$H[QQ+0]=m.$H[QQ+1]=0;m.$H[QQ+2]=E;m.$H[QQ+3]=b;m.$H[QQ+4]=z;
m.$H[QQ+5]=QS}else{if(t<.55){t=.55}else if(t>1){t=1}var Qe=.5+.5*t;m.vX[w]=1;m.$H[QQ]=N(Qe,_,E);m.$H[QQ+1]=N(Qe,U,b);
m.$H[QQ+2]=N(Qe,$,E);m.$H[QQ+3]=N(Qe,I,b);m.$H[QQ+4]=z;m.$H[QQ+5]=QS}m.alpha[w]=t;m.ja[w]=.5}m.ezE=1}function H(k){function i(){this.vy=0;
this.Au=0;this.AE=0;this.AI=0;this.Az=0;this.pz=0;this.mQ=0;this.alpha=0}function m(k,C,_,Qz,eQ,QB,QU){var S=k.kY.pH,Qd=k.kY.$H,Qj=k.kY.Lp;
if(C==_)return 1;var QD=C,E=D(C+1,S),Qq=D(QD+1,S),Q$=Qj[C<<1],eS=Qj[(C<<1)+1],et=Qj[E<<1],QC=Qj[(E<<1)+1],Qf=QB[Qq];
if(Qf==0)return 1;var QA=l(Q$-et,eS-QC);for(QD=Qq;QD!=_;QD=Qq){var Qq=D(QD+1,S),Qb=D(QD+2,S),MS=Qj[Qq<<1],QR=Qj[(Qq<<1)+1],eG=Qj[Qb<<1],MG=Qj[(Qb<<1)+1];
if(QB[Qq]!=Qf)return 1;if(Math.sign(P(et-Q$,QC-eS,eG-MS,MG-QR))!=Qf)return 1;if(a(et-Q$,QC-eS,eG-MS,MG-QR)<QA*l(MS-eG,QR-MG)*-.999847695156)return 1}var MM=D(C,S)*3+2<<1,MP=D(C+1,S)<<1,Mu=D(_,S)<<1,Mm=D(_,S)*3+2<<1,ei=Qd[MM],Qp=Qd[MM+1],Mw=Qj[MP],MU=Qj[MP+1],Pp=Qj[Mu],Ma=Qj[Mu+1],MQ=Qd[Mm],P$=Qd[Mm+1],Qt=Qj[0],F=Qj[1];
MM=_*3+2<<1;var pU=Qd[MM],pP=Qd[MM+1],b=QU[_]-QU[C];b-=P(pU-Qt,pP-F,pU-Qt,pP-F)/2;if(C>=_){b+=QU[S]}var Mr=Mw-ei,eM=MU-Qp,pS=Pp-ei,eN=Ma-Qp,Mk=MQ-ei,MI=P$-Qp,ez=P(Mr,eM,pS,eN),PK=P(Mr,eM,Mk,MI),eZ=P(pS,eN,Mk,MI),eu=ez+eZ-PK;
if(PK==ez)return 1;var Qe=eZ/(eZ-eu),QQ=PK/(PK-ez),pp=PK*Qe/2;if(pp==0)return 1;var GB=b/pp,z=2-Math.sqrt(4-GB/.3);
Qz.Au=N(Qe*z,ei,Mw);Qz.AE=N(Qe*z,Qp,MU);Qz.AI=N(QQ*z,MQ,Pp);Qz.Az=N(QQ*z,P$,Ma);Qz.alpha=z;Qz.pz=Qe;
Qz.mQ=QQ;Mw=Qz.Au;MU=Qz.AE;Pp=Qz.AI;Ma=Qz.Az;Qz.vy=0;for(QD=D(C+1,S);QD!=_;QD=Qq){Qq=D(QD+1,S);var MH=Qj[QD<<1],Gi=Qj[(QD<<1)+1],MS=Qj[Qq<<1],QR=Qj[(Qq<<1)+1];
Qe=s(Mw-ei,MU-Qp,Pp-Mw,Ma-MU,MQ-Pp,P$-Ma,MS-MH,QR-Gi);if(Qe<-.5)return 1;var e$=h(Qe,ei,Mw,Pp,MQ),Mx=h(Qe,Qp,MU,Ma,P$),QA=l(MS-MH,QR-Gi);
if(QA==0)return 1;var em=P(MS-MH,QR-Gi,e$-MH,Mx-Gi)/QA;if(Math.abs(em)>eQ)return 1;if(a(MS-MH,QR-Gi,e$-MH,Mx-Gi)<0||a(MH-MS,Gi-QR,e$-MS,Mx-QR)<0){return 1}Qz.vy+=em*em}for(QD=C;
QD!=_;QD=Qq){Qq=D(QD+1,S);var MM=QD*3+2<<1,MP=Qq*3+2<<1,pe=Qd[MM],eU=Qd[MM+1],ep=Qd[MP],tN=Qd[MP+1];
Qe=s(Mw-ei,MU-Qp,Pp-Mw,Ma-MU,MQ-Pp,P$-Ma,ep-pe,tN-eU);if(Qe<-.5)return 1;var e$=h(Qe,ei,Mw,Pp,MQ),Mx=h(Qe,Qp,MU,Ma,P$),QA=l(ep-pe,tN-eU);
if(QA==0)return 1;var em=P(ep-pe,tN-eU,e$-pe,Mx-eU)/QA,pM=P(ep-pe,tN-eU,Qj[Qq<<1]-pe,Qj[(Qq<<1)+1]-eU)/QA;
pM*=.75*k.kY.alpha[Qq];if(pM<0){em=-em;pM=-pM}if(em<pM-eQ)return 1;if(em<pM){Qz.vy+=(em-pM)*(em-pM)}}return 0}var w=k.kY,S=w.pH,o=w.Lp,O=new Array(S+1),t=new Array(S+1),c=new Array(S+1),g=new Array(S+1),j,C,_,U,$=new i,I,E,b,z,QS,QQ,Qe,QB=new Array(S),QU=new Array(S+1);
for(C=0;C<S;C++){if(w.vX[C]=="CURVE"){var Qt=o[D(C-1,S)<<1],F=o[(D(C-1,S)<<1)+1],L=o[C<<1],Qu=o[(C<<1)+1],QK=o[D(C+1,S)<<1],Qm=o[(D(C+1,S)<<1)+1];
QB[C]=Math.sign(P(L-Qt,Qu-F,QK-L,Qm-Qu))}else{QB[C]=0}}b=0;QU[0]=0;var ei=w.Lp[0],Qp=w.Lp[1];for(C=0;
C<S;C++){E=D(C+1,S);if(w.vX[E]=="CURVE"){z=w.alpha[E];var QO=C*3+2<<1,QE=E*3+2<<1,Qi=w.$H[QO],QV=w.$H[QO+1],Q$=o[E<<1],eS=o[(E<<1)+1],Qs=w.$H[QE],Qw=w.$H[QE+1];
b+=.3*z*(4-z)*P(Q$-Qi,eS-QV,Qs-Qi,Qw-QV)/2;b+=P(Qi-ei,QV-Qp,Qs-ei,Qw-Qp)/2}QU[C+1]=b}O[0]=-1;t[0]=0;
c[0]=0;for(_=1;_<=S;_++){O[_]=_-1;t[_]=t[_-1];c[_]=c[_-1]+1;for(C=_-2;C>=0;C--){U=m(k,C,D(_,S),$,M.ez_,QB,QU);
if(U){break}if(c[_]>c[C]+1||c[_]==c[C]+1&&t[_]>t[C]+$.vy){O[_]=C;t[_]=t[C]+$.vy;c[_]=c[C]+1;g[_]=$;$=new i}}}j=c[S];
QS=new d(j);QQ=new Array(j);Qe=new Array(j);_=S;for(C=j-1;C>=0;C--){var Q_=D(_,S),QN=C*3+0<<1,eK=Q_*3+0<<1;
if(O[_]==_-1){QS.vX[C]=w.vX[Q_];QS.$H[QN]=w.$H[eK];QS.$H[QN+1]=w.$H[eK+1];QS.$H[QN+2]=w.$H[eK+2];QS.$H[QN+3]=w.$H[eK+3];
QS.$H[QN+4]=w.$H[eK+4];QS.$H[QN+5]=w.$H[eK+5];QS.Lp[C<<1]=w.Lp[Q_<<1];QS.Lp[(C<<1)+1]=w.Lp[(Q_<<1)+1];
QS.alpha[C]=w.alpha[Q_];QS.jz[C]=w.jz[Q_];QS.ja[C]=w.ja[Q_];QQ[C]=Qe[C]=1}else{QS.vX[C]="CURVE";QS.$H[QN]=g[_].Au;
QS.$H[QN+1]=g[_].AE;QS.$H[QN+2]=g[_].AI;QS.$H[QN+3]=g[_].Az;QS.$H[QN+4]=w.$H[eK+4];QS.$H[QN+5]=w.$H[eK+5];
QS.Lp[C<<1]=N(g[_].mQ,w.$H[eK+4],o[Q_<<1]);QS.Lp[(C<<1)+1]=N(g[_].mQ,w.$H[eK+5],o[(Q_<<1)+1]);QS.alpha[C]=g[_].alpha;
QS.jz[C]=g[_].alpha;QQ[C]=g[_].mQ;Qe[C]=g[_].pz}_=O[_]}for(C=0;C<j;C++){E=D(C+1,j);QS.ja[C]=QQ[C]/(QQ[C]+Qe[E])}QS.ezE=1;
k.kY=QS}for(var C=0;C<x.length;C++){var k=x[C];J(k);u(k);Q(k);W(k);q(k);if(M.ezm)H(k)}}return{eRT:K,eRk:A}}();
pk.BK=function(p,d,K,A){var x={vK:"minority",ezS:A,ezm:!0,ezH:1,ez_:.2},M=pk.eRT(p,d,K,x);pk.eRk(M,x);
return M};pk.zu=function(p){var d=[];for(var K=0;K<p.length;K++){var A=p[K],x=A.kY,M=["M"],G=[x.$H[(x.pH-1)*6+4],x.$H[(x.pH-1)*6+5]];
for(var D=0;D<x.pH;D++){var P=D*6;if(x.vX[D]==1){M.push("C");for(var a=0;a<6;a++)G.push(x.$H[P+a])}else if(x.vX[D]==0){M.push("L");
for(var a=2;a<4;a++)G.push(x.$H[P+a])}}d.push({parent:A.parent,color:A.color,path:{B:G,$:M}})}return d};
pk.eVY=function(p,d,K,A,x){function M(h){function s(P){var l="C "+(h.$H[P*3+0<<1]*d).toFixed(1)+" "+(h.$H[(P*3+0<<1)+1]*d).toFixed(1)+",";
l+=(h.$H[P*3+1<<1]*d).toFixed(1)+" "+(h.$H[(P*3+1<<1)+1]*d).toFixed(1)+",";l+=(h.$H[P*3+2<<1]*d).toFixed(1)+" "+(h.$H[(P*3+2<<1)+1]*d).toFixed(1)+" ";
return l}function J(P){var W="L "+(h.$H[P*3+1<<1]*d).toFixed(1)+" "+(h.$H[(P*3+1<<1)+1]*d).toFixed(1)+" ";
W+=(h.$H[P*3+2<<1]*d).toFixed(1)+" "+(h.$H[(P*3+2<<1)+1]*d).toFixed(1)+" ";return W}var u=h.pH,P,Q="M"+(h.$H[(u-1)*3+2<<1]*d).toFixed(1)+" "+(h.$H[((u-1)*3+2<<1)+1]*d).toFixed(1)+" ";
for(P=0;P<u;P++){if(h.vX[P]==1){Q+=s(P)}else if(h.vX[P]==0){Q+=J(P)}}return Q}var K=K*d,A=A*d,G=p.length,D=[];
for(var P=0;P<256;P++)D.push("rgb("+Math.floor(Math.random()*255)+","+Math.floor(Math.random()*255)+","+Math.floor(Math.random()*255)+")");
var a="<svg id=\"svg\" version=\"1.1\" width=\""+K+"\" height=\""+A+"\" xmlns=\"http://www.w3.org/2000/svg\">";
for(var P=0;P<G;P++){var e=x[p[P].color-1].eQ_.Dd;if((e>>>24&255)==0)continue;a+="<path d=\"";var f=p[P].kY;
a+=M(f);var N=e>>0&255,Y=e>>8&255,l=e>>16&255,e="rgb("+N+","+Y+","+l+")";a+="\" fill=\""+e+"\" fill-rule=\"evenodd\"/>"}a+="</svg>";
return a};pk.eKz=function(p,d,K){var A=p.length>>1,x,M=p[2*A-3]-K,G=p[2*A-2]-d,D=p[2*A-1]-K,P=D>M,e=0;
for(var a=0;a<A;a++){x=G;M=D;G=p[2*a]-d;D=p[2*a+1]-K;if(M==D)continue;P=D>M}for(var a=0;a<A;a++){x=G;
M=D;G=p[2*a]-d;D=p[2*a+1]-K;if(M<0&&D<0)continue;if(M>0&&D>0)continue;if(x<0&&G<0)continue;if(M==D&&Math.min(x,G)<=0)return!0;
if(M==D)continue;var f=x+(G-x)*-M/(D-M);if(f==0)return!0;if(f>0)e++;if(M==0&&P&&D>M)e--;if(M==0&&!P&&D<M)e--;
P=D>M}return(e&1)==1};pk.fill=function(p,d,K,A){var x=d[p],M=[p],G=0;while(G<M.length){var D=M[G];G++;
d[D]=A;if(d[D-K]==x){M.push(D-K);d[D-K]=254}if(d[D-1]==x){M.push(D-1);d[D-1]=254}if(d[D+1]==x){M.push(D+1);
d[D+1]=254}if(d[D+K]==x){M.push(D+K);d[D+K]=254}}};var X={};X.Ug=!1;X.BD=!1;X._U=!1;X.gM=document.createElement("canvas");
X.Eh=null;X.oo=null;X.vo=0;(function(){var p={alpha:!0,antialias:!1,depth:!1,premultipliedAlpha:!1},d;
if(!d)d=X.gM.getContext("webgl",p);if(!d)d=X.gM.getContext("experimental-webgl",p);if(d){X.Ug=!0;X.BD=!0;
X.Eh=d;X.oo=d.createFramebuffer();d.bindFramebuffer(d.FRAMEBUFFER,X.oo);d.disable(d.BLEND);d.disable(d.DEPTH_TEST);
var K=d.createBuffer();d.bindBuffer(d.ARRAY_BUFFER,K);d.bufferData(d.ARRAY_BUFFER,new Float32Array([0,0,1,0,0,1,0,1,1,0,1,1]),d.STATIC_DRAW);
d.enableVertexAttribArray(0);d.vertexAttribPointer(0,2,d.FLOAT,!1,0,0)}}());X.eKr=function(p){var d=X.Eh;
if(p>d.getParameter(d.MAX_TEXTURE_SIZE)){X.Ug=!1;alert("Disabling WebGL")}};X._L=function(p,d){return new Float32Array([(p.x-d.x)/d.t,(p.y-d.y)/d.D,p.t/d.t,p.D/d.D])};
X.Pu=function(){return this.gM};X.El=function(p,d){var K=X.Eh;K.bindFramebuffer(K.FRAMEBUFFER,X.oo);
K.framebufferTexture2D(K.FRAMEBUFFER,K.COLOR_ATTACHMENT0,K.TEXTURE_2D,p.Ni,0);K.viewport(0,0,p.t,p.D);
if(d){K.enable(K.SCISSOR_TEST);K.scissor(d.x,d.y,d.t,d.D)}else K.disable(K.SCISSOR_TEST)};X.Bg=function(p,d,K){if(K)throw"error";
var A=X.Eh;A.disable(A.SCISSOR_TEST);A.bindFramebuffer(A.FRAMEBUFFER,null);A.viewport(0,0,p,d);if(K){A.enable(A.SCISSOR_TEST);
A.scissor(K.x,K.y,Math.round(K.t),Math.round(K.D))}else A.disable(A.SCISSOR_TEST)};X.clear=function(){var p=X.Eh;
p.clearColor(0,0,0,0);p.clear(p.COLOR_BUFFER_BIT)};X.cD=function(p,d){if(d==null)d=0;var K=(d>>>0&255)==0,A=(d>>>8&255)==0,x=(d>>>16&255)==0,M=(d>>>24&255)==0,G=(p>>>0&255)*(1/255),D=(p>>>8&255)*(1/255),P=(p>>>16&255)*(1/255),a=(p>>>24&255)*(1/255),e=X.Eh;
e.colorMask(K,A,x,M);e.clearColor(G,D,P,a);e.clear(e.COLOR_BUFFER_BIT);e.colorMask(!0,!0,!0,!0)};X.Bd=function(p,d,K,A,x){var M=d.pk(A);
if(x)M=M.pk(x);if(M.kQ())return;var G=X.Eh;X.El(p);G.bindTexture(G.TEXTURE_2D,K.Ni);G.copyTexSubImage2D(G.TEXTURE_2D,0,M.x-A.x,M.y-A.y,M.x-d.x,M.y-d.y,M.t,M.D)};
X.PV=function(p,d,K){var A=X.Oe[p];if(A==null||A.t!=d||A.D!=K){if(A)A.delete();A=new X.dY(d,K)}X.Oe[p]=A;
return A};X.Oe=[];X.wd=function(){this.Ar=null;this.du=null};X.wd.hX=null;X.wd.prototype.qd=function(p){if(this.du)return;
this.du={};var d=X.Eh,K=this.Ar,A=this.du;for(var x=0;x<p.length;x++){var M=p[x];A[M]=d.getUniformLocation(K,M)}};
X.wd.prototype._E=function(){};X.wd.prototype.Dj=function(p){var d=X.Eh;for(var K=0;K<p.length;K+=2){d.uniform1i(p[K],K>>>1);
d.activeTexture(d["TEXTURE"+(K>>>1)]);d.bindTexture(d.TEXTURE_2D,p[K+1])}d.activeTexture(d.TEXTURE0)};
X.wd.prototype.Mg=function(p,d){var K=X.Eh,A=K.createShader(K.FRAGMENT_SHADER);K.shaderSource(A,p);K.compileShader(A);
if(!K.getShaderParameter(A,K.COMPILE_STATUS))console.log(K.getShaderInfoLog(A));var x=K.createShader(K.VERTEX_SHADER);
K.shaderSource(x,d);K.compileShader(x);if(!K.getShaderParameter(x,K.COMPILE_STATUS))console.log(K.getShaderInfoLog(x));
var M=K.createProgram();K.attachShader(M,x);K.attachShader(M,A);K.linkProgram(M);if(!K.getProgramParameter(M,K.LINK_STATUS))console.log("Could not initialise shaders");
this.Ar=M};X.wd.prototype._z=function(){if(X.wd.hX!=this){X.Eh.useProgram(this.Ar);X.wd.hX=this}};X._d=function(p,d){X.Em++;
X.vo+=p*d;if(X._U)console.log("GL.Channels instances: "+X.Em+", memory: "+X.vo);var K=X.Eh;this.t=p;
this.D=d;this.Ni=K.createTexture();this.Yz=null;this.oW(this.Ni,p,d)};X._d.prototype.oW=function(p,d,K){var A=X.Eh;
A.bindTexture(A.TEXTURE_2D,p);A.texParameteri(A.TEXTURE_2D,A.TEXTURE_MIN_FILTER,A.NEAREST);A.texParameteri(A.TEXTURE_2D,A.TEXTURE_MAG_FILTER,A.NEAREST);
A.texParameteri(A.TEXTURE_2D,A.TEXTURE_WRAP_S,A.CLAMP_TO_EDGE);A.texParameteri(A.TEXTURE_2D,A.TEXTURE_WRAP_T,A.CLAMP_TO_EDGE);
A.texImage2D(A.TEXTURE_2D,0,A.ALPHA,d,K,0,A.ALPHA,A.UNSIGNED_BYTE,null)};X._d.prototype.set=function(p){var d=X.Eh;
d.bindTexture(d.TEXTURE_2D,this.Ni);d.pixelStorei(d.UNPACK_ALIGNMENT,1);d.texImage2D(d.TEXTURE_2D,0,d.ALPHA,this.t,this.D,0,d.ALPHA,d.UNSIGNED_BYTE,p);
d.pixelStorei(d.UNPACK_ALIGNMENT,4)};X._d.prototype.delete=function(){var p=X.Eh;if(this.Ni){p.deleteTexture(this.Ni);
X.Em--;X.vo-=this.t*this.D}if(X._U)if(X._U)console.log("GL.Channels instances: "+X.Em+", memory: "+X.vo*4)};
X.Em=0;X.dY=function(p,d,K){if(K==null)K=!1;X.Em++;X.vo+=p*d*4;if(X._U)console.log("GL.Channels instances: "+X.Em+", memory: "+X.vo);
var A=X.Eh;this.ezi=K;this.t=p;this.D=d;this.Ni=A.createTexture();this.Yz=null;this.oW(this.Ni,p,d)};
X.dY.prototype.set=function(p,d){var K=X.Eh;K.disable(K.SCISSOR_TEST);K.bindTexture(K.TEXTURE_2D,this.Ni);
if(p==null||p instanceof Uint8Array){var A=this.t*this.D;if(d==null||d.r()*10>A)K.texImage2D(K.TEXTURE_2D,0,K.RGBA,this.t,this.D,0,K.RGBA,K.UNSIGNED_BYTE,p);
else{var x=Z.p(d.r()*4);Z.PE(p,new R(0,0,this.t,this.D),x,d);K.texSubImage2D(K.TEXTURE_2D,0,d.x,d.y,d.t,d.D,K.RGBA,K.UNSIGNED_BYTE,x)}}else K.texImage2D(K.TEXTURE_2D,0,K.RGBA,K.RGBA,K.UNSIGNED_BYTE,p)};
X.dY.prototype.get=function(p){var d=X.Eh;X.El(this);d.readPixels(0,0,this.t,this.D,d.RGBA,d.UNSIGNED_BYTE,p)};
X.dY.prototype.YA=function(p){if(p.kQ())return;var d=X.Eh;if(this.Yz==null){this.Yz=d.createTexture();
this.oW(this.Yz,this.t,this.D);X.Em++;X.vo+=this.t*this.D*4}d.bindFramebuffer(d.FRAMEBUFFER,X.oo);d.bindTexture(d.TEXTURE_2D,this.Yz);
if(p){var K=Math.max(p.x,0),A=Math.max(p.y,0);d.copyTexSubImage2D(d.TEXTURE_2D,0,K,A,K,A,p.t,p.D)}else d.copyTexImage2D(d.TEXTURE_2D,0,d.RGBA,0,0,this.t,this.D,0)};
X.dY.prototype.oW=function(p,d,K){var A=X.Eh;A.bindTexture(A.TEXTURE_2D,p);A.texParameteri(A.TEXTURE_2D,A.TEXTURE_MIN_FILTER,this.ezi?A.LINEAR:A.NEAREST);
A.texParameteri(A.TEXTURE_2D,A.TEXTURE_MAG_FILTER,A.NEAREST);A.texParameteri(A.TEXTURE_2D,A.TEXTURE_WRAP_S,A.CLAMP_TO_EDGE);
A.texParameteri(A.TEXTURE_2D,A.TEXTURE_WRAP_T,A.CLAMP_TO_EDGE);A.texImage2D(A.TEXTURE_2D,0,A.RGBA,d,K,0,A.RGBA,A.UNSIGNED_BYTE,null)};
X.dY.prototype.delete=function(){var p=X.Eh;if(this.Ni){p.deleteTexture(this.Ni);X.Em--;X.vo-=this.t*this.D*4}if(this.Yz){p.deleteTexture(this.Yz);
X.Em--;X.vo-=this.t*this.D*4}if(X._U)if(X._U)console.log("GL.Channels instances: "+X.Em+", memory: "+X.vo)};
X.dY.prototype.clone=function(){var p=X.Eh,d=new X.dY(this.t,this.D);X.El(this);p.bindTexture(p.TEXTURE_2D,d.Ni);
p.copyTexImage2D(p.TEXTURE_2D,0,p.RGBA,0,0,this.t,this.D,0);return d};X.wg={eKy:"  vec3 ocbrn(vec3 a, vec3 b, float f) {  vec3 d = (a*vec3(f)+ONE3-vec3(f));  return mix(ONE3 - min(ONE3,(ONE3-b)/d), ZERO3, vec3(vec3(greaterThan(vec3(0.001),d))) );  }  ",eKT:"  vec3 ocddg(vec3 a, vec3 b, float f) {  return mix(        min(ONE3,       b/(ONE3 - a*f))    ,   ONE3   , vec3(equal(a*f,ONE3 )) );  }  ",Kb:"const vec3 ZERO3 = vec3(0.0,0.0,0.0) ;\t\t\tconst vec3 QUAR3 = vec3(0.25,0.25,0.25) ;\t\t\tconst vec3 HALF3 = vec3(0.5,0.5,0.5) ;\t\t\tconst vec3 ONE3  = vec3(1.0,1.0,1.0) ;",iq:" float hueDiff(float shue, float hue) { \t\t\t\tfloat df = hue-shue, adf=abs(df), df0 = df-1.0, df1 = df+1.0; \t\t\t\tif(abs(df0) < adf)  df = df0; \t\t\t\telse if(abs(df1) < adf)  df = df1; \t\t\t\treturn df; \t\t\t}",OU:" float hueCF(float hueS, float hue0) { \t\t\t\tfloat df = hueDiff(hue0, hueS)*6.0; \t\t\t\treturn   max(0.0, min(1.0,  (df<0.0) ? 1.0+df : 1.0-df  ));  } ",ii:"float sat(vec3 c) { return max(c.x,max(c.y,c.z)) - min(c.x,min(c.y,c.z)); }",OE:"float lum(vec3 c) { return dot(c, vec3(0.3,0.59,0.11)); } ",FN:"vec3  D  (vec3 x) { return mix( sqrt(x), ((16.0*x-12.0)*x+4.0)*x  , vec3(lessThanEqual(x,QUAR3))  ); }",emO:"float midSat (vec3 v, float s) { return ((v.y-v.z)*s)/(v.x-v.z); }",io:"vec3 setSat (vec3 c, float s) \t\t\t{\t\t\t\tvec3 o;\t\t\t\tif(c.r==c.g && c.g==c.b) o = ZERO3;\t\t\t\telse if(c.r>c.g)  {\t\t\t\t\tif(c.r>c.b) {\t\t\t\t\t\tif(c.g>c.b)\to = vec3(s, midSat(c.rgb,s), 0.0); \t\t\t\t\t\telse\to = vec3(s, 0.0, midSat(c.rbg,s)); \t\t\t\t\t}\t\t\t\t\telse\t\to = vec3(midSat(c.brg,s), 0.0, s); \t\t\t\t} else  {\t\t\t\t\tif(c.r<c.b) {\t\t\t\t\t\tif(c.g>c.b)\to = vec3(0.0, s, midSat(c.gbr,s)); \t\t\t\t\t\telse\t    o = vec3(0.0, midSat(c.bgr,s), s); \t\t\t\t\t}\t\t\t\t\telse\t\t    o = vec3(midSat(c.grb,s), s, 0.0);\t\t\t\t}\t\t\t\treturn o;\t\t\t}",emU:"vec3 clipCol(vec3 c) \t\t\t{ \t\t\t\tvec3 o = c;  float l = lum(c); \t\t\t\tfloat n = min(c.r,min(c.g,c.b)); \t\t\t\tfloat x = max(c.r,max(c.g,c.b)); \t\t\t\tif(n<0.0) o = l + (o-l)*(l/(l-n));\t\t\t\tif(x>1.0) o = l + (o-l)*(1.0-l)/(x-l);\t\t\t\treturn o;\t\t\t}",cs:"vec3 setLum (vec3 c, float l) { return clipCol(c+l-lum(c)); } ",OK:"bool in01(vec2 c) { return (0.0<=c.x) && (c.x<=1.0) && (0.0<=c.y) && (c.y<=1.0); }",hash:"float hash(vec2 v) { return fract(sin(dot(v ,vec2(12.9898,78.233))) * 43758.5453); }",Qy:"vec3 rgbToHsl (vec3 rgb) {\t\t\t\tfloat r = rgb.r, g = rgb.g, b = rgb.b; \t\t\t\tfloat mx = max(r, max(g, b)), mn = min(r, min(g, b)); \t\t\t\tfloat h, s, l = (mx + mn) * 0.5;\t\t\t\t\t\t\t\tif(mx == mn) h = s = 0.0; \t\t\t\telse{ \t\t\t\t\tfloat d = mx - mn; \t\t\t\t\ts = l > 0.5 ? d / (2.0 - mx - mn) : d / (mx + mn);  \t\t\t\t\t\t\t\t\t\tif(mx==r) h = (g - b) / d + (g < b ? 6.0 : 0.0);  \t\t\t\t\telse if(mx==g) h = (b - r) / d + 2.0; \t\t\t\t\telse if(mx==b) h = (r - g) / d + 4.0; \t\t\t\t\t\t\t\t\t\th /= 6.0; \t\t\t\t}  \t\t\t\treturn vec3(h,s,l); }",dX:"vec3 hslToRgb (float h, float s, float l){\t\t\t\tfloat r, g, b;\t\t\t\t\t\t\t\tif(s == 0.0)  r = g = b = l; \t\t\t\telse{ \t\t\t\t\tfloat q = l < 0.5 ? l * (1.0 + s) : l + s - l * s; \t\t\t\t\tfloat p = 2.0 * l - q; \t\t\t\t\tr = hue2rgb(p, q, h + 1.0/3.0); \t\t\t\t\tg = hue2rgb(p, q, h); \t\t\t\t\tb = hue2rgb(p, q, h - 1.0/3.0); \t\t\t\t} \t\t\t\treturn vec3(r,g,b); } ",AF:"float hue2rgb(float p, float q, float t){ \t\t\t\tif(t < 0.0) t += 1.0;\t\t\t\tif(t > 1.0) t -= 1.0;\t\t\t\tif(t < 1.0/6.0) return p + (q - p) * 6.0 * t; \t\t\t\tif(t < 1.0/2.0) return q; \t\t\t\tif(t < 2.0/3.0) return p + (q - p) * (2.0/3.0 - t) * 6.0; \t\t\t\treturn p;\t}",FE:"vec3 rgbToHsv(vec3 rgb){\t\t\t\t\tfloat r = rgb.r, g = rgb.g, b = rgb.b; \t\t\t\tfloat mx = max(r, max(g, b)), mn = min(r, min(g, b)); \t\t\t\tfloat h, s, v = mx; \t\t\t\t\t\t\t\tfloat d = mx - mn; \t\t\t\ts = mx == 0.0 ? 0.0 : d / mx; \t\t\t\t\t\t\t\tif(mx == mn) h = 0.0;  \t\t\t\telse if(mx==r) h = (g - b) / d + (g < b ? 6.0 : 0.0);  \t\t\t\telse if(mx==g) h = (b - r) / d + 2.0; \t\t\t\telse if(mx==b) h = (r - g) / d + 4.0; \t\t\t\t\t\t\t\th /= 6.0; \t\t\t\treturn vec3(h,s,v);  }",uK:"vec3 hsvToRgb(float h, float s, float v)  { \t\t\t\tfloat r, g, b, f, p, q, t, i; \t\t\t\ti = floor(h * 6.0); \t\t\t\tf = h * 6.0 - i; \t\t\t\tp = v * (1.0 - s); \t\t\t\tq = v * (1.0 - f * s); \t\t\t\tt = v * (1.0 - (1.0 - f) * s); \t\t\t\t\t\t\t\tif     (i==0.0) { r = v, g = t, b = p; }\t\t\t\telse if(i==1.0) { r = q, g = v, b = p; }\t\t\t\telse if(i==2.0) { r = p, g = v, b = t; }\t\t\t\telse if(i==3.0) { r = p, g = q, b = v; }\t\t\t\telse if(i==4.0) { r = t, g = p, b = v; }\t\t\t\telse if(i==5.0) { r = v, g = p, b = q; }\t\t\t\t\t\t\t\treturn vec3(r,g,b); }",Jt:"\t\tfloat srgbUngamma(float x) {\t\t\treturn (x<0.04045) ? (x / 12.92) : pow( ( x + 0.055 ) / 1.055,  2.4);\t\t}\t\tfloat xyzScale(float x) {\t\t\treturn (x>0.008856) ? pow(x,1.0/3.0) : (903.3*x+16.0)*(1.0/116.0); \t\t}\t\tvec3 rgbToLab(vec3 rgb) {\t\t\tbool ok = true;\t\t\trgb.r = srgbUngamma(rgb.r); \t\t\trgb.g = srgbUngamma(rgb.g); \t\t\trgb.b = srgbUngamma(rgb.b); \t\t\tok = ok && 0.0318<=rgb.r && rgb.r<=0.0319; \t\t\tok = ok && 0.127 <=rgb.g && rgb.g<=0.128 ; \t\t\tok = ok && 0.3047<=rgb.b && rgb.b<=0.305; \t\t\t\t\t\tmat3 srgb2xyz = mat3(0.4360747164307918, 0.222504478679176, 0.013932173981751634,    0.3850649153329662, 0.7168786002139355, 0.09710452396580642,    0.14308038098632878, 0.06061692340677909, 0.7141732835334675); \t\t\t\t\t\tvec3 xyz = srgb2xyz*rgb; \t\t\tok = ok && 0.106<=xyz[0] && xyz[0]<=0.107;  \t\t\t\t\t\txyz=xyz*vec3(100.0/96.72, 100.0/100.0, 100.0/81.427);  \t\t\txyz.x = xyzScale(xyz.x); \t\t\txyz.y = xyzScale(xyz.y); \t\t\txyz.z = xyzScale(xyz.z); \t\t\t\t\t\treturn vec3(116.0*xyz.y-16.0, 500.0*(xyz.x-xyz.y), 200.0*(xyz.y-xyz.z));  \t\t} \t\tfloat labSimilar(vec3 lab, vec3 mnm, vec3 mxm, float lim)  {\t\t\tfloat L=lab.x, a=lab.y, b=lab.z; \t\t\tfloat dl = ((L<mnm.x) ? (mnm.x-L) : ((mxm.x<L) ? (mxm.x-L) : 0.0))*(1.0/100.0); \t\t\tfloat da = ((a<mnm.y) ? (mnm.y-a) : ((mxm.y<a) ? (mxm.y-a) : 0.0))*(1.0/116.0); \t\t\tfloat db = ((b<mnm.z) ? (mnm.z-b) : ((mxm.z<b) ? (mxm.z-b) : 0.0))*(1.0/116.0); \t\t\t/*float dl  = (slab.x-lab.x)*(1.0/100.0), da=(slab.y-lab.y)*(1.0/116.0), db=(slab.z-lab.z)*(1.0/116.0);*/ \t\t\tfloat dst = sqrt(dl*dl+da*da+db*db)*1.35; \t\t\treturn (dst<=lim) ? min(1.0,1.17*(1.0 - (dst/lim))) : 0.0; \t\t}",qu:"\t\tfloat _blendIf(float c, vec4 br) {  return min((c-br.x)*br.y,  (c-br.w)*br.z);  }  \t\tfloat blendIf(vec4 sc, vec4 tc, vec4 br[10]) {  \t\t\tfloat sg = lum(sc.rgb); \t\t\tfloat tg = lum(tc.rgb); \t\t\tfloat ms = _blendIf(sg,br[0]); \t\t\tms = min(ms, _blendIf(sc.r,br[2])); \t\t\tms = min(ms, _blendIf(sc.g,br[4])); \t\t\tms = min(ms, _blendIf(sc.b,br[6])); \t\t\t\t\t\tfloat mt = _blendIf(tg,br[1]); \t\t\tmt = min(mt, _blendIf(tc.r,br[3])); \t\t\tmt = min(mt, _blendIf(tc.g,br[5])); \t\t\tmt = min(mt, _blendIf(tc.b,br[7])); \t\t\tmt=max(mt,1.0-tc.w);\t\t\t\t\t\tfloat mi=min(ms,mt);\t\t\treturn mi<0.0?0.0:(mi>1.0?1.0:mi);\t\t}"};
X.Xg={aF:{},Bv:"\t\t\tattribute vec2 verPos;\t\t\tvarying vec2 sCoord;\t\t\tvoid main(void) {\t\t\t\tsCoord = verPos;\t\t\t\tgl_Position = vec4(vec2(-1.0,-1.0) + 2.0*verPos, 0.0, 1.0);\t\t\t}"};
X.Xg.ww=function(p,d){var K=QW.VG,A=[K.dR,K.Vt,K.VQ,K.Vm,K.VR,K.Vn,K.VB,K.CX].indexOf(p.type),x=X.Xg.aF[p.type];
if(x==null)x=X.Xg.aF[p.type]=new X.aF[A];x._z();x._E(d,p);X.Eh.drawArrays(X.Eh.TRIANGLES,0,6)};X.aF=[];
X.aF[0]=function(){X.wd.call(this);this.Af={};var p="\t\t\tprecision mediump float;\t\t\t"+X.wg.OE+"\t\t\t"+X.wg.Kb+"\t\t\tuniform sampler2D source;\t\t\tuniform sampler2D map;\t\t\tuniform float toGray;\t\t\tuniform float presLum;\t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) {\t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\tfloat olum = lum(src.rgb); \t\t\t\tsrc.rgb = toGray * vec3(olum) + (1.0-toGray)*src.rgb; \t\t\t\tfloat r = texture2D(map, vec2(src.r, 0)).r;\t\t\t\tfloat g = texture2D(map, vec2(src.g, 0)).g;\t\t\t\tfloat b = texture2D(map, vec2(src.b, 0)).b;\t\t\t\tvec3 col = vec3(r,g,b); \t\t\t\tif(presLum==1.0) { \t\t\t\t\tfloat nlum = lum(col); \t\t\t\t\tif(olum>nlum) col += (olum-nlum)/(1.0-nlum)*(ONE3-col); \t\t\t\t\telse if(nlum==0.0) col = ZERO3; \t\t\t\t\telse col = (olum/nlum) * col; \t\t\t\t}\t\t\t\tgl_FragColor = vec4(col,src.w);\t\t\t\t\t\t\t}";
this.Mg(p,X.Xg.Bv)};X.aF[0].prototype=new X.wd;X.aF[0].prototype._E=function(p,d){var K={N:d.tK,w:d.Xm,M:d.vN,V:Z.p(d.tK.length)},A=K.N.length;
if(this.Af["m"+A]==null){this.Af["m"+A]={ezq:new X.dY(A,1),nM:Z.p(A*4)}}var x=this.Af["m"+A];Z.AR(K,x.nM,0);
var M=x.ezq;M.set(x.nM);this.qd(["source","map","toGray","presLum"]);var G=X.Eh,D=this.du;G.uniform1f(D.toGray,d.am?1:0);
G.uniform1f(D.presLum,d.aC?1:0);this.Dj([D.source,p,D.map,M.Ni])};X.aF[1]=function(){X.wd.call(this);
this.ewk=new X.dY(256,1);this.eVq=Z.p(256*4);var p="\t\t\t\tprecision mediump float;\t\t\t\t"+X.wg.AF+"\t\t\t\t"+X.wg.Qy+"\t\t\t\t"+X.wg.dX+"\t\t\t\t\t\t\t\tuniform sampler2D source;\t\t\t\tuniform sampler2D map;\t\t\t\tuniform float cfa; \t\t\t\tuniform float cfb; \t\t\t\tuniform int colorize; \t\t\t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\t\t\tvoid main(void) { \t\t\t\t\tvec4 src = texture2D(source, sCoord);\t\t\t\t\tvec3 rgb = src.rgb;\t\t\t\t\tfloat mn=min(rgb.r,min(rgb.g,rgb.b)), mx = max(rgb.r,max(rgb.g,rgb.b));\t\t\t\t\t\t\t\t\t\tvec3 hsl = rgbToHsl(rgb); \t\t\t\t\tfloat h = hsl.r, s = hsl.g, l = hsl.b; \t\t\t\t\t\t\t\t\t\tvec4 mapv = texture2D(map, vec2(h, 0));\t\t\t\t\tfloat nh = mapv.r; \t\t\t\t\tfloat sc = mapv.g*2.0-1.0; \t\t\t\t\tfloat lc = mapv.b*2.0-1.0; \t\t\t\t\t\t\t\t\t\tfloat cf = -lc, tv=mn;\t\t\t\t\tif(0.0<lc) {  cf=lc;  tv=mx;  }\t\t\t\t\t\t\t\t\t\tfloat a0 = cfa + cfb*cf*tv, a1 = cfb*(1.0-cf);\t\t\t\t\trgb = a0 + a1 * rgb;\t\t\t\t\t\t\t\t\t\thsl = rgbToHsl(rgb);  s = hsl.g;  l = hsl.b; \t\t\t\t\tfloat ns = sc; \t\t\t\t\tif(colorize==0) {\t\t\t\t\t\tif(sc>0.0) sc = pow(tan((3.14159265359/2.0)*sc),1.3);\t\t\t\t\t\tns = min(s * (1.0 + sc), 1.0); \t\t\t\t\t} \t\t\t\t\t\t\t\t\t\tgl_FragColor = vec4(hslToRgb(nh,ns,l),src.w); \t\t\t\t\t\t\t\t\t}";
this.Mg(p,X.Xg.Bv)};X.aF[1].prototype=new X.wd;X.aF[1].prototype._E=function(p,d){Z.AR({N:d.ec$,w:d.JS,M:d.e$M,V:Z.p(256)},this.eVq);
this.ewk.set(this.eVq);this.qd(["source","map","cfa","cfb","colorize"]);var K=X.Eh,A=this.du;K.uniform1f(A.cfa,d.eFn);
K.uniform1f(A.cfb,d.JP);K.uniform1i(A.colorize,d.eFi);this.Dj([A.source,p,A.map,this.ewk.Ni])};X.aF[2]=function(){X.wd.call(this);
var p="\t\t\tprecision mediump float;\t\t\t"+X.wg.AF+"\t\t\t"+X.wg.FE+"\t\t\t"+X.wg.uK+"\t\t\t"+X.wg.Qy+"\t\t\t"+X.wg.dX+"\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform float vib; \t\t\tuniform float sat; \t\t\tconst float PI = 3.141592653; \t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) { \t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\tvec3 hsl = rgbToHsv(src.rgb); \t\t\t\tfloat h=hsl.r, s=hsl.g, l=hsl.b; \t\t\t\t\t\t\t\tfloat sk0 = 0.0, sk1 = 45.0/360.0; \t\t\t\tfloat skin = (h<sk1) ? cos((PI/2.0)*(h-sk1/2.0)/(sk1/2.0)) : 0.0; \t\t\t\t\t\t\t\ts = s + 0.2 * (1.0-0.4*skin) * vib * max(0.0, sin(s*PI)); \t\t\t\t\t\t\t\ts = s * (1.0 + sat); \t\t\t\t\t\t\t\ts = max(0.0, min(1.0, s));\t\t\t\tsrc.rgb = hsvToRgb(h,s,l);\t\t\t\tgl_FragColor = vec4(src.rgb,src.w); \t\t\t\t\t\t\t}";
this.Mg(p,X.Xg.Bv)};X.aF[2].prototype=new X.wd;X.aF[2].prototype._E=function(p,d){this.qd(["source","vib","sat"]);
var K=X.Eh,A=this.du;K.uniform1f(A.vib,d.gD[0]/100);K.uniform1f(A.sat,d.gD[1]/100);this.Dj([A.source,p])};
X.aF[3]=function(){X.wd.call(this);var p="\t\t\tprecision mediump float;\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform mat4  trf; \t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) { \t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\tvec4 nsr = vec4(src.rgb,1.0); \t\t\t\tgl_FragColor = vec4((trf*nsr).rgb,src.w); \t\t\t\t\t\t\t}";
this.Mg(p,X.Xg.Bv)};X.aF[3].prototype=new X.wd;X.aF[3].prototype._E=function(p,d){this.qd(["source","trf"]);
var K=X.Eh,A=this.du;K.uniformMatrix4fv(A.trf,!1,new Float32Array(Z.EI.HF(d.EI)));this.Dj([A.source,p])};
X.aF[4]=function(){X.wd.call(this);var p="\t\t\tprecision mediump float; \t\t\t"+X.wg.Jt+"\t\t\t"+X.wg.AF+"\t\t\t"+X.wg.dX+"\t\t\t"+X.wg.Qy+"\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform vec3 mnm;\t  \t\t\tuniform vec3 mxm;\t  \t\t\tuniform vec3 shift;   \t\t\tuniform float lim;    \t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) { \t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\t\t\t\t\tvec3 lab = rgbToLab(src.rgb);\t\t\t\tfloat scl = labSimilar(lab, mnm,mxm, lim);\t\t\t\t\t\t\t\tvec3 hsv = rgbToHsl(src.rgb); \t\t\t\tfloat nh = 2.0 + hsv[0]+scl*shift[0]; \t\t\t\thsv[0] = fract(nh); \t\t\t\thsv[1] = max(0.0, min(1.0, hsv[1] + scl*shift[1])); \t\t\t\thsv[2] = max(0.0, min(1.0, hsv[2] + scl*shift[2])); \t\t\t\t\t\t\t\tvec3 rgb = hslToRgb(hsv[0], hsv[1], hsv[2]); \t\t\t\t\t\t\t\tgl_FragColor = vec4(rgb,src.w); \t\t\t\t\t\t\t}";
this.Mg(p,X.Xg.Bv)};X.aF[4].prototype=new X.wd;X.aF[4].prototype._E=function(p,d){this.qd(["source","mnm","mxm","shift","lim"]);
var K=X.Eh,A=this.du;K.uniform3fv(A.mnm,new Float32Array(d.pV));K.uniform3fv(A.mxm,new Float32Array(d.p$));
K.uniform3fv(A.shift,new Float32Array(d.shift));K.uniform1f(A.lim,d.ql);this.Dj([A.source,p])};X.aF[5]=function(){X.wd.call(this);
var p="\t\t\tprecision mediump float;\t\t\t"+X.wg.Kb+"\t\t\t"+X.wg.iq+"\t\t\t"+X.wg.OU+"\t\t\t"+X.wg.Qy+"\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform vec3 cfs[18]; \t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) { \t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\tvec3 rgb = src.rgb; \t\t\t\tvec3 hsl = rgbToHsl(rgb); \t\t\t\tfloat mx = max(rgb.r, max(rgb.g, rgb.b)); \t\t\t\tfloat mn = min(rgb.r, min(rgb.g, rgb.b)); \t\t\t\t\t\t\t\tvec3 CMY = ONE3 - rgb; \t\t\t\tvec3 d = ZERO3; \t\t\t\t\t\t\t\tfor(int j=0; j<9; j++) \t\t\t\t{ \t\t\t\t    vec3 NCMY = CMY * cfs[j+j] + cfs[j+j+1]; \t\t\t\t\t\t\t\t\t\tfloat cfK = 0.0;\t\t\t\t\tif     (j< 6) { \t\t\t\t\t\tcfK = hueCF(float(j)*(1.0/6.0), hsl.x); \t\t\t\t\t\tcfK = cfK * hsl.y * 2.0*min(hsl.z, 1.0-hsl.z); \t\t\t\t\t} \t\t\t\t\telse if(j==6) cfK = max(0.0,mn-0.5)*2.0;\t\t\t\t\telse if(j==7) cfK = 1.0-(abs(mx-0.5)+abs(mn-0.5));\t\t\t\t\telse          cfK = max(0.0,0.5-mx)*2.0;\t\t\t\t\t\t\t\t\t\td += (max(ZERO3, min(ONE3, NCMY))-CMY)*cfK; \t\t\t\t} \t\t\t\t\t\t\t\tCMY = max(ZERO3, min(ONE3, CMY+d)); \t\t\t\trgb = ONE3 - CMY; \t\t\t\t\t\t\t\tgl_FragColor = vec4(rgb,src.w); \t\t\t\t\t\t\t}";
this.Mg(p,X.Xg.Bv)};X.aF[5].prototype=new X.wd;X.aF[5].prototype._E=function(p,d){this.qd(["source","cfs"]);
var K=X.Eh,A=this.du;K.uniform3fv(A.cfs,d.$E);this.Dj([A.source,p])};X.aF[6]=function(){X.wd.call(this);
var p="\t\t\tprecision mediump float;\t\t\t"+X.wg.AF+"\t\t\t"+X.wg.iq+"\t\t\t"+X.wg.OU+"\t\t\t"+X.wg.Qy+"\t\t\t"+X.wg.dX+"\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform float wght[6]; \t\t\tuniform float prms[6]; \t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) { \t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\tvec3 rgb = src.rgb; \t\t\t\t\t\t\t\tfloat tint=prms[0], hue=prms[1], lum=prms[2], mcf=prms[3], x0=prms[4], x1=prms[5]; \t\t\t\tvec3 hsl = rgbToHsl(rgb); \t\t\t\t\t\t\t\tfloat cf = 0.0;\t\t\t\tfor(int j=0; j<6; j++) cf += min(1.0, 1.7*(1.0-hsl.z)) * hsl.y *  wght[j] * hueCF(hsl.x, float(j)*(1.0/6.0));\t\t\t\t\t\t\t\tfloat lig = max(0.0, min(1.0, hsl.z*(1.0+cf)));\t\t\t\tif(tint==1.0) {  \t\t\t\t\tfloat totl = 0.0;\t\t\t\t\tif     (lig<x0) totl = lig*(0.5/lum); \t\t\t\t\telse if(lig<x1) totl = lig + (mcf)*(0.5 - lum); \t\t\t\t\telse            totl = 1.0 - (1.0-lig)*0.5/(1.0-lum); \t\t\t\t\t\t\t\t\t\thsl.x = hue;  \t\t\t\t\thsl.y = min(1.0, mcf + 3.0*mcf*abs(lig-0.5*(x0+x1))); \t\t\t\t\thsl.z = totl; \t\t\t\t} \t\t\t\telse {  hsl.x=0.0;  hsl.y=0.0;  hsl.z=lig;  } \t\t\t\t\t\t\t\trgb = hslToRgb(hsl.x, hsl.y, hsl.z); \t\t\t\t\t\t\t\tgl_FragColor = vec4(rgb,src.w); \t\t\t\t\t\t\t}";
this.Mg(p,X.Xg.Bv)};X.aF[6].prototype=new X.wd;X.aF[6].prototype._E=function(p,d){this.qd(["source","wght","prms"]);
var K=X.Eh,A=this.du,x=[d.jS,d.eLc,d.OE,d.e_s,d.vD,d.e_x];K.uniform1fv(A.wght,new Float32Array(d.eRi));
K.uniform1fv(A.prms,new Float32Array(x));this.Dj([A.source,p])};X.aF[7]=function(){X.wd.call(this);this.Jm={};
var p="\t\t\tprecision mediump float;\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform sampler2D lut;\t\t\tuniform float N;\t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) { \t\t\t\tfloat iN = 1.0/N; \t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\tfloat fb = 0.5*iN + src.b*(1.0-iN); \t\t\t\tfloat fg = 0.5*iN + src.g*(1.0-iN); \t\t\t\tfloat R  = src.r*(N-1.0)*0.999999; \t\t\t\tfloat ir = floor(R)*iN;  \t\t\t\t\t\t\t\tvec4 c0 = texture2D(lut, vec2(fb, ir   +( fg   )*iN)); \t\t\t\tvec4 c1 = texture2D(lut, vec2(fb, ir+iN+( fg   )*iN)); \t\t\t\tvec4 rs = mix(c0,c1,R-floor(R));  \t\t\t\tgl_FragColor = vec4(rs.rgb,src.w); \t\t\t\t\t\t\t}";
this.Mg(p,X.Xg.Bv)};X.aF[7].prototype=new X.wd;X.aF[7].prototype._E=function(p,d){this.qd(["source","lut","N"]);
var K=X.Eh,A=this.du,x=d.qN,M=d.Qd;if(this.Jm["m"+x]==null)this.Jm["m"+x]=new X.dY(x,x*x);var G=this.Jm["m"+x];
G.set(M);K.uniform1f(A.N,x);this.Dj([A.source,p,A.lut,G.Ni]);K.activeTexture(K.TEXTURE1);var D=K.LINEAR;
K.texParameteri(K.TEXTURE_2D,K.TEXTURE_MIN_FILTER,D);K.texParameteri(K.TEXTURE_2D,K.TEXTURE_MAG_FILTER,D);
K.activeTexture(K.TEXTURE0)};X.filter={ab:{},Bv:"1u,/0*&<>2OI;<m^XJZ;]d/vp^r|ows/)z{M>5g7:@5nVPLIGeVMX`|njge-'&-$V&)/$BbHB4D%GNx`KSI=_f_menp%E+%vwKB4&'XQY``edhootpjxp&%*'vhxY{#>5HINMDXX]YnVW",UG:0,UU:1,PM:2};
X.filter.ww=function(p,d){var K=X.filter,A=[K.UG,K.UU,K.PM].indexOf(p.type),x=X.filter.ab[p.type];if(x==null)x=X.filter.ab[p.type]=new X.ab[A];
x._z();x._E(d,p);X.Eh.drawArrays(X.Eh.TRIANGLES,0,6)};X.ab=[];X.ab[0]=function(){X.wd.call(this);var p="1%* !*709;O@;=ETOUgQZ`Uk5|uqoo{\" 5,|,21-=_tSJIRRFK$kd`^^jpn$}opB3 1%ZB;755AGEZTFGyiYT.unjhhtzx.w!'{2@7/3;5mUO=Q[NVRmgYZ,|sFux~sM5~(.#9G23E'?;AOZm_QR$th$}|$mv|q(62M?_E=1GFJJ@o%kZYbbV[%{o-{mn@9AHHMLCVW\\X\\?PDgo\\#jT]cXn|x5&F,$w.-11'VkRA@II=BkbVsbTU' z//43*=>C?C&7+NVCiQ;DJ?Uc`zl-rj^tswwm=R9('00$)RI=ZI;<mfatuzy}%%*&*l}q5=*P8\"+1&<JGbSsYQE[Z^^T$9 nmvvjo90$A0\"#TMH[\\a`WkkplpSdX{$p7~hqwl#1x0J=]CVWc[R:Qm^~doc }l(#8 irxm$2y2L>^DWXd\\S;Sn_ epe!~n)$9!zlm@0\"6V<.286-;;O=bTFGyqyTk(#`x31(8r*DA~7ROF.E_\\:Rlgj g]Seiih|drz1xs>$AV>?D>:75SD;FNj\\XUSztszdmsh~-({6V<PPUHVN9:L.FBHVatc6ehnc+/{sw yR:%-#l<.7uEEKQa\"g_Sihllb2G.|{%%x}G>5g7:@5\\`QEzbc";
this.Mg(n.ia(p),n.ia(X.filter.Bv))};X.ab[0].prototype=new X.wd;X.ab[0].prototype._E=function(p,d){this.qd(["source","iwh","ld","shine"]);
var K=X.Eh,A=this.du;K.uniform2fv(A.iwh,d.Jn);K.uniform3fv(A.ld,d.eIQ);K.uniform1f(A.shine,d.eIc);this.Dj([A.source,p,A.tang,d.df])};
X.ab[1]=function(){X.wd.call(this);var p="1%* !*709;O@;=ETOUgQZ`Uk5|uqoo{\" 5,|,21-=_tSJIRRFK$kd`^^jpn$}opB3 1%ZB;755AGEZDMSH^lYfY4{tpnnz!~4}'-\"8F,?9FJEAya[I]gZb^ysef8) R\"%+ YA+4:/ES?;PHjLU[Pfths*!jsyn%3'3E?>E/8>3IWM?X:HVl-ribj'r}2<??JPQMYYQ:FYihfnpuy}smzs(,.5:4=CEKFS;1'9==<PF8Q3AOeukU^dgm&se~`n|<Q9:?)28-CQ<=O,PMZOtfXY+{n+%$+%vwI:.@`FQ<ZI;<mfwuzx}|%(1+0,/3u#uP82$%VG9>PpV@IORXp\\w-tn`a3$u|]0P6*I.3`H2;A6LZQqt$]V^z'**/+@(\"stF7}M@`F-<CZDIdhUux&mgYZ,|c4&F,r\")@*/L;-._Xddihppuqtxe&)6}gpvk\"0\"6V<($91S2abPfApq`r(oYbh]s\"sz+K1|x.&H'WWE[6efUg|dNW]Rhvha @&qm#z={KL:P+[[J\\qYCLRG]k]dYw8}iezr5sDD2H#SSBTiQ;DJ?UcOzl-rcbt'p%4+|$@&-mN<OdL6?E:P^Jvg(m^]o\"kd/t{p;!(hI7J_G1:@5KYS_ eVUgy])'}i63x `A0BW?9EeKVHTsZmnxoi,o#$)6005C+t}$x/=373>LlRLXf^DWQ^b]Yv$|hdyq4r\")@,L:MQ>^a_:IPgSsbtxe&)$9!vl~##\"6,0,7OP\\\\acjhmi~fglfb_]{lcnv3%!}{C=<C=/0aRNR[{aX+Z]cX&cth>& qrF5{++AaG?3IHLLBq'm\\[ddX]'}tGvy t<Q9 //S*KkQ<=O,PMZOthl~4{fndN}oxW''-3CcI0??pXY";
this.Mg(n.ia(p),n.ia(X.filter.Bv))};X.ab[1].prototype=new X.wd;X.ab[1].prototype._E=function(p,d){this.qd(["source","iwh","isc","bristle"]);
var K=X.Eh,A=this.du;K.uniform2fv(A.iwh,d.Jn);K.uniform1f(A.isc,d.e_r);K.uniform1f(A.bristle,d.e_j);
this.Dj([A.source,p])};X.ab[2]=function(){X.wd.call(this);var p="1%* !*709;O@;=ETOUgQZ`Uk5|uqoo{\" 5,|,21-=_tSJIRRFK$kd`^^jpn$zkz! {,NcB:*:6lTMIGGSYWlfXY+{hymC+$ }}*0.C-6<1GULEFOF#jc_]]iom#lu{p'5}4/1_GA/CM@HD_YKL}ne8gjpe?'py t+94%,-1@NY;DJ?Uc_rlkrh^ptts(p'\"<7G.0;NBX5KFHdmivuzwd]^g^*vopyp;5AV>?D>:75SD;FNj\\XUSztszdmsh~-x+S-&'0'S?89B9u]GPVKaofmx9~338F.(yzN=494IiOG;QPTTJy/udcll`e/&|O~\"(|DYA;-._P:GYy_tsxuvfZpossi9N5%t%!H?6h8;A6]eSWmZLM~w#$.(/0:14I1+|}O@(FfL6CpXBNTlQYbp]4*8 lB;G/{@CD>=D>01bSGYy_V)X[aV0wams,mv|q(6,YOPUcKAmfgjmns\"i_z}~xw~xjk=.~x7W=RQVSTD8NMQQGv,rbRb^&|p,4\"&<)z{MFQR\\V]^h_bw_LLpP^f|e_*e-C:;@<65<-'bU93lTUZB`!fWQ+rfx'<\"rl5w)|R:$-3(>LGRrXSDKLP_uc|2ypup&4I/*?-!76::0_t[JIRRFKtk_z0wnu,A~E-yy>,Z\\+=QK1D:9Fx`afN*|Yf4{|\"ltjT$u~]--39IiOFKFefrrwyah|2yz";
this.Mg(n.ia(p),n.ia(X.filter.Bv))};X.ab[2].prototype=new X.wd;X.ab[2].prototype._E=function(p,d){this.qd(["source","tang","iwh","sigma","expo"]);
var K=X.Eh,A=this.du;K.uniform2fv(A.iwh,d.Jn);K.uniform1f(A.sigma,d.eKj);K.uniform1f(A.expo,d.emT);this.Dj([A.source,p,A.tang,d.df]);
var x=K.LINEAR;K.activeTexture(K.TEXTURE0);K.texParameteri(K.TEXTURE_2D,K.TEXTURE_MIN_FILTER,x);K.texParameteri(K.TEXTURE_2D,K.TEXTURE_MAG_FILTER,x);
K.activeTexture(K.TEXTURE0)};X.h={};X.h.Kf={};X.h.KT=null;X.h.Kk=null;X.h.mS=null;X.h.UH=function(p,d,K,A,x,M,G,D){if(D==null)D=QL.sY();
if("idiv,lbrn,div ,lddg,vLit,lLit,hMix,diff".split(",").indexOf(p)==-1){G=G*D.fill;D.fill=1;D.style=!1}var P=p+(D.qT?"1":"");
if(X.h.Kf[P]==null)X.h.Kf[P]=new X.h._t(p,D.qT!=null);var a=X.h.Kf[P],e=K.pk(x).pk(M);e.offset(-x.x,-x.y);
if(e.kQ())return;var f=X.Eh;X.El(A,e);A.YA(e);a._z();a._E(d.Ni,A.Yz,X._L(K,x),G,D.fill,D.style?1:0,D.qy?1:0,D.qT?new Float32Array(D.qT):null);
f.drawArrays(f.TRIANGLES,0,6)};X.h.ox=function(p,d,K,A,x,M,G,D,P,a){if(X.h.KT==null)X.h.KT=new X.h.PC(!0,!0);
if(X.h.Kk==null)X.h.Kk=new X.h.PC(!0,!1);if(X.h.mS==null)X.h.mS=new X.h.PC(!1,!0);var e=a?1:0,f=p?x?X.h.KT:X.h.Kk:X.h.mS,N=d?d.pk(A).pk(D):A.pk(D);
if(N.kQ())return;N.offset(-A.x,-A.y);var Y=X.Eh;X.El(K,N);K.YA(N);f._z();if(p==null)f._E(null,K.Yz,x.Ni,X._L(A,A),X._L(M,A),G/255,P,e);
else if(x)f._E(p.Ni,K.Yz,x.Ni,X._L(d,A),X._L(M,A),G/255,P,e);else f._E(p.Ni,K.Yz,null,X._L(d,A),null,G/255,P,e);
Y.drawArrays(Y.TRIANGLES,0,6)};X.h.eVT=function(p,d,K){if(X.h.ezG==null)X.h.ezG=new X.h.me;var A=X.h.ezG,x=new R(0,0,p.t,p.D),M=X.Eh;
X.El(d);d.YA(x);A._z();A._E(x,p.Ni,d.Yz,K.Ni);M.drawArrays(M.TRIANGLES,0,6)};X.h.wN={norm:"return a;",diss:"return a;",dark:"return min(a,b);","mul ":"return a*b;",idiv:"  vec3 d = (a*vec3(f)+ONE3-vec3(f));  return mix(mix(ONE3-((ONE3-b)/max(d,vec3(1e-6))), ZERO3, vec3(greaterThanEqual(ONE3-b,d)) ), ONE3   ,   vec3(equal(b,ONE3) ));   ",lbrn:"return max(ZERO3, a*f+b-f);",dkCl:"return ( lum(a)<lum(b) ? a : b );",lite:"return max(a,b);",scrn:"return b+a-b*a;","div ":"a*=f;  return mix(    mix(  min(ONE3,b/(1.0-a)), ONE3,  step(1.0-a, b))     , ZERO3, vec3(equal(b,ZERO3)) );",lddg:"a*=f;  return min(ONE3,a+b);",lgCl:"return ( lum(a)>lum(b) ? a : b );",over:"return mix( a+(2.0*b -1.0)-a*(2.0*b-1.0) ,  2.0*b*a , step(-HALF3,-b) );",sLit:"return mix( b+(2.0*a -1.0)*(D(b)-b)  , b-(1.0-2.0*a)*b*(1.0-b) , step(-HALF3,-a) );",hLit:"return mix( b+(2.0*a -1.0)-b*(2.0*a-1.0) ,  2.0*a*b , step(-HALF3,-a) );",vLit:" return mix( ocddg(2.0*a-1.0,b,f)  ,  ocbrn(2.0*a,b,f)  ,  vec3(greaterThanEqual(HALF3,a))); ",lLit:"return mix( min(ONE3, (2.0*a-1.0)*f+b) , max(ZERO3, 2.0*a*f+b-f)  , step(-HALF3,-a));",pLit:"return mix( max(2.0*a-1.0,b) , min(2.0*a, b) , step(-HALF3,-a)  );",hMix:"if(f>0.99) return vec3(greaterThanEqual(a+b,ONE3));   return  min( ONE3, max(ZERO3,  (b+a*f-f)/(1.0-f+1e-6)  ))  ;  ",diff:"return abs(a*f-b);",smud:"return a+b-2.0*a*b;",fsub:"return max(b-a, ZERO3);",fdiv:"return min(b/a, ONE3);","hue ":"return  setLum( setSat(a, sat(b)) , lum(b) ); ","sat ":"return  setLum( setSat(b, sat(a)) , lum(b) ); ",colr:"return  setLum( a, lum(b) ); ","lum ":"return  setLum( b, lum(a) ); "};
X.h._t=function(p,d){X.wd.call(this);var K="\t\t\tprecision mediump float;\t\t\t"+X.wg.Kb+"\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform sampler2D target;\t\t\tuniform float alpha;\t\t\tuniform float fill;\t\t\tuniform float style;\t\t\tuniform float keepBGA;\t\t\t"+(d?"uniform vec4 blIf[10];":"")+"\t\t\t\t\t\tvarying vec2 tCoord;\t\t\tvarying vec2 sCoord;\t\t\t\t\t\t\t\t\t"+X.wg.ii+"\t\t\t"+X.wg.OE+"\t\t\t"+X.wg.FN+"\t\t\t"+X.wg.eKy+"\t\t\t"+X.wg.eKT+"\t\t\t"+X.wg.emO+"\t\t\t"+X.wg.io+"\t\t\t"+X.wg.emU+"\t\t\t"+X.wg.cs+"\t\t\t"+X.wg.hash+"\t\t\t"+(d?X.wg.qu:"")+"\t\t\t\t\t\tvec3  BB(vec3  a, vec3  b, float f) { "+X.h.wN[p]+" } \t\t\t\t\t\tvoid main(void) {\t\t\t\tvec4 tgt = texture2D(target, tCoord);\t\t\t\tvec4 src = texture2D(source, sCoord);",A="\t\t\tattribute vec2 verPos;\t\t\tuniform vec4 srct;\t\t\tvarying vec2 tCoord;\t\t\tvarying vec2 sCoord;\t\t\tvoid main(void) {\t\t\t\ttCoord = verPos;\t\t\t\tsCoord = (verPos-srct.xy)/srct.zw;\t\t\t\tgl_Position = vec4(vec2(-1.0,-1.0) + 2.0*verPos, 0.0, 1.0);\t\t\t}";
if(p=="diss")K+="\t\t\t\t\tgl_FragColor = (hash(tCoord) >= (keepBGA + (1.0-keepBGA)*src.w)*alpha ? tgt : vec4(src.xyz, keepBGA*tgt.w + (1.0-keepBGA)));  }";
else K+="  \t\t\t\t\tfloat as = (keepBGA + (1.0-keepBGA)*src.w) * alpha, at = keepBGA + (1.0-keepBGA)*tgt.w; \t\t\t\t\t"+(d?"  as*=blendIf(src,tgt,blIf);  ":"")+"\t\t\t\t\tfloat ats = at * (1.0-as), ao = as + ats, iao = (ao==0.0) ? 0.0 : (1.0/ao); \t\t\t\t\tfloat ccf = (style==1.0) ? 1.0 : as; \t\t\t\t\tvec3 ncl = ( (1.0-at)*as*src.xyz + (1.0-ccf)*at*tgt.xyz + ccf*at*BB(src.xyz, tgt.xyz, (1.0+as-ccf)*fill)  ) * iao;\t\t\t\t\tgl_FragColor = vec4(ncl, keepBGA*tgt.w + (1.0-keepBGA)*(as*fill + at*(1.0-as*fill)));\t\t\t\t\t\t\t}";
this.Mg(K,A)};X.h._t.prototype=new X.wd;X.h._t.prototype._E=function(p,d,K,A,x,M,G,D){this.qd("srct alpha source target fill style keepBGA blIf".split(" "));
var P=X.Eh,a=this.du;P.uniform4fv(a.srct,K);P.uniform1f(a.alpha,A);P.uniform1f(a.fill,x);P.uniform1f(a.style,M);
P.uniform1f(a.keepBGA,G);if(D)P.uniform4fv(a.blIf,D);this.Dj([a.source,p,a.target,d])};X.h.PC=function(p,d){X.wd.call(this);
this.eQf=p;this.Jw=d;var K="\t\t\tprecision mediump float;\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform sampler2D target;\t\t\tuniform sampler2D weight;\t\t\tuniform float wcolor;\t\t\tuniform float awg; /* additional weight */\t\t\tuniform float dissv;\t\t\t\t\t\tvarying vec2 tCoord;\t\t\tvarying vec2 sCoord;\t\t\tvarying vec2 wCoord;\t\t\t\t\t\t"+X.wg.OK+"\t\t\t"+X.wg.hash+"\t\t\t\t\t\tvoid main(void) {\t\t\t\tvec4 tgt = texture2D(target, tCoord);\t\t\t\tvec4 src = "+(p?"texture2D(source, sCoord)":"vec4(0.0)")+"; \t\t\t\tfloat wg = awg "+(d?"* (in01(wCoord) ? texture2D(weight, wCoord).w : wcolor)":"")+";\t\t\t\t"+(p?"":"wg = 1.0-wg;")+"\t\t\t\tfloat hwg = hash(tCoord)>=wg ? 0.0 : 1.0;  wg = dissv*hwg + (1.0-dissv)*wg; \t\t\t\tfloat as = wg*src.w, at = (1.0-wg)*tgt.w, ao = as+at;\t\t\t\t\t\t\t\tgl_FragColor =  vec4( (as*src.xyz + at*tgt.xyz)/ao, ao );  \t\t\t}",A="\t\t\tattribute vec2 verPos;\t\t\tvarying vec2 tCoord;\t\t\tvarying vec2 sCoord;\t\t\tvarying vec2 wCoord;\t\t\t\t\t\tuniform vec4 srct;\t\t\tuniform vec4 wrct;\t\t\tvoid main(void) {\t\t\t\ttCoord = verPos;\t\t\t\tsCoord = (verPos-srct.xy)/srct.zw;\t\t\t\twCoord = (verPos-wrct.xy)/wrct.zw;\t\t\t\tgl_Position = vec4(vec2(-1.0,-1.0) + 2.0*verPos, 0.0, 1.0);\t\t\t}";
this.Mg(K,A)};X.h.PC.prototype=new X.wd;X.h.PC.prototype._E=function(p,d,K,A,x,M,G,D){if(this.Jw)this.qd("srct wrct wcolor awg dissv source target weight".split(" "));
else this.qd(["srct","awg","dissv","source","target"]);var P=X.Eh,a=this.du;P.uniform4fv(a.srct,A);if(this.Jw){P.uniform4fv(a.wrct,x);
P.uniform1f(a.wcolor,M)}P.uniform1f(a.awg,G);P.uniform1f(a.dissv,D);var e=[a.source,p,a.target,d];if(this.Jw)e.push(a.weight,K);
this.Dj(e)};X.h.me=function(){X.wd.call(this);var p="\t\t\tprecision mediump float;\t\t\t\t\t\tuniform sampler2D prev;\t\t\tuniform sampler2D next;\t\t\tuniform sampler2D alpha;\t\t\t\t\t\tvarying vec2 coord;\t\t\t\t\t\t\t\t\tvoid main(void) {\t\t\t\tvec3 or = texture2D(prev , coord).rgb;\t\t\t\tvec3 ir = texture2D(next , coord).rgb; \t\t\t\tfloat al = texture2D(alpha, coord).w; \t\t\t\tgl_FragColor =  vec4(  (ir-(1.0-al)*or)*(1.0/al)   ,1.0 );  \t\t\t}",d="\t\t\tattribute vec2 verPos;\t\t\tvarying vec2 coord;\t\t\t\t\t\tuniform vec4 rct;\t\t\tvoid main(void) {\t\t\t\tcoord = verPos;\t\t\t\tgl_Position = vec4(vec2(-1.0,-1.0) + 2.0*verPos, 0.0, 1.0);\t\t\t}";
this.Mg(p,d)};X.h.me.prototype=new X.wd;X.h.me.prototype._E=function(p,d,K,A){this.qd(["rct","prev","next","alpha"]);
var x=X.Eh,M=this.du;x.uniform4fv(M.rct,[0,0,1,1]);this.Dj([M.prev,d,M.next,K,M.alpha,A])};function eR(){}eR.RL=function(p){var d=new Uint8Array(p),K=0,A={Im:[],eN:[],list:[]},x=v.OW(d,K);
K+=2;if(x<=2){return eR.emc(d)}var M=v.OW(d,K);K+=2;var G=v.Ms(d,K,8);K+=8;var D=v.X(d,K);K+=4;if(D>0)A.Im=eR.Kp(d,K,D,M,x);
K+=D;var P=v.Ms(d,K,8);K+=8;var a=v.X(d,K);K+=4;if(a>0)A.eN=eR.oC(d,K,a);K+=a;var e=v.Ms(d,K,8);K+=8;
var f=v.X(d,K);K+=4;if(f>0){var N={};QX.eJ(d,N,K+4);A.list=N.Brsh.v}K+=f;var Y=A.list;for(var l=0;l<Y.length;
l++){tb.Iu.check(Y[l].v)}return A};eR.Jz=function(p,d){p.v.Nm.v=d};eR.emc=function(p){var d={Im:[],eN:[],list:[]},K=0,A=v.OW(p,K);
K+=2;var x=v.OW(p,K);K+=2;for(var M=0;M<x;M++){var G=v.OW(p,K);K+=2;var D=v.X(p,K);K+=4;var P=K;if(G==2){var a={};
d.Im.push(a);var e=v.X(p,P);P+=4;var f=v.OW(p,P);P+=2;if(A==2){var N=v.sN(p,P);P+=4+N.length*2+2}a.id=QZ.Ex()+"-d71c-11e5-b1ae-a548a96e5f9f";
P++;P+=8;a.m=v.rq(p,P);P+=16;var Y=v.OW(p,P);P+=2;var l=p[P];P++;a.channel=eH.GV(!1,Y,p,a.m.t,a.m.D,P,l);
var h=tb.UZ(a.id),s=h.Brsh.v;s.Dmtr.v.val=a.m.t;s.Spcn.v.val=f;d.list.push({t:"Objc",v:h})}K+=D}return d};
eR.fK=function(p){var d=new pO,K=0,A=0;v.rC(d,K,6);K+=2;v.rC(d,K,2);K+=2;v.KL(d,K,"8BIMsamp");K+=8;K+=4;
A=K;K=eR.Kn(d,K,p.Im);v.Zo(d,A-4,K-A);v.KL(d,K,"8BIMpatt");K+=8;K+=4;A=K;K=eR.ob(d,K,p.eN);v.Zo(d,A-4,K-A);
var x={classID:"null",Brsh:{t:"VlLs",v:p.list}};v.KL(d,K,"8BIMdesc");K+=8;K+=4;A=K;v.Zo(d,K,16);K+=4;
K+=QX.iN(d,x,K);v.Zo(d,A-4,K-A);return d.data.slice(0,K).buffer};eR.Kp=function(p,d,K,A,x){var M=v.X,G=v.rq,D=d+K,P=[];
while(d<D){var a={};P.push(a);var e=M(p,d);d+=4;var f=d,N=v.Ij(p,d);d+=N.length;a.id=N.NT;if(A==1){d+=9;
a.m=G(p,d);d+=16}else{d+=7;var Y=M(p,d);d+=4;a.m=G(p,d);d+=16;var l=M(p,d);d+=4;d+=l*4;var h=M(p,d);
d+=4;var s=M(p,d);d+=4;var J=G(p,d);d+=16}var u=v.OW(p,d);d+=2;var Q=p[d];d+=1;a.channel=eH.GV(!1,u,p,a.m.t,a.m.D,d,Q);
if(e%4!=0)e+=4-e%4;d=f+e}return P};eR.Kn=function(p,d,K){var A=v.Zo,x=v.jj;for(var M=0;M<K.length;M++){var G=K[M],D=d+4,a=56,f=1;
d+=4;v.Gk(p,d,G.id);d+=G.id.length+2;p.hu(d,1);p.data[d]=1;d+=3;A(p,d,3);d+=4;var P=d;d+=4;x(p,d,G.m);
d+=16;A(p,d,a);d+=4;d+=a*4;A(p,d-4,1);var e=d;d+=4;A(p,d,8);d+=4;x(p,d,G.m);d+=16;v.rC(p,d,8);d+=2;p.hu(d,1);
p.data[d]=f;d++;p.hu(d,G.m.r()*2);d=eH.Wn(G.channel,p.data,G.m.t,G.m.D,d,f);p.hu(d,8);d+=8;var N=d-D;
A(p,D-4,N);A(p,P,N-49);A(p,e,N-305);if(N%4!=0)d+=4-N%4}return d};eR.oC=function(p,d,K){var A=d+K,x=[];
while(d<A){var M={},G=v.X(p,d);d+=4;var D=d;d=nV.ml(p,d,M);if(!M.m.kQ())x.push(M);if(G%4!=0)G+=4-G%4;
d=D+G}return x};eR.ob=function(p,d,K){for(var A=0;A<K.length;A++){var x=K[A];d+=4;var M=d;d=nV.uS(p,d,x);
var G=d-M;v.Zo(p,M-4,G);if(G%4!=0)M+=4-G%4;d=M+G}return d};function MD(){}MD.RL=function(p){var d=new Uint8Array(p),K=[],A=0,x=v.OW(d,A);
A+=2;if(x!=4){throw"Unknown version of curves: "+x}var M=v.OW(d,A);A+=2;for(var G=0;G<M;G++){var D=MD.KY(d,A);
A+=2+2*D.length;K.push(D)}if(A==d.length)return K;var P=v.Ms(d,A,4);A+=4;var a=v.OW(d,A);A+=2;var e=v.OW(d,A);
A+=2;if(e!=0)throw"extra curves for channels";return K};MD.PN=function(p,d,K){var A=d,x=[],M=p[d];d+=3;
var G=v.X(p,d);d+=4;for(var D=0;D<4;D++){var P=G>>>D&1;if(P){if(M==0){var a=MD.KY(p,d);d+=2+2*a.length}else{var a=MD.euP(p,d);
d+=256}x.push(a)}else x.push(M==0?[0,0,255,255]:MD.emh())}var e=eq.Kj("curv");for(var D=0;D<4;D++){if(M==0){var f=x[D],N=[];
for(var Y=0;Y<f.length;Y+=2)N.push(Z.uX.gS(f[Y],f[Y+1],!0));MD.gB(e,D,N)}else MD.gB(e,D,x[D])}return e};
MD.emh=function(){var p=[];for(var d=0;d<256;d++)p.push(d);return p};MD.gB=function(p,d,K){var A=MW.mP("CrvA",d);
if(K.length<256)A.Crv={t:"VlLs",v:K};else{A.Mpng={t:"VlLs",v:[]};for(var x=0;x<256;x++)A.Mpng.v[x]={t:"long",v:K[x]}}A={t:"Objc",v:A};
var M=p.Adjs.v,G=MW.c$(M,d);if(G==-1)M.push(A);else M[G]=A};MD.lG=function(p,d){var K=p.Adjs.v,A=MW.c$(K,d);
if(A==-1){if(K.length==0||K[0].v.Crv)return[Z.uX.gS(0,0,!0),Z.uX.gS(255,255,!0)];var x=[];for(var M=0;
M<256;M++)x.push(M);return x}var G=K[A].v,D=G.Crv;if(D)return D.v;var x=[];for(var M=0;M<256;M++)x.push(G.Mpng.v[M].v);
return x};MD.KY=function(p,d){var K=[],A=v.OW(p,d);d+=2;for(var x=0;x<A;x++){var M=v.OW(p,d);d+=2;var G=v.OW(p,d);
d+=2;K.push(G,M)}return K};MD.eue=function(p,d,K){var A=K.length/2;v.rC(p,d,A);d+=2;for(var x=0;x<A;
x++){v.rC(p,d,K[x*2+1]);d+=2;v.rC(p,d,K[x*2+0]);d+=2}};MD.euP=function(p,d){var K=[];for(var A=0;A<256;
A++)K.push(p[d+A]);return K};MD.euO=function(p,d,K){p.hu(d,256);for(var A=0;A<256;A++)p.data[d+A]=K[A]};
MD.Pg=function(p,d,K){var A=[];for(var x=0;x<4;x++){var M=MD.lG(K,x);if(M.length==256)A.push(M);else{var G=[];
for(var D=0;D<M.length;D++)G.push(M[D].v.Hrzn.v,M[D].v.Vrtc.v);A.push(G)}}var P=d,a=A[0].length==256?1:0;
p.hu(d,3);p.data[d]=a;p.data[d+1]=0;p.data[d+2]=1;d+=3;v.Zo(p,d,15);d+=4;for(var x=0;x<4;x++){var e=A[x];
if(a==0){MD.eue(p,d,e);d+=2+2*e.length}else{MD.euO(p,d,e);d+=256}}return d-P};function Ph(){}Ph.PN=function(p,d,K){var A={},x=v.OW(p,d);
d+=2;A.ji=p[d]==1;d++;d++;A.Ee=[v.ZW(p,d),v.ZW(p,d+2),v.ZW(p,d+4)];d+=6;A.EG=[v.ZW(p,d),v.ZW(p,d+2),v.ZW(p,d+4)];
d+=6;A.hi=[];for(var M=0;M<6;M++){var G={};G.iK=[v.ZW(p,d),v.ZW(p,d+2),v.ZW(p,d+4),v.ZW(p,d+6)];d+=8;
G.Rx=[v.ZW(p,d),v.ZW(p,d+2),v.ZW(p,d+4)];d+=6;A.hi.push(G)}var D=eq.Kj("hue2"),P=A;if(D.Clrz==null)D.Clrz={t:"bool",v:!1};
D.Clrz.v=P.ji;for(var M=0;M<7;M++){var a=M==0?P.ji?P.Ee:P.EG:P.hi[M-1];Ph.gB(D,M,a)}return D};Ph.euv=function(p){return{classID:"Hst2",H:{t:"long",v:p[0]},Strt:{t:"long",v:p[1]},Lght:{t:"long",v:p[2]}}};
Ph.c$=function(p,d){for(var K=0;K<p.length;K++){var A=p[K].v.LclR;if(d==0&&A==null||A!=null&&A.v==d)return K}return-1};
Ph.gB=function(p,d,K){var A=d==0?K:K.Rx,x=Ph.euv(A);if(d!=0){var M=K.iK;x.LclR={t:"long",v:d},x.BgnR={t:"long",v:M[0]};
x.BgnS={t:"long",v:M[1]};x.EndS={t:"long",v:M[2]};x.EndR={t:"long",v:M[3]}}x={t:"Objc",v:x};var G=p.Adjs.v,D=Ph.c$(G,d);
if(D==-1)G.push(x);else G[D]=x};Ph.lG=function(p,d){var K=p.Adjs.v,A=Ph.c$(K,d);if(A==-1){if(d==0)return[0,0,0];
else return[{iK:[315,345,15,45],Rx:[0,0,0]},{iK:[15,45,75,105],Rx:[0,0,0]},{iK:[75,105,135,165],Rx:[0,0,0]},{iK:[135,165,195,225],Rx:[0,0,0]},{iK:[195,225,255,285],Rx:[0,0,0]},{iK:[255,285,315,345],Rx:[0,0,0]}][d-1]}var x=K[A].v,M=[x.H.v,x.Strt.v,x.Lght.v];
if(d==0)return M;return{Rx:M,iK:[x.BgnR.v,x.BgnS.v,x.EndS.v,x.EndR.v]}};Ph.Pg=function(p,d,K){var A={ji:K.Clrz.v,hi:[]};
A.Ee=A.EG=Ph.lG(K,0);for(var x=1;x<7;x++)A.hi.push(Ph.lG(K,x));var M=2+2+12+6*14,G=p.data;p.hu(d,M);
v.so(G,d,2);d+=2;G[d]=A.ji?1:0;d++;d++;v.hf(G,d+0,A.Ee[0]);v.hf(G,d+2,A.Ee[1]);v.hf(G,d+4,A.Ee[2]);d+=6;
v.hf(G,d+0,A.EG[0]);v.hf(G,d+2,A.EG[1]);v.hf(G,d+4,A.EG[2]);d+=6;for(var x=0;x<6;x++){var D=A.hi[x].iK,P=A.hi[x].Rx;
v.hf(G,d+0,D[0]);v.hf(G,d+2,D[1]);v.hf(G,d+4,D[2]);v.hf(G,d+6,D[3]);d+=8;v.hf(G,d+0,P[0]);v.hf(G,d+2,P[1]);
v.hf(G,d+4,P[2]);d+=6}return M};function MW(){}MW.RL=function(p){var d=new Uint8Array(p),K=2,A=[];for(var x=0;
x<29;x++){var M=[];A.push(M);for(var G=0;G<5;G++)M.push(v.OW(d,K+x*10+G*2))}K+=29*10;if(K<d.length){var D=v.Ms(d,K,4);
K+=4;var P=v.OW(d,K);K+=2;var a=v.OW(d,K);K+=2;var e=a-29;for(var x=0;x<e;x++){var M=[];A.push(M);for(var G=0;
G<5;G++)M.push(v.OW(d,K+x*10+G*2))}}var f=eq.Kj("levl");for(var x=0;x<4;x++)MW.gB(f,x,A[x]);return f};
MW.mP=function(p,d){var K=["Cmps","Rd","Grn","Bl"],A={t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:K[d]}}]};
return{classID:p,Chnl:A}};MW.c$=function(p,d){var K={Cmps:0,Rd:1,Grn:2,Bl:3};for(var A=0;A<p.length;
A++){var x=p[A].v,M=K[x.Chnl.v[0].v.enum];if(M==d)return A}return-1};MW.gB=function(p,d,K){var A=MW.mP("LvlA",d);
A.Inpt={t:"VlLs",v:[{t:"long",v:K[0]},{t:"long",v:K[1]}]};A.Otpt={t:"VlLs",v:[{t:"long",v:K[2]},{t:"long",v:K[3]}]};
A.Gmm={t:"doub",v:K[4]/100};A={t:"Objc",v:A};var x=p.Adjs.v,M=MW.c$(x,d);if(M==-1)x.push(A);else x[M]=A};
MW.lG=function(p,d){var K=[0,255,0,255,100],A=p.Adjs.v,x=MW.c$(A,d);if(x==-1)return K;var M=A[x].v;if(M.Inpt){K[0]=M.Inpt.v[0].v;
K[1]=M.Inpt.v[1].v}if(M.Otpt){K[2]=M.Otpt.v[0].v;K[3]=M.Otpt.v[1].v}if(M.Gmm){K[4]=Math.round(M.Gmm.v*100)}return K};
MW.fK=function(p,d){var K=[],x=0;for(var A=0;A<4;A++)K.push(MW.lG(d,A));while(K.length<29)K.push([0,255,0,255,100]);
p.hu(0,2+10*29);v.so(p.data,x,2);x+=2;for(var A=0;A<29;A++){var M=K[A];for(var G=0;G<5;G++)v.so(p.data,x+A*10+G*2,M[G])}x+=29*10;
if(K.length==29)return x;p.hu(x,8+10*(K.length-29));v.ci(p.data,x,"Lvls");x+=4;v.so(p.data,x,3);x+=2;
v.so(p.data,x,K.length);x+=2;var D=K.length-29;for(var A=0;A<D;A++){var M=K[29+A];for(var G=0;G<5;G++)v.so(p.data,x+A*10+G*2,M[G])}x+=10*D;
return x};function nd(){}nd.RL=function(p){var d=new Uint8Array(p),K=2,A={jq:[],WE:[]},x=v.Ms(d,K,4);
K+=4;var M=v.OW(d,K);K+=2;var G=v.X(d,K);K+=4;A.jq=eR.oC(d,K,G);K+=G;var D=v.X(d,K);K+=4;for(var P=0;
P<D;P++){var a=v.X(d,K);K+=4;var e=K,f={im:{},gF:{}};A.WE.push(f);K+=4;K+=QX.eJ(d,f.im,K);K+=4;K+=QX.eJ(d,f.gF,K);
K=e+a;var N=f.gF.blendOptions,Y=f.gF.Lefx;if(N&&Object.keys(N.v).length>1){}if(Y){if(Y.v.masterFXSwitch==null)Y.v.masterFXSwitch={t:"bool",v:!0};
t$.Wp(Y.v)}}return A};nd.Jz=function(p,d){p.im.Nm.v=d};nd.fK=function(p){var d=new pO,K=0;v.rC(d,K,2);
K+=2;v.KL(d,K,"8BSL");K+=4;v.rC(d,K,3);K+=2;var A=K;K+=4;K=eR.ob(d,K,p.jq);v.Zo(d,A,K-A-4);var x=p.WE.length;
v.Zo(d,K,x);K+=4;for(var M=0;M<x;M++){K+=4;var G=K,D=p.WE[M];v.Zo(d,K,16);K+=4;K+=QX.iN(d,D.im,K);var P=D.gF.Lefx;
if(P){D.gF.Lefx=JSON.parse(JSON.stringify(P));t$.mu(D.gF.Lefx.v)}v.Zo(d,K,16);K+=4;K+=QX.iN(d,D.gF,K);
if(P)D.gF.Lefx=P;v.Zo(d,G-4,K-G)}return d.data.slice(0,K).buffer};function Po(){}Po.PN=function(p,d,K){var A=v.OW(p,d);
d+=2;var x={};x.Jc=v.OW(p,d)==1;d+=2;x.JL=[];for(var M=0;M<10;M++){var G=[];x.JL.push(G);for(var D=0;
D<4;D++)G.push(v.ZW(p,d+D*2));d+=8}var P=eq.Kj("selc");P.Mthd.v.CrcM=x.Jc?"Absl":"Rltv";for(var M=1;
M<10;M++)Po.gB(P,M-1,x.JL[M]);return P};Po.oX="Rds Ylws Grns Cyns Bls Mgnt Whts Ntrl Blks".split(" ");
Po.mP=function(p,d){var K=["Cmps","Rd","Grn","Bl"],A={t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:K[d]}}]};
return{classID:p,Chnl:A}};Po.c$=function(p,d){var K=Po.oX;for(var A=0;A<p.length;A++){var x=p[A].v,M=K.indexOf(x.Clrs.v.Clrs);
if(M==d)return A}return-1};Po.gB=function(p,d,K){var A=["Cyn","Mgnt","Ylw","Blck"],x={classID:"ClrC",Clrs:{t:"enum",v:{Clrs:Po.oX[d]}}};
for(var M=0;M<4;M++)x[A[M]]={t:"UntF",v:{type:"#Prc",val:K[M]}};x={t:"Objc",v:x};var G=p.ClrC.v,D=Po.c$(G,d);
if(D==-1)G.push(x);else G[D]=x};Po.lG=function(p,d){var K=[0,0,0,0],A=p.ClrC.v,x=Po.c$(A,d);if(x==-1)return K;
var M=["Cyn","Mgnt","Ylw","Blck"];for(var G=0;G<4;G++)if(A[x].v[M[G]])K[G]=A[x].v[M[G]].v.val;return K};
Po.Pg=function(p,d,K){var A={Jc:K.Mthd.v.CrcM=="Absl",JL:[[0,0,0,0]]};for(var x=0;x<9;x++)A.JL.push(Po.lG(K,x));
p.hu(d,84);v.so(p.data,d,1);d+=2;v.so(p.data,d,A.Jc?1:0);d+=2;for(var x=0;x<10;x++){var M=A.JL[x];for(var G=0;
G<4;G++)v.hf(p.data,d+G*2,M[G]);d+=8}return 84};function Pd(){}Pd.Kj=function(){return{dC:new R(0,0,50,50),im:"",WX:"play",Z:Z.e.Ek.gj([.1,.1,.9,.5,.1,.9],0)}};
Pd.RL=function(p){p=new Uint8Array(p);var d=0,K=[],A=Date.now(),x=v.Ms(p,0,4);d+=4;var M=v.X(p,d);d+=4;
var G=v.X(p,d);d+=4;for(var D=0;D<G;D++){var P=v.sN(p,d);d+=P.length*2+4+2;if((P.length&1)==0)d+=2;var a=v.X(p,d);
d+=4;var e=v.X(p,d);d+=4;var f=d,N=v.Ij(p,f).NT;f+=N.length+1;var Y=v.rq(p,f);f+=16;var l=Pd.oy(p,f,e-(f-d)),h=Z.e.gK(l),s=Z._.JE(h),J=1/s.t,u=1/s.D;
Z.e.RF(l,new QI(J,0,0,u,-s.x*J,-s.y*u));K.push({WX:P,im:N,Z:l,dC:Y});d+=e}return K};Pd.Jz=function(p,d){p.WX=d};
Pd.fK=function(p){var d=new pO,K=0;v.KL(d,K,"cush");K+=4;v.Zo(d,K,2);K+=4;v.Zo(d,K,p.length);K+=4;for(var A=0;
A<p.length;A++){var x=p[A],M=x.WX+"\0";v.WQ(d,K,M);K+=4+M.length*2;if((M.length&1)==1)K+=2;v.Zo(d,K,1);
K+=4;K+=4;var G=K;v.Gk(d,K,x.im);K+=x.im.length+1;v.jj(d,K,x.dC);K+=16;d.hu(K,x.Z.length*26);Pd.mn(d.data,K,x.Z,1,1);
K+=x.Z.length*26;var D=K-G;if((D&3)!=0)D+=4-(D&3);v.Zo(d,G-4,D);K=G+D}return d.data.slice(0,K).buffer};
Pd.oy=function(p,d,K,A,x){if(A==null)A=1;if(x==null)x=1;var M=v.ZW,G=v.eFO,D=[],P=Math.floor(K/26);for(var a=0;
a<P;a++){var e=d+a*26,f={},N=0;D.push(f);f.type=M(p,e);e+=2;if(f.type==6){N=24}if(f.type==8){f.all=M(p,e);
e+=2;N=22}if(f.type==0||f.type==3){f.length=M(p,e);e+=2;f.Ez=M(p,e);e+=2;f.LC=M(p,e);e+=2;f.if=v.X(p,e);
e+=4;f.qP=v.X(p,e);e+=4;N=10}if(f.type==1||f.type==2||f.type==4||f.type==5){var Y,l;l=G(p,e);e+=4;Y=G(p,e);
e+=4;f.Gp=new QP(Y*A,l*x);l=G(p,e);e+=4;Y=G(p,e);e+=4;f.I=new QP(Y*A,l*x);l=G(p,e);e+=4;Y=G(p,e);e+=4;
f.UL=new QP(Y*A,l*x);N=0}for(var h=0;h<N;h++)if(p[e+h]!=0){console.log("Unexpected non-zero byte!",f,h,p[e+h])}}return D};
Pd.mn=function(p,d,K,A,x){var M=v.hf,G=v.Va,D=K.length;for(var P=0;P<D;P++){var a=d+P*26,e=K[P];M(p,a,e.type);
a+=2;if(e.type==6){}if(e.type==8)M(p,a,e.all);if(e.type==0||e.type==3){M(p,a,e.length);a+=2;M(p,a,e.Ez);
a+=2;M(p,a,e.LC);a+=2}if(e.type==1||e.type==2||e.type==4||e.type==5){G(p,a,e.Gp.y/x);a+=4;G(p,a,e.Gp.x/A);
a+=4;G(p,a,e.I.y/x);a+=4;G(p,a,e.I.x/A);a+=4;G(p,a,e.UL.y/x);a+=4;G(p,a,e.UL.x/A);a+=4}}};function nE(){}nE.RL=function(p){var d=new Uint8Array(p),K=[],A=0;
A=nE.KX(d,A,K);if(A+3<d.length){K=[];A=nE.KX(d,A,K)}return K};nE.KX=function(p,d,K){var A=v.OW,x=v.ZW,M=A(p,d);
d+=2;var G=A(p,d);d+=2;for(var D=0;D<G;D++){var P=nE.rM(p,d);d+=10;if(M==2){P.WR=v.sN(p,d);d+=4+P.WR.length*2+2}K.push(P)}return d};
nE.rM=function(p,d){var K=v.OW,A=v.ZW,x=K(p,d),Y=null;d+=2;var M=K(p,d);d+=2;var G=K(p,d);d+=2;var D=K(p,d);
d+=2;var P=K(p,d);d+=2;var a=1/65535,e=255/65535,f=100/65535,N=255/1e4;if(x==0)Y={N:M*e,w:G*e,M:D*e};
else if(x==1){Y=Z.uK(M*a,G*a,D*a);Y.N*=255;Y.w*=255;Y.M*=255}else if(x==2)Y=Z.k.iz({classID:"CMYC",Cyn:{t:"doub",v:100-M*f},Mgnt:{t:"doub",v:100-G*f},Ylw:{t:"doub",v:100-D*f},Blck:{t:"doub",v:100-P*f}});
else if(x==7){var l=Z.fp(M/100,A(p,d-6)/100,A(p,d-4)/100);Y=l}else if(x==8){Y={N:255-M*N,w:255-G*N,M:255-D*N}}else throw"e "+x+", ";
return Y};nE.fK=function(p){var d=new pO,K=0,A=v.rC;A(d,K,2);K+=2;A(d,K,p.length);K+=2;for(var x=0;x<p.length;
x++){var M=p[x];d.hu(K,10);nE.Gu(d.data,K,M);K+=10;var G=(M.WR?M.WR:"")+"\0";v.WQ(d,K,G);K+=4+G.length*2}return d.data.slice(0,K).buffer};
nE.Jz=function(p,d){p.WR=d};nE.Gu=function(p,d,K){var A=65535/255,x=v.so;x(p,d,0);x(p,d+2,Math.round(K.N*A));
x(p,d+4,Math.round(K.w*A));x(p,d+6,Math.round(K.M*A));x(p,d+8,0)};function Gx(){}Gx.RL=function(p){var d=new Uint8Array(p),K=4,A={};
A.hH=v.sN(d,K);K+=4+A.hH.length*2+2;A.exp=d[K++]==1;A.W=[];var x=v.X(d,K);K+=4;for(var M=0;M<x;M++){var G={};
A.W.push(G);G._W=v.OW(d,K);K+=2;G.shift=d[K++]==1;G.eat=d[K++]==1;G.color=v.OW(d,K);K+=2;G.hH=v.sN(d,K);
K+=4+G.hH.length*2+2;G.exp=d[K++]==1;G.W=[];var M$=v.X(d,K);K+=4;for(var D=0;D<M$;D++){var P={};G.W.push(P);
P.exp=d[K++]==1;P.C=d[K++]==1;P.eaF=d[K++]==1;P.ehV=d[K++];var a=v.Ms(d,K,4);K+=4;if(a=="TEXT"){P.LG=Gx.GE(d,K);
K+=4+P.LG.length}else if(a=="long"){P.LG=v.Ms(d,K,4);K+=4}else throw"e";P.jo=Gx.GE(d,K);K+=4+P.jo.length;
var e=v.gc(d,K);K+=4;if(e==-1){P.Qz={};var f=QX.eJ(d,P.Qz,K);K+=f}}}console.log(A);var N=new Uint8Array(Gx.fK(A));
for(var M=0;M<N.length;M++)if(N[M]!=d[M]){console.log(N.length,d.length);var Y=4*(M>>>2)-16;console.log(v.ma(d,Y,64));
console.log(v.ma(N,Y,64));console.log(d.slice(Y,Y+64));console.log(N.slice(Y,Y+64));throw M}console.log(A);
return[A]};Gx.GE=function(p,d){var K=v.X(p,d);return v.Ms(p,d+4,K)};Gx.md=function(p,d,K){v.Zo(p,d,K.length);
v.KL(p,d+4,K)};Gx.fK=function(p){var d=new pO,K=0;v.Zo(d,K,16);K+=4;v.WQ(d,K,p.hH+"\0");K+=4+p.hH.length*2+2;
d.hu(K,1);d.data[K++]=p.exp?1:0;var A=p.W.length;v.Zo(d,K,A);K+=4;for(var x=0;x<A;x++){var M=p.W[x];
v.rC(d,K,M._W);K+=2;d.hu(K,2);d.data[K++]=M.shift?1:0;d.data[K++]=M.eat?1:0;v.rC(d,K,M.color);K+=2;v.WQ(d,K,M.hH+"\0");
K+=4+M.hH.length*2+2;d.hu(K,1);d.data[K++]=M.exp?1:0;var M$=M.W.length;v.Zo(d,K,M$);K+=4;for(var G=0;
G<M$;G++){var D=M.W[G];d.hu(K,4);d.data[K++]=D.exp?1:0;d.data[K++]=D.C?1:0;d.data[K++]=D.eaF?1:0;d.data[K++]=D.ehV;
var P=D.LG=="LqFy"||D.LG=="Avrg"||D.LG=="GEfc"||D.LG=="PbPl";v.KL(d,K,P?"long":"TEXT");K+=4;if(!P){Gx.md(d,K,D.LG);
K+=4+D.LG.length}else{v.KL(d,K,D.LG);K+=4}Gx.md(d,K,D.jo);K+=4+D.jo.length;v.Fm(d,K,D.Qz?-1:0);K+=4;
if(D.Qz){var a=QX.iN(d,D.Qz,K);K+=a}}}return d.data.slice(0,K).buffer};function nA(){}nA.RL=function(p){var d=new Uint8Array(p),K=0,A=v.X(d,K),P;
K+=4;var x=v.Ms(d,K,8);K+=8;var M=v.WL(d,K);K+=4;var G=v.WL(d,K);K+=4;var D=v.WL(d,K);K+=4;if(A==2){P=new Float32Array(p,32,p.byteLength-32>>>2)}else if(A==3||A==4){P=new Float32Array(G*D*2);
var a=0,e=0,f=!0;K=A==3?32:16+8+40;while(K<d.length){var N=v.WL(d,K);K+=4;if(f)e+=N;else{for(var Y=0;
Y<N;Y++){P[a+e+Y<<1]=v.mh(d,K);P[(a+e+Y<<1)+1]=v.mh(d,K+4);K+=8}e+=N}f=!f;if(N!=0&&e==G){a+=G;e=0;f=!0;
if(a==G*D)break}}}else throw"unknown Mesh version: "+A;return{dv:G,Ri:D,map:P}};nA.cF=function(p){var d=p.dv,K=p.Ri,A=p.map,x=new Uint8Array(32+K*d*8+K*8),M=0,G=0;
v.wB(x,M,3);M+=4;v.ci(x,M,"yfqLhseM");M+=8;v.Wr(x,M,2);M+=4;v.Wr(x,M,d);M+=4;v.Wr(x,M,K);M+=4;v.Wr(x,M,0);
M+=4;v.Wr(x,M,1);M+=4;for(var D=0;D<K;D++){v.Wr(x,M,0);M+=4;v.Wr(x,M,d);M+=4;for(var P=0;P<d;P++){v.mW(x,M,A[G]);
v.mW(x,M+4,A[G+1]);G+=2;M+=8}}return x.buffer};function ps(){}ps.RL=function(p){var d=new Uint8Array(p),K=0,A=v.Ms(d,K,4);
K+=4;var x=v.OW(d,K);K+=2;var M=v.X(d,K);K+=4;var G=[];for(var D=0;D<M;D++){var P=v.X(d,K);K+=4;var a={classID:"ShpC",Nm:{t:"TEXT",v:""},Crv:{t:"VlLs",v:[]}};
G.push(a);var e=v.sN(d,K);a.Nm.v=e;K+=4+e.length*2+2;var f=v.OW(d,K);K+=2;var N=v.OW(d,K);K+=2;for(var Y=0;
Y<N;Y++){var l=Z.uX.gS(0,0,!0);l.v.Vrtc.v=v.OW(d,K);K+=2;l.v.Hrzn.v=v.OW(d,K);K+=2;a.Crv.v.push(l)}if(P==1){}else if(P==2){for(var Y=0;
Y<N;Y++){a.Crv.v[Y].v.Cnty.v=d[K]==1;K+=1}}else throw"error";var h=v.X(d,K);K+=4;var s=v.X(d,K);K+=4}return G};
ps.Jz=function(p,d){p.Nm.v=d};ps.fK=function(p){var d=new pO,K=0;v.KL(d,K,"8BFS");K+=4;v.rC(d,K,1);K+=2;
v.Zo(d,K,p.length);K+=4;for(var A=0;A<p.length;A++){v.Zo(d,K,2);K+=4;var x=p[A];v.WQ(d,K,x.Nm.v+"\0");
K+=4+x.Nm.v.length*2+2;v.rC(d,K,2);K+=2;var M=x.Crv.v.length;v.rC(d,K,M);K+=2;for(var G=0;G<M;G++){var D=x.Crv.v[G];
v.rC(d,K,D.v.Vrtc.v);K+=2;v.rC(d,K,D.v.Hrzn.v);K+=2}d.hu(K,M);for(var G=0;G<M;G++){d.data[K]=x.Crv.v[G].v.Cnty.v;
K++}v.Zo(d,K,0);K+=4;v.Zo(d,K,0);K+=4}return d.data.slice(0,K).buffer};function nV(){}nV.RL=function(p){var d=new Uint8Array(p),K=4,A=v.OW(d,K);
K+=2;var x=v.X(d,K);K+=4;var M=[];for(var G=0;G<x;G++){var D={};M.push(D);K=nV.ml(d,K,D)}return M};nV.Jz=function(p,d){p.name=d};
nV.fK=function(p){var d=new pO,K=0;v.KL(d,K,"8BPT");K+=4;v.rC(d,K,1);K+=2;v.Zo(d,K,p.length);K+=4;for(var A=0;
A<p.length;A++){K=nV.uS(d,K,p[A])}return d.data.slice(0,K).buffer};nV.ml=function(p,d,K){var A=v.X(p,d);
d+=4;if(A!=1)alert("Unknown version of pattern");var x=v.X(p,d);d+=4;if(x!=1&&x!=2&&x!=3)console.log("Unsupported mode of pattern: "+x);
var M=v.OW(p,d);d+=2;var G=v.OW(p,d);d+=2;K.m=new R(0,0,G,M);K.name=v.sN(p,d);d+=4+2*K.name.length+2;
var D=p[d];d++;K.id=v.Ms(p,d,D);d+=K.id.length;var P=-1;if(x==2){P=d;d+=3*256+4}var a=new Z.dY(G*M);
d=nV.euL(p,d,a);if(x==2){for(var e=0;e<a.N.length;e++){var f=3*a.N[e];a.N[e]=p[P+f+0];a.w[e]=p[P+f+1];
a.M[e]=p[P+f+2]}}K.nM=Z.p(K.m.r()*4);Z.AR(a,K.nM);return d};nV.uS=function(p,d,K){v.Zo(p,d,1);d+=4;v.Zo(p,d,3);
d+=4;v.rC(p,d,K.m.D);d+=2;v.rC(p,d,K.m.t);d+=2;v.WQ(p,d,K.name+"\0");d+=4+2*K.name.length+2;v.hS(p,d,K.id.length);
d++;v.KL(p,d,K.id);d+=K.id.length;var A=new Z.dY(K.m.r());Z.ul(K.nM,A);d=nV.euC(p,d,A,K);return d};nV.euL=function(p,d,K){var A=d,x={m:null,GU:[],eoT:null,Et:null},M=v.X(p,d);
d+=4;var G=v.X(p,d);d+=4;x.m=v.rq(p,d);d+=16;var D=v.X(p,d);d+=4;for(var P=0;P<D+2;P++){var a=v.X(p,d);
d+=4;if(a==0)continue;var e=v.X(p,d);d+=4;if(e==0)continue;var f=v.X(p,d);d+=4;var N=v.rq(p,d);d+=16;
var Y=v.OW(p,d);d+=2;var l=p[d];d++;var h=eH.GV(!1,f,p,N.t,N.D,d,l);if(P<D)x.GU.push(h);if(P==D)x.eoT=h;
if(P==D+1)x.Et=h;d+=e-23}if(!x.m.kQ()){if(x.GU[0])K.N=x.GU[0];if(x.GU[1])K.w=x.GU[1];else K.w=Z.clone(x.GU[0]);
if(x.GU[2])K.M=x.GU[2];else K.M=Z.clone(x.GU[0]);if(x.Et)K.V=x.Et;else Z.set(K.V,255)}return d};nV.euC=function(p,d,K,A){var x=d,M={m:A.m,GU:[K.N,K.w,K.M],eoT:null,Et:K.V};
v.Zo(p,d,3);d+=4;v.Zo(p,d,0);d+=4;v.jj(p,d,M.m);d+=16;v.Zo(p,d,24);d+=4;for(var G=0;G<24+2;G++){var D=d,P=G<3||G==25?1:0;
v.Zo(p,d,P);d+=4;if(P==0)continue;v.Zo(p,d,0);d+=4;v.Zo(p,d,8);d+=4;v.jj(p,d,M.m);d+=16;v.rC(p,d,8);
d+=2;v.hS(p,d,1,1);d++;var a=G<3?M.GU[G]:M.Et;p.hu(d,A.m.r()+2);d=eH.Wn(a,p.data,A.m.t,A.m.D,d,1);v.Zo(p,D+4,d-D-8)}v.Zo(p,x+4,d-x-8);
return d};function Gq(){}Gq.RL=function(p){var d=new Uint8Array(p),K=0,A=v.Ms(d,K,4);K+=4;var x=v.OW(d,K);
K+=2;var M=[];if(x<=3){var G=v.OW(d,K);K+=2;for(var D=0;D<G;D++){var P=d[K++],a=v.Ms(d,K,P);K+=P;var e=Gq.ub(d,K,a),f=e[0];
K=e[1];M.push(f);K+=6}}else{var e={},N=QX.eJ(d,e,K+4),Y=e.GrdL.v;for(var D=0;D<Y.length;D++)M[D]=Y[D].v.Grad.v}return M};
Gq.Jz=function(p,d){p.Nm.v=d};Gq.fK=function(p){var d=new pO,K=0;v.KL(d,K,"8BGR");K+=4;v.rC(d,K,5);K+=2;
v.Zo(d,K,16);K+=4;var A={classID:"null",GrdL:{t:"VlLs",v:[]}},x=A.GrdL.v;for(var M=0;M<p.length;M++)x[M]={t:"Objc",v:{classID:"Grdn",__name:"Gradient ",Grad:{t:"Objc",v:p[M]}}};
K+=QX.iN(d,A,K);return d.data.slice(0,K).buffer};Gq.ub=function(p,d,K){var A={classID:"Grdn",Clrs:{t:"VlLs",v:[]},GrdF:{pz:"enum",v:{GrdF:"CstS"}},Intr:{t:"doub",v:4096},Nm:{t:"TEXT",v:K},Trns:{t:"VlLs",v:[]}},x=v.OW(p,d);
d+=2;if(x==0)throw"e";for(var M=0;M<x;M++){var G=v.X(p,d),D=v.X(p,d+4),P=nE.rM(p,d+8),a={t:"Objc",v:{classID:"Clrt",Clr:{t:"Objc",v:{classID:"RGBC",Rd:{t:"doub",v:P.N},Grn:{t:"doub",v:P.w},Bl:{t:"doub",v:P.M}}},Type:{t:"enum",v:{Clry:"UsrS"}},Lctn:{t:"long",v:G},Mdpn:{t:"long",v:D}}};
A.Clrs.v.push(a);d+=20}var e=v.OW(p,d);d+=2;for(var M=0;M<e;M++){var G=v.X(p,d),D=v.X(p,d+4),f=v.OW(p,d+8),a={t:"Objc",v:{classID:"TrnS",Opct:{t:"UntF",v:{type:"#Prc",val:Math.round(100*f/255)}},Lctn:{t:"long",v:G},Mdpn:{t:"long",v:D}}};
A.Trns.v.push(a);d+=10}return[A,d]};Gq.euN=function(p,d,K){var A=K.Clrs.v.length;v.rC(p,d,A);d+=2;for(var x=0;
x<A;x++){var M=K.Clrs.v[x];v.Zo(p,d,M.v.Lctn.v);v.Zo(p,d+4,M.v.Mdpn.v);v.rC(p,d+8,0);var G=Z.k.wI(Z.k.iz(M.v.Clr.v)),D=[G.Rd.v,G.Grn.v,G.Bl.v,0];
for(var P=0;P<4;P++)v.rC(p,d+10+P*2,Math.round(65535*(D[P]/255)));d+=20}var a=K.Trns.v.length;v.rC(p,d,a);
d+=2;for(var x=0;x<a;x++){var M=K.Trns.v[x];v.Zo(p,d,M.v.Lctn.v);v.Zo(p,d+4,M.v.Mdpn.v);v.rC(p,d+8,Math.round(255*M.v.Opct.v.val/100));
d+=10}return d};function Bh(){}Bh.RL=function(p){var d=new Uint8Array(p),K=[],A=[],x=[],M=0,G=v.Ms(d,M,4);
M+=4;var D=v.X(d,M);M+=4;var P=v.X(d,M);M+=4;while(M<d.length){var a=v.Ms(d,M,4);M+=4;var e=v.Ms(d,M,4);
M+=4;var f=v.X(d,M);M+=4;if(e=="tppa"){A=eR.oC(d,M,f);M+=f}else if(e=="tpbd"){x=eR.Kp(d,M,f,1,1);M+=f}else if(e=="tptp"){var N=v.X(d,M);
M+=4;for(var Y=0;Y<N;Y++){var l=v.sN(d,M);M+=6+l.length*2;M+=4;var h={};M+=QX.eJ(d,h,M);K.push([l,h])}while((M&3)!=0)M++}else{console.log(d.slice(M-8,M+64));
console.log(v.Ms(d,M-8,64));throw e}}return{Im:x,eN:A,list:K}};Bh.Jz=function(p,d){p[0]=d};Bh.fK=function(p){var d=new pO,K=0;
v.KL(d,K,"8BTP");K+=4;v.Zo(d,K,3);K+=4;v.Zo(d,K,1);K+=4;var A=[p.eN,p.Im,p.list];for(var x=0;x<3;x++){if(A[x].length==0)continue;
v.KL(d,K,"8BIM");K+=4;var M=["tppa","tpbd","tptp"][x];v.KL(d,K,M);K+=4;var G=K;K+=4;if(M=="tppa"){K=eR.ob(d,K,p.eN)}else if(M=="tpbd"){K=eR.Kn(d,K,p.Im)}else if(M=="tptp"){v.Zo(d,K,p.list.length);
K+=4;for(var D=0;D<p.list.length;D++){var P=p.list[D];v.WQ(d,K,P[0]+"\0");K+=6+P[0].length*2;v.Zo(d,K,16);
K+=4;K+=QX.iN(d,P[1],K)}}v.Zo(d,G,K-G-4);while((K&3)!=0)K++;d.hu(K,0)}return d.data.slice(0,K).buffer};
function er(){}er.RL=function(p,d){var K=new Uint8Array(p),A;if(v.X(K,0)==K.length)A="icc";else if(K[0]=="<".charCodeAt(0))A="look";
else if(v.m_(K,"LUT_3D_SIZE")!=-1)A="cube";else A="3DL";if(A!="icc"){var x=er.eHP(K,A),M=er.eHe(x[0],x[1]);
K=M}var G=[];for(var D=0;D<K.length;D++)G.push(K[D]);return[{classID:"null",Dthr:{t:"bool",v:!0},Nm:{t:"TEXT",v:d?d:"file.icc"},lookupType:{t:"enum",v:{colorLookupType:"abstractProfile"}},profile:{t:"tdta",v:G}}]};
er.fK=function(p){var d=p[0],K=new Uint8Array(d.profile.v);return K.buffer};er.Jz=function(p,d){p.Nm.v=d};
er.eHe=function(p,d){var K=new pO,A=128;K.hu(0,128);var x=[0,0,14,204,65,68,66,69,4,0,0,0,108,105,110,107,82,71,66,32,82,71,66,32,7,227,0,7,0,27,0,8,0,6,0,49,97,99,115,112,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,246,214,0,1,0,0,0,0,211,45,65,68,66,69,219,126,245,21,206,223,186,23,165,212,201,219,250,10,33,62];
for(var M=0;M<x.length;M++)K.data[M]=x[M];var G=["desc","A2B0"],D=G.length,P=128+4+D*12;v.Zo(K,A,D);
A+=4;for(var a=0;a<D;a++){var e=G[a];v.KL(K,A,e);A+=4;v.Zo(K,A,P);A+=4;var f=P;if(e=="desc"){v.KL(K,f,"mluc");
f+=4;f+=4;v.Zo(K,f,1);f+=4;v.Zo(K,f,12);f+=4;v.KL(K,f,"enUS");f+=4;var N="ICC by Photopea\0",Y=N.length*2+2;
v.Zo(K,f,Y);f+=4;v.Zo(K,f,28);f+=4;K.hu(f,Y);for(var M=0;M<N.length;M++)K.data[f+M*2+1]=N.charCodeAt(M);
f+=Y}if(e=="A2B0"){v.KL(K,f,"mAB ");f+=4;f+=4;K.hu(f,4);K.data[f]=3;K.data[f+1]=3;f+=4;K.hu(f,4*5);f+=4*3;
v.Zo(K,f,f+8-P);f+=4;f+=4;K.hu(f,20);K.data[f]=p;K.data[f+1]=p;K.data[f+2]=p;f+=16;K.data[f]=2;f+=4;
var l=p*p*p*3;K.hu(f,l*2);for(var M=0;M<l;M++)v.so(K.data,f+M*2,Math.max(0,Math.min(65535,Math.round(d[M]*65535))));
f+=l*2}var h=f-P;while((h&3)!=0)h++;v.Zo(K,A,h);A+=4;P+=h}v.Zo(K,0,P);return K.data.slice(0,P)};er.eHP=function(p,d){d="LUTFormat"+d.toUpperCase();
var K=[],A=0,x=v.Il(p,0,p.length),M="";for(var G=0;G<p.length&&M=="";G++){if(p[G]==10)M="\n";else if(p[G]==13){M="\r";
if(p[G+1]==10)M+="\n"}}if(d=="LUTFormatCUBE"){var D=x.split(M);for(var G=0;G<D.length;G++){if(D[G]==""||D[G][0]=="#")continue;
var P=D[G].split(" "),a=P[0];if(a=="LUT_3D_SIZE"){A=parseInt(P[1]);continue}if(["TITLE","DOMAIN_MIN","DOMAIN_MAX"].indexOf(a)!=-1)continue;
K.push(parseFloat(P[0]),parseFloat(P[1]),parseFloat(P[2]))}K=er.vl(A,K)}else if(d=="LUTFormat3DL"){var D=x.split(M),e=1/4095;
for(var G=0;G<D.length;G++){var f=D[G];if(f==""||f=="3DMESH"||f.startsWith("Mesh")||f[0]=="#")continue;
var P=f.split(" "),a=P[0];if(A==0){A=P.length;continue}K.push(parseFloat(P[0])*e,parseFloat(P[1])*e,parseFloat(P[2])*e)}}else if(d=="LUTFormatLOOK"){var N=new DOMParser,Y=N.parseFromString(x,"text/xml"),l=Y.getElementsByTagName("LUT")[0],h=l.children[0].textContent;
A=parseInt(JSON.parse(h));var s=l.children[1].textContent;s=s.replace(/"/g,"").replace(/\s/g,"");var J=3*A*A*A,u=J*4,Q=new Uint8Array(u);for(var G=0;G<u;G++){var W=s.charCodeAt(G*2),q=s.charCodeAt(G*2+1),H=W<58?W-48:W-55,C=q<58?q-48:q-55;Q[G]=(H<<4)+C}for(var G=0;G<J;G++)K.push(v.mh(Q,G<<2));K=er.vl(A,K)}else throw d;return[A,K]};er.vl=function(p,d){var K=[],A=p*p*p;for(var x=0;x<A;x++)K.push(0,0,0);for(var M=0;M<p;M++)for(var G=0;G<p;G++)for(var D=0;D<p;D++){var x=3*(D+G*p+M*p*p),P=3*(M+G*p+D*p*p);K[P]=d[x];K[P+1]=d[x+1];K[P+2]=d[x+2]}return K};function QX(){}QX.eJ=function(p,d,K,A,x){var M=K,G;if(x==null)x=0;var D=v.X(p,K);if(D==0){G="";K+=4}else{G=v.sN(p,K);K+=4+2*G.length+2}if(G!="")d.__name=G;d.classID=QX._Q(p,K);if(A)console.log("\t".repeat(x),"- reading descriptor",d.classID,K);K+=QX._O(p,K);var P=v.gc(p,K);K+=4;for(var a=0;a<P;a++){var e=QX._Q(p,K);K+=QX._O(p,K);var f=QX.vj(p,K,A,x);d[e]=f;K+=f.size;delete f.size}return K-M};QX.iN=function(p,d,K,A){var x=K,M=d.__name;if(M==null)M="";M+="\0";v.WQ(p,K,M);K+=4+2*M.length;QX._w(p,K,d.classID);K+=QX._O(p.data,K);v.Fm(p,K,Object.keys(d).length-1-(d.__name==null?0:1));K+=4;for(var G in d){if(G=="classID")continue;if(G=="__name")continue;QX._w(p,K,G);K+=QX._O(p.data,K);K+=QX.En(p,K,d[G])}return K-x};QX.vj=function(p,d,K,A){var x=d,M=v.Ms(p,d,4);d+=4;var G={size:0,t:M,v:null};if(K)console.log("\t".repeat(A),"reading key",M,x);switch(M){case"obj ":case"VlLs":G.v=[];var D=v.X(p,d);d+=4;for(var P=0;P<D;P++){var a=QX.vj(p,d,K,A+1);d+=a.size;delete a.size;G.v.push(a)}break;case"UntF":G.v={type:v.Ms(p,d,4),val:v.Ut(p,d+4)};d+=12;break;case"doub":G.v=v.Ut(p,d);d+=8;break;case"bool":G.v=p[d]==1;d+=1;break;case"long":G.v=v.gc(p,d);d+=4;break;case"comp":G.v=v.gc(p,d+4);d+=8;break;case"Objc":G.v={};var e=QX.eJ(p,G.v,d,K,A+1);d+=e;break;case"TEXT":var f=v.X(p,d);if(f==0){G.v="";d+=4}else{G.v=v.sN(p,d);d+=4+G.v.length*2+2}break;case"enum":var N=QX._Q(p,d);d+=QX._O(p,d);var Y=QX._Q(p,d);d+=QX._O(p,d);G.v={};G.v[N]=Y;break;case"tdta":var l=v.gc(p,d);d+=4;G.v=[];for(var P=0;P<l;P++)G.v.push(p[d+P]);d+=l;break;case"ObAr":var h=v.X(p,d);d+=4;var s=v.sN(p,d);d+=4+2*s.length+2;if(s!="")throw s;var J=QX._Q(p,d);d+=4+Math.max(4,J.length);G.v={classID:J,arr:[]};var u=v.X(p,d);d+=4;for(var P=0;P<u;P++){var J=QX._Q(p,d);d+=4+Math.max(4,J.length);var N=v.Ms(p,d,4);d+=4;var Q=v.Ms(p,d,4);d+=4;var W={id:J,type:N,uID:Q,arr:[]};G.v.arr.push(W);var q=v.X(p,d,4);d+=4;for(var H=0;H<q;H++){var C=v.Ut(p,d);d+=8;W.arr.push(C)}}break;case"Pth ":var k=d,l=v.X(p,d);d+=4;var i=v.Ms(p,d,4);d+=4;var m=v.WL(p,d);d+=4;var w=v.e$a(p,d);d+=4+w.length*2;G.v={sig:i,pth:w};break;case"Clss":case"type":case"rele":var w=v.sN(p,d);d+=4+w.length*2+2;var S=QX._Q(p,d);d+=4+Math.max(4,S.length);G.v={classID:S};if(w!="")G.v.__name=w;if(M=="rele"){G.v.val=v.gc(p,d);d+=4}break;case"prop":case"Enmr":case"indx":case"name":var o=QX.oT[M],w=v.sN(p,d);d+=4+w.length*2+2;if(w.length!=0){console.log(M,w);throw"e"}G.v={};for(var P=0;P<o.length;P++){var S=QX._Q(p,d);d+=4+Math.max(4,S.length);G.v[o[P]]=S}if(M=="name"){var w=v.sN(p,d);d+=4+w.length*2+2;G.v.val=w}if(M=="indx"){G.v.val=v.X(p,d);d+=4}break;case"alis":var l=v.X(p,d);d+=4;G.v=v.Ms(p,d,l);d+=l;break;default:{console.log("unknown oskey: "+M+", "+x);throw"e";return G}}if(K){console.log("\t".repeat(A),G.v);console.log("\t".repeat(A),"======",d)}G.size=d-x;return G};QX.oT={name:["classID"],prop:["classID","keyID"],Enmr:["classID","typeID","enum"],indx:["classID"]};QX.En=function(p,d,K){var A=d,x=K.t;K=K.v;v.KL(p,d,x);d+=4;switch(x){case"obj ":case"VlLs":v.Fm(p,d,K.length);d+=4;for(var M=0;M<K.length;M++){var G=QX.En(p,d,K[M]);d+=G}break;case"UntF":v.KL(p,d,K.type);v.YU(p,d+4,K.val);d+=12;break;case"doub":v.YU(p,d,K);d+=8;break;case"bool":v.hS(p,d,K?1:0,1);d+=1;break;case"long":v.Fm(p,d,K);d+=4;break;case"comp":v.Fm(p,d+4,K);d+=8;break;case"Objc":var G=QX.iN(p,K,d);d+=G;break;case"TEXT":v.WQ(p,d,K+"\0");d+=4+K.length*2+2;break;case"enum":var D=Object.keys(K)[0],P=K[D];QX._w(p,d,D);d+=QX._O(p.data,d);QX._w(p,d,P);d+=QX._O(p.data,d);break;case"tdta":v.Zo(p,d,K.length);d+=4;v.RH(p,d,K);d+=K.length;break;case"ObAr":v.Zo(p,d,K.arr[0].arr.length);d+=4;v.WQ(p,d,"\0");d+=6;QX._w(p,d,K.classID);d+=4+Math.max(4,K.classID.length);v.Zo(p,d,K.arr.length);d+=4;for(var a=0;a<K.arr.length;a++){var e=K.arr[a];QX._w(p,d,e.id);d+=4+Math.max(4,e.id.length);v.KL(p,d,e.type);d+=4;v.KL(p,d,e.uID);d+=4;v.Zo(p,d,e.arr.length);d+=4;for(var M=0;M<e.arr.length;M++){v.YU(p,d,e.arr[M]);d+=8}}break;case"Pth ":var f=K.pth.length*2+4+8;v.Zo(p,d,f);d+=4;v.KL(p,d,K.sig);d+=4;v._q(p,d,f);d+=4;v.e$h(p,d,K.pth);d+=K.pth.length*2+4;break;case"Clss":case"type":case"rele":var N=K.__name;if(N==null)N="";v.WQ(p,d,N+"\0");d+=4+N.length*2+2;var Y=K.classID;QX._w(p,d,Y);d+=4+Math.max(4,Y.length);if(x=="rele"){v.Fm(p,d,K.val);d+=4}break;case"prop":case"Enmr":case"indx":case"name":var l=QX.oT[x];v.Zo(p,d,1);d+=6;for(var a=0;a<l.length;a++){var Y=K[l[a]];QX._w(p,d,Y);d+=4+Math.max(4,Y.length)}if(x=="name"){v.WQ(p,d,K.val+"\0");d+=4+K.val.length*2+2}if(x=="indx"){v.Zo(p,d,K.val);d+=4}break;case"alis":var f=K.length;v.Zo(p,d,f);d+=4;v.KL(p,d,K);d+=f;break;default:console.log("unknown oskey: "+x);d=A;break}return d-A};QX._Q=function(p,d){var K=v.gc(p,d);if(K>1e3)throw"e";if(K==0)K=4;return v.Ms(p,d+4,K).trim()};QX._O=function(p,d){var K=v.gc(p,d);return K==0?8:4+K};QX._w=function(p,d,K){var A="warp list Comp xx xy yx yy tx ty PinP PnRt PnOv PnDp xor PuX0 PuX1 PuX2 PuX3 PuY0 PuY1 PuY2 PuY3 base kana ruby flow trim then else".split(" "),x=4<K.length||A.indexOf(K)!=-1;v.Fm(p,d,x?K.length:0);v.KL(p,d+4,K);if(K.length<4&&!x){var M="";for(var G=K.length;G<4;G++)M+=" ";v.KL(p,d+4+K.length,M)}};QX.eHQ=function(p){var d={};for(var K in p){if(K=="classID")d[K]=p[K];else if(K=="__name")d[K]=p[K];else d[K]=QX.E_(p[K])}return d};QX.E_=function(p){if(p.pz=="Objc")return QX.eHQ(p.v);else if(p.pz=="VlLs"){var d=[];for(var K=0;K<p.v.length;K++)d.push(QX.E_(p.v[K]));return d}else if(p.pz=="UntF")return p.v.val;else return p.v};function t$(){}t$.Ey=function(p,d,K,A,x,M){while(d<K){var G=v.Ms(p,d,4);d+=4;if(G!="8BIM"&&G!="8B64"){console.log("layer information signature error! "+G,"PSB = "+x);alert("Error in PSD file: wrong signature.");return K}var D=v.Ms(p,d,4);d+=4;var P=v.gc(p,d);d+=4;if(x&&"LMsk Lr16 Lr32 Layr Mt16 Mt32 Mtrn Alph FMsk lnk2 lnkE FEid FXid PxSD extn cinf artd".split(" ").indexOf(D)!=-1){P=P<<32|v.gc(p,d);d+=4}if(x&&["pths"].indexOf(D)!=-1){P=P<<32|v.gc(p,d);d+=4}var a=["lrFX","PlLd"];if(a.indexOf(D)!=-1){if(P%4!=0)P+=4-P%4;d+=P;continue}switch(D){case"iOpa":A[D]=p[d];break;case"brst":A[D]=[1,1,1];for(var e=0;e<P;e+=4)A[D][v.X(p,d+e)]=0;break;case"knko":A[D]=p[d];break;case"infx":A[D]=p[d];break;case"clbl":A[D]=p[d];break;case"lmgm":A[D]=p[d];break;case"vmgm":A[D]=p[d];break;case"lyid":A[D]=v.X(p,d);break;case"lsct":A[D]={type:v.X(p,d)};if(P>=12)A[D].yk=v.Ms(p,d+8,4);break;case"lsdk":A.lsct={type:v.X(p,d)};break;case"lyvr":A[D]=v.X(p,d);break;case"lnsr":var f={artb:1,bgnd:1,cont:1,layr:1,lset:1,rend:1,shap:1,user:1,____:null};A[D]=v.Ms(p,d,4);break;case"lspf":A[D]=v.X(p,d);break;case"lclr":A[D]=v.OW(p,d);break;case"luni":A[D]=v.lH(p,d);break;case"fxrp":A[D]=new QP(v.Ut(p,d),v.Ut(p,d+8));break;case"artb":case"artd":A[D]={};QX.eJ(p,A[D],d+4);break;case"SoCo":A[D]={};QX.eJ(p,A[D],d+4);break;case"GdFl":A[D]={};QX.eJ(p,A[D],d+4);t$.mH(A[D],D);break;case"PtFl":A[D]={};QX.eJ(p,A[D],d+4);t$.mH(A[D],D);break;case"CgEd":var N=A.brit=eq.Kj("brit"),Y={};QX.eJ(p,Y,d+4);N.Brgh.v=Y.Brgh?Y.Brgh.v:0;N.Cntr.v=Y.Cntr?Y.Cntr.v:0;N.useLegacy.v=Y.useLegacy?Y.useLegacy.v:0;break;case"brit":if(A.brit==null){var N=A.brit=eq.Kj("brit"),Y={};N.Brgh.v=v.ZW(p,d);N.Cntr.v=v.ZW(p,d+2);N.useLegacy.v=!1}break;case"levl":var l=p.buffer.slice(d,d+P);A[D]=MW.RL(l);break;case"curv":A[D]=MD.PN(p,d,P);break;case"expA":var h=v.OW(p,d),s=A[D]=eq.Kj("expA");s.Exps.v=v.lX(p,d+2);s.Ofst.v=v.lX(p,d+6);s.gammaCorrection.v=v.lX(p,d+10);break;case"vibA":A[D]={};QX.eJ(p,A[D],d+4);break;case"hue2":A[D]=Ph.PN(p,d,P);break;case"blnc":var s=A[D]=eq.Kj(D);s.PrsL.v=p[d+18]==1;var J=["ShdL","MdtL","HghL"];for(var e=0;e<3;e++)for(var u=0;u<3;u++)s[J[e]].v[u].v=v.ZW(p,d+e*6+u*2);break;case"blwh":var Q={};QX.eJ(p,Q,d+4);var s=eq.Kj(D),W="Bl Cyn Grn Mgnt Rd Yllw tintColor useTint".split(" ");for(var e=0;e<W.length;e++){s[W[e]]=Q[W[e]];delete Q[W[e]]}A[D]=s;break;case"phfl":var s=A[D]=eq.Kj(D),q=s.Clr.v,h=v.OW(p,d);if(h==3){var H=[v.X(p,d+2),v.X(p,d+6),v.X(p,d+10)],C=32768,k=Z.ft(H[0]/C,H[1]/C,H[2]/C);q.Lmnc.v=k.Gs;q.A.v=k.V;q.B.v=k.M}if(h==2){var i=v.OW(p,d+2);if(i!=7)throw"e";q.Lmnc.v=v.ZW(p,d+4)/100;q.A.v=v.ZW(p,d+6)/100;q.B.v=v.ZW(p,d+8)/100}var m=d+2+(h==3?12:10);s.Dnst.v=v.X(p,m);m+=4;s.PrsL.v=p[m]==1;break;case"mixr":var w={ER:v.OW(p,d+2)==1,S:[]};for(var e=0;e<20;e++)w.S.push(v.ZW(p,d+4+e*2));A[D]=QW.eMi(w);break;case"clrL":case"rplc":A[D]={};QX.eJ(p,A[D],d+6);break;case"nvrt":A[D]={};break;case"post":A[D]=eq.Kj("post");A[D].Lvls.v=v.OW(p,d);break;case"thrs":A[D]=eq.Kj("thrs");A[D].Lvl.v=v.OW(p,d);break;case"grdm":var S={rev:p[d+2]==1,eWG:p[d+3]==1},o=d+4,O=v.lH(p,o);o+=4+O.length*2;var t=Gq.ub(p,o,O),c=t[0];o=t[1];var g=v.OW(p,o);o+=2;c.Intr.v=v.OW(p,o);o+=2;var j=v.OW(p,o);o+=2;S.mode=v.OW(p,o);o+=2;S.ei=v.X(p,o);o+=4;S.eSU=v.OW(p,o)==1;o+=2;S.eeN=v.OW(p,o)==1;o+=2;S.et$=v.X(p,o);o+=4;S.etL=v.OW(p,o);o+=2;S.JF=[];for(var e=0;e<4;e++)S.JF.push(v.OW(p,o+e*2));o+=8;S.J_=[];for(var e=0;e<4;e++)S.J_.push(v.OW(p,o+e*2));o+=8;var _=v.OW(p,o);o+=2;var U=eq.Kj("grdm");U.Rvrs.v=S.rev;U.Grad.v=c;A[D]=U;break;case"selc":A[D]=Po.PN(p,d,P);break;case"vmsk":case"vsms":var $=A.vmsk=new V.mK,I=v.gc(p,d+4),E=(I>>0&1)==1;$.LQ=(I>>1&1)==0;$.isEnabled=(I>>2&1)==0;$.Z=Pd.oy(p,d+8,P-8,M.t,M.D);break;case"shmd":A[D]={};var b=v.X(p,d),m=d+4;for(var e=0;e<b;e++){var G=v.Ms(p,m,4);m+=4;var z=v.Ms(p,m,4);m+=4;m+=4;var QS=v.X(p,m);m+=4;if(z=="cust"||z=="cmls"||z=="extn"||z=="mlst"){var QQ=v.X(p,m);if(QQ!=16)m+=4;var Q={};QX.eJ(p,Q,m+4,!1);A[D][z]=Q;if(z=="cmls")Qv.om.eQF(A[D][z])}else{console.log("unknown shmd key: "+z+", size: "+QS)}m+=QS}break;case"shpa":var h=v.X(p,d),Qe=v.X(p,d+4);if(Qe!=0)console.log("some patterns present!");break;case"TySh":var QB=A[D]={},h=v.OW(p,d);QB.u=v.Fu(p,d+2);var QU=v.OW(p,d+2+48);QB.iD={};var Qt=QX.eJ(p,QB.iD,d+56),F=QM.eoP();for(var L in F)if(QB.iD[L]==null)QB.iD[L]=F[L];QB._u={};var Qu=QX.eJ(p,QB._u,d+56+Qt+6);QB.MB=v.eLe(p,d+56+Qt+6+Qu);QB.Nf=GV.RL(QB.iD.EngineData.v);QM.eEl(QB.Nf.EngineDict.StyleRun.RunArray);if(QB.Nf.ResourceDict==null)QB.Nf.ResourceDict=JSON.parse(JSON.stringify(QB.Nf.DocumentResources));delete QB.iD.EngineData;break;case"lfx2":case"lmfx":case"lfxs":var QK=v.X(p,d),Qm=v.X(p,d+4);A.lmfx={};var Qt=QX.eJ(p,A.lmfx,d+8);t$.Wp(A.lmfx);break;case"FMsk":A[D]=v.Ru(p,d,P);break;case"Txt2":A[D]={};A[D].raw=v.Ru(p,d,P);A[D].JR=pG.RL(A[D].raw);break;case"Patt":A[D]=eR.oC(p,d,P);break;case"SoLd":var ei=v.Ms(p,d,4),Qp=v.X(p,d+4),QO=v.X(p,d+8);A[D]={};var QE=QX.eJ(p,A[D],d+12);if(A[D].nonAffineTransform==null)A[D].nonAffineTransform=JSON.parse(JSON.stringify(A[D].Trnf));var Qi=A[D].filterFX;if(Qi){var QV=Qi.v.filterFXList.v;for(var e=0;e<QV.length;e++){var Q$=QV[e].v,eS=Q$.filterID;if(eS&&eS.v==993)Q$.filterID.v=689;if(eS&&eS.v==902)Q$.filterID.v=898}}break;case"vstk":case"pths":var Qp=v.X(p,d);A[D]={};var QE=QX.eJ(p,A[D],d+4);break;case"vscg":var z=v.Ms(p,d,4),Qp=v.X(p,d+4);A[z]={};var QE=QX.eJ(p,A[z],d+8);t$.mH(A[z],z);break;case"vogk":var Qs=v.X(p,d),Qp=v.X(p,d+4);A[D]={};var QE=QX.eJ(p,A[D],d+8);A[D]=A[D].keyDescriptorList.v;for(var e=0;e<A[D].length;e++){}break;case"lnk2":case"lnkD__":case"lnk3__":A[D]=[];var o=d;while(o<d+P){var Qw=new V.nz;A[D].push(Qw);var j=v.lY(p,o);o+=8;var Q_=o;Qw.type=v.Ms(p,o,4);o+=4;if(Qw.type!="liFD"){alert("Unknown Linked Layer type: "+Qw.type);break;throw Qw.type}Qw.Ep=v.X(p,o);o+=4;var QN=v.Ij(p,o);o+=1+QN.NT.length;Qw.Ak=QN.NT;Qw.QR=v.sN(p,o);o+=4+Qw.QR.length*2+2;Qw.rv=v.Ms(p,o,4);o+=4;Qw.Ji=v.Ms(p,o,4);o+=4;var eK=v.lY(p,o);o+=8;Qw.open=p[o];o+=1;if(Qw.open!=0){var Qz={},Qt=QX.eJ(p,Qz,o+4);if(Qt%4!=0)Qt+=4-Qt%4;console.log(Qz);o+=Qt+4}Qw.open=0;Qw.raw=v.Ru(p,o,eK);o=Q_+j;if(j%4!=0)o+=4-j%4}break;case"FEid":var o=d;A[D]=[];var eQ=o+P,h=v.X(p,o);o+=4;while(o<eQ){o+=4;var j=v.X(p,o);o+=4;var t={};A[D].push(t);t.id=v.Ij(p,o).NT;o+=t.id.length+1;var h=v.X(p,o);o+=4;o+=4;var Qd=v.X(p,o);o+=4;t.rect=v.rq(p,o);o+=16;var Qj=v.X(p,o);o+=4;var QD=v.X(p,o);o+=4;var Qq=new Z.dY(0);for(var e=0;e<QD+2;e++){var et=v.X(p,o);o+=4;if(et!=0){o+=4;var QC=v.X(p,o),Qf=null;o+=4;if(e<3||e==25)Qf=eH.mv(!0,Qj,p,t.rect.t,t.rect.D,o,QC);if(e==0)Qq.N=Qf;if(e==1)Qq.w=Qf;if(e==2)Qq.M=Qf;if(e==25)Qq.V=Qf;o+=QC}}t.buffer=Z.p(t.rect.r()*4);Z.AR(Qq,t.buffer);Z.qS(t);var QA=p[o];o++;if(QA!=0){t.g=new V.dK;t.g.rect=v.rq(p,o);o+=16;o+=4;var Qb=v.X(p,o);o+=4;t.g.channel=eH.mv(!0,Qj,p,t.g.rect.t,t.g.rect.D,o,Qb);t.g.color=255;t.g.bB();o+=Qb}if(j%4!=0)o+=4-j%4}break;case"Lr16":Gs._j(M,p,d);break;default:console.log("unknown layer tag: "+D+", size: "+P);break}var MS="Lr16 LMsk Txt2 artd extd luni pths extn tySh lfx2".split(" ");if(MS.indexOf(D)==-1)if(P%4!=0)console.log("size not multiple of 4!!!",D);if(D!="luni"&&D!="TySh"&&D!="tySh"&&D!="lfx2")if(P%4!=0)P+=4-P%4;d+=P}var QR=[];for(var e=0;e<QR.length;e++)delete A[QR[e]];return d};t$.wO=function(p,d,K,A){for(var x in K)if(K[x]==null){alert("A bug occured (see console).");console.log("Please, report a bug, that \""+x+"\" tag was present with a null value.");
delete K[x]}for(var x in K){v.KL(p,d,"8BIM");d+=4;var M=d,G=0;v.KL(p,d,x);d+=4;v.Fm(p,d,0);d+=4;switch(x){case"iOpa":v.hS(p,d,K[x],1);
G=4;break;case"brst":G=0;for(var D=0;D<3;D++)if(K[x][D]==0){v.Zo(p,d+G,D);G+=4}break;case"knko":v.hS(p,d,K[x],1);
G=4;break;case"infx":v.hS(p,d,K[x],1);G=4;break;case"clbl":v.hS(p,d,K[x],1);G=4;break;case"lmgm":v.hS(p,d,K[x],1);
G=4;break;case"vmgm":v.hS(p,d,K[x],1);G=4;break;case"lyid":v.Zo(p,d,K[x]);G=4;break;case"lsct":v.Zo(p,d,K[x].type);
G=4;if(K[x].yk){v.KL(p,d+4,"8BIM");v.KL(p,d+8,K[x].yk);G=12}break;case"lyvr":v.Zo(p,d,K[x]);G=4;break;
case"lnsr":v.KL(p,d,K[x]);G=4;break;case"lspf":v.Zo(p,d,K[x]);G=4;break;case"lclr":v.rC(p,d,K[x]);G=8;
break;case"luni":v.WQ(p,d,K[x]);G=4+2*K[x].length;break;case"fxrp":v.YU(p,d,K[x].x);v.YU(p,d+8,K[x].y);
G=16;break;case"artb":case"artd":v.Zo(p,d,16);G=QX.iN(p,K[x],d+4)+4;break;case"SoCo":v.Zo(p,d,16);G=QX.iN(p,K[x],d+4)+4;
break;case"GdFl":v.Zo(p,d,16);G=QX.iN(p,K[x],d+4)+4;break;case"PtFl":v.Zo(p,d,16);G=QX.iN(p,K[x],d+4)+4;
break;case"CgEd":var P={classID:"null",Vrsn:{t:"long",v:1},Brgh:{t:"long",v:24},Cntr:{t:"long",v:54},means:{t:"long",v:127},Lab:{t:"bool",v:!1},useLegacy:{t:"bool",v:!1},Auto:{t:"bool",v:!0}},a=P,e=K[x];
a.Brgh.v=e.Brgh.v;a.Cntr.v=e.Cntr.v;a.useLegacy.v=e.useLegacy.v;v.Zo(p,d,16);G=QX.iN(p,P,d+4)+4;break;
case"brit":p.hu(d,8);G=8;break;case"levl":var f=new pO;G=MW.fK(f,K[x]);v.RH(p,d,f.data);break;case"curv":G=MD.Pg(p,d,K[x]);
break;case"expA":G=14;p.hu(d,14);v.so(p.data,d,1);v._D(p.data,d+2,K[x].Exps.v);v._D(p.data,d+6,K[x].Ofst.v);
v._D(p.data,d+10,K[x].gammaCorrection.v);break;case"vibA":v.Zo(p,d,16);G=QX.iN(p,K[x],d+4)+4;break;case"hue2":G=Ph.Pg(p,d,K[x]);
break;case"blnc":G=19;p.hu(d,G);var N=["ShdL","MdtL","HghL"];for(var D=0;D<3;D++){var Y=K[x][N[D]].v;
for(var l=0;l<3;l++)Y.push(v.hf(p.data,d+D*6+l*2,Y[l].v))}p.data[d+18]=K[x].PrsL.v?1:0;break;case"blwh":var P={classID:"null",bwPresetKind:{t:"long",v:1},blackAndWhitePresetFileName:{t:"TEXT",v:""}},h="Bl Cyn Grn Mgnt Rd Yllw tintColor useTint".split(" ");
for(var D=0;D<h.length;D++){P[h[D]]=K[x][h[D]]}v.Zo(p,d,16);G=QX.iN(p,P,d+4)+4;break;case"phfl":v.rC(p,d,2);
var s=K[x].Clr.v;v.rC(p,d+2,7);v.rC(p,d+4,Math.round(s.Lmnc.v*100));v.rC(p,d+6,Math.round(s.A.v*100));
v.rC(p,d+8,Math.round(s.B.v*100));v.rC(p,d+10,0);var J=d+2+10;p.hu(J,5);v.wB(p.data,J,K[x].Dnst.v);J+=4;
p.data[J]=K[x].PrsL.v?1:0;J++;G=J-d;break;case"mixr":G=44;p.hu(d,G);var u=QW.NO(K[x]);v.so(p.data,d,1);
v.so(p.data,d+2,u.ER?1:0);for(var D=0;D<20;D++)v.hf(p.data,d+4+D*2,u.S[D]);break;case"clrL":case"rplc":v.rC(p,d,1);
v.Zo(p,d+2,16);G=QX.iN(p,K[x],d+6)+6;break;case"nvrt":G=0;break;case"post":v.rC(p,d,K[x].Lvls.v);G=2;
break;case"thrs":v.rC(p,d,K[x].Lvl.v);G=2;break;case"grdm":var Q={rev:K[x].Rvrs.v,eWG:!1,mode:0,ei:867527939,eSU:!1,eeN:!0,et$:2048,etL:3,JF:[0,0,0,0],J_:[32768,32768,32768,32768]},W=K[x].Grad.v;
p.hu(d,4);v.so(p.data,d,1);p.data[d+2]=Q.rev?1:0;p.data[d+3]=Q.eWG?1:0;var q=d+4;v.WQ(p,q,W.Nm.v);q+=4+W.Nm.v.length*2;
q=Gq.euN(p,q,W);v.rC(p,q,2);q+=2;v.rC(p,q,W.Intr.v);q+=2;v.rC(p,q,32);q+=2;v.rC(p,q,Q.mode);q+=2;v.Zo(p,q,Q.ei);
q+=4;v.rC(p,q,Q.eSU?1:0);q+=2;v.rC(p,q,Q.eeN?1:0);q+=2;v.Zo(p,q,Q.et$);q+=4;v.rC(p,q,Q.etL);q+=2;for(var D=0;
D<4;D++)v.rC(p,q+D*2,Q.JF[D]);q+=8;for(var D=0;D<4;D++)v.rC(p,q+D*2,Q.J_[D]);q+=8;q+=2;G=q-d;break;case"selc":G=Po.Pg(p,d,K[x]);
break;case"FMsk":v.RH(p,d,K[x]);G=K[x].length;break;case"Txt2":var H=new pO,C=pG.cF(K[x].JR,H),k=Z.p(C,!0);
for(var D=0;D<C;D++)k[D]=H.data[D];v.RH(p,d,k);G=k.length;break;case"vmsk":var i=K[x],m=0;v.Zo(p,d,3);
if(!i.LQ)m+=1<<1;if(!i.isEnabled)m+=1<<2;v.Zo(p,d+4,m);G=8;var w=i.Z.length;p.hu(d+8,w*26);Pd.mn(p.data,d+8,i.Z,A.t,A.D);
G+=w*26;break;case"shmd":v.Zo(p,d,Object.keys(K[x]).length);var J=d+4;for(var S in K[x]){v.KL(p,J,"8BIM");
J+=4;v.KL(p,J,S);J+=4;v.Zo(p,J,0);J+=4;v.Zo(p,J,0);J+=4;v.Zo(p,J,16);J+=4;var o=QX.iN(p,K[x][S],J);if(o%4!=0)o+=4-o%4;
v.Zo(p,J-8,o+4);J+=o}G=J-d;break;case"TySh":var J=d;v.WW(p,J,1);J+=2;var O=K[x],H=new pO;O.Nf.DocumentResources=JSON.parse(JSON.stringify(O.Nf.ResourceDict));
var C=GV.cF(O.Nf,H),k=Z.p(C,!0);for(var D=0;D<C;D++)k[D]=H.data[D];O.iD.EngineData={t:"tdta",v:k};var t=O.Nf.EngineDict.Editor.Text;
O.iD.Txt.v=t.substring(0,t.length-1);v.eFT(p,J,O.u);J+=48;v.WW(p,J,50);J+=2;v.Zo(p,J,16);J+=4;J+=QX.iN(p,O.iD,J);
v.WW(p,J,1);J+=2;v.Zo(p,J,16);J+=4;J+=QX.iN(p,O._u,J);v.eLB(p,J,O.MB);J+=16;G=J-d;break;case"lmfx":v.Zo(p,d,0);
v.Zo(p,d+4,16);var P=JSON.parse(JSON.stringify(K[x])),c=!1;t$.mu(P);for(var D=0;D<QG.mV.length;D++)if(P[QG.mV[D]]!=null)c=!0;
v.KL(p,M,c?"lmfx":"lfx2");G=QX.iN(p,P,d+8)+8;break;case"Patt":var J=eR.ob(p,d,K[x]);G=J-d;break;case"SoLd":v.KL(p,d,"soLD");
v.Zo(p,d+4,4);v.Zo(p,d+8,16);G=QX.iN(p,K[x],d+12)+12;break;case"vstk":case"pths":v.Zo(p,d,16);G=QX.iN(p,K[x],d+4)+4;
break;case"vscg__":v.KL(p,d,K[x].key);v.Zo(p,d+4,16);G=QX.iN(p,K[x].S,d+8)+8;break;case"vogk":v.Zo(p,d,1);
v.Zo(p,d+4,16);Z.B$.ecf(K[x]);for(var D=0;D<K[x].length;D++){var g=K[x][D].v.keyOriginResolution;if(g)g.v=A.Bk}var j={classID:"null",keyDescriptorList:{t:"VlLs",v:K[x]}};
G=QX.iN(p,j,d+8)+8;break;case"lnkD":case"lnk2":case"lnk3":var q=d;for(var D=0;D<K[x].length;D++){var _=K[x][D],U=q;
v.mi(p,q,0);q+=8;v.KL(p,q,_.type);q+=4;v.Zo(p,q,_.Ep);q+=4;p.hu(q,1);p.data[q]=_.Ak.length;q++;v.KL(p,q,_.Ak);
q+=_.Ak.length;v.WQ(p,q,_.QR+"\0");q+=4+_.QR.length*2+2;v.KL(p,q,_.rv);q+=4;v.KL(p,q,_.Ji);q+=4;v.mi(p,q,_.raw.length);
q+=8;p.hu(q,1);p.data[q]=_.open;q++;v.RH(p,q,_.raw);q+=_.raw.length;v.Zo(p,q,1);q+=4;q+=11;var $=q-U-8;
v.mi(p,U,$);if($%4!=0){p.hu(q,4-$%4);q+=4-$%4}}G=q-d;break;case"FEid":var q=d;v.Zo(p,q,3);q+=4;for(var I=0;
I<K[x].length;I++){var E=K[x][I];q+=4;var b=q;q+=4;v.Gk(p,q,E.id);q+=E.id.length+1;v.Zo(p,q,1);q+=4;
q+=4;var z=q;q+=4;v.jj(p,q,E.rect);q+=16;v.Zo(p,q,8);q+=4;v.Zo(p,q,24);q+=4;var QS=new Z.dY(E.rect.r());
Z.ul(E.buffer,QS);for(var D=0;D<24+2;D++){var QQ=null;if(D==0)QQ=QS.N;if(D==1)QQ=QS.w;if(D==2)QQ=QS.M;
if(D==25)QQ=QS.V;v.Zo(p,q,QQ!=null?1:0);q+=4;if(QQ!=null){q+=4;var Qe=q;q+=4;p.hu(q,E.rect.r()+2);q=eH.mE(QQ,p.data,E.rect.t,E.rect.D,q,3);
v.Zo(p,Qe,q-(Qe+4))}}v.Zo(p,z,q-(z+4));p.hu(q,1);p.data[q]=E.g?1:0;q++;if(E.g!=null){var QB=E.g.rect,QU=E.g.channel;
QB=E.rect;QU=Z.p(QB.r());Z.set(QU,E.g.color);Z.Qj(E.g.channel,E.g.rect,QU,QB);v.jj(p,q,QB);q+=16;q+=4;
var Qt=q;q+=4;p.hu(q,QB.r()+2);q=eH.mE(QU,p.data,QB.t,QB.D,q,3);v.Zo(p,Qt,q-(Qt+4))}var $=q-(b+4);v.Zo(p,b,$);
if($%4!=0)q+=4-$%4}G=q-d;break;default:console.log("unknown layer tag: "+x+", size: "+G);d-=12;continue}var F=["Txt2","artd","extd","luni","pths"];
if(F.indexOf(x)==-1)if(G%4!=0)G+=4-G%4;v.Fm(p,d-4,G);if(x!="luni"&&x!="TySh")if(G%4!=0)G+=4-G%4;d+=G}return d};
t$.Wp=function(p){for(var d=0;d<QG.order.length;d++){var K=QG.order[d],A=QG.mV[d];if(p[A]==null)p[A]={t:"VlLs",v:[]};
if(p[K]!=null){p[A].v.push(p[K]);delete p[K]}var x=[];for(var M=0;M<p[A].v.length;M++){var G=p[A].v[M];
if(G.v.present==null||G.v.present.v==!0)x.push(G)}p[A].v=x}};t$.mu=function(p){for(var d=0;d<QG.order.length;
d++){var K=QG.order[d],A=QG.mV[d],x=p[A].v.length;if(x==0){delete p[A];continue}if(x==1){p[K]=p[A].v[0];
delete p[A];continue}}};t$.mH=function(p,d){if(d=="GdFl"){if(p.Angl==null)p.Angl={v:{type:"#Ang",val:0},t:"UntF"};
if(p.Algn==null)p.Algn={v:!0,t:"bool"};if(p.Scl==null)p.Scl={v:{type:"#Prc",val:100},t:"UntF"};if(p.Ofst==null)p.Ofst={v:{classID:"Pnt",Hrzn:{v:{type:"#Prc",val:0},t:"UntF"},Vrtc:{v:{type:"#Prc",val:0},t:"UntF"}},t:"Objc"};
if(p.Rvrs==null)p.Rvrs={v:!1,t:"bool"};if(p.Dthr==null)p.Dthr={v:!1,t:"bool"}}if(d=="PtFl"){if(p.Algn==null)p.Algn={v:!0,t:"bool"};
if(p.Scl==null)p.Scl={v:{type:"#Prc",val:100},t:"UntF"};if(p.phase==null)p.phase={v:{classID:"Pnt",Hrzn:{v:0,t:"doub"},Vrtc:{v:0,t:"doub"}},t:"Objc"}}};
t$.clone=function(p,d){var K={};if(p=="TySh"){K.u=d.u.clone();K.iD=JSON.parse(JSON.stringify(d.iD));
K._u=JSON.parse(JSON.stringify(d._u));K.MB=d.MB.clone();K.Nf=JSON.parse(JSON.stringify(d.Nf));if(d.add)K.add={vmsk:d.add.vmsk.clone(),vogk:JSON.parse(JSON.stringify(d.add.vogk))};
return K}else if(p=="fxrp")return d.clone();else if(p=="vmsk")return d.clone();else return JSON.parse(JSON.stringify(d))};
function Ga(p,d){}Ga.RL=function(p,d,K,A){A=Ga.eHw(p,d,K,A);return A};Ga.cF=function(p,d,K,A,x){A=Ga.eHW(p,d,K,A,x);
return A};Ga.eHw=function(p,d,K,A){var x=A;p.rect=v.rq(K,A);A+=16;var M=v.OW(K,A);A+=2;p.EO=[];var G=d.ke;
for(var D=0;D<M;D++){p.EO[D]={id:v.ZW(K,A),length:(G?v.lY:v.X)(K,A+2)};A+=G?10:6}var P=v.Ms(K,A,4);A+=4;
if(P!="8BIM"){console.log("Invalid Blend mode signature: "+P);alert("Error in Photoshop file: wrong signature.");
throw"e"}p.yk=v.Ms(K,A,4);A+=4;p.opacity=K[A];A+=1;p.wr=K[A]==1;A+=1;p.Wm=K[A];A+=1;if(K[A]!=0)console.log("error in filler!");
A+=1;var a=v.X(K,A);A+=4;var e=A;A=Ga.eHd(p,K,A);A=Ga.eHT(p,K,A);var f=v.Ij(K,A);p.name=f.NT;A+=f.length;
if(f.length%4!=0)A+=4-f.length%4;A=t$.Ey(K,A,e+a,p.add,G,d);if(p.JI){var N=p.JI;if(p.gW()){p.gW().HW=N[0];
p.gW().EU=N[1]}if(p.add.vmsk){p.add.vmsk.HW=N[2];p.add.vmsk.EU=N[3]}}if(p.add.lsct){if(p.add.lsct.yk)p.yk=p.add.lsct.yk;
p.add.lsct=p.add.lsct.type}return A};Ga.eHW=function(p,d,K,A,x){var M=A;v.jj(K,A,p.rect);A+=16;var G=p.eSN();
v.rC(K,A,G.length);A+=2;x.push(A);for(var D=0;D<G.length;D++){v.WW(K,A,G[D]);v.Zo(K,A+2,0);A+=6}v.KL(K,A,"8BIM");
A+=4;v.KL(K,A,p.yk);A+=4;v.hS(K,A,p.opacity,1);A+=1;v.hS(K,A,p.wr?1:0,1);A+=1;v.hS(K,A,p.Wm,1);A+=1;
v.hS(K,A,0,1);A+=1;var P=A;v.Zo(K,A,0);A+=4;var a=A;A=Ga.eHj(p,K,A);A=Ga.evI(p,K,A);var e=v.Gk(K,A,p.name.slice(0,255));
A+=e;if(e%4!=0)A+=4-e%4;if(p.add.lsct){p.add.lsct={type:p.add.lsct};if(p.yk=="pass"){p.add.lsct.yk="pass";
p.yk="norm"}}if(p.yk=="pass")p.add.lsct={type:p.add.lsct,yk:"pass"};if(p.add.brit)p.add.CgEd=p.add.brit;
A=t$.wO(K,A,p.add,d);delete p.add.CgEd;if(p.add.lsct){if(p.add.lsct.yk)p.yk=p.add.lsct.yk;p.add.lsct=p.add.lsct.type}var f=A-a;
v.Zo(K,P,f);return A};Ga.eHd=function(p,d,K){var A=v.X(d,K);K+=4;if(A==0)return K;var x=K;p.g=new V.dK;
p.g.rect=v.rq(d,K);K+=16;p.g.color=d[K];K+=1;var M=Ga.wH(p.g,d,K);K+=1;if(M){var G=!1,P=255,a=0,e=255,f=0;
for(var D=0;D<p.EO.length;D++)if(p.EO[D].id==-3)G=!0;if(G){p.Eb=Ga.wK(d,K);K+=18}var N=K,Y=d[K];K++;
if(Y>>0&1){P=d[K];K++}if(Y>>1&1){a=v.Ut(d,K);K+=8}if(Y>>2&1){e=d[K];K++}if(Y>>3&1){f=v.Ut(d,K);K+=8}if((K-N&1)==1)K++;
p.JI=[P,a,e,f]}else{if(A==20)K+=2;else{p.Eb=Ga.wK(d,K);K+=18}}return x+A};Ga.eHj=function(p,d,K){v.Zo(d,K,0);
K+=4;if(p.g==null)return K;var A=K,x=!0;v.Zo(d,K,0);v.jj(d,K,p.g.rect);K+=16;v.hS(d,K,p.g.color);K+=1;
Ga.wZ(p.g,d,K,x);K+=1;if(x){if(p.Eb){Ga.eHf(d,K,p.Eb);K+=18}v.hS(d,K,15);K+=1;var M=p.gW(),G=p.add.vmsk;
v.hS(d,K,M?M.HW:255);K+=1;v.YU(d,K,M?M.EU:0);K+=8;v.hS(d,K,G?G.HW:255);K+=1;v.YU(d,K,G?G.EU:0);K+=8;
K++;v.Zo(d,A-4,K-A)}return K};Ga.wK=function(p,d){var K=new V.dK;Ga.wH(K,p,d);d+=1;K.color=p[d];d+=1;
K.rect=v.rq(p,d);d+=16;return K};Ga.eHf=function(p,d,K){Ga.wZ(K,p,d,!1);d+=1;v.hS(p,d,K.color);d+=1;
v.jj(p,d,K.rect);d+=16};Ga.wH=function(p,d,K){var A=d[K];p.LQ=(A>>0&1)==0;p.isEnabled=(A>>1&1)==0;p.pi=(A>>3&1)==1;
return A>>4&1};Ga.wZ=function(p,d,K,A){var x=0;if(!p.LQ)x+=1<<0;if(!p.isEnabled)x+=1<<1;if(p.pi)x+=1<<3;
if(A)x+=1<<4;v.hS(d,K,x)};Ga.eHT=function(p,d,K){var A=v.X(d,K);K+=4;if(A==0)return K;if(A!=5*8)console.log("unexpected Layer Blending Ranges content, size:",A);
for(var x=0;x<A;x++)p.e_[x]=d[K+x];return K+40};Ga.evI=function(p,d,K){v.Zo(d,K,p.e_.length);K+=4;d.hu(K,40);
for(var A=0;A<40;A++){d.data[K+A]=p.e_[A]}return K+40};function eH(){}eH.RL=function(p,d,K,A){A=eH.evg(d.ke,d.jC,d.EK,p,K,A);
return A};eH.fK=function(p,d,K,A,x){K=eH.evY(p,d,K,A,x);return K};eH.evg=function(p,d,K,A,x,M){var G=A.EO,D={},P=M;
for(var a=0;a<G.length;a++){var e=G[a],f=e.id,N=e.length,Y;if(f==-3)Y=A.Eb.rect;else if(f==-2)Y=A.g.rect;
else Y=A.rect;var l=eH.mv(p,d,x,Y.t,Y.D,M,N);M+=N;if(f==-3)A.Eb.channel=l;else if(f==-2)A.g.channel=l;
else D["c"+f]=l}var h=new Z.dY(0);h.V=null;if(K==3){h.N=D.c0;h.w=D.c1;h.M=D.c2;h.V=D["c-1"]}else if(K==1){h.N=D.c0;
h.w=D.c0;h.M=D.c0;h.V=D["c-1"]}else if(K==4){var s=D.c0,J=D.c1,u=D.c2,Q=D.c3,W=s.length,q=1/255;for(var a=0;
a<W;a++){var H=s[a],C=J[a],k=u[a],i=Q[a]*q;s[a]=Math.round(H*i);J[a]=Math.round((.2*H+.8*C)*i);u[a]=Math.round((.2*C+.8*k)*i)}h.N=s;
h.w=J;h.M=u;h.V=D["c-1"];console.log("converting from CMYK to RGB")}if(h.N==null)h.N=Z.p(0);if(h.V==null&&h.N!=null){h.V=Z.clone(h.N);
Z.set(h.V,255)}if(h.w==null)h.w=h.N.slice(0);if(h.M==null)h.M=h.N.slice(0);A.buffer=Z.p(Math.max(0,A.rect.r()*4));
Z.AR(h,A.buffer);return M};eH.evY=function(p,d,K,A,x){var M=p.eSN(),G=new Z.dY(p.rect.r());Z.ul(p.buffer,G);
for(var D=0;D<M.length;D++){var P=M[D],a,e;if(P==-3)a=p.Eb.rect;else if(P==-2)a=p.g.rect;else a=p.rect;
if(P==-3)e=p.Eb.channel;if(P==-2)e=p.g.channel;if(P==-1)e=G.V;if(P==0)e=G.N;if(P==1)e=G.w;if(P==2)e=G.M;
d.hu(K,a.r()*3+4);var f=K;K=eH.mE(e,d.data,a.t,a.D,K,x[1]?3:1);var N=K-f;if(N%2!=0){N+=N%2;K++}v.wB(d.data,A+D*6+2,N)}return K};
eH.mv=function(p,d,K,A,x,M,G){var D=v.OW(K,M);M+=2;return eH.GV(p,d,K,A,x,M,D,G-2)};eH.mE=function(p,d,K,A,x,M){v.hf(d,x,M);
x+=2;x=eH.Wn(p,d,K,A,x,M);return x};eH.GV=function(p,d,K,A,x,M,G,D){var P,a=A*x*(d>>>3),e=a&3,f=a+(e==0?0:4-e);
if(G>3){console.log("unknown compression: "+G,A,x,A*x,D);G=0}if(G==0){if(M+f<=K.length)P=K.slice(M,M+f);
else{P=Z.p(a);for(var N=0;N<a;N++)P[N]=K[M+N]}M+=a}else if(G==1){P=Z.p(a);var Y=p?4:2,l=eH.wY(K,P,A,x,M,M+Y*x,Y);
M+=Y*x+l}else if(G==2||G==3){var h=new Uint8Array(K.buffer,M+2,D-6),s=pako.inflateRaw(h);if(G==3){if(d==8)for(var J=0;
J<x;J++){var u=J*A+1,Q=u+A-1,W=s[u-1];for(var q=u;q<Q;q++){W+=s[q];s[q]=W&255}}else for(var J=0;J<x;
J++){var u=J*A+1,Q=u+A-1,W=s[2*u-2]<<8|s[2*u-1];for(var q=u;q<Q;q++){var H=q<<1;W+=s[H]<<8|s[H+1];s[H]=W>>>8;
s[H+1]=W&255}}}if(s.length==f)P=s;else{P=Z.p(f);for(var N=0;N<s.length;N++)P[N]=s[N]}}if(d==16){var C=Z.p(A*x);
for(var N=0;N<a;N+=2)C[N>>>1]=P[N];P=C}return P};eH.Wn=function(p,d,K,A,x,M){var G=K*A;if(M==0)for(var D=0;
D<G;D++)d[x++]=p[D];else if(M==1){var P=eH.wX(p,d,K,A,x,x+2*A);x+=2*A+P}else if(M==2||M==3){if(M==3){var a=new Uint8Array(p.length);
for(var e=0;e<A;e++){var f=e*K+1,N=f+K-1,Y=p[f-1];a[f-1]=Y;for(var l=f;l<N;l++){a[l]=p[l]+(256-Y)&255;
Y=p[l]}}p=a}d[x]=120;d[x+1]=156;x+=2;var h=pako.deflateRaw(p,{eMj:4});v.Vh(d,x,h);x+=h.length+4}else console.log("Unknown compression: "+M);
return x};eH.wY=function(p,d,K,A,x,M,G){var D=M,P=A|0;if(G==2)for(var a=0;a<P;a++){var e=v.OW(p,x+(a<<1));
eH.mw(p,M,e,d,a*K,K);M+=e}else for(var a=0;a<P;a++){var e=v.X(p,x+(a<<2));eH.mw(p,M,e,d,a*K,K);M+=e}return M-D};
eH.wX=function(p,d,K,A,x,M){var G=M;for(var D=0;D<A;D++){var P=eH.eEB(p,D*K,K,d,M);v.so(d,x+D*2,P);M+=P}return M-G};
eH.eEB=function(p,d,K,A,x){var M,G,D,P,a,e,f;P=d+K;for(D=d,G=x;K>0;D=M,K-=e){f=K<128?K:128;if(D<=P-3&&p[D+1]==p[D+0]&&p[D+2]==p[D+0]){for(M=D+3;
M<D+f&&p[M]==p[D+0];)++M;e=M-D;A[G++]=1+256-e;A[G++]=p[D+0]}else{for(M=D;M<D+f;)if(M<=P-3&&p[M+1]==p[M+0]&&p[M+2]==p[M+0])break;
else++M;e=M-D;A[G++]=e-1;for(var N=0;N<e;N++)A[G+N]=p[D+N];G+=e}}return G-x};eH.mw=function(p,d,K,A,x,M){for(var G=0;
G<K;){var D=p[d++];if(D>=128){var P=p[d++],a=x+(257-D);A.fill(P,x,a);x=a;G+=2}else{var a=x+(1+D);while(x<a)A[x++]=p[d++];
G+=1+1+D}}};function Gs(){}Gs.RL=function(p,d){d.ke=!1;d.jC=8;var K=new Uint8Array(p),A=0,x=0,z,F=0,ei=!1,Qp=!0,QO=!1,QE=0;
x=Gs.mF(d,K,A);A=x;x=Gs.ewe(d,K,A);A=x;x=Gs.ewF(d,K,A);A=x;x=Gs.ewz(d,K,A);A=x;x=Gs.eVD(d,K,A);A=x;if(d.L.length==0){var M=d.sP();
M.Hv("Background");d.L.push(M);M.buffer=Z.clone(d.buffer);M.rect=new R(0,0,d.t,d.D)}if(d.QN.r1005){d.Bk=v.e$o(d.QN.r1005,0)}if(d.QN.r1026){var K=d.QN.r1026;
for(var G=0;G<K.length;G+=2){var x=d.L[G>>>1];if(x)x.yQ=v.OW(K,G)}}if(d.QN.r1032){var K=d.QN.r1032,D=v.X(K,12);
for(var G=0;G<D;G++){var P=K[16+G*5+4],a=v.gc(K,16+G*5)/32;d.tu[P].push(a)}}delete d.QN.r1036;delete d.QN.r1039;
if(d.QN.r1050){var e=v.X,f=d.QN.r1050,N=v.X(f,0);if(N==6){var Y=4,l=v.rq(f,Y);Y+=16;var h=v.lH(f,Y);
Y+=4+h.length*2;var s=e(f,Y);Y+=4;var J=d.ey;for(var G=0;G<s;G++){var u=r.GP.eMT(),W;J.push(u);u=u.v;
u.sliceID.v=e(f,Y);Y+=4;u.groupID.v=e(f,Y);Y+=4;var Q=e(f,Y);Y+=4;if(Q==1){W=e(f,Y);Y+=4}var h=v.lH(f,Y);
Y+=4+h.length*2;var q=e(f,Y);Y+=4;var H=[e(f,Y),e(f,Y+4),e(f,Y+8),e(f,Y+12)];Y+=16;r.GP.kM(J,J.length-1,H);
var C=u.url.v=v.lH(f,Y);Y+=4+C.length*2;var k=u.null.v=v.lH(f,Y);Y+=4+k.length*2;var i=u.Msge.v=v.lH(f,Y);
Y+=4+i.length*2;var m=u.altTag.v=v.lH(f,Y);Y+=4+m.length*2;u.cellTextIsHTML.v=f[Y]==1;Y++;var w=u.cellText.v=v.lH(f,Y);
Y+=4+w.length*2;var S=e(f,Y);Y+=4;var o=e(f,Y);Y+=4;var O=f.slice(Y,Y+4);Y+=4;if(Q!=2)J.pop()}}else if(N==8){var t={};
QX.eJ(f,t,8,!1);var f=d.ey=t.slices.v;for(var G=0;G<f.length;G++){if(f[G].v.origin.v.ESliceOrigin!="userGenerated"){f.splice(G,1);
G--}}}}if(d.QN.r1058){var c=d.QN.r1058,g=UTIF.decode(c.buffer,{parseMN:!1,debug:!1});eI.sf(g[0],d.ZD);
delete d.QN.r1058}if(d.QN.r1060){var j=v.Il(d.QN.r1060);eI.e$K(j,d.ZD);delete d.QN.r1060}if(d.QN.r1065){var K=d.QN.r1065;
d.LV={};QX.eJ(K,d.LV,4,!1)}if(d.QN.r1069){var K=d.QN.r1069,_=[];for(var G=2;G<K.length;G+=4){var W=v.X(K,G);
for(var U=0;U<d.L.length;U++){var x=d.L[U];if(x.add.lyid==W&&x.add.lsct!=3)_.push(U)}}d.Y=_}if(d.QN.r1025){var $=d.QN.r1025;
delete d.QN.r1025;var I=Pd.oy($,0,$.length,d.t,d.D),E=new V.mK;E.Z=I;d.uE[0]=QZ.zb("Working Path",{vmsk:E})}var b=d.add.pths;
delete d.add.pths;var QS=d.QN.r3000;if(QS){z={};QX.eJ(QS,z,4,!1);delete d.QN.r3000}for(var QQ=0;QQ<=997;
QQ++){var Qe="r"+(2e3+QQ),$=d.QN[Qe];if($==null)break;var I=Pd.oy($,0,$.length,d.t,d.D),QB=b?b.pathList.v[QQ].v.pathUnicodeName.v:"Path "+QQ,QU=z?z.keyRootDescriptorList.v[QQ].v.keyDescriptorList.v:V.oK(I),E=new V.mK;
E.Z=I;d.uE[QQ+1]=QZ.zb(QB,{vmsk:E,vogk:QU});delete d.QN[Qe]}delete d.ke;var Qt=new R(0,0,d.t,d.D),L=d.add.Txt2,Qu=L;
if(Qu){Qu=Qu.JR;if(Qu._DocumentResources==null)Qu=Mi.eFH(Qu)}if(L&&L.JR._DocumentResources!=null){var QK="_Type _FrameMatrix _TextOnPathTRange _PathData _FirstBaselineAlignment _LineOrientation _RowGutter _ColumnGutter".split(" "),Qm=L.JR._DocumentResources._TextFrameSet._Resources;
for(var G=0;G<Qm.length;G++){}}for(var G=0;G<d.L.length;G++){var x=d.L[G],Qi=x.add.lsct,QV=x.add.vmsk,Q$=x.gW();
if(Qi==ew.RX)QE++;else if(Qi==ew.rK||Qi==ew.Wy)QE--;if(x.name==""){x.name="Layer "+(G+1);QO=!0}if(QO&&x.Ba()&&x.yk=="norm")x.yk="pass";
if(x.fP()&&x.MT(d).g){var eS=x.MT(d);eS.g.isEnabled=x.add.SoLd.filterFX.v.filterMaskEnable.v}if(QV&&x.ti()){var Qs=QG.Wh.default;
if(x.add.vstk==null)x.add.vstk=JSON.parse(JSON.stringify(Qs));else{var Qw="strokeStyleLineDashSet";if(x.add.vstk[Qw]==null)x.add.vstk[Qw]=JSON.parse(JSON.stringify(Qs[Qw]))}}if(QV&&(x.add.vogk==null||Z.e.vB(QV.Z)!=x.add.vogk.length))x.oK();
if(Q$==null&&x.g!=null){if(x.g.pi==!1){x.g.pi=!0;x.Eb=x.g.clone()}else{QV.Eb=x.g;QV.dJ=!1;x.g.EU=QV.EU;
x.g.HW=QV.HW}}if(Q$!=null&&QV!=null&&(Q$.EU+QV.EU!=0||Q$.HW+QV.HW!=2*255))x.u_(d);var Q_=x.add.artb;
if(Q_&&Q_.artboardBackgroundType==null)Q_.artboardBackgroundType={t:"long",v:1};if(Q_&&QE!=0)delete x.add.artb;
var QN=x.add.vstk;if(x.ti()&&(x.rect.kQ()||QV&&QV.EU!=0||QN&&!QN.fillEnabled.v&&(!QN.strokeEnabled.v||QN.strokeStyleLineWidth.v.val==0)))x.NL(d);
if(x.add.TySh){ei=!0;if(!x.rect.kQ())Qp=!1}if(x.add.TySh&&Qu){var eK=x.add.TySh.Nf,Qz=QM.xa(eK),eQ=eK.EngineDict.ParagraphRun.RunArray,Qd=Qu._DocumentObjects._TextObjects;
if(Qd.length<=F){console.log("Txt2 incomplete");continue}Qd=Qd[F]._Model._ParagraphRun._RunArray;var Qj=Math.min(Qd.length,eQ.length);
for(var U=0;U<Qj;U++){var QD=eQ[U].ParagraphSheet.Properties,Qq=Qu._DocumentResources._ParagraphSheetSet._Resources,et=Qd[U]._RunData._ParagraphSheet;
if(typeof et=="string")et=Qq[parseInt(et.slice(1))]._Resource;var QC=et._Parent==null?et:Qq[parseInt(et._Parent.slice(1))]._Resource,Qf=et._Features._ParagraphDirection;
if(Qf==null)Qf=QC._Features._ParagraphDirection;if(Qf)QD._Direction=parseInt(Qf.slice(1))}var QA=Qu._DocumentResources,Qb=QA._TextFrameSet._Resources,MS=Qb[F]._Resource,QR=MS._Data,eG=new QI(1,0,0,1,0,0);
if(MS._0){var MG=parseFloat(MS._0[0].slice(1)),MM=parseFloat(MS._0[1].slice(1));eG.translate(MG,MM)}if(Qz){eG.translate(Qz[0],Qz[1]);
QM.wv(eK,[0,0,Qz[2]-Qz[0],Qz[3]-Qz[1]])}else{if(MS._Bezier&&MS._Bezier._Points){var I=MS._Bezier._Points,MG=parseFloat(I[0].slice(1)),MM=parseFloat(I[1].slice(1));
if(MG!=0||MM!=0){eG.translate(MG,MM)}}}if(MS._Data&&MS._Data._FrameMatrix){var MP=MS._Data._FrameMatrix;
MP=MP.map(function(Mw){return parseFloat(Mw.slice(1))});eG.concat(new QI(MP[0],MP[1],MP[2],MP[3],MP[4],MP[5]))}eG.concat(x.add.TySh.u);
x.add.TySh.u=eG;F++;var q=QR._Type?parseInt(QR._Type.slice(1)):0;if(q==2||q==1&&QR._PathData._Spacing=="i-3"){var Mu=function(Mw){return parseFloat(Mw.slice(1))},I=MS._Bezier._Points.map(Mu);
if(Qz)Z._.u(I,new QI(1,0,0,1,-Qz[0],-Qz[1]),I);var Mm=QR._PathData._Reversed;eK.Curve={Points:I,TextOnPathTRange:QR._TextOnPathTRange.map(Mu),Reversed:Mm==null?!1:Mm};
x.add.TySh.add={vmsk:new V.mK,vogk:null};QM._l(x.add.TySh)}}}Qv.om.wE(d,!0)};Gs.cF=function(p,d,K){Qv.om.JK(p);
Qv.om.wE(p,!1);var A=[],x=[],M=[],G=[],D=[],m=16,QQ=0;for(var P=0;P<p.L.length;P++){var a=p.L[P];if(a.fP()&&a.MT(p).g){a.add.SoLd.filterFX.v.filterMaskEnable.v=a.MT(p).g.isEnabled}if(a.add.SoLd){x.push(a.add.SoLd.Idnt.v);
M.push(a.add.SoLd.placed.v)}if(a.add.TySh){var e=a.add.TySh.Nf,f=QM.EE(e);a.add.TySh.iD.TextIndex={t:"long",v:A.length};
A.push(e);if(f==2)QM.Uy(a.add.TySh)}if(a.add.PtFl)G.push(a.add.PtFl.Ptrn.v.Idnt.v);if(a.add.lmfx){for(var N=0;
N<QG.mV.length;N++){var Y=a.add.lmfx[QG.mV[N]].v;for(var l=0;l<Y.length;l++)if(Y[l].v.Ptrn)G.push(Y[l].v.Ptrn.v.Idnt.v)}}var h=a.add.vstk;
if(h&&h.strokeStyleContent.v.classID=="patternLayer"){G.push(h.strokeStyleContent.v.Ptrn.v.Idnt.v)}if(a.ti()){D[P]=[a.rect,a.buffer];
a.rect=new R;a.buffer=Z.p(0)}}if(A.length>0){var s=p.add.Txt2?p.add.Txt2.JR:null;p.add.Txt2={};p.add.Txt2.JR=MV.ect(A,null,s)}var J=p.add.lnk2;
if(J){var u=p.add.lnk2=[];for(var P=0;P<J.length;P++)if(x.indexOf(J[P].Ak)!=-1)u.push(J[P]);if(u.length==0)delete p.add.lnk2}var Q=p.add.FEid;
if(Q){var W=p.add.FEid=[];for(var P=0;P<Q.length;P++)if(M.indexOf(Q[P].id)!=-1)W.push(Q[P]);if(W.length==0)delete p.add.FEid}var q=p.add.Patt;
if(q){var H=p.add.Patt=[];for(var P=0;P<q.length;P++)if(G.indexOf(q[P].id)!=-1)H.push(q[P])}p.QN.r1005=new Uint8Array([0,0,0,0,0,1,0,2,0,0,0,0,0,1,0,2]);
v.VI(p.QN.r1005,0,p.Bk);v.VI(p.QN.r1005,8,p.Bk);if(p.Eu()){p.QN.r1022=new Uint8Array([0,3+p.$O.length-1,0])}else delete p.QN.r1022;
p.QN.r1026=new Uint8Array(p.L.length*2);for(var P=0;P<p.L.length;P++)v.so(p.QN.r1026,P*2,p.L[P].yQ);
var C=p.tu,k=C[0].length+C[1].length,i=p.QN.r1032=Z.p(16+5*k,!0);v.wB(i,0,1);v.wB(i,4,576);v.wB(i,8,576);
v.wB(i,12,k);for(var P=0;P<2;P++)for(var l=0;l<C[P].length;l++){v.Nb(i,m,Math.round(C[P][l]*32));i[m+4]=P;
m+=5}delete p.QN.r1045;delete p.QN.r1006;delete p.QN.r1077;var w=new pO;m=0;var S=new Uint8Array(4+(1+p.$O.length)*13);
S[3]=1;S[6]=S[7]=255;S[15]=100;S[16]=1;for(var P=0;P<1+p.$O.length;P++){var o=p.$O[P-(P==0?0:1)],O=(P==0?"Transparency":o.name)+"\0";
v.WQ(w,m,O);m+=4+O.length*2;if(P!=0){var t=4+P*13;nE.Gu(S,t,o.es);S[t+11]=o.Eo;S[t+12]=o.Rd}}p.QN.r1045=w.data.slice(0,m);
p.QN.r1077=S;for(var P=0;P<p.ey.length;P++)p.ey[p.ey.length-P-1].v.sliceID.v=2+P*3;var c={classID:"null",baseName:{t:"TEXT",v:"User"},bounds:{t:"Objc",v:{classID:"Rct1",Top:{t:"long",v:0},Left:{t:"long",v:0},Btom:{t:"long",v:0},Rght:{t:"long",v:0}}},slices:{t:"VlLs",v:p.ey}},w=new pO;
v.Zo(w,0,8);v.Zo(w,4,16);var g=QX.iN(w,c,8);p.QN.r1050=w.data.slice(0,g+8);var w=new pO;v.Zo(w,0,16);
var g=QX.iN(w,p.LV,4);p.QN.r1065=w.data.slice(0,g+4);var j=p.Y;i=p.QN.r1069=Z.p(2+j.length*4,!0);v.so(i,0,j.length);
for(var P=0;P<j.length;P++)v.wB(i,2+4*P,p.L[j[P]].add.lyid);delete p.QN.r1058;delete p.QN.r1060;if(Object.keys(p.ZD).length!=0){var _=[{t274:[1],t282:[[72,1]],t283:[[72,1]],t296:[2]},{t259:[6],t282:[[72,1]],t283:[[72,1]],t296:[2],t513:[302],t514:[0]}];
eI.FD(p.ZD,_[0]);p.QN.r1058=new Uint8Array(UTIF.encode(_));var U=eI.e__(p.ZD);p.QN.r1060=v.GZ(U)}var $=[],I=[];
for(var P=0;P<p.uE.length;P++){var E=p.uE[P],b=E.add.vmsk.Z;if(P==0&&b.length==2)continue;var z=Z.p(b.length*26);
Pd.mn(z,0,b,p.t,p.D);var QS=P==0?1025:2e3+P-1;p.QN["r"+QS]=z;if(P!=0){$.push({t:"Objc",v:{classID:"pathInfoClass",pathUnicodeName:{t:"TEXT",v:E.name}}});
I.push({t:"Objc",v:{classID:"null",keyDescriptorList:{t:"VlLs",v:E.add.vogk}}})}}if($.length!=0){p.add.pths={classID:"pathsDataClass",pathList:{t:"VlLs",v:$}};
I={classID:"null",keyRootDescriptorList:{t:"VlLs",v:I}};var w=new pO;v.Zo(w,0,16);var g=QX.iN(w,I,4);
p.QN.r3000=w.data.slice(0,g+4)}else{delete p.add.pths;delete p.QN.r3000}QQ=Gs.eEv(p,d,QQ);QQ=Gs.ewu(p,d,QQ);
QQ=Gs.ewI(p,d,QQ);QQ=Gs.ewi(p,d,QQ,K);QQ=Gs.eVA(p,d,QQ,K[0]);var Qe=[1025,2e3,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012,2013,2014,2015,2016];
for(var P=0;P<Qe.length;P++)delete p.QN["r"+Qe[P]];for(var P=0;P<p.L.length;P++){var a=p.L[P];if(a.ti()){a.rect=D[P][0];
a.buffer=D[P][1]}}if(J)p.add.lnk2=J;if(Q)p.add.FEid=Q;if(q)p.add.Patt=q;Qv.om.wE(p,!0);return QQ};Gs.mF=function(p,d,K){var A=v.Ms(d,K,4);
K+=4;if(A!="8BPS")alert("invalid header signature: "+A);var x=v.OW(d,K);K+=2;p.ke=x==2;if(x!=1&&x!=2)alert("invalid version: "+x);
K+=6;p.Ej=v.OW(d,K);K+=2;p.D=v.gc(d,K);K+=4;p.t=v.gc(d,K);K+=4;p.jC=v.OW(d,K);K+=2;p.EK=v.OW(d,K);K+=2;
return K};Gs.eEv=function(p,d,K){d.hu(0,64);v.ci(d.data,K,"8BPS");K+=4;v.so(d.data,K,1);K+=2;v.wB(d.data,K,0);
K+=4;v.so(d.data,K,0);K+=2;v.so(d.data,K,4+p.$O.length);K+=2;v.Nb(d.data,K,p.D);K+=4;v.Nb(d.data,K,p.t);
K+=4;v.so(d.data,K,8);K+=2;v.so(d.data,K,3);K+=2;return K};Gs.ewe=function(p,d,K){var A=v.gc(d,K);K+=4;
if(A!=0)p.jg=d.slice(K,K+A);K+=A;return K};Gs.ewu=function(p,d,K){v.Fm(d,K,0);K+=4;return K};Gs.ewF=function(p,d,K){var A=v.X(d,K),x=0;
K+=4;var M=[];while(x<A){var G=v.Ms(d,K+x,4);x+=4;var D=v.OW(d,K+x);x+=2;var P=v.Ij(d,K+x);x+=P.length;
if(G!="8BIM"){M.push(D);console.log("Unknown Image Resources signature: "+G+", ID: "+D)}var a=v.X(d,K+x);
x+=4;if(p.QN["r"+D]!=null)console.log("--- two resources with same ID");p.QN["r"+D]=v.Ru(d,K+x,a);x+=a+(a&1)}for(var e=0;
e<M.length;e++)delete p.QN["r"+M[e]];if(p.zz()==null)p.OX(30);return K+A};Gs.ewI=function(p,d,K){var A=K,x=0;
K+=4;for(var M in p.QN){v.KL(d,K+x,"8BIM");x+=4;var G=parseInt(M.substring(1));v.rC(d,K+x,G);x+=2;var D=v.Gk(d,K+x,"");
x+=D;var P=p.QN["r"+G],a=P.length;v.Zo(d,K+x,a);x+=4;v.RH(d,K+x,P);x+=a;if(a%2==1)x++}v.Zo(d,A,x);return K+x};
Gs.ewz=function(p,d,K){var A=K,x,M=p.ke?8:4;if(p.ke)x=v.lY(d,K);else x=v.X(d,K);K+=M;if(x==0)return A+M;
K=Gs.ewo(p,d,K);K=Gs.eVw(p,d,K);K=t$.Ey(d,K,A+M+x,p.add,p.ke,p);return A+M+x};Gs.ewi=function(p,d,K,A){var x=K;
v.Zo(d,K,0);K+=4;K=Gs.ewf(p,d,K,A);K=Gs.eV$(p,d,K);K=t$.wO(d,K,p.add,p);v.Zo(d,x,K-x-4);return K};Gs.ewo=function(p,d,K){var A,x=p.ke?8:4;
if(p.ke)A=v.lY(d,K);else A=v.X(d,K);K+=x;if(A!=0)Gs._j(p,d,K);return K+A};Gs._j=function(p,d,K){var A=v.ZW(d,K);
K+=2;var x=Math.abs(A);for(var M=0;M<x;M++){var G=new V;K=Ga.RL(G,p,d,K);p.L[M]=G}var D=new R(0,0,p.t,p.D);
for(var M=0;M<x;M++){var P=p.L[M];K=eH.RL(P,p,d,K);var a=P.rect.r(),e=P.rect.pk(D),f=e.r()/a;if(a>2e3*3e3&&f<.5){var N=Z.p(e.r()*4);
Z.PE(P.buffer,P.rect,N,e);P.buffer=N;P.rect=e;alert("Removing hidden parts of layers")}}};Gs.ewf=function(p,d,K,A){var x=K;
v.Zo(d,K,0);K+=4;var M=p.L.length;v.rC(d,K,-M);K+=2;var G=[];for(var D=0;D<M;D++)K=Ga.cF(p.L[D],p,d,K,G);
for(var D=0;D<M;D++)K=eH.fK(p.L[D],d,K,G[D],A);var P=K-x-4;if(P%2!=0)P++;v.Zo(d,x,P);return x+P+4};Gs.eVw=function(p,d,K){var A=v.X(d,K);
K+=4;K+=A;return K};Gs.eV$=function(p,d,K){var A=v.Zo(d,K,0);K+=4;return K};Gs.eVD=function(p,d,K){var A=p.EK,x="Bitmap Grayscale Indexed RGB CMYK Multichannel Duotone Lab".split(" "),M=[1,1,1,3,4,1,1,3],G,h;
if(A!=3){if(A==1||A==2||A==4)alert("Project will be converted from "+x[A]+" to "+x[3]+" mode.");else{alert("Color mode "+x[A]+" is not supported yet :(")}}if(p.QN.r1045){G=[];
var D=p.QN.r1045,P=0;while(P<D.length){var a=v.sN(D,P);G.push(a);P+=4+2+a.length*2}}var e=M[A]+(G==null||G[0]=="Transparency"?1:0),f=p.t,N=p.D,Y=f*N,l=v.OW(d,K);
K+=2;p.buffer=Z.p(Y*4);Z.Pk(p.buffer,4278190080);var s=K;for(var J=0;J<p.Ej;J++){if(l==0){h=eH.GV(p.ke,p.jC,d,f,N,K,l);
K+=Y*(p.jC>>>3)}else if(l==1){h=Z.p(Y);var u=p.ke?4:2;if(J==0)K+=p.Ej*N*u;K+=eH.wY(d,h,f,N,s+J*N*u,K,u)}else{console.log("unknown compression of image data: ",l);
return}if(J<e){Z.qF(h,p.buffer,J);if(p.Ej==1&&J==0){Z.qF(h,p.buffer,1);Z.qF(h,p.buffer,2)}}else{var Q=new V.dK,W=J-e,q=J-M[p.EK];
Q.name=G?G[q]:"Alpha";if(Q.name=="Quick Mask"){Q.hW=!0;p.Mv.push(W)}Q.rect=new R(0,0,f,N);Q.channel=h;
Q.color=0;Q.bB();p.$O[W]=Q;if(p.QN.r1077){var D=p.QN.r1077.slice(4+q*13);Q.es=nE.rM(D,0);Q.Eo=D[11];
Q.Rd=D[12];if(Q.Rd==2)Q.hW=!0}}}p.Ej=4;if(p.EK==2)for(var H=0;H<Y;H++){var C=H*4,k=p.buffer[C];p.buffer[C]=p.jg[0+k];
p.buffer[C+1]=p.jg[256+k];p.buffer[C+2]=p.jg[512+k]}return K};Gs.eVA=function(p,d,K,A){var x=1,M=16,G=p.t,D=p.D,a,e;
v.rC(d,K,x);K+=2;var P=G*D;if(!A){e=new Z.dY(G*D);Z.ul(p.buffer,e);var f=e.N,N=e.w,Y=e.M,l=e.V;for(var h=0;
h<P;h++){var s=l[h]*(1/255);f[h]=~~(f[h]*s+255*(1-s));N[h]=~~(N[h]*s+255*(1-s));Y[h]=~~(Y[h]*s+255*(1-s))}}else a=Z.p(P);
var J=[a,a,a,a];if(!A)J=[e.N,e.w,e.M,e.V];for(var h=0;h<p.$O.length;h++){J.push(p.$O[h].eI(new R(0,0,p.t,p.D)))}var u=K;
for(var Q=0;Q<J.length;Q++){d.hu(K,G*D+4);a=J[Q];if(x==0||x==2||x==3)K=eH.Wn(a,d.data,G,D,K,x);else{if(Q==0)K+=J.length*D*2;
var W=K;K+=eH.wX(a,d.data,G,D,u+Q*D*2,K)}}return K};function GV(){}GV.RL=function(p){var d={};GV.WK(p,d,0,0);
return d};GV.cF=function(p,d){var K=0;K=GV.Wa(p,d,K,0);return K};GV.WK=function(p,d,K,A){while(p[K]!="<".charCodeAt(0))K++;
K+=2;while(!0){if(p[K]=="/".charCodeAt(0)){K++;var x=v.indexOf(p," ".charCodeAt(0),K,K+50),M=v.indexOf(p,"\n".charCodeAt(0),K,K+50);
if(M==-1)M=Infinity;if(x==-1)x=Infinity;var G=Math.min(M,x),D=v.Ms(p,K,G-K),P=GV.GL(p,G+1,A+1,D);d[D]=P.S;
K=G+1;K+=P.size}else if(p[K]==">".charCodeAt(0)){K+=2;break}else{var a=p[K];if(a==10||a==9||a==32)K++;
else{console.log("unknown byte: "+a+", char: "+String.fromCharCode(a),K);K++}}}return K};GV.Wa=function(p,d,K,A){v.KL(d,K,"<<\n");
K+=3;var x=GV.eVN;for(var M in p){v.hS(d,K,"\t".charCodeAt(0),A+1);K+=A+1;v.KL(d,K,"/"+M);K+=1+M.length;
if(x(p[M])||p[M]instanceof Array){v.KL(d,K," ");K++}else{v.KL(d,K,"\n");K++;v.hS(d,K,"\t".charCodeAt(0),A+1);
K+=A+1}K=GV.GD(p[M],d,K,A+1);v.KL(d,K,"\n");K++}v.hS(d,K,"\t".charCodeAt(0),A);K+=A;v.KL(d,K,">>");K+=2;
return K};GV.GL=function(p,d,K,A){var x=d,M={size:0,S:0};while(!0){while(p[d]==" ".charCodeAt(0)||p[d]=="\t".charCodeAt(0)||p[d]=="\n".charCodeAt(0))d++;
if(p[d]=="<".charCodeAt(0)){M.S={};d=GV.WK(p,M.S,d,K+1);break}else if(p[d]=="(".charCodeAt(0)){d+=3;
var G=d;while(!0){if(p[G-1]!="\\".charCodeAt(0)&&p[G]==")".charCodeAt(0)&&(p[G+1]=="\n".charCodeAt(0)||p[G+1]==" ".charCodeAt(0)))break;
else G++}M.S=v.Vu(p,d,G);d=G+2;break}else if(p[d]=="[".charCodeAt(0)){d++;M.S=[];while(p[d]==" ".charCodeAt(0)||p[d]=="\t".charCodeAt(0)||p[d]=="\n".charCodeAt(0))d++;
while(p[d]!="]".charCodeAt(0)){var D=GV.GL(p,d,K+1,A);M.S.push(D.S);d+=D.size;while(p[d]==" ".charCodeAt(0)||p[d]=="\t".charCodeAt(0)||p[d]=="\n".charCodeAt(0))d++}d++;
break}else{var P=v.indexOf(p," ".charCodeAt(0),d,d+50),a=v.indexOf(p,"\n".charCodeAt(0),d,d+50);if(a==-1)a=Infinity;
if(P==-1)P=Infinity;var e=v.Ms(p,d,Math.min(P,a)-d).trim(),f=parseFloat(e);if(!isNaN(f)){M.S=parseFloat(e);
d=Math.min(P,a)+1;break}else if(e=="true"||e=="false"){M.S=e=="true";d=Math.min(P,a)+1;break}else if(e=="null"){M.S=0;
d=Math.min(P,a)+1;break}else{console.log("unknown identifier: "+e);throw"e"}d=Math.min(P,a)+1}}M.size=d-x;
return M};GV.GD=function(p,d,K,A){if(p instanceof Array){var x=p.length==0||typeof p[0]=="number";if(x){v.KL(d,K,"[ ");
K+=2;for(var M=0;M<p.length;M++){var G=p[M]+" ";v.KL(d,K,G);K+=G.length}v.KL(d,K,"]");K+=1}else{v.KL(d,K,"[\n");
K+=2;for(var M=0;M<p.length;M++){v.hS(d,K,"\t".charCodeAt(0),A);K+=A;K=GV.GD(p[M],d,K,A);v.KL(d,K,"\n");
K++}v.hS(d,K,"\t".charCodeAt(0),A);K+=A;v.KL(d,K,"]");K+=1}}else if(p instanceof Object){K=GV.Wa(p,d,K,A)}else if(typeof p=="string"){v.KL(d,K,"(");
K++;v.hS(d,K,254);K++;v.hS(d,K,255);K++;K=v.Vw(d,K,p);v.KL(d,K,")");K+=1}else{var G=p+"";v.KL(d,K,G);
K+=G.length}return K};GV.eVN=function(p){var d=typeof p;return d=="string"||d=="number"||d=="boolean"};
function pG(){}pG.RL=function(p){var d={};pG.VO(p,d,0,0);return d};pG.cF=function(p,d){var K=0;v.KL(d,K," ");
K++;K=pG.VU(p,d,K,0);K--;d.hu(K,2);d.data[K]=d.data[K+1]=0;K+=2;return K};pG.WK=function(p,d,K,A){while(p[K]!="<".charCodeAt(0)){K++;
console.log("\u0161ipka")}K+=2;K=pG.VO(p,d,K,A);return K};pG.Wa=function(p,d,K,A){v.KL(d,K,"<< ");K+=3;
K=pG.VU(p,d,K,A);v.KL(d,K,">>");K+=2;return K};pG.In=function(p){return p==9||p==10||p==32};pG.VO=function(p,d,K,A){while(!0){while(pG.In(p[K])||p[K]==0)K++;
if(K>=p.length)break;if(p[K]=="/".charCodeAt(0)){K++;var x=K;while(!pG.In(p[x]))x++;var M=v.Ms(p,K,x-K);
K=x+1;var G=pG.GL(p,K,A,M);d["_"+M]=G.S;K+=G.size}else if(p[K]==">".charCodeAt(0)){K+=2;break}else{var D=p[K];
console.log(v.Ms(p,K,K+100));console.log("unknown byte: "+D+", char: "+String.fromCharCode(D)+", offset: "+K);
K++;throw"e";return-1}}return K};pG.VU=function(p,d,K,A){for(var x in p){var M=x.substring(1,x.length);
v.KL(d,K,"/"+M);K+=1+M.length;v.KL(d,K," ");K++;K=pG.GD(p[x],d,K,A+1);v.KL(d,K," ");K++}return K};pG.GL=function(p,d,K,A){var x=d,M={type:"",size:0,S:0};
while(pG.In(p[d]))d++;if(p[d]=="<".charCodeAt(0)){M.type="Object";M.S={};d=pG.WK(p,M.S,d,K+1)}else if(p[d]=="(".charCodeAt(0)){M.type="String";
d++;if(p[d]==")".charCodeAt(0)){M.S="s";d++}else{d+=2;var G=d,M$=0;while(!0){if(p[G]==")".charCodeAt(0)&&p[G-1]!="\\".charCodeAt(0))break;
else G+=1}M.S="s"+v.Vu(p,d,G);d=G+2}}else if(p[d]=="[".charCodeAt(0)){d++;M.S=[];M.type="Array";while(pG.In(p[d]))d++;
while(p[d]!="]".charCodeAt(0)){var D=pG.GL(p,d,K+1,A);if(D==-1)return-1;M.S.push(D.S);d+=D.size;delete D.size;
while(pG.In(p[d]))d++}d++}else{var P=d;while(!pG.In(p[P]))P++;var a=v.Ms(p,d,P-d),e=parseFloat(a);if(!isNaN(e)&&a.indexOf(".")!=-1){M.type="Float";
var f=parseFloat(a);M.S="f"+f}else if(!isNaN(e)&&a.indexOf(".")==-1){M.type="Integer";M.S="i"+parseInt(a)}else if(a=="true"||a=="false"){M.type="Boolean";
M.S=a=="true"}else if(a.charAt(0)=="/"){M.type="BString";M.S=a}else{console.log("unknown value",JSON.stringify(a));
throw"e"}d=P+1}M.size=d-x;return M};pG.eVX=function(p){if(p==Math.round(p))return p+".0";var d=p.toFixed(5);
if(0<p&&p<1)d=d.substring(1,d.length);if(-1<p&&p<0)d="-"+d.substring(2,d.length);return d};pG.GD=function(p,d,K,A){var x=typeof p=="string"?p.charAt(0):"";
if(p instanceof Array){v.KL(d,K,"[ ");K+=2;for(var M=0;M<p.length;M++){K=pG.GD(p[M],d,K,A);v.KL(d,K," ");
K++}v.KL(d,K,"]");K+=1}else if(p instanceof Object){K=pG.Wa(p,d,K,A)}else if(x=="s"){v.KL(d,K,"(");K++;
v.hS(d,K,254);K++;v.hS(d,K,255);K++;K=v.Vw(d,K,p.substring(1));v.KL(d,K,")");K++}else if(x=="/"){v.KL(d,K,p);
K+=p.length}else if(x=="f"){var G=parseFloat(p.substring(1)),D=pG.eVX(G);v.KL(d,K,D);K+=D.length}else if(x=="i"){v.KL(d,K,p.substring(1));
K+=p.length-1}else{var D=p+"";v.KL(d,K,D);K+=D.length}return K};function QP(p,d){if(!p)p=0;if(!d)d=0;
this.x=p;this.y=d}QP.prototype.add=function(p){return new QP(this.x+p.x,this.y+p.y)};QP.prototype.clone=function(){return new QP(this.x,this.y)};
QP.prototype.Yl=function(p){this.x=p.x;this.y=p.y};QP.prototype.GR=function(p){return this.x==p.x&&this.y==p.y};
QP.prototype.normalize=function(p){var d=Math.sqrt(this.x*this.x+this.y*this.y);this.x*=p/d;this.y*=p/d};
QP.prototype.offset=function(p,d){this.x+=p;this.y+=d};QP.prototype.pf=function(p,d){this.x=p;this.y=d};
QP.prototype.TS=function(p){return new QP(this.x-p.x,this.y-p.y)};QP.gG=function(p,d){return QP.ecn(p.x,p.y,d.x,d.y)};
QP.Us=function(p,d,K){return new QP(p.x+K*(d.x-p.x),p.y+K*(d.y-p.y))};QP.eVy=function(p,d){return new QP(p*Math.cos(d),p*Math.sin(d))};
QP.ecn=function(p,d,K,A){return Math.sqrt((K-p)*(K-p)+(A-d)*(A-d))};QP.mL={};QP.rm={};QP.mL.create=function(){var p=new Float32Array(4);
return p};QP.rm.create=function(p){var d=new Float32Array(16);d[0]=d[5]=d[10]=d[15]=1;if(p)QP.rm.set(p,d);
return d};QP.mL.add=function(p,d,K){K[0]=p[0]+d[0];K[1]=p[1]+d[1];K[2]=p[2]+d[2];K[3]=p[3]+d[3]};QP.mL.set=function(p,d){d[0]=p[0];
d[1]=p[1];d[2]=p[2];d[3]=p[3]};QP.rm.set=function(p,d){d[0]=p[0];d[1]=p[1];d[2]=p[2];d[3]=p[3];d[4]=p[4];
d[5]=p[5];d[6]=p[6];d[7]=p[7];d[8]=p[8];d[9]=p[9];d[10]=p[10];d[11]=p[11];d[12]=p[12];d[13]=p[13];d[14]=p[14];
d[15]=p[15]};QP.rm.multiply=function(p,d,K){var A=p[0],x=p[1],M=p[2],G=p[3],D=p[4],P=p[5],a=p[6],e=p[7],f=p[8],N=p[9],Y=p[10],l=p[11],h=p[12],s=p[13],J=p[14],u=p[15],Q=d[0],W=d[1],q=d[2],H=d[3];
K[0]=Q*A+W*D+q*f+H*h;K[1]=Q*x+W*P+q*N+H*s;K[2]=Q*M+W*a+q*Y+H*J;K[3]=Q*G+W*e+q*l+H*u;Q=d[4];W=d[5];q=d[6];
H=d[7];K[4]=Q*A+W*D+q*f+H*h;K[5]=Q*x+W*P+q*N+H*s;K[6]=Q*M+W*a+q*Y+H*J;K[7]=Q*G+W*e+q*l+H*u;Q=d[8];W=d[9];
q=d[10];H=d[11];K[8]=Q*A+W*D+q*f+H*h;K[9]=Q*x+W*P+q*N+H*s;K[10]=Q*M+W*a+q*Y+H*J;K[11]=Q*G+W*e+q*l+H*u;
Q=d[12];W=d[13];q=d[14];H=d[15];K[12]=Q*A+W*D+q*f+H*h;K[13]=Q*x+W*P+q*N+H*s;K[14]=Q*M+W*a+q*Y+H*J;K[15]=Q*G+W*e+q*l+H*u;
return K};QP.rm.inverse=function(p,d){var K=p[0],A=p[1],x=p[2],M=p[3],G=p[4],D=p[5],P=p[6],a=p[7],e=p[8],f=p[9],N=p[10],Y=p[11],l=p[12],h=p[13],s=p[14],J=p[15],u=K*D-A*G,Q=K*P-x*G,W=K*a-M*G,q=A*P-x*D,H=A*a-M*D,C=x*a-M*P,k=e*h-f*l,i=e*s-N*l,m=e*J-Y*l,w=f*s-N*h,S=f*J-Y*h,o=N*J-Y*s,O=u*o-Q*S+W*w+q*m-H*i+C*k;
if(!O){return null}O=1/O;d[0]=(D*o-P*S+a*w)*O;d[1]=(x*S-A*o-M*w)*O;d[2]=(h*C-s*H+J*q)*O;d[3]=(N*H-f*C-Y*q)*O;
d[4]=(P*m-G*o-a*i)*O;d[5]=(K*o-x*m+M*i)*O;d[6]=(s*W-l*C-J*Q)*O;d[7]=(e*C-N*W+Y*Q)*O;d[8]=(G*S-D*m+a*k)*O;
d[9]=(A*m-K*S-M*k)*O;d[10]=(l*H-h*W+J*u)*O;d[11]=(f*W-e*H-Y*u)*O;d[12]=(D*i-G*w-P*k)*O;d[13]=(K*w-A*i+x*k)*O;
d[14]=(h*Q-l*q-s*u)*O;d[15]=(e*q-f*Q+N*u)*O;return d};QP.rm.ecv=function(p,d,K){var A=d[0],x=d[1];K[0]=A*p[0]+x*p[4]+p[12];
K[1]=A*p[1]+x*p[5]+p[13]};QP.rm.ecN=function(p,d,K){var A=d[0],x=d[1],M=d[2],G=d[3];K[0]=p[0]*A+p[4]*x+p[8]*M+p[12]*G;
K[1]=p[1]*A+p[5]*x+p[9]*M+p[13]*G;K[2]=p[2]*A+p[6]*x+p[10]*M+p[14]*G;K[3]=p[3]*A+p[7]*x+p[11]*M+p[15]*G};
function QI(p,d,K,A,x,M){if(typeof p==="undefined"){p=1;d=0;K=0;A=1;x=0;M=0}this.V=p;this.M=d;this.$H=K;
this.Wb=A;this.ol=x;this.lF=M}QI.prototype.st=function(){return Math.sqrt(Math.abs(this.V*this.Wb-this.M*this.$H))};
QI.prototype.VK=function(){var p=this,d=function(K){return Math.abs(K)<1e-9?0:K};p.V=d(p.V);p.M=d(p.M);
p.$H=d(p.$H);p.Wb=d(p.Wb);p.ol=d(p.ol);p.lF=d(p.lF)};QI.prototype.zK=function(p){return new QP(p.x*this.V+p.y*this.$H+this.ol,p.x*this.M+p.y*this.Wb+this.lF)};
QI.prototype.translate=function(p,d){this.ol+=p;this.lF+=d};QI.prototype.rotate=function(p){var d=new QI(Math.cos(p),-Math.sin(p),Math.sin(p),Math.cos(p),0,0);
this.concat(d)};QI.prototype.scale=function(p,d){var K=new QI(p,0,0,d,0,0);this.concat(K)};QI.prototype.concat=function(p){this.Yl(new QI(this.V*p.V+this.M*p.$H,this.V*p.M+this.M*p.Wb,this.$H*p.V+this.Wb*p.$H,this.$H*p.M+this.Wb*p.Wb,this.ol*p.V+this.lF*p.$H+p.ol,this.ol*p.M+this.lF*p.Wb+p.lF))};
QI.prototype.an=function(){var p=this.V*this.Wb-this.M*this.$H;this.Yl(new QI(this.Wb/p,-this.M/p,-this.$H/p,this.V/p,(this.$H*this.lF-this.Wb*this.ol)/p,(this.M*this.ol-this.V*this.lF)/p))};
QI.prototype.clone=function(){return new QI(this.V,this.M,this.$H,this.Wb,this.ol,this.lF)};QI.prototype.Yl=function(p){this.V=p.V;
this.M=p.M;this.$H=p.$H;this.Wb=p.Wb;this.ol=p.ol;this.lF=p.lF};function v(){}v.Ws=function(p){var d="";
for(var K=3;K>=0;K--)d+=String.fromCharCode(p>>K*8&255);return d};v.ecx=function(p){var d=0;for(var K=p.length-1;
K>=0;K--)d|=p.charCodeAt(K)<<(3-K)*8;return d};v.indexOf=function(p,d,K,A){if(K==null)K=0;if(A==null)A=p.length;
A=Math.min(A,p.length);for(var x=K;x<A;x++)if(p[x]==d)return x;return-1};v.m_=function(p,d,K){if(K==null)K=0;
if(typeof d=="string"){var A=[];for(var x=0;x<d.length;x++)A.push(d.charCodeAt(x));d=A}for(var x=K;x<p.length;
x++){var M=!0;for(var G=0;G<d.length;G++)if(d[G]!=p[x+G]){M=!1;break}if(M)return x}return-1};v.Vu=function(p,d,K){var A=[],M="";
while(d<K){var x=p[d++];if(x=="\\".charCodeAt(0))A.push(p[d++]);else A.push(x)}for(var G=0;G<A.length;
G+=2)M+=String.fromCharCode(A[G]<<8|A[G+1]);return M};v.ecZ=function(p,d,K){var A=new Uint8Array(2);
for(var x=0;x<K.length;x++){v.so(A,0,K.charCodeAt(x));if(A[0]==")".charCodeAt(0)||A[0]=="(".charCodeAt(0)||A[0]=="\\".charCodeAt(0)){p[d]="\\".charCodeAt(0);
d++}p[d]=A[0];d++;if(A[1]==")".charCodeAt(0)||A[1]=="(".charCodeAt(0)||A[1]=="\\".charCodeAt(0)){p[d]="\\".charCodeAt(0);
d++}p[d]=A[1];d++}return d};v.Vw=function(p,d,K){p.hu(d,4*K.length);return v.ecZ(p.data,d,K)};v.VV=function(p,d,K){var A="";
for(var x=0;x<K;x++){var M=p[d++]|p[d++]<<8;A+=String.fromCharCode(M)}return A};v.mI=function(p,d,K){var A="";
for(var x=0;x<K;x++){var M=p[d++]<<8|p[d++];A+=String.fromCharCode(M)}return A};v.eck=function(p,d,K){for(var A=0;
A<K.length;A++){var x=K.charCodeAt(A);v.Ii(p,d+2*A,x)}};v.V$=function(p,d,K){for(var A=0;A<K.length;
A++){var x=K.charCodeAt(A);v.so(p,d+2*A,x)}};v.e$S=function(p,d,K){p.hu(d,2*K.length);v.V$(p.data,d,K)};
v.e$E=function(p,d,K){var A=[],x=0,M=0;K+=d;while(d<K){x=p[d++];if((x&128)==0)M=x;else if((x&224)==192){M=(x&31)<<6;
x=p[d++];M|=x&63}else if((x&240)==224){M=(x&15)<<12;x=p[d++];M|=(x&63)<<6;x=p[d++];M|=x&63}else if((x&248)==240){M=(x&7)<<18;
x=p[d++];M|=(x&63)<<12;x=p[d++];M|=(x&63)<<6;x=p[d++];M|=x&63}else throw"e";A.push(M)}return A};v.VF=window.TextDecoder?new window.TextDecoder("utf8"):null;
v.Il=function(p,d,K){if(d==null)d=0;if(K==null)K=p.length;if(v.VF&&d==0&&K==p.length)return v.VF.decode(p);
var A=v.e$E(p,d,K),x=A.length;for(var M=0;M<x;M++)A[M]=String.fromCharCode(A[M]);return A.join("")};
v.VL=window.TextEncoder?new window.TextEncoder("utf8"):null;v.GZ=function(p){if(v.VL)return v.VL.encode(p);
var d=new Uint8Array(p.length*4),K=v.IU(p,d,0);return d.slice(0,K)};v.IU=function(p,d,K){var A=p.length,x=0;
for(var M=0;M<A;M++){var G=p.charCodeAt(M);if((G&4294967295-(1<<7)+1)==0){d[K+x]=G;x++}else if((G&4294967295-(1<<11)+1)==0){d[K+x]=192|G>>6;
d[K+x+1]=128|G>>0&63;x+=2}else if((G&4294967295-(1<<16)+1)==0){d[K+x]=224|G>>12;d[K+x+1]=128|G>>6&63;
d[K+x+2]=128|G>>0&63;x+=3}else if((G&4294967295-(1<<21)+1)==0){d[K+x]=240|G>>18;d[K+x+1]=128|G>>12&63;
d[K+x+2]=128|G>>6&63;d[K+x+3]=128|G>>0&63;x+=4}else throw"e"}return x};v.mz=function(p,d){var K=v.X(p,d),A=v.Il(p,d+4,K-1);
return{mQ:A,Ln:4+K}};v.e$a=function(p,d){var K=v.WL(p,d),A=v.VV(p,d+4,K);return A};v.lH=function(p,d){var K=v.X(p,d),A=v.mI(p,d+4,K);
return A};v.sN=function(p,d){var K=v.X(p,d),A=v.mI(p,d+4,K-1);return A};v.e$i=function(p,d,K){v.Wr(p,d,K.length);
d+=4;v.eck(p,d,K)};v.e$q=function(p,d,K){v.wB(p,d,K.length);d+=4;v.V$(p,d,K)};v.WQ=function(p,d,K){p.hu(d,4+2*K.length);
v.e$q(p.data,d,K)};v.e$h=function(p,d,K){p.hu(d,4+2*K.length);v.e$i(p.data,d,K)};v.ma=function(p,d,K){var A=[];
for(var x=0;x<K;x++)A.push(String.fromCharCode(p[d+x]));return A};v.e$n=function(p,d,K){var A=!1,x=p.length-K.length;
for(var M=d;M<x;M++){for(var G=0;G<K.length;G++){if(p[M+G]!=K.charCodeAt(G))break;if(G==K.length-1)return M}}};
v.Ms=function(p,d,K){var A="";for(var x=0;x<K;x++)A+=String.fromCharCode(p[d+x]);return A};v.ci=function(p,d,K){for(var A=0;
A<K.length;A++)p[d+A]=K.charCodeAt(A)};v.KL=function(p,d,K){p.hu(d,K.length);v.ci(p.data,d,K)};v.e$s=function(p,d,K){var A="";
for(var x=0;x<K;x++){var M=p[d+x];if(M<10)A+="  ";else if(M<100)A+=" ";A+=M+", "}return A};v.OW=function(p,d){return p[d]<<8|p[d+1]};
v.so=function(p,d,K){p[d]=K>>8&255;p[d+1]=K&255};v.rC=function(p,d,K){p.hu(d,4);v.so(p.data,d,K)};v.e$o=function(p,d){var K=v.OW(p,d),A=v.OW(p,d+2);
return K+A*(1/65536)};v.VI=function(p,d,K){var A=Math.floor(K),x=Math.floor((K-A)*65536);v.so(p,d,A);
v.so(p,d+2,x)};v.rz=function(p,d){return p[d+1]<<8|p[d]};v.Ii=function(p,d,K){p[d+1]=K>>8&255;p[d]=K&255};
v.ID=function(p,d,K){p.hu(d,4);v.Ii(p.data,d,K)};v.ZW=function(p,d){v.WZ[0]=p[d+1];v.WZ[1]=p[d];return v.mx[0]};
v.Wo=function(p,d){v.WZ[0]=p[d];v.WZ[1]=p[d+1];return v.mx[0]};v.hf=v.so;v.WW=v.rC;v.gc=function(p,d){v.oH[0]=p[d+3];
v.oH[1]=p[d+2];v.oH[2]=p[d+1];v.oH[3]=p[d];return v.Yd[0]};v.Nb=function(p,d,K){v.Yd[0]=K;p[d+3]=v.oH[0];
p[d+2]=v.oH[1];p[d+1]=v.oH[2];p[d+0]=v.oH[3]};v.Fm=function(p,d,K){p.hu(d,4);v.Nb(p.data,d,K)};v.Wx=function(p,d,K,A){K[A+0]=p[d+0];
K[A+1]=p[d+1];K[A+2]=p[d+2];K[A+3]=p[d+3]};v.WL=function(p,d){v.Wx(p,d,v.oH,0);return v.Vs[0]};v.Wr=function(p,d,K){v.Vs[0]=K;
v.Wx(v.oH,0,p,d)};v._q=function(p,d,K){p.hu(d,4);v.Wr(p.data,d,K)};v.Vz=function(p,d){v.Wx(p,d,v.oH,0);
return v.Yd[0]};v.e$W=function(p,d,K){v.Yd[0]=K;v.Wx(v.oH,0,p,d)};v.e$v=function(p,d,K){p.hu(d,4);v.e$W(p.data,d,K)};
v.X=function(p,d){var K=p[d]*(256*256*256)+(p[d+1]<<16|p[d+2]<<8|p[d+3]);return K};v.wB=function(p,d,K){p[d]=K>>24&255;
p[d+1]=K>>16&255;p[d+2]=K>>8&255;p[d+3]=K>>0&255};v.Zo=function(p,d,K){p.hu(d,4);v.wB(p.data,d,K)};v.lY=function(p,d){return v.X(p,d)<<32|v.X(p,d+4)};
v.e$x=function(p,d,K){v.wB(p,d,K>>16>>16);v.wB(p,d+4,K&4294967295)};v.mi=function(p,d,K){p.hu(d,8);v.e$x(p.data,d,K)};
v.Ut=function(p,d){var K=new Uint8Array(8);for(var A=0;A<8;A++)K[A]=p[d+7-A];var x=new Float64Array(K.buffer);
return x[0]};v.e$y=function(p,d){var K=new Uint8Array(8);for(var A=0;A<8;A++)K[A]=p[d+A];var x=new Float64Array(K.buffer);
return x[0]};v.YM=function(p,d,K){var A=new Float64Array(1);A[0]=K;var x=new Uint8Array(A.buffer);for(var M=0;
M<4;M++){var G=x[M];x[M]=x[7-M];x[7-M]=G}for(var M=0;M<8;M++)p[d+M]=x[M]};v.YU=function(p,d,K){p.hu(d,8);
v.YM(p.data,d,K)};v.lX=function(p,d){v.oH[0]=p[d+3];v.oH[1]=p[d+2];v.oH[2]=p[d+1];v.oH[3]=p[d+0];return v.Wk[0]};
v.mh=function(p,d){v.oH[0]=p[d+0];v.oH[1]=p[d+1];v.oH[2]=p[d+2];v.oH[3]=p[d+3];return v.Wk[0]};v._D=function(p,d,K){v.Wk[0]=K;
p[d+0]=v.oH[3];p[d+1]=v.oH[2];p[d+2]=v.oH[1];p[d+3]=v.oH[0]};v.eFB=function(p,d,K){p.hu(d,4);v._D(p.data,d,K)};
v.mW=function(p,d,K){v.Wk[0]=K;p[d+0]=v.oH[0];p[d+1]=v.oH[1];p[d+2]=v.oH[2];p[d+3]=v.oH[3]};v.eFu=function(p,d,K){p.hu(d,4);
v.mW(p.data,d,K)};v.eFO=function(p,d){var K=v.gc(p,d),A=K*(1/(1<<24));return A};v.Va=function(p,d,K){var A=Math.floor(K*(1<<24));
v.Nb(p,d,A)};v.eFI=function(p,d,K){p.hu(d,4);v.Va(p.data,d,K)};v.Ij=function(p,d){var K=p[d],A=v.Ms(p,d+1,K);
K+=1-K%2;return{NT:A,length:K+1}};v.eFL=function(p,d,K){var A=K.length;p[d]=A;v.ci(p,d+1,K);if(A%2==0){p[d+1+A]=0;
++A}return A+1};v.Gk=function(p,d,K){p.hu(d,K.length+2);return v.eFL(p.data,d,K)};v.Fu=function(p,d){var K=new QI;
K.V=v.Ut(p,d+0*8);K.M=v.Ut(p,d+1*8);K.$H=v.Ut(p,d+2*8);K.Wb=v.Ut(p,d+3*8);K.ol=v.Ut(p,d+4*8);K.lF=v.Ut(p,d+5*8);
return K};v.Re=function(p,d,K){v.YM(p,d+0*8,K.V);v.YM(p,d+1*8,K.M);v.YM(p,d+2*8,K.$H);v.YM(p,d+3*8,K.Wb);
v.YM(p,d+4*8,K.ol);v.YM(p,d+5*8,K.lF)};v.eFT=function(p,d,K){p.hu(d,48);v.Re(p.data,d,K)};v.eLe=function(p,d){var K=v.lX(p,d),A=v.lX(p,d+4),x=v.lX(p,d+8),M=v.lX(p,d+12);
return new R(K,A,x-K,M-A)};v.eLn=function(p,d,K){v._D(p,d,K.x);v._D(p,d+4,K.y);v._D(p,d+8,K.x+K.t);v._D(p,d+12,K.y+K.D)};
v.eLB=function(p,d,K){p.hu(d,16);v.eLn(p.data,d,K)};v.rq=function(p,d){var K=v.gc(p,d),A=v.gc(p,d+4),x=v.gc(p,d+8),M=v.gc(p,d+12);
return new R(A,K,M-A,x-K)};v.Vi=function(p,d,K){v.Nb(p,d,K.y);v.Nb(p,d+4,K.x);v.Nb(p,d+8,K.y+K.D);v.Nb(p,d+12,K.x+K.t)};
v.jj=function(p,d,K){p.hu(d,16);v.Vi(p.data,d,K)};v.Ru=function(p,d,K){var A=new Uint8Array(K);for(var x=0;
x<K;x++)A[x]=p[d+x];return A};v.Vh=function(p,d,K){p.set(K,d)};v.RH=function(p,d,K){p.hu(d,K.length);
v.Vh(p.data,d,K)};v.eLw=function(p,d,K,A){if(!A)A=1;for(var x=0;x<A;x++)p[d+x]=K};v.hS=function(p,d,K,A){if(!A)A=1;
p.hu(d,A);v.eLw(p.data,d,K,A)};v.mx=new Int16Array(1);v.WZ=new Uint8Array(v.mx.buffer);v.Yd=new Int32Array(1);
v.Vs=new Uint32Array(v.Yd.buffer);v.oH=new Uint8Array(v.Yd.buffer);v.Wk=new Float32Array(v.Yd.buffer);
function R(p,d,K,A){if(!p)p=0;if(!d)d=0;if(!K)K=0;if(!A)A=0;this.x=p;this.y=d;this.t=K;this.D=A}R.prototype.r=function(){return this.t*this.D};
R.prototype.clone=function(){return new R(this.x,this.y,this.t,this.D)};R.prototype.contains=function(p,d){return p>=this.x&&p<=this.x+this.t&&(d>=this.y&&d<=this.y+this.D)};
R.prototype.Bf=function(p){return this.contains(p.x,p.y)};R.prototype.iV=function(p){return this.x<=p.x&&this.y<=p.y&&p.x+p.t<=this.x+this.t&&p.y+p.D<=this.y+this.D};
R.prototype.Yl=function(p){this.x=p.x;this.y=p.y;this.t=p.t;this.D=p.D};R.prototype.GR=function(p){return this.x==p.x&&this.y==p.y&&this.t==p.t&&this.D==p.D};
R.prototype.WJ=function(p,d){this.x-=p;this.y-=d;this.t+=2*p;this.D+=2*d};R.prototype.eFR=function(p){this.WJ(p.x,p.y)};
R.prototype.pk=function(p){var d=Math.max(this.x,p.x),K=Math.max(this.y,p.y),A=Math.min(this.x+this.t,p.x+p.t),x=Math.min(this.y+this.D,p.y+p.D);
if(A<d||x<K)return new R;else return new R(d,K,A-d,x-K)};R.prototype.Xs=function(p){if(p.y+p.D<this.y||p.x>this.x+this.t||p.y>this.y+this.D||p.x+p.t<this.x)return!1;
return!0};R.prototype.kQ=function(){return this.t<=0||this.D<=0};R.prototype.offset=function(p,d){this.x+=p;
this.y+=d};R.prototype.Vo=function(p){this.offset(p.x,p.y)};R.prototype.eLO=function(){this.x=this.y=this.t=this.D=0};
R.prototype.pf=function(p,d,K,A){this.x=p;this.y=d;this.t=K;this.D=A};R.prototype.ck=function(p){if(this.kQ())return p.clone();
if(p.kQ())return this.clone();var d=this.clone();d.eLo(p);return d};R.qH=new Float32Array(2);R.prototype.eLo=function(p){if(p.kQ())return;
if(this.kQ()){this.Yl(p);return}this.xe(p.x,p.y);this.xe(p.x+p.t,p.y+p.D)};R.prototype.xe=function(p,d){var K=Math.min(this.x,p),A=Math.min(this.y,d);
this.t=Math.max(this.x+this.t,p)-K;this.D=Math.max(this.y+this.D,d)-A;this.x=K;this.y=A};R.prototype.eLI=function(p,d,K,A){if(this.t==0&&this.D==0)this.eLW(p,d);
else this.xe(p,d);this.xe(K,A)};R.prototype.eLW=function(p,d){this.x=p;this.y=d;this.t=this.D=0};function Mz(){}Mz.RL=function(p,d){var K=new Uint8Array(p),A=0,x=v.Ms(K,A,9),D=4,P=100;
A+=9;var M=v.Ms(K,A,4);A+=4;A++;d.t=v.X(K,A);A+=4;d.D=v.X(K,A);A+=4;var G=v.X(K,A);A+=4;if(G!=0)alert("Unsupported image format, not RGB!");
if(["file","v001","v002","v003"].indexOf(M)==-1){P=v.X(K,A);A+=4;if(parseInt(M.slice(1))>=7){P=P}else alert("Unknown XCF version: "+M);
D=8}var a={};A=Mz.mJ(K,A,a);var e=[];A=Mz.mD(K,A,e,D);var f=[];A=Mz.mD(K,A,f,D);d.pq=0;for(var N=0;N<e.length;
N++)Mz.eLd(K,e[N],d,a,D,P);while(d.pq>0){d.L.push(d.dN());d.pq--}d.L.reverse();delete d.pq;d.buffer=Z.p(d.t*d.D*4);
if(d.L.length==0)console.log("No layers!!!");for(var N=0;N<f.length;N++){var Y=Mz.Vx(K,f[N],a,D,P);if(Y.wS[ee.e_k])d.P={channel:Y.dw,rect:new R(0,0,d.t,d.D)}}};
Mz.eLd=function(p,d,K,A,x,M){var G=K.sP(),D=v.X(p,d),f=0;d+=4;var P=v.X(p,d);d+=4;G.rect=new R(0,0,D,P);
var a=v.X(p,d);d+=4;var e=v.mz(p,d);d+=e.Ln;G.Hv(e.mQ);var N={};d=Mz.mJ(p,d,N);if(N[ee.Vr]){var Y=N[ee.Vr];
f=Y.length/4-1}if(N[ee.mC]){G.rect.x=v.gc(N[ee.mC],0);G.rect.y=v.gc(N[ee.mC],4)}if(N[ee.Vd]){G.opacity=v.X(N[ee.Vd],0)}if(N[ee.eIn]){G.add.lsct=ew.rK;
G.rect=new R(0,0,0,0);G.buffer=Z.p(0);G.Wm=24}if(N[ee.VN]){var l=v.X(N[ee.VN],0);G.yk=ee.eIK[l];if(G.Ba()&&G.yk=="norm")G.yk="pass"}if(N[ee.Vg]){if(v.X(N[ee.Vg],0)==0)G.Wm+=2}if(N[ee.Vb]){var h=v.X(N[ee.Vb],0);
G.add.lsct=h&1==1?ew.rK:ew.Wy}if(N[ee.mZ]){var s=N[ee.mZ];for(var J in s){var u=s[J];if(J=="gimp-text-layer"){var Q=Mz.eLJ(u),W=Q.text,q=Q.font,H=Q.color,C=Q["font-size"];
if(W==null&&Q.markup){var k=new DOMParser,i=k.parseFromString(Q.markup,"image/svg+xml");while(i.firstChild!=null&&i.firstChild.tagName!=null){i=i.firstChild;
var m=i.getAttribute("font"),w=i.getAttribute("foreground"),S=i.getAttribute("size");if(m!=null)q=m;
if(w!=null){w=CSS.rM(w);H=[1,w.N/255,w.w/255,w.M/255]}if(S!=null){C=""+parseFloat(S)/245}}W=i.textContent}G.add.lnsr="rend";
G.add.TySh=QM.av(0,0);G.add.TySh.MB=new R(0,0,100,100);G.add.TySh.u=new QI(1,0,0,1,G.rect.x,G.rect.y);
var o=G.add.TySh.Nf;QM.bN(o,0,W);var O=QM.fy(o,0,0),t=Q.justify,c=Q["line-spacing"];if(H)O.K$.FillColor={Type:1,Values:[1,parseFloat(H[1]),parseFloat(H[2]),parseFloat(H[3])]};
if(C){C=Math.round(parseFloat(C));O.K$.FontSize=C;G.add.TySh.u.lF+=Math.min(17,C*.17)}if(c){c=Math.round(parseFloat(c)+O.K$.FontSize*1.2);
O.K$.Leading=c;O.K$.AutoLeading=!1}if(t)O.hw.Justification=["left","right","center","fill"].indexOf(t);
if(q&&q!="Sans-serif"){var g=q.toLowerCase(),j="bold italic semi extra regular condensed light".split(" "),_=g.length;
for(var U=0;U<j.length;U++){var $=g.indexOf(j[U]);if($!=-1&&$<_&&g[$-1]==" ")_=$}if(_!=g.length)q=q.slice(0,_-1).split(" ").join("")+"-"+q.slice(_).split(" ").join("");
QM.xz(O,q)}QM.gh(o,0,W.length,O);var I=Q["box-width"],E=Q["box-height"],b=I?parseFloat(I):G.rect.t,z=E?parseFloat(E):G.rect.D;
QM.aP(o,1);QM.wv(o,[0,0,Math.ceil(b),Math.ceil(z)])}else console.log("Unknown property "+J)}}while(K.pq>f){K.L.push(K.dN());
K.pq--}K.pq=f;if(G.add.lsct==ew.rK||G.add.lsct==ew.Wy)K.pq++;var QS=x==4?v.X:v.lY;if(G.Rr()){G.buffer=Z.p(G.rect.r()*4);
var QQ=new Z.dY(G.rect.r()),Qe=QS(p,d);d+=x;var QB=QS(p,d);d+=x;Mz.VD(p,Qe,QQ,A,x,M);Z.AR(QQ,G.buffer);
if(QB!=0){G.g=new V.dK;G.g.color=0;G.g.rect=G.rect.clone();G.g.channel=Mz.Vx(p,QB,A,x,M).dw;if(N[ee.VZ])G.g.isEnabled=v.X(N[ee.VZ],0)==1}}K.L.push(G)};
Mz.eLJ=function(p){var d="("+v.Il(p,0,p.length-1)+")",K=[],A={};Mz.VW(d,1,K);Mz.eLC(K,A);return A};Mz.eLC=function(p,d){for(var K=0;
K<p.length;K++){var A=p[K],x=A[0];if(A.length==2)d[x]=A[1];else d[x]=A.slice(1)}};Mz.VW=function(p,d,K){while(!0){if(d>=p.length)throw"e";
var A=p.charAt(d);d++;if(A=="("){var x=[];d=Mz.VW(p,d,x);K.push(x)}else if(A==" "||A=="\n"||A=="\r"){}else if(A==")")return d;
else if(A=="\""){var M=d;while(!0){var G=p[d];d++;if(G=="\"")break;if(G=="\\")d++}K.push(JSON.parse(p.slice(M-1,d)))}else{var M=d-1;
while(p[d]!=" "&&p[d]!=")")d++;K.push(p.slice(M,d))}}};Mz.Vx=function(p,d,K,A,x){var M=v.X(p,d);d+=4;
var G=v.X(p,d);d+=4;var D=v.mz(p,d);d+=D.Ln;var P={};d=Mz.mJ(p,d,P);var a=new Z.dY(M*G),e=A==4?v.X:v.lY,f=e(p,d);
d+=A;Mz.VD(p,f,a,K,A,x);return{dw:a.N,wS:P}};Mz.VD=function(p,d,K,A,x,M){var G=v.X(p,d);d+=4;var D=v.X(p,d);
d+=4;var P=v.X(p,d);d+=4;var a=x==4?v.X:v.lY,e=a(p,d);d+=x;Mz.e_E(p,e,K,A,P,x,M)};Mz.e_E=function(p,d,K,A,x,M,G){var D=v.X(p,d),e=0,u=0;
d+=4;var P=v.X(p,d);d+=4;var a=new R(0,0,D,P);if(G==100)e=1;else if(G==150)e=1;else if(G==600)e=4;else alert("unsupported bit depth "+G);
var f=x/e,e=Math.round(x/f),N=[];d=Mz.mD(p,d,N,M);var Y=new Z.dY(64*64*e),l=new R,h=A[ee.eIt][0],s=[Y.N,Y.w,Y.M,Y.V];
if(f==3)Z.set(Y.V,255);var J=Date.now();for(var Q=0;Q<P;Q+=64)for(var W=0;W<D;W+=64){var q=Math.min(D-W,64),H=Math.min(P-Q,64),C=q*H;
l.pf(W,Q,q,H);Mz.e_q(p,N[u++],C*e,h,f,s);if(G==600){var k=Mz.e_c(),i=new Uint32Array(1),m=new Float32Array(i.buffer);
for(var w=0;w<f;w++){var S=s[w];for(var o=0;o<C;o++){i[0]=S[o]<<24|S[C+o]<<16|S[(C<<1)+o]<<8|S[(C<<1)+C+o]<<0;
var O=m[0];if(O<0)O=0;else if(O>1)O=1;S[o]=k[~~(.5+O*1e3)]}}}Z.Bd(Y,l,K,a)}};Mz.e_c=function(){var p=Mz.ezh;
if(p!=null)return p;p=Mz.ezh=new Uint8Array(1001);for(var d=0;d<1001;d++)p[d]=~~(.49+255*Z.BL(d*.001));
return p};Mz.e_q=function(p,d,K,A,x,M){if(A==1){for(var G=0;G<x;G++){var D=M[G],P=0;while(P<K){var a=p[d];
d++;if(a<127){var e=p[d];d++;a++;for(var f=0;f<a;f++)D[P+f]=e}else if(a==127){var N=p[d];d++;var Y=p[d];
d++;var e=p[d];d++;a=N<<8|Y;for(var f=0;f<a;f++)D[P+f]=e}else if(a==128){var N=p[d];d++;var Y=p[d];d++;
a=N<<8|Y;for(var f=0;f<a;f++)D[P+f]=p[d+f];d+=a}else{a=256-a;for(var f=0;f<a;f++)D[P+f]=p[d+f];d+=a}P+=a}}}else if(A==2){var l=pako.inflate(p.slice(d)),h=Math.round(l.length/K);
for(var f=0;f<K;f++){var s=f*h;M[0][f]=l[s];M[1][f]=l[s+1];M[2][f]=l[s+2];M[3][f]=h==3?255:l[s+3]}}else alert("Unknown compression "+A)};
Mz.mD=function(p,d,K,A){var x=A==4?v.X:v.lY;while(!0){var M=x(p,d);d+=A;if(M==0)break;else K.push(M)}return d};
Mz.mJ=function(p,d,K){while(!0){var A=v.X(p,d);d+=4;var x=v.X(p,d);d+=4;if(A==ee.e_b)break;else if(A==ee.mZ)K[A]=Mz.e_g(p,d,d+x);
else K[A]=v.Ru(p,d,x);d+=x}return d};Mz.e_g=function(p,d,K){var A={};while(d<K){var x=v.mz(p,d);d+=x.Ln;
var M=v.X(p,d);d+=4;if(M!=1)console.log("unknown flags",M);var G=v.X(p,d);d+=4;A[x.mQ]=v.Ru(p,d,G);d+=G}return A};
var ee={e_b:0,eLa:1,eLh:2,eLg:3,e_k:4,eLY:5,Vd:6,VN:7,Vg:8,eLl:9,e_G:10,VZ:11,e_n:12,e_B:13,eIP:14,mC:15,eIU:16,eIt:17,eIu:18,eIH:19,eIi:20,mZ:21,eRv:22,eze:23,ezO:24,ezb:25,ezY:26,eaQ:27,eaM:28,eIn:29,Vr:30,Vb:31,eaH:32,eaV:33,ea_:34,eaI:35,eaY:36,eaj:37,eiP:38,eiG:0,eit:1,eiQ:2,eiM:3,eiU:1,eiv:2,eiE:0,eiw:1,ei_:1};
ee.eIK="norm,diss,norm,mul ,scrn,over,diff,lddg,fsub,dark,lite,hue ,sat ,colr,lum ,fdiv,lddg,idiv,hLit,sLit,fdiv,pLit,norm,over,hue ,hue ,colr,lite,norm,norm,mul ,scrn,diff,lddg,fsub,dark,lite,hue ,sat ,colr,lum ,fdiv,lddg,idiv,hLit,sLit,fdiv,pLit,vLit,pLit,lLit,hMix,smud,lbrn,lum ,lum ,lum ,lum ,norm,norm,norm,pass".split(",");
function Mp(){}Mp.RL=function(p,d){var K=Mp,A=Gh.parse(p),M=0;if(A.pages.length>1)console.log(A.pages.length,"pages");
var x=[],G=new R;for(var D=0;D<A.pages.length;D++){var P=A.pages[D],a=P.layers,e=K.JE(a,D),N=!1;if(e.r()>8e3*8e3||e.t>3e4||e.D>3e4){K.VY(a,!0);
var f=K.JE(a,D);if(f.r()>=e.r())K.VY(a,!1)}e=K.JE(a,D);for(var Y=0;Y<a.length;Y++){var l=a[Y];if(K._N(l)=="artboard")N=!0}if(!N){console.log("no artboard");
var h={};for(var s in P)h[s]=P[s];h._class="group";P.layers=[h]}x.push(e.clone());if(e.kQ())continue;
e.x=0;e.y=M;M+=e.D+200;G=G.ck(e)}var J={};if(A.foreignSymbols)for(var u=0;u<A.foreignSymbols.length;
u++){var Q=A.foreignSymbols[u].symbolMaster;J[Q.symbolID]={jl:Q}}K.Vl(A.pages,J,d);for(var W in J){var l=J[W].jl,q=K.Vj(l.layers)}var H=Mp.mY(G,8192*8192);
d.pd=!0;d.t=Math.round(G.t/H);d.D=Math.round(G.D/H);d.buffer=Z.p(d.t*d.D*4);d.Oj(A.pages[0].layers.length);
d.pj={};d.jT=[];M=0;for(var D=0;D<A.pages.length;D++){var C=A.pages[D],e=x[D],k=new QI(H,0,0,H,e.x,e.y-M);
K.mj(C.layers,d,k,A,J,{},[]);M+=e.D+200}delete d.pj;delete d.jT;if(H!=1)alert("File scaled down "+H+"x")};
Mp.eiR=0;Mp._N=function(p){return p._class?p._class:p.$class};Mp.mY=function(p,d){var K=1;while(Math.round(p.t/K)*Math.round(p.D/K)>d)K++;
if(K!=1&&!window.confirm("Your image is quite large ("+p.t+" x "+p.D+" px).\n"+"Press OK to scale it down "+K+"x, or Cancel to keep the size."))K=1;
return K};Mp.JE=function(p,d){var K=[],A=Mp;for(var x=0;x<p.length;x++){var M=p[x],G=A.rq(M.frame);if(d==0||A._N(M)=="artboard")K.push(G)}return Z.rect.sU(K)};
Mp.VY=function(p,d){var K=[],A=Mp;for(var x=0;x<p.length;x++){var M=p[x],G=A.rq(M.frame);G.t+=150;G.D+=150;
K.push(G)}var D=Z.rect.sU(K);Z.rect.eFK(K,d);var P=Z.rect.sU(K);if(P.r()*1.5<D.r()||D.t>3e4&&P.t<=3e4||D.D>3e4&&P.D<=3e4){alert("Re-arranging artboards");
for(var x=0;x<p.length;x++){var a=K[x],M=p[x],e=M.frame;e.x=a.x;e.y=a.y}}};Mp.Vl=function(p,d,K){var A=Mp;
for(var x=0;x<p.length;x++){var M=p[x],G=A._N(M);if(["page","artboard","group"].indexOf(G)!=-1)A.Vl(M.layers,d,K);
else if(G=="symbolMaster")d[M.symbolID]={jl:M}}};Mp.Vj=function(p){var d=Mp;for(var K=0;K<p.length;K++){var A=p[K],x=d._N(A),M=null;
if(["page","artboard","group"].indexOf(x)!=-1)M=d.Vj(A.layers);if(x=="symbolMaster"||x=="symbolInstance")M=A;
if(M!=null)return M}return null};Mp.mj=function(p,d,K,A,x,M,G){var D=Mp,P=[];for(var a=0;a<p.length;
a++){var e=p[a],f=e.frame?D.rq(e.frame):null,N=e.style,u="",k=null,i=!1;if(N==null){console.log("no styles")}var Y=D.Vk(e,K),l=D._N(e),h=l=="shapeGroup"||l=="shapePath"||l=="rectangle"||l=="oval"||l=="triangle",s=["page","artboard","group"].indexOf(l)!=-1;
if(l=="shapeGroup"){for(var J=0;J<e.layers.length;J++)if(D._N(e.layers[J])=="shapeGroup")s=!0}var Q=e.exportOptions;
if(Q){var W=Q.exportFormats;if(W==null)W=Q.sizes;if(l!="artboard"&&(W&&W.length!=0)){var q=W[0].scale;
u="-e"+(q==1?"":q)+"-"}}var H=d.sP();H.qJ(e.isVisible);var C=e.name;if(!(typeof C=="string"))C=l;H.Hv(u+C.slice(0,250));
if(N!=null)k=D.eIh(A,d,N,f,Y,H.getName(),h||l=="artboard"||s);if(l=="rectangle"&&N&&N.fills&&N.fills[0]){var m=N.fills[0];
if(m.fillType==4&&m.patternFillType>1&&m.image!=null)i=!0}if(e.shouldBreakMaskChain){while(P.length!=0)D.VT(P.pop(),d)}if(s){H.add.lsct=e.layerListExpandedType==2?ew.rK:ew.Wy;
H.yk="pass";H.Wm=24;H.qJ(e.isVisible);d.L.push(d.dN());if(l=="artboard"){var w=f.clone(),S=Y.st();w.x=-Math.floor(Y.ol/S);
w.y=-Math.floor(Y.lF/S);w.t=Math.floor(w.t/S);w.D=Math.floor(w.D/S);H.Pw(w);var o=e.backgroundColor;
H.add.artb.Clr={t:"Objc",v:Z.k.wI({N:255*o.red,w:255*o.green,M:255*o.blue})};H.add.artb.artboardBackgroundType={t:"long",v:4}}D.mj(e.layers,d,Y,A,x,M,G)}else if(h&&!i){H.add.vmsk=new V.mK;
H.add.vstk=JSON.parse(JSON.stringify(QG.Wh.default));H.add.vstk.strokeEnabled.v=!1;H.add.vogk=[];var O=k!=null&&k.frameFXMulti.v.length==1,t=N?N.fills:null,c=N?D.VX(A,t,f,Y,H.getName(),d,D.mX(G,e.do_objectID+"_image")):[];
if(c.length==0){if(O)H.add.vstk.fillEnabled.v=!1;else H.add.iOpa=0;H.add.SoCo={classID:"null",Clr:{t:"Objc",v:Z.k.wI({N:0,w:0,M:0})}}}else{var g=c[0],j=null,_=null;
if(g.type=="SoFi"){j="SoCo";_=QG.Za}if(g.type=="GrFl"){j="GdFl";_=QG.xM}if(g.type=="patternFill"){j="PtFl";
_=QG.xU}if(j!=null){H.add[j]={classID:"null"};for(var J=0;J<_.length;J++){var U=_[J];H.add[j][U]=g.S.v[U]}var $=g.S.v.Opct.v.val;
if(O&&$==0)H.add.vstk.fillEnabled.v=!1;else H.add.iOpa=Math.round(255*$/100)}}H.Wm|=16;H.add.vmsk.Z=D.LH(e.layers?e.layers:[e],e.layers?Y:K,H.add.vogk);
var I=N?N.blur:null;if(I&&I.isEnabled&&I.type<=1)H.add.vmsk.EU=I.radius;if(H.add.vmsk.Z.length==2){console.log("shape with no content:",H.getName())}if(O){var E=k.frameFXMulti.v[0].v,b=H.add.vstk,z=N.borders[0];
k.frameFXMulti.v=[];QL.eUw(E,b);var QS=N.borderOptions,QQ=N.miterLimit;if(QS){var Qe=QS.dashPattern;
b.strokeStyleLineCapType.v.strokeStyleLineCapType=QG.Wh.zR[QS.lineCapStyle];b.strokeStyleLineJoinType.v.strokeStyleLineJoinType=QG.Wh.join[QS.lineJoinStyle];
if(Qe)b.strokeStyleLineDashSet.v=QL.ZN(Qe,1/E.Sz.v.val);if(QQ!=null)b.strokeStyleMiterLimit.v=QQ}}H.u_(d)}else if(l=="bitmap"||i){var QB=i?N.fills[0]:null,QU=i?QB.image.bdata:e.image.bdata,Qt=d.tQ(QU,H.getName(),0,0);
Qt.Wm=H.Wm;H=Qt;var I=N.blur,F=N.colorControls;if(I||F){H.add.SoLd.filterFX=eq.NU();d.tP({id:H.add.SoLd.placed.v,rect:new R,buffer:Z.p(1),g:new V.dK});
var t=H.add.SoLd.filterFX.v.filterFXList.v;if(I){var L=eq.i$("GsnB",{});L.v.enab.v=I.isEnabled;L.v.Fltr.v.Rds.v.val=I.radius;
t.push(L)}if(F){var Qu=F.brightness,QK=F.contrast,Qm=F.hue,ei=F.saturation;if(Qm!=0||ei!=1){var L=eq.i$("hue2",{});
L.v.enab.v=F.isEnabled;Ph.gB(L.v.Fltr.v,0,[Math.round(Qm*180/Math.PI),Math.round((ei-1)*100),0]);t.push(L)}if(Qu!=0||QK!=1){var L=eq.i$("brit",{});
L.v.enab.v=F.isEnabled;QK=QK-1;if(QK>0)QK/=2;var Qp=L.v.Fltr.v;Qp.Brgh.v=Math.round(Qu*255);Qp.Cntr.v=Math.round(QK*255);
Qp.useLegacy.v=!0;t.push(L)}}}if(i){var QO=QB.patternFillType;if(QO==3){var QE=H.rect.t/H.rect.D,Qi=f.t/f.D;
if(QE<Qi){Y.translate(-(f.t*(1-QE/Qi))/2,0);Y.scale(Qi/QE,1)}else{Y.translate(0,-(f.D*(1-Qi/QE))/2);
Y.scale(1,QE/Qi)}}}f.x=f.y=0;var QV=Z._.MF(f).B;Y.an();Z._.u(QV,Y,QV);H.add.SoLd.Trnf=r.ge.oZ(QV);H.add.SoLd.nonAffineTransform=r.ge.oZ(QV);
H.uc(d,!1)}else if(l=="text"){if(e.attributedString==null)continue;var Q$=Y.clone(),eS,Qs,Qz=0;Q$.an();
Q$.V=Q$.Wb=Math.min(Q$.V,Q$.Wb);H.add.lnsr="rend";H.add.TySh=QM.av(0,0);H.add.TySh.MB=new R(0,0,f.t,f.D);
H.add.TySh.u=Q$;var Qw=e.attributedString;if(Qw.archivedAttributedString)Qw=Qw.archivedAttributedString;
var Q_=Qw.NSString;if(Q_==null)Q_=Qw.string;if(Q_["NS.string"])Q_=Q_["NS.string"];if(M[e.do_objectID]!=null)Q_=M[e.do_objectID];
var QN=D.mX(G,e.do_objectID+"_stringValue");if(QN)Q_=QN.value;if(Qw.attributes!=null){eS=[];Qs=[];var eK=Qw.attributes;
for(var J=0;J<eK.length;J++){eS.push(eK[J].length,J);Qs.push(eK[J].attributes)}}else if(Qw.NSAttributeInfo==null){eS=[Q_.length,0];
Qs=[Qw.NSAttributes]}else{eS=Qw.NSAttributeInfo["NS.data"];Qs=Qw.NSAttributes;eS=Mp.eIm(eS,Qs)}for(var J=0;
J<eS.length;J+=2)Qz+=eS[J];if(Qz!=Q_.length){while(Qz>Q_.length){eS[eS.length-2]--;Qz--;if(eS[eS.length-2]==0){eS.pop();
eS.pop()}}eS[eS.length-2]+=Q_.length-Qz}Q_=Q_.replace(/\u2028/g,"\n");Q_=Q_.replace(/\u2029/g,"\n");
Q_=Q_.replace(/\r/g,"\n");var eQ=H.add.TySh.Nf;QM.bN(eQ,0,Q_);if(Q_!=""){var Qd=e.textBehaviour,Qj=N.textStyle,QD=Qj?Qj.verticalAlignment:0,Qq=D.eIq(eQ,eS,Qs,Q_),S=Q$.st(),et=QM.fy(eQ,0,1),QA=0;
if(et.K$.Font){var QC=et.CV[et.K$.Font].Name;if(QC=="FontAwesome"||QC=="Ionicons")Qq*=.87}var Qf=et.K$.AutoLeading?0:et.K$.Leading*.6,Qb=Math.max(Qq,Qf)*S,MS=f.t,QR=f.D;
if(Qd==0){QM.aP(eQ,0);var eG=QM.Uj(et.hw);if(eG==1)QA=MS*S;if(eG==2)QA=MS*S*.5;if(QD==0)Qb*=1;else Qb*=.9}else{QM.aP(eQ,1);
QM.wv(eQ,[0,0,Math.round(MS),Math.round(QR)]);if(Qd==2&&QD==0)Qb=Qb*.2;else if(Qd==2&&QD==1){Qb=S*.5*(QR-et.K$.FontSize)}else if(Qd==1&&QD==0)Qb=Qb*.2;
else Qb=Qb*.35}H.add.TySh.u.translate(QA,Qb)}}else if(l=="symbolInstance"||l=="symbolMaster"){var MG=e.symbolID;
if(M[e.do_objectID])MG=M[e.do_objectID].symbolID;var MM=D.mX(G,e.do_objectID+"_symbolID");if(MM)MG=MM.value;
if(MG=="")continue;var MP={};for(var U in M)MP[U]=M[U];if(e.overrides)for(var U in e.overrides)MP[U]=e.overrides[U];
var Mu=G.slice(0);if(e.overrideValues)Mu=Mu.concat(e.overrideValues);var Mm=x[MG];if(Mm==null){console.log("Unknown master master",e.symbolID);
continue}var Mw=Mp.rq(Mm.jl.frame),MU=Mw.t/f.t,Pp=Mw.D/f.D,Ma=Y.clone();Ma.scale(MU,Pp);H.add.lsct=ew.Wy;
H.yk="pass";H.Wm=24;H.qJ(e.isVisible);d.L.push(d.dN());var MQ=Mm.jl;if(d.jT.indexOf(MQ)==-1){d.jT.push(MQ);
D.mj(MQ.layers,d,Ma,A,x,MP,Mu);d.jT.pop()}}else if(l=="slice"){console.log("slice layers are ignored by now");
continue}else{console.log("unknown layer type: "+l,e);continue}if(N&&N.contextSettings){var P$=N.contextSettings,pU=P$.blendMode;
if(pU<D.tp.length){H.yk=eE.ok[eE.Uh.indexOf(D.tp[pU])];if(s&&H.yk=="norm")H.yk="pass"}H.opacity=Math.round(H.opacity*P$.opacity)}if(k!=null){H.add.lmfx=k}d.L.push(H);
if(e.hasClippingMask&&p.length>1){P.push(H);d.L.push(d.dN())}}while(P.length!=0)D.VT(P.pop(),d)};Mp.mX=function(p,d){for(var K=0;
K<p.length;K++)if(p[K].overrideName.startsWith(d))return p[K]};Mp.eIm=function(p,d){var K=0,A=[];while(K+1<p.length){var x=p[K];
K++;if(x>127){x+=128*(p[K]-1);K++;if(p[K-1]>127){x+=128*(p[K]-1);K++}}var M=p[K];K++;A.push(x,M)}return A};
Mp.eIq=function(p,d,K,A){var x=Mp,M=0,f=0,N=0;for(var G=0;G<A.length;G++){var D=A.charCodeAt(G),P=1473<=D&&D<=1479||1488<=D&&D<=1514||1520<=D&&D<=1524,a=1569<=D&&D<=1594||1600<=D&&D<=1749;
if(P||a)M++}var e=M>A.length/2;for(var G=0;G<d.length;G+=2){var Y=d[G],H=14,C="DejaVuSans";if(Y==0)continue;
var l=d[G+1],h=K[l],s=QM.fy(p,f,f+Y-1),J=h.NSColor;if(J==null){var J=h.MSAttributedStringColorDictionaryAttribute;
if(J==null)J=h.MSAttributedStringColorAttribute;if(J==null)J="0 0 0";else J=[J.red,J.green,J.blue].join(" ")}else if(x._N(J)=="MSArchivedColor")J=J.dr+" "+J.dg+" "+J.db;
else if(J.NSRGB){J=J.NSRGB;J=v.Ms(J,0,J.length-1)}else if(J.NSCMYK){J=J.NSCMYK;J=v.Ms(J,0,J.length-1);
J=J.split(" ").map(parseFloat);var u=1-J[0],Q=1-J[1],W=1-J[2],q=1-J[3];J=u*q+" "+Q*q+" "+W*q}else if(J.NSWhite){J="1 1 1"}J=J.split(" ");
s.K$.FillColor={Type:1,Values:[1,parseFloat(J[0]),parseFloat(J[1]),parseFloat(J[2])]};var k=h.MSAttributedStringFontAttribute;
if(h.NSFont){H=h.NSFont.NSSize;C=h.NSFont.NSName}else if(k){if(k.attributes){k=k.attributes;H=k.size;
C=k.name}else{var i=k.NSFontDescriptorAttributes;if(i==null)i=k.UIFontDescriptorAttributes;k=i;H=k.NSFontSizeAttribute;
C=k.NSFontNameAttribute}if(C==null)C="DejaVuSans"}var N=Math.max(N,H);s.K$.FontSize=Math.round(H);QM.xz(s,C);
var m=h.NSKern;if(m==null)m=h.kerning;if(m!=null)s.K$.Tracking=Math.round(1e3*m/H);if(h.NSUnderline!=null)s.K$.Underline=h.NSUnderline>0;
if(h.NSStrikethrough!=null)s.K$.Strikethrough=h.NSStrikethrough>0;if(h.MSAttributedStringTextTransformAttribute==1)s.K$.FontCaps=2;
var w=h.NSParagraphStyle;if(w==null)w=h.paragraphStyle;if(w){var S=w.paragraphSpacing;if(S!=null){s.hw.SpaceAfter=S}var o=w.NSAlignment;
if(o==null)o=w.alignment;if(o!=null){var O=0;if(!1){}else if(o==1)O=1;else if(o==2)O=2;else if(o==4)O=0;
else{O=o;console.log("unknown align",o)}if(e&&O<2)O=1-O;s.hw.Justification=O}var t=w.NSMinLineHeight;
if(t==null)t=w.minimumLineHeight;if(t!=null){s.K$.AutoLeading=!1;s.K$.Leading=Math.round(t)}}s.hw._Direction=e?1:0;
QM.gh(p,f,f+Y,s);f+=Y}return N};Mp.eIh=function(p,d,K,A,x,M,G){var D=Mp,P=JSON.parse(QG.default),e=!1;
for(var a=0;a<QG.order.length;a++)P[QG.mV[a]]={t:"VlLs",v:[]};var f=K.fills,N=D.VX(p,f,A,x,M,d);for(var Y=0;
Y<2;Y++){var l=K[["shadows","innerShadows"][Y]];if(l==null)continue;var h=["DrSh","IrSh"][Y],s=QG.mV[QG.order.indexOf(h)];
for(var a=0;a<l.length;a++){var J=l[a];if(!J.isEnabled)continue;if(J.contextSettings.opacity==0||J.color.alpha==0)continue;
var u=JSON.parse(QG.oA[QG.order.indexOf(h)]);P[s].v.unshift({t:"Objc",v:u});e=!0;u.Clr.v=D.rM(J.color);
u.blur.v.val=Math.round(J.blurRadius/x.st());var Q=x.clone();Q.ol=Q.lF=0;Q.an();var W=Q.zK(new QP(J.offsetX,J.offsetY)),q=Math.sqrt(W.x*W.x+W.y*W.y);
u.Dstn.v.val=Math.round(q);u.lagl.v.val=Math.round(Math.atan2(W.y,-W.x)*(180/Math.PI));if(u.layerConceals)u.layerConceals.v=N.length!=0;
D.ue(J,u)}}var H=K.borders;if(H!=null&&(N.length==0||K.blur==null||!K.blur.isEnabled))for(var a=0;a<H.length;
a++){var C=H[a];if(!C.isEnabled)continue;var u=JSON.parse(QG.oA[QG.order.indexOf("FrFX")]),s=QG.mV[QG.order.indexOf("FrFX")];
P[s].v.unshift({t:"Objc",v:u});e=!0;u.Clr.v=D.rM(C.color);if(C.fillType!=0&&C.gradient){var k=D.tW(C.gradient,A,x,M),i=["Type","Angl","Ofst","Scl"];
for(var a=0;a<i.length;a++)u[i[a]]=k[i[a]];u.Grad.v=k.Grad.v;u.PntT.v.FrFl="GrFl"}u.Sz.v.val=C.thickness/x.st();
u.Styl.v.FStl=["CtrF","InsF","OutF"][C.position];D.ue(C,u)}for(var a=G?1:0;a<N.length;a++){var m=N[a],s=QG.mV[QG.order.indexOf(m.type)];
P[s].v.unshift(m.S);e=!0}return e?P:null};Mp.VX=function(p,d,K,A,x,M,G){if(d==null)return[];var D=Mp,P=[];
for(var a=0;a<d.length;a++)if(d[a].isEnabled)P.push(d[a]);d=P;var e=[];for(var a=0;a<d.length;a++){var f=d[a],N=null,Y=null;
if(f.fillType==0){N="SoFi";var l=JSON.parse(QG.oA[QG.order.indexOf("SoFi")]);Y={t:"Objc",v:l};Y.v.Clr.v=D.rM(f.color)}else if(f.fillType==1){N="GrFl";
Y={t:"Objc",v:D.tW(f.gradient,K,A,x)}}else if(f.fillType==4&&f.image!=null){var h=f.image;if(G)h=G.value;
var s=QH.BU(h.bdata.buffer);if(s!=null&&s!="pdf"&&s!="eps"){var J,q=0,H=0,C=0;if(M.pj[h.key])J=M.pj[h.key];
else{var u=QH.If(s).W$(h.bdata)[0];J={data:u.data,m:new R(0,0,u.Uo.t,u.Uo.D)};J.id=QZ.Ex()+"-d71c-11e5-b1ae-a548a96e5f9f";
J.name="someImage";J.nM=new Uint8Array(J.data);delete J.data;M.zI(J);M.pj[h.key]=J}var l=JSON.parse(QG.oA[QG.order.indexOf("patternFill")]);
N="patternFill";Y={t:"Objc",v:l};var Q=f.patternFillType,W=f.patternTileScale;l.Algn.v=!0;l.Ptrn.v.Idnt.v=J.id;
if(Q==0){q=W*J.m.t/Math.min(J.m.t,J.m.D);H=-A.ol;C=-A.lF}else{q=Math.max(K.t/J.m.t,K.D/J.m.D);H=-A.ol-(J.m.t*q-K.t)/2;
C=-A.lF-(J.m.D*q-K.D)/2}l.Scl.v.val=100*q*(1/A.st());l.phase.v.Hrzn.v=Math.round(H/A.st());l.phase.v.Vrtc.v=Math.round(C/A.st())}}else if(f.fillType==5){console.log("fill type Noise not supported yet")}else console.log("unknown fill type",f.fillType);
if(N!=null){D.ue(f,Y.v);e.push({type:N,S:Y})}}return e};Mp.eia=function(p){var d=Mp,K=new R(0,0,1,1);
p=p.slice(0);while(!0){var A=!1;for(var x=0;x<p.length-1;x++){var M=p[x],G=p[x+1],D=null,P=M.contextSettings;
if(M.fillType==0&&(P==null||P.opacity==1&&P.blendMode==0)&&M.color.alpha==1){var a="norm",e=1,P=G.contextSettings;
if(P){e=P.opacity;a=eE.UW(d.tp[P.blendMode])}if(G.fillType==0){D=JSON.parse(JSON.stringify(G));d.Vy(D.color,M.color,D.color,K,a,e)}if(G.fillType==1){D=JSON.parse(JSON.stringify(G));
var f=D.gradient.stops;for(var N=0;N<f.length;N++)d.Vy(f[N].color,M.color,f[N].color,K,a,e)}if(D!=null&&D.contextSettings){var P=D.contextSettings;
P.opacity=1;P.blendMode=0}}if(D!=null){p.splice(x,0,D);A=!0;break}}if(!A||p.length<2)break}return p};
Mp.Vy=function(p,d,K,A,x,M){var G=Mp,D=Z.p(4);G.Vf(p,D);var P=Z.p(4);G.Vf(d,P);Z.h.gQ(x,D,A,P,A,A,M);
G.eIY(P,K)};Mp.Vf=function(p,d){d[0]=255*p.red;d[1]=255*p.green;d[2]=255*p.blue;d[3]=255*p.alpha};Mp.eIY=function(p,d){d.red=p[0]/255;
d.green=p[1]/255;d.blue=p[2]/255;d.alpha=p[3]/255};Mp.VT=function(p,d){p=p.clone();p.Wm=24;p.Hv("Mask by "+p.getName());
d.L.push(p);p.add.lsct=ew.rK;p.add.lyid=d.gT();delete p.add.lmfx;delete p.add.SoCo;delete p.add.GdFl;
delete p.add.PtFl;delete p.add.iOpa;if(p.add.vmsk)p.add.vmsk.dJ=!0;p.u_(d);if((p.Wm&16)==16)p.Wm-=16;
if((p.Wm&2)==2)p.Wm-=2;p.yk="pass";p.opacity=255};Mp.tp="Nrml Drkn Mltp CBrn Lghn Scrn CDdg Ovrl SftL HrdL Dfrn Xclu H Strt Clr Lmns linearBurn linearDodge".split(" ");
Mp.tW=function(p,d,K,A){K=K.clone();K.an();K.ol=K.lF=0;var x=K.st(),N=0,Y=0;K.scale(1/x,1/x);var M=Mp,G=JSON.parse(QG.oA[QG.order.indexOf("GrFl")]),D=G.Grad.v;
D.Intr.v=0;if(p==null)return G;var P=p.gradientType,a=M.ym(p.from),e=M.ym(p.to);a.offset(-.5,-.5);e.offset(-.5,-.5);
a=K.zK(a);e=K.zK(e);var f=Math.atan2(-(e.y-a.y),e.x-a.x);G.Type.v.GrdT=["Lnr","Rdl","Angl"][P];G.Scl.v.val=100*QP.gG(a,e);
if(P==0){G.Angl.v.val=180/Math.PI*f;G.Scl.v.val=100*QP.gG(a,e);N=(a.x+e.x)/2;Y=(a.y+e.y)/2}if(P==1){G.Scl.v.val=200*QP.gG(a,e);
N=a.x;Y=a.y}if(P==2){G.Angl.v.val=180/Math.PI*(f-Math.PI/2)}var l=G.Ofst.v;l.Hrzn.v.val=N*100;l.Vrtc.v.val=Y*100;
var h=[];for(var s=0;s<p.stops.length;s++){var J=p.stops[s],u=J.color;h.push([J.position,u?[u.red,u.green,u.blue]:[0,0,0],u.alpha])}Z.k.et(h,D);
return G};Mp.ue=function(p,d){var K=Mp,A=1,x=p.contextSettings;if(x!=null){d.Md.v.BlnM=K.tp[x.blendMode];
A*=x.opacity}else d.Md.v.BlnM=K.tp[0];d.enab.v=p.isEnabled;if(d.uglg!=null)d.uglg.v=!1;if(p.color!=null)A*=p.color.alpha;
d.Opct.v.val=Math.round(A*100)};Mp.rM=function(p){return Z.k.wI(p?{N:p.red*255,w:p.green*255,M:p.blue*255}:{N:0,w:0,M:0})};
Mp.LH=function(p,d,K){var A=Mp,x=[{type:6},{type:8,all:0}];for(var M=0;M<p.length;M++){var G=p[M],D=G.booleanOperation,P=0,a=G._class,h=!1;
if(a=="group"||a=="text"||a=="symbolInstance"||a=="slice"){console.log(a+" inside ShapeGroup");continue}if(D==-1)P=0;
else if(D==0)P=1;else if(D==1)P=2;else if(D==2)P=3;else if(D==3)P=0;if(M==0)P=1;var e=Mp.rq(G.frame),f=A.Vk(G,d),N=G.path?G.path:G,Y=[{type:0,length:0,Ez:P,LC:2,if:0,qP:0}],l=N.points;
for(var s=0;s<l.length;s++){var J=l[s],u=A.ym(J.curveTo),Q=A.ym(J.point),W=A.ym(J.curveFrom);h=h||J.hasCurveFrom&&!W.GR(Q)||J.hasCurveTo&&!u.GR(Q)}var q=[];
if(!h){var H=[],C=l.length;if(C==0)continue;for(var s=0;s<C;s++){q[s]=l[s].cornerRadius;var J=A.ym(l[s].point);
H.push(J.x,J.y)}f.scale(1/e.t,1/e.D);f.an();Z._.u(H,f,H);var k=Z.e.oP(H,q);Y=Y.concat(k);Y[0].length=Y.length-1}else{var i=l.length;
Y[0].length=i;for(var s=0;s<i;s++){var J=l[s],m=J.curveMode,w=A.ym(J.point);Y[1+s]={type:m==2||m==4?1:2,Gp:J.hasCurveTo?A.ym(J.curveTo):w.clone(),I:w,UL:J.hasCurveFrom?A.ym(J.curveFrom):w.clone()}}f.scale(1/e.t,1/e.D);
f.an();Z.e.RF(Y,f);var q=[];for(var s=0;s<i;s++){var J=l[s],m=J.curveMode,S=J.cornerRadius;if(m==1&&S!=0)q.push(S);
else q.push(0)}}if(!N.isClosed)for(var s=0;s<Y.length;s++)Y[s].type+=3;x=x.concat(Y);var o=Z.B$.MS(),O=A._N(G);
if(f.M==0&&f.$H==0){var t=f.ol,c=f.lF,g=t+f.V,j=c+f.Wb,_=[t,c,g,j];if(O=="rectangle"&&q.length==4)o=Z.B$.pN(2,_,q);
if(O=="oval")o=Z.B$.pN(5,_)}K.push(o)}return x};Mp.Vk=function(p,d){var K=d.clone(),A=p.frame?Mp.rq(p.frame):null;
if(A)K.translate(-A.x-A.t/2,-A.y-A.D/2);if(p.isFlippedHorizontal)K.scale(-1,1);if(p.isFlippedVertical)K.scale(1,-1);
K.rotate(-p.rotation*(Math.PI/180));if(A)K.translate(A.t/2,A.D/2);return K};Mp.ym=function(p){p=p.slice(1,p.length-1).split(",");
return new QP(parseFloat(p[0]),parseFloat(p[1]))};Mp.rq=function(p){return new R(p.x,p.y,p.width,p.height)};
Mp.Vi=function(p){return{_class:"rect",constrainProportions:!1,x:p.x,y:p.y,width:p.t,height:p.D}};function Gp(){}Gp.RL=function(p,d){var K=Gp,A=UZIP.parse(p),x=JSON.parse(v.Il(A.manifest)),M=JSON.parse(v.Il(A["resources/graphics/graphicContent.agc"])).resources,G=[],D=x.children;
for(var P=0;P<D.length;P++){var a=D[P];if(a.name=="artwork"){var e=a.children;for(var f=0;f<e.length;
f++)if(e[f]["uxdesign#bounds"]){var N=e[f],Y=JSON.parse(v.Il(A["artwork/"+N.path+"/graphics/graphicContent.agc"]));
if(Y.children.length!=1)throw"e";N._node=Y.children[0];G.push(N)}}}var l=[],h=new R;for(var P=0;P<G.length;
P++){var N=G[P],s=Mp.rq(N["uxdesign#bounds"]);l.push(s);h=h.ck(s)}var J=Mp.mY(h,8192*8192);d.pd=!0;d.t=Math.round(h.t/J);
d.D=Math.round(h.D/J);d.buffer=Z.p(d.t*d.D*4);d.Oj(G.length);var u=new QI(J,0,0,J,h.x,h.y);d.pj={};for(var P=0;
P<G.length;P++){var N=G[P],s=Mp.rq(N["uxdesign#bounds"]),Q=N._node,W=u.clone(),q=s.clone(),H=W.st();
W.translate(-s.x,-s.y);q.x=-Math.floor(W.ol/H);q.y=-Math.floor(W.lF/H);q.t=Math.floor(q.t/H);q.D=Math.floor(q.D/H);
W.translate(s.x,s.y);Gp._g(Q,d,W,M,A,q);var C=d.L[d.L.length-1];C.Hv(N.name);C.Pw(q);if(P!=G.length-1)C.add.lsct=ew.Wy}delete d.pj;
console.log(d.Y)};Gp.Fu=function(p){if(p==null)return new QI;return new QI(p.a,p.b,p.c,p.d,p.tx,p.ty)};
Gp._g=function(p,d,K,A,x,M){var G=Gp,D=p.type,P=p[D],a=p.style,e=G.Fu(p.transform),l,h="none",s,J="none",u,Q;
e.an();var f=K.clone();f.concat(e);var N=d.sP(),Y=p.name;N.Hv(Y?Y.slice(0,250):"Layer");if(p.visible!=null)N.qJ(p.visible);
if(a){l=a.stroke;h=l?l.type:"none";s=a.fill;J=s?s.type:"none";u=a.filters;Q=a.clipPath;if(a.opacity)N.opacity=Math.round(255*a.opacity);
if(J=="solid"&&s.color.alpha)N.opacity=Math.round(N.opacity*s.color.alpha);if(u){N.add.lmfx=G.eRM(u);
for(var W=0;W<u.length;W++)if(u[W].type=="uxdesign#blur"){var q=u[W],H=q.params,C=H.brightnessAmount;
if(C==null)C=0;C=Math.abs(C/100);if((q.visible==null||q.visible==!0)&&H.backgroundEffect)N.opacity=Math.round(N.opacity*(C+(1-C)*H.fillOpacity))}}if(J=="pattern"&&s.pattern.meta.ux.uid=="")J="none"}if(D=="artboard"||D=="group"){if(Q&&A.clipPaths[Q.ref]){var k=A.clipPaths[Q.ref].children[0],i=k.shape,m=i!=null&&i.type=="rect"&&i.width*i.height>1e6;
if(k.type!="text"&&!m){var e=G.Fu(k.transform);e.an();var w=f.clone();w.concat(e);N.add.vmsk=new V.mK;
N.add.vmsk.Z=G.LH(i);w=w.clone();w.an();Z.e.RF(N.add.vmsk.Z,w);N.u_(d)}else if(!m)alert("Clipping by text has been ignored")}N.add.lsct=ew.rK;
N.yk="pass";N.Wm=24;if(p.visible!=null)N.qJ(p.visible);d.L.push(d.dN());var S=P.children,o=s;if(o)o=o.color;
if(o)o=o.value;if(s&&(J!="solid"||o.r!=255||o.g!=255||o.b!=255)){var O=d.sP();O.Hv("BACKGROUND");O.Wm|=16;
O.add.vstk=JSON.parse(JSON.stringify(QG.Wh.default));O.add.vmsk=new V.mK;O.add.vmsk.Z=G.LH({type:"rect",x:M.x,y:M.y,width:M.t,height:M.D});
G.tg(s,J,f,M,M,O,d,A,x);O.u_(d);d.L.push(O)}for(var W=0;W<S.length;W++){Gp._g(S[W],d,f,A,x,M)}}else if(D=="shape"&&p.shape.type=="rect"&&(p.shape.r==null||p.shape.r==0)&&J=="pattern"&&Math.abs(p.shape.width/p.shape.height-s.pattern.width/s.pattern.height)<.01){var t=s.pattern,c=t.meta.ux,g=c.uid,j=x["resources/"+g];
if(j==null){console.log(t);return}var _=d.tQ(j,N.getName(),0,0);_.Wm=N.Wm;_.opacity=N.opacity;N=_;var U=Z._.MF(new R(0,0,t.width,t.height)).B,$=new QI;
$.scale(t.width/p.shape.width,t.height/p.shape.height);f.concat($);f.an();Z._.u(U,f,U);N.add.SoLd.Trnf=r.ge.oZ(U);
N.add.SoLd.nonAffineTransform=r.ge.oZ(U);N.uc(d,!1)}else if(D=="shape"){N.Wm|=16;N.add.vstk=JSON.parse(JSON.stringify(QG.Wh.default));
N.add.vmsk=new V.mK;N.add.vmsk.Z=G.LH(P);var I=Z.e.Du(N.add.vmsk.Z,null),w=f.clone();w.an();Z.e.RF(N.add.vmsk.Z,w);
var E=Z.e.Du(N.add.vmsk.Z,null);if(h=="none"){}else{var b=l.color.value,z,QS;z="SoFi";var QQ=JSON.parse(QG.oA[QG.order.indexOf("SoFi")]);
QS={t:"Objc",v:QQ};QS.v.Clr.v=Z.k.wI({N:b.r,w:b.g,M:b.b});var Qe=l.align,QB=l.cap;if(Qe==null)Qe="center";
var QU=N.add.vstk;QU.strokeEnabled.v=!0;QU.strokeStyleLineWidth.v.val=l.width;if(Qe)QU.strokeStyleLineAlignment.v.strokeStyleLineAlignment=QG.Wh.zW[["inside","center","outside"].indexOf(Qe)];
if(QB)QU.strokeStyleLineCapType.v.strokeStyleLineCapType=QG.Wh.zR[["butt","round","square"].indexOf(QB)];
var Qt=["SoFi","GrFl","patternFill"].indexOf(z),F=[QG.Za,QG.xM,QG.xU][Qt];QU.strokeStyleContent.v={classID:QG.Wh.XJ[0]};
var L=QU.strokeStyleContent.v={classID:QG.Wh.XJ[Qt]};for(var W=0;W<F.length;W++)L[F[W]]=QS.v[F[W]]}if(u)for(var W=0;
W<u.length;W++)if(u[W].type=="uxdesign#blur"&&u[W].visible){var Qu=u[W];N.add.vmsk.EU=Qu.params.blurAmount}G.tg(s,J,f,I,E,N,d,A,x);
N.u_(d)}else if(D=="text"&&p.text){var QK=p.text,Qm=QK.frame,ei=a.font,Qp=a.textAttributes,e=f.clone(),eS=0;
e.an();N.add.lnsr="rend";N.add.TySh=QM.av(0,0);N.add.TySh.MB=new R(0,0,100,100);N.add.TySh.u=e;var QO=N.add.TySh.Nf,QE=QK.rawText.replace(/\r/g,"\n").replace(/\u000b/g,"\n");
QM.bN(QO,0,QE);if(QE!=""){var Qi=QM.fy(QO,0,1),QV=ei.postscriptName;if(QV==null)QV=ei.family;QM.xz(Qi,QV);
Qi.K$.FontSize=Math.round(ei.size);if(s){var b=s.color.value;Qi.K$.FillColor={Type:1,Values:[1,b.r/255,b.g/255,b.b/255]}}if(Qp){if(Qp.paragraphAlign)Qi.hw.Justification=["left","right","center"].indexOf(Qp.paragraphAlign);
if(Qp.letterSpacing)Qi.K$.Tracking=Math.round(Qp.letterSpacing);if(Qp.lineHeight){Qi.K$.AutoLeading=!1;
Qi.K$.Leading=Math.round(Qp.lineHeight)}}QM.gh(QO,0,QE.length,Qi)}var Q$=p.meta.ux.rangedStyles;if(Q$)for(var W=0;
W<Q$.length;W++){var P=Q$[W],Qs=Math.min(P.length,QE.length-eS),Qi=QM.fy(QO,eS,eS+Qs),Qw=P.textScript,Q_=P.underline,QN=P.fontSize,q=P.fill;
if(Qw&&Qw!="none")Qi.K$.FontBaseline=Qw=="superscript"?1:2;if(Q_!=null)Qi.K$.Underline=Q_;if(QN!=null)Qi.K$.FontSize=Math.round(QN);
if(q!=null){var eK=q.value;Qi.K$.FillColor={Type:1,Values:[1,(eK>>>16&255)/255,(eK>>>8&255)/255,(eK>>>0&255)/255]}}QM.gh(QO,eS,eS+Qs,Qi);
eS+=Qs}if(Qm.type=="area"){QM.aP(QO,1);QM.wv(QO,[0,0,Qm.width,Qm.height])}}else console.log(D,p);d.L.push(N)};
Gp.LH=function(p){var d=p.type,K=[{type:6},{type:8,all:0}];if(d=="rect"){var A=p.r,x=p.x,M=p.y,G=p.width,D=p.height;
if(A==null)K=Z.e.Ek.Rect(x,M,G,D,0);else K=K.concat([{type:0,Ez:1,length:8,if:0,qP:0,LC:1}]).concat(Z.e.oP([x,M,x+G,M,x+G,M+D,x,M+D],A,!1))}else if(d=="circle"){var A=p.r;
K=Z.e.Ek.Ao(p.cx-A,p.cy-A,2*A,2*A)}else if(d=="ellipse"){var P=p.rx,a=p.ry;K=Z.e.Ek.Ao(p.cx-P,p.cy-a,2*P,2*a)}else if(d=="path"||d=="compound"){var e=Typr.U.SVGToPath(p.path);
K=Z._.Li({$:e.cmds,B:e.crds},!1)}else if(d=="line"){var f=p.x1,N=p.x2,Y=p.y1,l=p.y2;K=K.concat([{type:0,Ez:1,length:2,if:0,qP:0,LC:1}]).concat(Z.e.oP([f,Y,N,l],0,!0))}else if(d=="polygon"){var h=p.points,s=[];
for(var J=0;J<h.length;J++)s.push(h[J].x,h[J].y);K=K.concat(Z.e.Ek.gj(s,0,!1).slice(2))}else console.log(d,p);
return K};Gp.eRM=function(p){var d=JSON.parse(QG.default);for(var K=0;K<QG.order.length;K++)d[QG.mV[K]]={t:"VlLs",v:[]};
for(var K=0;K<p.length;K++){var A=p[K],x=A.type,M=A.params,G=A.visible;if(x=="dropShadow"){var D=QG.mV[QG.order.indexOf("DrSh")],P=JSON.parse(QG.oA[QG.order.indexOf("DrSh")]);
d[D].v.unshift({t:"Objc",v:P});var a=M.dropShadows;if(a.length!=1)throw"e";var e=a[K],f=e.color,N=f.value,Y=e.dx,l=e.dy;
P.Clr.v=Z.k.wI({N:N.r,w:N.g,M:N.b});P.Opct.v.val=Math.round((f.alpha!=null?f.alpha:1)*100);P.uglg.v=!1;
P.enab.v=G!=null?G:!0;P.lagl.v.val=Math.round(180/Math.PI*Math.atan2(l,-Y));P.Dstn.v.val=Math.round(Math.sqrt(Y*Y+l*l));
P.blur.v.val=Math.round(e.r*2.3)}}return d};Gp.tg=function(p,d,K,A,x,M,G,D,P){var a=Gp;if(d=="none"){M.add.vstk.fillEnabled.v=!1;
M.add.SoCo={classID:"null",Clr:{t:"Objc",v:Z.k.wI({N:0,w:0,M:0})}}}else{var e,f,N;if(d=="solid"){var Y=p.color.value;
e="SoCo";f=QG.Za;var l=JSON.parse(QG.oA[QG.order.indexOf("SoFi")]);N={t:"Objc",v:l};N.v.Clr.v=Z.k.wI({N:Y.r,w:Y.g,M:Y.b})}else if(d=="gradient"){e="GdFl";
f=QG.xM;var l=JSON.parse(QG.oA[QG.order.indexOf("GrFl")]),h=l.Grad.v,W,q,H;h.Intr.v=0;var s=p[d],J=D.gradients[s.ref],u=["linear","radial"].indexOf(J.type),Q=J.stops;
l.Type.v.GrdT=["Lnr","Rdl","Angl"][u];if(u==0){var W=new QP(s.x1,s.y1),q=new QP(s.x2,s.y2);W.x=q.x+.5*(W.x-q.x);
W.y=q.y+.5*(W.y-q.y)}else{var W=new QP(s.cx,s.cy),q=new QP(s.cx+s.r,s.cy)}H=x;if(s.units=="objectBoundingBox"){var C=new QI(A.t,0,0,A.D,A.x,A.y);
W=C.zK(W);q=C.zK(q)}var C=a.Fu(s.transform);W=C.zK(W);q=C.zK(q);C=K.clone();C.an();W=C.zK(W);q=C.zK(q);
Z.k.hz(W,q,H,l);var k=[];for(var i=0;i<Q.length;i++){var m=Q[i],w=m.color,Y=w.value,S=w.alpha;if(S==null)S=1;
k.push([m.offset,[Y.r/255,Y.g/255,Y.b/255],S])}Z.k.et(k,h);N={t:"Objc",v:l}}else if(d=="pattern"){e="PtFl";
f=QG.xU;var l=JSON.parse(QG.oA[QG.order.indexOf("patternFill")]),j,E=1,b=0,z=0,QS=1;N={t:"Objc",v:l};
var o=p[d],O=o.meta.ux,t=O.uid,c=P["resources/"+t].buffer,g=QH.BU(c);if(G.pj[t])j=G.pj[t];else{var _=new R(0,0,o.width,o.height),U;
if(_.kQ()){_=new R(0,0,1,1);U=new ArrayBuffer(4)}else{var $=QH.If(g);if($.aw){var I=new QZ;$.W$(c,I);
U=I.zi().buffer}else U=$.W$(c)[0].data}j={data:U,m:_};j.id=QZ.Ex()+"-d71c-11e5-b1ae-a548a96e5f9f";j.name="someImage";
j.nM=new Uint8Array(j.data);delete j.data;G.zI(j);G.pj[t]=j}l.Algn.v=!0;l.Ptrn.v.Idnt.v=j.id;if(O.scaleBehavior=="cover"){E=QS*Math.max(x.t/j.m.t,x.D/j.m.D);
if(O.scale!=null)E*=O.scale;b=x.x-(j.m.t*E-x.t)/2;z=x.y-(j.m.D*E-x.D)/2;if(O.offsetX!=null)b+=O.offsetX*j.m.t*E;
if(O.offsetY!=null)z+=O.offsetY*j.m.D*E}else if(O.scaleBehavior=="fill"){E=QS*Math.min(x.t,x.D)/Math.max(j.m.t,j.m.D);
b=x.x-(j.m.t*E-x.t)/2;z=x.y-(j.m.D*E-x.D)/2}else throw"Unknown scale behaviour";l.Scl.v.val=100*E;l.phase.v.Hrzn.v=Math.round(b);
l.phase.v.Vrtc.v=Math.round(z)}else console.log(d);if(e!=null){M.add[e]={classID:"null"};for(var i=0;
i<f.length;i++){var QQ=f[i];M.add[e][QQ]=N.v[QQ]}}}};function e_(){}e_.RL=function(p,d){p=new Uint8Array(p);
var K=v.Il(p,0,p.length),A=new DOMParser,x=A.parseFromString(K,"image/svg+xml"),M=x.getElementsByTagName("style")[0];
if(M)M=Typr.U.SVG.cssMap(M.textContent);else M={};var G=x.firstChild;while(G.tagName!="svg")G=G.nextSibling;
var D=new R(0,0,100,100),P=G.getAttribute("viewBox"),a=G.getAttribute("width"),e=G.getAttribute("height");
if(P){var f=e_.cS(P);D.x=f[0];D.y=f[1];D.t=f[2];D.D=f[3]}else if(a!=null||e!=null){D.t=a!=null?parseFloat(a):parseFloat(e);
D.D=e!=null?parseFloat(e):parseFloat(a)}D=Z._.ND(D);d.pd=!0;d.t=D.t;d.D=D.D;d.buffer=Z.p(D.r()*4);var N=new QI(1,0,0,1,-D.x,-D.y),Y={gF:e_.xQ(G),eQp:M};
e_._j(x,G.children,d,N,Y,new QI,0);if(d.L.length==0){var l=d.sP();l.Hv("Layer");d.L.push(l)}};e_.cS=function(p){var d=" ";
if(p.indexOf(",")!=-1)d=",";return p.split(d).map(parseFloat)};e_._j=function(p,d,K,A,x,M,G){var D=e_,P=["display","opacity","fill-opacity"];
for(var a=0;a<d.length;a++){var e=d[a],f=e.tagName,N=e.getAttribute("id"),Y=D.xQ(e,x.eQp),h=13,W=1,C="clip-path",k=null;
for(var l in x.gF)if(P.indexOf(l)==-1&&Y[l]==null)Y[l]=x.gF[l];if(Y["font-size"])h=D.up(Y["font-size"],h);
if(e.getAttribute("dx"))A.ol+=D.up(e.getAttribute("dx"),h);if(e.getAttribute("dy"))A.lF+=D.up(e.getAttribute("dy"),h);
var s=D.xG(e);s.concat(A);var J=e.getAttribute("visibility"),u=Y.display,Q=K.sP();if(J=="hidden"||u=="none")Q.qJ(!1);
Q.Hv(N!=null?N.split(":::")[0]:"Layer");if(Y.opacity)W*=parseFloat(Y.opacity);if(Y["fill-opacity"]){var q=parseFloat(Y["fill-opacity"]);
if(q!=0)W*=q}Q.opacity=Math.round(255*W);if(Y["mix-blend-mode"]){var H=eE.ecp.indexOf(Y["mix-blend-mode"]);
if(H!=-1)Q.yk=eE.ok[H]}if(e.getAttribute(C)==null)C="mask";if(e.getAttribute(C)!=null){var i=e.getAttribute(C);
i=i.slice(4,i.length-1);var m=p.getElementById(i.slice(1));if(m){var w=m.children;k=K.sP();k.Hv("Clip-Path"+(N?": "+N:""));
k.add.lsct=G<2?ew.rK:ew.Wy;k.yk="pass";k.Wm=24;var S=k.add.vmsk=new V.mK;K.L.push(K.dN());var o=[];if(m.getAttribute(C)){var i=m.getAttribute(C);
i=i.slice(4,i.length-1);o=p.getElementById(i.slice(1)).children}for(var O=0;O<w.length;O++){var t=D.xG(w[O]);
t.concat(s);var c=D.LH(p,w[O],!1).slice(2);Z.e.RF(c,t);S.Z=S.Z.concat(c)}for(var O=0;O<o.length;O++){var t=D.xG(w[O]);
t.concat(s);var c=D.LH(p,o[O],!1).slice(2);for(var g=0;g<c.length;g++)if(c[O].Ez!=null)c[O].Ez=3;Z.e.RF(c,t);
S.Z=S.Z.concat(c)}k.oK();k.u_();G++}}if(f=="g"||f=="a"||f=="svg"||f=="switch"||(f=="text"||f=="textPath")&&e.children.length>0){if(f=="text")M=D.Yb(e,M);
var j=e.getAttribute("viewBox"),_=e.getAttribute("width"),U=e.getAttribute("height");if(j&&_&&U){var $=e_.cS(j),I=D.Yb(e),E=new QI;
E.translate(-$[0],-$[1]);E.scale(parseFloat(_)/$[2],parseFloat(U)/$[3]);E.translate(I.ol,I.lF);E.concat(s);
s=E}var b=e.children.length,z=x.gF;x.gF=Y;var QS=f!="text"&&f!="textPath"||b>1;if(QS){var QQ=Q.Ml();
Q.add.lsct=G<2&&QQ&&(N==null||!N.endsWith(":::"))?ew.rK:ew.Wy;Q.yk="pass";Q.Wm=24;Q.qJ(QQ);K.L.push(K.dN())}D._j(p,e.children,K,s,x,M,G+1);
if(QS)K.L.push(Q);x.gF=z}else if(f=="use"){var E=D.Yb(e);E.concat(s);var Qe=D.xO(e),QB=p.getElementById(Qe.slice(1)),z=x.gF;
x.gF=Y;D._j(p,[QB],K,E,x,M,G+1);x.gF=z}else if(f=="path"||f=="rect"||f=="circle"||f=="ellipse"||f=="polygon"||f=="polyline"||f=="line"){Q.Wm|=16;
Q.add.vmsk=new V.mK;Q.add.vstk=JSON.parse(JSON.stringify(QG.Wh.default));Q.add.vstk.strokeEnabled.v=!1;
var QU=Q.add.vstk,S=Q.add.vmsk;S.Z=D.LH(p,e,Y["fill-rule"]=="evenodd");Z.e.RF(S.Z,s);var Qt=Z.e.Du(S.Z),F=Y.stroke,L=Y["stroke-width"],Qu=Y["stroke-dasharray"],QK=Y.fill,Qm=Y["stroke-linejoin"],ei=Y["stroke-linecap"],Qp=Y["paint-order"];
if(F==null||F=="none"||F=="null"){}else{var QO=D.ce(p,F,s,Qt),QE=["SoFi","GrFl","patternFill"].indexOf(QO.type),Qi=[QG.Za,QG.xM,QG.xU][QE],QV=QU.strokeStyleContent.v={classID:QG.Wh.XJ[QE]},Q$=1;
for(var O=0;O<Qi.length;O++)QV[Qi[O]]=QO.S.v[Qi[O]];L=L?parseFloat(L):1;if(Qp&&Qp.replace(/\s\s+/g," ").slice(0,11)=="stroke fill"){Q$=2;
L/=2}QU.strokeEnabled.v=!0;if(Qm)QU.strokeStyleLineJoinType.v.strokeStyleLineJoinType=QG.Wh.join[["miter","round","bevel"].indexOf(Qm)];
if(ei)QU.strokeStyleLineCapType.v.strokeStyleLineCapType=QG.Wh.zR[["butt","round","square"].indexOf(ei)];
QU.strokeStyleLineWidth.v.val=L*r.ge.st(s);QU.strokeStyleLineAlignment.v.strokeStyleLineAlignment=QG.Wh.zW[Q$];
QU.strokeStyleOpacity.v.val=100*(Y["stroke-opacity"]?parseFloat(Y["stroke-opacity"]):1);if(Qu!=null&&Qu!="none")QU.strokeStyleLineDashSet.v=QL.ZN(Qu.split(",").map(parseFloat),1/L)}if(QK=="none"||Y["fill-opacity"]&&parseFloat(Y["fill-opacity"])==0){Q.add.vstk.fillEnabled.v=!1;
Q.add.SoCo={classID:"null",Clr:{t:"Objc",v:Z.k.wI({N:0,w:0,M:0})}}}else{var QO=D.ce(p,QK,s,Qt),eS=null,Qs=null;
if(QO.type=="SoFi"){eS="SoCo";Qs=QG.Za}if(QO.type=="GrFl"){eS="GdFl";Qs=QG.xM}if(QO.type=="patternFill"){eS="PtFl";
Qs=QG.xU}if(eS!=null){Q.add[eS]={classID:"null"};for(var O=0;O<Qs.length;O++){var l=Qs[O];Q.add[eS][l]=QO.S.v[l]}}}if(Y.filter&&Y.filter!="none"){var Qw=Y.filter;
Qw=Qw.slice(5,Qw.length-1);var Q_=p.getElementById(Qw).children[0];if(Q_.tagName=="feGaussianBlur"){Q.add.vmsk.EU=parseFloat(Q_.getAttribute("stdDeviation"))*r.ge.st(s)}}Q.oK();
Q.u_(K);K.L.push(Q)}else if((f=="text"||f=="tspan")&&e.textContent!=""){M=D.Yb(e,M);var E=M.clone();
E.concat(s);if(e.children.length>0){var QN=D.xQ(e.children[0],x.eQp);for(var l in QN)if(P.indexOf(l)==-1)Y[l]=QN[l]}var eK=Y["xml:space"],Qz=e.textContent;
if(eK=="preserve")Qz=Qz.replace(/\t/g," ").replace(/\n/g," ");if(N==null)Q.Hv(Qz);Q.add.lnsr="rend";
Q.add.TySh=QM.av(0,0);Q.add.TySh.MB=new R(0,0,100,100);Q.add.TySh.u=E.clone();var eQ=Q.add.TySh.Nf;QM.bN(eQ,0,Qz);
var QK=Y.fill,Qd=Y["font-weight"],Qj=Y["font-family"],QD=Y["text-decoration"],F=Y.stroke,L=Y["stroke-width"];
if(Y["dominant-baseline"]=="text-before-edge")Q.add.TySh.u.translate(0,h);var Qq=QM.fy(eQ,0,1);if(QK&&QK!="none"){var et=CSS.rM(QK);
Qq.K$.FillColor={Type:1,Values:[1,et.N/255,et.w/255,et.M/255]}}if(QD=="underline")Qq.K$.Underline=!0;
Qq.K$.FontSize=Math.round(h);QM.xz(Qq,"LiberationSans");if(Qd=="bold")QM.xz(Qq,"LiberationSans-Bold");
if(Qj){var QC=Qj+":"+(Qd?Qd:"normal"),Qf={"'DejaVu Sans':normal":"DejaVuSans","'DejaVu Sans':bold":"DejaVuSans-Bold","'Nimbus Sans L':normal":"NimbusSanL-Reg","'Nimbus Sans L':bold":"NimbusSanL-Bol","Libre Franklin:300":"LibreFranklin-Light","Libre Franklin:400":"LibreFranklin-Regular","Libre Franklin:500":"LibreFranklin-Medium","Libre Franklin:600":"LibreFranklin-SemiBold","Libre Franklin:700":"LibreFranklin-Bold"};
if(Qf[QC])QM.xz(Qq,Qf[QC]);else QM.xz(Qq,Qj)}if(Y["text-anchor"])Qq.hw.Justification=["start","end","middle"].indexOf(Y["text-anchor"]);
QM.gh(eQ,0,Qz.length,Qq);if(F==null||F=="none"){}else{var QA=JSON.parse(QG.oA[QG.order.indexOf("FrFX")]);
QA.Clr.v=Z.k.wI(CSS.rM(F));QA.Sz.v.val=Math.round(parseFloat(L)*r.ge.st(E));var Qb=JSON.parse(QG.default);
for(var O=0;O<QG.order.length;O++)Qb[QG.mV[O]]={t:"VlLs",v:[]};Qb.frameFXMulti.v.push({t:"Objc",v:QA});
Q.add.lmfx=Qb}K.L.push(Q)}else if(f=="image"){var Qe=D.xO(e);if(Qe.slice(0,4)=="data"){var MS=QH.yj(Qe),QR=MS,eG=K.tQ(QR,Q.getName(),0,0);
eG.Wm=Q.Wm;Q=eG;var MG=Q.rect.clone();MG.x=MG.y=0;var MM=e.getAttribute("width"),MP=e.getAttribute("height");
if(MM)MG.t=parseFloat(MM);if(MP)MG.D=parseFloat(MP);var Mu=D.Yb(e);Mu.concat(s);var Mm=Z._.MF(MG).B;
Z._.u(Mm,Mu,Mm);Q.add.SoLd.Trnf=r.ge.oZ(Mm);Q.add.SoLd.nonAffineTransform=r.ge.oZ(Mm);Q.uc(K,!1);K.L.push(Q)}}else console.log("unknown tag: "+f,e.children.length,e.textContent.length);
if(k!=null){K.L.push(k);G--}}};e_.LH=function(p,d,K){var A=e_,x=[{type:6},{type:8,all:0}],M=d.tagName;
if(M=="use"){var G=A.xO(d),D=p.getElementById(G.slice(1)),P=new QI;if(D.tagName!="rect")P=A.Yb(D);P.concat(A.xG(D));
x=A.LH(p,D,K);Z.e.RF(x,P)}else if(M=="path"){var a=d.getAttribute("d");if(a==null)return x;var e=Typr.U.SVGToPath(a);
x=Z._.Li({B:e.crds,$:e.cmds},K)}else if(M=="rect"){var f=d.getAttribute("rx"),N=A.Yb(d);x=Z.e.Ek.Rect(N.ol,N.lF,parseFloat(d.getAttribute("width")),parseFloat(d.getAttribute("height")),f?parseFloat(f):0)}else if(M=="circle"||M=="ellipse"){var Y=[0,0,0,0],l=["cx","cy","rx","ry","r"];
for(var h=0;h<5;h++){var s=d.getAttribute(l[h]);if(s){s=parseFloat(s);if(h<4)Y[h]=s;else Y[2]=Y[3]=s}}x=Z.e.Ek.Ao(Y[0]-Y[2],Y[1]-Y[3],2*Y[2],2*Y[3])}else if(M=="polygon"||M=="polyline"||M=="line"){var J;
if(M=="line")J=[d.getAttribute("x1"),d.getAttribute("y1"),d.getAttribute("x2"),d.getAttribute("y2")].map(parseFloat);
else J=d.getAttribute("points").trim().replace(/\s\s+/g," ").split(",").join(" ").split(" ").map(parseFloat);
x=Z.e.Ek.gj(J,0,M!="polygon")}return x};e_.up=function(p,d){if(p.charAt(p.length-1)=="m")return d*parseFloat(p.slice(0,p.length-2));
else return parseFloat(p)};e_.ce=function(p,d,K,A){var x,M,G=e_,D=JSON.parse(QG.oA[QG.order.indexOf("SoFi")]),P=d!=null?d.indexOf("("):-1;
if(P!=-1){var a=d.indexOf(")"),e=d.slice(0,P).trim(),f=d.slice(P+1,a).trim();if(f.charAt(0)=="'")f=f.slice(1,f.length-1);
if(e=="url"){if(f.charAt(0)=="#"){var N=p.getElementById(f.slice(1));if(N&&N.tagName.toLowerCase().endsWith("gradient")){var Y=G.tW(p,N,K,A);
x="GrFl";M={t:"Objc",v:Y}}else{x="SoFi";M={t:"Objc",v:D}}}else console.log("unknown url",f)}else if(e=="rgb"){x="SoFi";
M={t:"Objc",v:D};M.v.Clr.v=Z.k.wI(CSS.rM(d))}else console.log("unknown fill",d)}else{x="SoFi";M={t:"Objc",v:D};
M.v.Clr.v=Z.k.wI(CSS.rM(d))}return{type:x,S:M}};e_.xG=function(p){var d=new QI,K=p.getAttribute("transform");
if(K)d=e_.uI(K);var A=p.getAttribute("style");if(A!=null){var x={};e_.uR(x,A,["transform"]);A=x.transform;
if(A)d.concat(e_.uI(A))}return d};e_.Yb=function(p,d){var K=new QI,A=p.getAttribute("x"),x=p.getAttribute("y");
if(A)K.ol=parseFloat(A);else if(d)K.ol=d.ol;if(x)K.lF=parseFloat(x);else if(d)K.lF=d.lF;return K};e_.uI=function(p){var d=Typr.U.SVG.readTrnf(p);
return new QI(d[0],d[1],d[2],d[3],d[4],d[5])};e_.xQ=function(p,d){var K={},A="fill-rule fill stroke stroke-width stroke-dasharray stroke-opacity stroke-linejoin stroke-linecap font-size font-weight font-family text-decoration text-anchor dominant-baseline stop-color stop-opacity filter display opacity fill-opacity paint-order mix-blend-mode xml:space".split(" ");
for(var x=0;x<A.length;x++){var M=p.getAttribute(A[x]);if(M!=null&&M!="inherit")K[A[x]]=M}var G=p.getAttribute("class");
if(d!=null&&G!=null&&d["."+G]!=null)e_.uR(K,d["."+G],A);var D=p.getAttribute("style");if(D!=null)e_.uR(K,D,A);
return K};e_.uR=function(p,d,K){d=d.trim().split(";");for(var A=0;A<d.length;A++){var x=d[A].split(":"),M=x[0]?x[0].trim():"",G=x[1]?x[1].trim():"";
for(var D=0;D<K.length;D++)if(M==K[D]&&G!="inherit")p[K[D]]=G}};e_.xO=function(p){var d=p.getAttribute("xlink:href");
if(d==null)d=p.getAttribute("href");return d};e_.tW=function(p,d,K,A){var x=e_,M=new QI,G=d.getAttribute("gradientTransform");
if(G)M=x.uI(G);M.concat(K);var D=JSON.parse(QG.oA[QG.order.indexOf("GrFl")]),P=D.Grad.v;P.Intr.v=0;var a=d.tagName,e=new QP(0,0),f=new QP(A.t,0);
if(a=="linearGradient"){D.Type.v.GrdT="Lnr";if(d.getAttribute("x1"))e.x=parseFloat(d.getAttribute("x1"));
if(d.getAttribute("y1"))e.y=parseFloat(d.getAttribute("y1"));if(d.getAttribute("x2"))f.x=parseFloat(d.getAttribute("x2"));
if(d.getAttribute("y2"))f.y=parseFloat(d.getAttribute("y2"));e.x=f.x+.5*(e.x-f.x);e.y=f.y+.5*(e.y-f.y)}if(a=="radialGradient"){D.Type.v.GrdT="Rdl";
if(d.getAttribute("cx"))e.x=parseFloat(d.getAttribute("cx"));if(d.getAttribute("cy"))e.y=parseFloat(d.getAttribute("cy"));
f.pf(e.x,e.y);if(d.getAttribute("r"))f.x+=parseFloat(d.getAttribute("r"))}if(d.getAttribute("gradientUnits")=="userSpaceOnUse"){e=M.zK(e);
f=M.zK(f)}else{e.x=A.x+e.x*A.t;e.y=A.y+e.y*A.D;f.x=A.x+f.x*A.t;f.y=A.y+f.y*A.D}Z.k.hz(e,f,A,D);var N=d.children;
if(N.length==0){var Y=x.xO(d);if(Y==null)throw"gradient has no stops";var l=p.getElementById(Y.slice(1));
if(l==null){console.log(Y.slice(1));throw"e"}var h=x.tW(p,l,M,A);D.Grad=h.Grad}else{var s=[];for(var J=0;
J<N.length;J++){var u=N[J],Q=x.xQ(u),W=Q["stop-color"],q=Q["stop-opacity"],H=u.getAttribute("offset");
if(W==null)W="#000000";if(q==null)q="1";var C=H?parseFloat(H):0;W=CSS.rM(W);s.push([C,[W.N/255,W.w/255,W.M/255],parseFloat(q)])}Z.k.et(s,P)}return D};
e_.fK=function(p,d,K){var A=[],x=e_;x.cP=d.eMK?"\t":"";var M=d.e_W,G=d.e_J;A.push("<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 "+p.t+" "+p.D+"\" width=\""+M+"\" height=\""+G+"\">");
var D={qm:[],W:[],jk:0,Jo:0,JD:0,Jd:{},JA:{},Jq:0,WE:{},XS:{},Xe:0,ET:[]};e_.ct(p,D,p.root.children,1,d,K);
if(D.qm.length!=0){A.push(x.PF(1)+"<defs>");A=A.concat(D.qm);A.push(x.PF(1)+"</defs>")}A.push(x.PF(1)+"<style>");
A.push(x.PF(2)+"tspan { white-space:pre }");for(var P in D.WE)A.push(x.PF(2)+"."+P+" { "+D.WE[P]+" } ");
A.push(x.PF(1)+"</style>");A=A.concat(D.W);A.push("</svg>");A=A.join(d.eMK?"\n":"");var a=Z.p(Math.round(A.length*1.5)),e=v.IU(A,a,0);
if(x.eb){console.log(x.eb);var f="SVGParser.gen.db = [\n";for(var N=0;N<x.eb.length;N++){var Y=x.eb[N];
f+="{\n\tnam: \""+Y.uo+"\",\n\tpts: [\n";for(var l=0;l<Y.K_.length;l++){var h=Y.K_[l];f+="\t\t[\""+h[0]+"\", { cmds: "+JSON.stringify(h[1].$)+", crds:"+JSON.stringify(h[1].B)+" } ]"+(l==Y.K_.length-1?"":",")+"\n"}f+="\t]\n}"+(N==x.eb.length-1?"":",")+"\n"}f+="]\n";
console.log(f)}return a.buffer.slice(0,e)};e_.cP="";e_.PF=function(p){var d="";for(var K=0;K<p;K++)d+=e_.cP;
return d};e_.Kr=function(p){return""+parseFloat(p.toFixed(3))};e_.ct=function(p,d,K,A,x,M){var G=e_;
for(var D=0;D<K.length;D++){var P=K[D].o,a=P.add.lsct,e=P.add.vmsk,f=P.add.vstk,N=P.add.TySh,Y=[];if(!x.hidden&&!P.Ml())continue;
var l=P.opacity/255,h=P.add.iOpa?P.add.iOpa/255:1;if(l!=1)Y.push("opacity: "+G.Kr(l));if(h!=1)Y.push("fill-opacity: "+G.Kr(h));
if(P.yk!="norm"){var s=eE.ecp[eE.ok.indexOf(P.yk)];if(s!=null)Y.push("mix-blend-mode: "+s)}if(!P.Ml())Y.push("display: none");
var J=[],u=[],Q=P.getName(),W=Q.indexOf(" .");if(W!=-1){u.push(Q.slice(W+2));Q=Q.slice(0,W)}if(x.names)J.push("id=\""+G.NT(Q)+"\"");
var q=P.add.lmfx;if(q)q=q.solidFillMulti.v[0];if(q)q=q.v;if(q&&!q.enab.v)q=null;if(P.Ba()){if(G.eb&&P.getName().split("-").length==3){G.eb.push({uo:P.getName(),Lw:0,K_:[]})}if(e||P.add.artb){var H;
if(e)H=Z.e.kT(e.Z).D$;else{var C=P.Rb(),k=Z._.MF(C);H=Typr.U.pathToSVG({crds:k.B,cmds:k.$},2)}d.JD++;
J.push("clip-path=\"url(#cp"+d.JD+")\"");d.qm.push(G.PF(2)+"<clipPath clipPathUnits=\"userSpaceOnUse\" id=\"cp"+d.JD+"\">");
d.qm.push(G.PF(3)+"<path d=\""+H+"\" />");d.qm.push(G.PF(2)+"</clipPath>")}if(Y.length!=0)J.push("style=\""+Y.join(";")+"\"");
d.W.push(G.PF(A)+"<g "+G.lJ(J,u)+">");G.ct(p,d,K[D].children,A+1,x,M);d.W.push(G.PF(A)+"</g>")}else if(P.ti()&&e==null){var i=new R(0,0,p.t,p.D);
G.cv(Y,P.add,d,i);if(Y.length!=0)J.push("style=\""+Y.join(";")+"\"");d.W.push(G.PF(A)+"<rect width=\""+p.t+"\" height=\""+p.D+"\" "+G.lJ(J,u)+" />")}else if(e){var i=Z.e.Du(e.Z),H=Z.e.kT(e.Z);
if(H.Cz!=0){J.push("fill-rule=\"evenodd\"")}var m=H.D$;G.cv(Y,P.add,d,i);if(Y.length!=0){var w=Y.join(";"),S=d.XS[w];
if(S==null){S="shp"+d.Xe;d.Xe++;d.XS[w]=S;d.WE[S]=w}u.push(S)}d.W.push(G.PF(A)+"<path "+G.lJ(J,u)+" d=\""+m+"\" />");
if(G.eb&&G.eb[G.eb.length-1]){var o=Z._.ZT(e.Z);o.B=o.B.map(Math.round);var O=G.eb[G.eb.length-1];O.Lw+=JSON.stringify(o).length;
O.K_.push([Y[0].split("#").pop(),o])}}else if(N&&x.e_M){var t=N.Nf,c=new MB(t,M);if(q)J.push("fill=\""+CSS.iH(q.Clr.v)+"\"");
var g=Mq.rx(c,N),j=Z._.Ui(g);for(var _ in j){if(q==null)J.push("fill=\""+_+"\"");var k=j[_],m=Typr.U.pathToSVG({crds:k.B,cmds:k.$},2);
d.W.push(G.PF(A)+"<path "+G.lJ(J,u)+" d=\""+m+"\" />");if(q==null)J.pop()}}else if(N&&!x.e_H){var t=N.Nf,U=N.u.clone(),QU=0,Qt=0;
if(QM.EE(t)==1){var $=QM.fy(t,0,0).hw.Justification,I=0,E=QM.xa(t)[2];if($==2)I=E/2;if($==1)I=E;U.translate(I,0)}Y.push("transform: "+G.Re(U));
var b=QM.WD(t),z=t.EngineDict.ParagraphRun,QS=z.RunArray,QQ=z.RunLengthArray;if(Y.length!=0)J.push("style=\""+Y.join(";")+"\"");
d.W.push(G.PF(A)+"<text "+G.lJ(J,u)+" >");var Qe=P.add.lmfx;if(Qe)Qe=Qe.frameFXMulti.v[0];if(Qe)Qe=Qe.v;
var QB=q?CSS.iH(q.Clr.v):null;for(var F=0;F<QS.length;F++){var L=[],Qu=QQ[F],QK=b.slice(QU,QU+Qu-1),Qm=QM.fy(t,QU,QU),ei=Qm.CV[Qm.K$.Font].Name;
if(d.ET.indexOf(ei)==-1)d.ET.push(ei);CSS.euV(L,Qm,N.u,!0,x.ET,QB);if(Qe){Y.push("stroke: "+CSS.iH(Qe.Clr.v));
Y.push("stroke-width: "+Qe.Sz.v.val)}var Qp=Qm.K$.FontSize*1.12;if(F==0)Qp=QM.EE(t)==0?0:Qm.K$.FontSize;
Qt+=Qp;if(QK!=""){var w=L.join(";"),S=d.XS[w],QE="";if(S==null){S="txt"+d.Xe;d.Xe++;d.XS[w]=S;d.WE[S]=w}var QO=Qm.K$.Tracking;
if(QO!=null&&QO!=0){QO=Math.round(QO*Qm.K$.FontSize/1e3);QE=" dx=\"0";for(var Qi=1;Qi<QK.length;Qi++)QE+=" "+QO;
QE+="\" "}d.W.push(G.PF(A+1)+"<tspan x=\"0\" y=\""+G.Kr(Qt)+"\" class=\""+S+"\""+QE+">"+G.NT(QK)+"</tspan>")}QU+=Qu}d.W.push(G.PF(A)+"</text>")}else if(P.add.SoLd){var QV=P.add.SoLd,Q$=QV.Idnt.v,eS=0,Qs=QV.Crop?QV.Crop.v:null;
if(d.JA[Q$]!=null)eS=d.JA[Q$];else{d.Jq++;eS=d.Jq;d.JA[Q$]=d.Jq;var Qw=p.ZH(Q$,Qs),eK="";if(Qw==null)return;
var Q_=Qw._f,QN=QH.BU(Qw.raw.buffer);if(QN=="pdf"){var Qz=new QZ("h");QH.PDF.W$(Qw.raw.buffer,Qz);Qz.ao();
Qz.ZF();Qz.i();Qz.gm();if(QV.Crop&&QV.Crop.v==1){r.pO.Qo(Qz,Qz.root.rl(Qz,!0))}var eQ=QH.SVG._B(Qz,Qz.t,Qz.D,null,{ET:M});
eK="data:image/svg+xml;base64,"+QH.iL(eQ)}else if(QN=="jpg"||QN=="png"||QN=="gif"||QN=="svg"){var Qd={jpg:"image/jpg",png:"image/png",jpg:"image/jpg",svg:"image/svg+xml"};
eK="data:"+Qd[QN]+";base64,"+QH.iL(Qw.raw.buffer)}else{eK=QH.TC(Q_[0].buffer,Q_[1].t,Q_[1].D)}d.qm.push(G.PF(2)+"<image width=\""+Q_[1].t+"\" height=\""+Q_[1].D+"\" id=\"img"+eS+"\" href=\""+eK+"\"/>")}var Qj=Z.c.Tz(QV);
if(Y.length!=0)J.push("style=\""+Y.join(";")+"\"");var QD=G.lJ(J,u);d.W.push(G.PF(A)+"<use "+QD+" href=\"#img"+eS+"\" transform=\""+G.Re(Qj)+"\"/>")}else if(!P.rect.kQ()&&(x.e_Q||N)){if(Y.length!=0)J.push("style=\""+Y.join(";")+"\"");
var QD=G.lJ(J,u),Qq=P.buffer;if(q)Qq=QL.eIO(Qq,q,P.rect);var et=P.rect;d.Jq++;var eK=QH.TC(Qq.buffer,et.t,et.D,"png",null,!0);
d.qm.push(G.PF(2)+"<image width=\""+P.rect.t+"\" height=\""+P.rect.D+"\" id=\"img"+d.Jq+"\" href=\""+eK+"\"/>");
d.W.push(G.PF(A)+"<use "+QD+" href=\"#img"+d.Jq+"\" x=\""+et.x+"\" y=\""+et.y+"\" />")}}};e_.lJ=function(p,d){if(d.length!=0)p.push("class=\""+d.join(" ")+"\"");
return p.join(" ")};e_.NT=function(p){return String(p).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\u0022/g,"&quot;")};
e_.Re=function(p){var d=[p.V,p.M,p.$H,p.Wb,p.ol,p.lF].map(e_.Kr);return"matrix("+d.join(",")+")"};e_.cv=function(p,d,K,A){var x=e_,M=d.vstk,G=d.vmsk,D=d.lmfx;
if(G&&G.EU!=0){var P=x.Kr(G.EU);if(K.Jd[P]==null){K.Jo++;K.Jd[P]=K.Jo;K.qm.push(x.PF(2)+"<filter x=\"-50%\" y=\"-50%\" width=\"200%\" height=\"200%\" id=\"flt"+K.Jo+"\"> <feGaussianBlur stdDeviation=\""+P+"\" /> </filter>")}p.push("filter: url(#flt"+K.Jd[P]+")")}var a=QL.$s(D,d),e=a[0],f=a[1];
if(M&&!M.fillEnabled.v)p.push("fill: none");else if(e){var N=CSS.iH(e.Clr.v);p.push("fill: "+N)}else if(f){x.xL(f,K,A);
p.push("fill: url(#grd"+K.jk+")")}if(M==null||!M.strokeEnabled.v)M=QL.$W(D);if(M&&M.strokeEnabled.v){var Y=M.strokeStyleContent.v,l=Y.classID;
if(l=="solidColorLayer")p.push("stroke: "+CSS.iH(Y.Clr.v));else{x.xL(Y,K,A);p.push("stroke: url(#grd"+K.jk+")")}var h=QG.Wh.zR.indexOf(M.strokeStyleLineCapType.v.strokeStyleLineCapType),s=QG.Wh.join.indexOf(M.strokeStyleLineJoinType.v.strokeStyleLineJoinType),J=M.strokeStyleOpacity.v.val/100,u=M.strokeStyleLineWidth.v.val,Q=QG.Wh.zW.indexOf(M.strokeStyleLineAlignment.v.strokeStyleLineAlignment);
if(Q==2){u*=2;p.push("paint-order:stroke fill markers")}var W=M.strokeStyleLineDashSet.v,q=[];for(var H=0;
H<W.length;H++)q.push(Math.round(W[H].v.val*u));if(h!=0)p.push("stroke-linecap:"+["butt","round","square"][h]);
if(s!=0)p.push("stroke-linejoin:"+["miter","round","bevel"][s]);if(J!=1)p.push("stroke-opacity:"+x.Kr(J));
if(u!=1)p.push("stroke-width: "+x.Kr(u));if(q.length!=0)p.push("stroke-dasharray: "+q.join(","))}};e_.xL=function(p,d,K){d.jk++;
var A=e_,x=p.Grad.v,M=x.Clrs.v.slice(0),G=x.Trns.v.slice(0),D=p.Ofst.v,P=p.Type.v.GrdT=="Rdl"?1:0,a=(P==1?"radial":"linear")+"Gradient",e=Z.k.OJ(p,K);
if(P==0){e[0].x=e[1].x+2*(e[0].x-e[1].x);e[0].y=e[1].y+2*(e[0].y-e[1].y)}var f=A.PF(2)+"<"+a+" id=\"grd"+d.jk+"\" gradientUnits=\"userSpaceOnUse\" ";
if(P==0)d.qm.push(f+" x1=\""+A.Kr(e[0].x)+"\" y1=\""+A.Kr(e[0].y)+"\" x2=\""+A.Kr(e[1].x)+"\" y2=\""+A.Kr(e[1].y)+"\">");
if(P==1)d.qm.push(f+" cx=\""+A.Kr(e[0].x)+"\" cy=\""+A.Kr(e[0].y)+"\" r=\""+A.Kr(QP.gG(e[0],e[1]))+"\">");
var N=p.Rvrs.v;if(N){M.reverse();G.reverse()}for(var Y=0;Y<M.length;Y++){var l=M[Y].v,h=Y<G.length?G[Y].v.Opct.v.val/100:1,h=h==1?"":"stop-opacity=\""+A.Kr(h)+"\"",s=l.Lctn.v/4096;
if(N)s=1-s;d.qm.push(A.PF(3)+"<stop offset=\""+A.Kr(s)+"\" stop-color=\""+CSS.iH(l.Clr.v)+"\" "+h+" />")}d.qm.push(A.PF(2)+"</"+a+">")};
e_.Ek=function(p,d,K,A,x){var M=[],G=e_.Ek,D=!1,P={dv:p,Ri:d,XP:[!0,!0,!0],wu:!1,ei:K,eQn:0};P.Ir=Math.round(Math.max(p,d)*(.02+G.hy(P)*.03));
P.wR=G.ezL(P);P.xS=G.ezu(P.wR,(G.hy(P)<.5?-1:1)*(.2+G.hy(P)*.3));if(G.hy(P)<.5){var a=P.wR;P.wR=P.xS;
P.xS=a}P.eae=G.hy(P)<.4&&G.ez$(P.xS,{N:1,w:1,M:1})>.3;P.eaP=G.hy(P)<.5?0:1;M.push("<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 "+p+" "+d+"\" width=\""+p+"\" height=\""+d+"\">");
P.JJ=A[Math.floor(G.uq(P)*A.length)];P.JC=A[Math.floor(G.uq(P)*A.length)];M.push("<style>");M.push("@font-face {  font-family: "+P.JJ[2]+";  src: url(rsrc/fonts/"+P.JJ[5]+");  }");
M.push("@font-face {  font-family: "+P.JC[2]+";  src: url(rsrc/fonts/"+P.JC[5]+");  }");M.push("</style>");
var e=[0,0,p,d],f=e;if(x==null)M.push("<path style=\"fill: "+G.fF(P.wR)+"\" d=\""+G.Rect(e[0],e[1],e[2]-e[0],e[3]-e[1])+"\" id=\"Background\" />");
else{P.wu=!0;G.$Q(P,e,M,x)}if(G.hy(P)<.25&&!P.wu){P.XP[0]=P.XP[2]=!1;G.eRK(e,P,M);f=e}else if(G.hy(P)<.25||P.wu)f=e;
else{var N=.52+G.hy(P)*.2;if(G.hy(P)<.5)N=1-N;var Y=e.slice(0),l=e.slice(0);if(G.hy(P)<.5)Y[2]=l[0]=Math.round(N*p);
else Y[3]=l[1]=Math.round(N*d);if(G.hy(P)<.5){var a=Y;Y=l;l=a}f=Y;G.eRR(P,l,M,x)}G.eRu(P,f,M);M.push("</svg>");
M=M.join("\n");var h=Z.p(Math.round(M.length*1.5)),s=v.IU(M,h,0);return[h.buffer.slice(0,s),P.Yq]};e_.Ek.eRK=function(p,d,K){var A=e_.Ek,x=p[2]-p[0],M=p[3]-p[1];
if(A.hy(d)<.5){K.push("<path id=\"Border\" style=\"fill: "+A.fF(d.xS)+"\" d=\""+A.eRd(p[0],p[1],p[2]-p[0],p[3]-p[1],d.Ir)+"\" />")}else if(A.hy(d)<-.4){A.eRh(d,p,K)}else{var G=A.hy(d)<.5?0:1,D=(G==0?M:x)/4,P=A.ui(d,G,p,K,D,!0),P=A.ui(d,G+2,p,K,D,!0,P)}};
e_.Ek.eRu=function(p,d,K){var A=e_.Ek,x="Hello World!-What a beautiful day.-What Is Love?-Baby, don't hurt me.-Is This a Real Life?-Is this a fantasy?-Wake Me Up!-Before you go go.".split("-"),M=2*Math.floor(A.hy(p)*x.length/2),G=d[2]-d[0],D=d[3]-d[1],a=0,f=0;
p.wN=(p.dv+G)*.5*(.04+A.hy(p)*.05);p.wN=Math.min(p.wN,D*.4,G*.12);p.wN=Math.round(p.wN);var P=Math.min(p.wN*x[M].length*(.35+.3*A.hy(p)),G*.9),e=(d[1]+d[3])/2,N=Z.OE(p.wR)<.85?{N:1,w:1,M:1}:{N:.1,w:.1,M:.1};
if(A.hy(p)<.25&&p.XP[0]){f=0;a=d[0]+p.Ir}else if(A.hy(p)<.33&&p.XP[2]){f=2;a=d[2]-p.Ir}else{f=1;a=(d[0]+d[2])/2}var Y=N.N==1?"0,0,0":"255,255,255",l=p.wu&&A.hy(p)<1;
if(l){var h=d[0],s=G,J=e-p.wN*1.1,u=p.wN*2.2,Q=.7;if(f==1&&A.hy(p)<.5){h=J=.2*Math.min(G,D);s=G-2*J;
u=D-J-J}else if(A.hy(p)<.7){h=J=0;s=G;u=D;Q=.25}K.push("<path id=\"Strip\" style=\"fill: rgb("+Y+"); opacity: "+Q+"\" d=\""+A.Rect(h,J,s,u)+"\" />")}if(A.hy(p)<.4){var W=p.wN*.07;
W*=1.5+A.hy(p)*1;if(f==-1&&G/D<3&&!l){K.push("<path id=\"Bar-bottom\" style=\"fill: "+A.fF(N)+"\" d=\""+A.Rect(a-P/2,e+p.wN*1.1-W/2,P,W)+"\" />");
K.push("<path id=\"Bar-top\"    style=\"fill: "+A.fF(N)+"\" d=\""+A.Rect(a-P/2,e-p.wN*1.1-W/2,P,W)+"\" />")}if(f!=1){K.push("<path id=\"Bar\" style=\"fill: "+A.fF(N)+"\" d=\""+A.Rect(a-W/2,e-p.wN*.8,W,p.wN*.8*2)+"\" />");
a+=(f==0?1:-1)*p.wN/3}}var q=p.wN*.4;K.push(A.$M(x[M+1],a,e+q*1.6,q,N,f,p.JC));K.push(A.$M(x[M],a,e+p.wN*.04,p.wN,N,f,p.JJ))};
e_.Ek.eRR=function(p,d,K,A){var x=d[2]-d[0],M=d[3]-d[1],G=Math.max(x,M),D=Math.min(x,M),P=e_.Ek;if(G/D<5&&!p.wu&&!1){P.$Q(p,d,K,A)}else if(P.hy(p)<0)K.push("<path style=\"fill: "+P.fF(p.xS)+"\" d=\""+P.Rect(d[0],d[1],x,M)+"\" />");
else{var a=0;if(d[3]!=p.Ri)a=0;if(d[2]!=p.dv)a=3;if(d[0]!=0)a=1;if(d[1]!=0)a=2;var e=a+2&3;if(G/D<3){var f=P.eRx(e),N=f[Math.round(P.hy(p)*(f.length-1))],Y=N.uo.slice(0,4),l=Y.indexOf(1);
N=JSON.parse(JSON.stringify(N));var h=-1;if(Y!="0000"){var s=new QI;if(N.uo[5]=="0"){if(l==3&&a==1){h=1;
s.scale(-1,1)}else h=l}else{var J=e;while(J==e)J=Math.floor(P.hy(p)*4)&3;s.rotate((-l+J)*Math.PI/2)}P.u(N,s)}var u=P.JE(N),Q=x-2*p.Ir,W=M-2*p.Ir;
if(h!=-1){if((h&1)==0)W-=p.Ir;else Q-=p.Ir}var q=Math.min(Q/u.t,W/u.D),H=new QI;H.translate(-u.x,-u.y);
H.scale(q,q);var C=(x-u.t*q)/2,k=(M-u.D*q)/2;if(h!=-1){if(h==3)C=0;if(h==0)k=0;if(h==1)C=x-u.t*q;if(h==2)k=M-u.D*q}H.translate(d[0]+C,d[1]+k);
P.aa(p,N,H,p.xS,K)}else{P.ui(p,a,d,K,1e9)}}};e_.Ek.$Q=function(p,d,K,A){var x=d[2]-d[0],M=d[3]-d[1],G=Math.max(x,M),D=Math.min(x,M),P=e_.Ek,a=P.uq(p),e,f,N,Y=A[0]instanceof ArrayBuffer;
if(Y){e="data:image/jpg;base64,"+es.sR(A[0]);f=A[1];N=A[2]}else{var l=Math.floor(a*A.length),h=A[l];
p.Yq=h;e=h.webformatURL;f=h.webformatWidth;N=h.webformatHeight}var s=d[0],J=d[1],u=x,Q=M;if(x/M>f/N){Q=u*N/f;
J=J-(Q-M)/2}else{u=Q*f/N;s=s-(u-x)/2}if(Y){K.push("<defs>");K.push("<image width=\""+f+"\" height=\""+N+"\" id=\"Background\" href=\""+e+"\" />");
K.push("</defs>");var W=u/f;K.push("<use href=\"#Background\" transform=\""+e_.Re(new QI(W,0,0,W,s,J))+"\" />")}else{var q="cp"+Math.random();
K.push("<clipPath id=\""+q+"\">");K.push("<path style=\"fill: "+P.fF(p.xS)+"\" d=\""+P.Rect(d[0],d[1],x,M)+"\" />");
K.push("</clipPath>");K.push("<image  clip-path=\"url(#"+q+")\" xlink:href=\""+e+"\" x=\""+s+"\" y=\""+J+"\" width=\""+u+"\" height=\""+Q+"\" />")}};
e_.Ek.$M=function(p,d,K,A,x,M,G){var D=e_.Ek;return"<text x=\""+d+"\" y=\""+K+"\" style=\"fill:"+D.fF(x)+"; font-size:"+A+"px; text-anchor:"+["start","middle","end"][M]+"; font-family:"+G[2]+";\"><tspan>"+p+"</tspan></text>"};
e_.Ek.aa=function(p,d,K,A,x){var M=e_.Ek,G=[];for(var D=0;D<d.K_.length;D++){G.push(A);if(p.eae){A=(D&1)==p.eaP?{N:1,w:1,M:1}:G[0]}}x.push("<g id=\""+d.uo.split("-")[2]+":::\" style=\"transform: "+e_.Re(K)+";\" >");
for(var D=0;D<d.K_.length;D++){var P=d.K_[D];A=G.pop();x.push("<path style=\"fill: "+(A?M.fF(A):"#"+P[0])+"\" d=\""+Typr.U.pathToSVG({crds:P[1].B,cmds:P[1].$})+"\" />")}x.push("</g>")};
e_.Ek.eRh=function(p,d,K){var A=e_.Ek,x=e_.Ek.fi,M=[];for(var G=0;G<x.length;G++){var D=x[G],P=D.uo.slice(0,4);
if(P!="1001")continue;M.push(D)}var D=M[Math.floor(A.hy(p)*M.length)];if(A.hy(p)<.5)A.u(D,new QI(0,1,1,0,0,0));
var a=d[3]-d[1],e=d[2]-d[0],f=A.JE(D),N=.7*Math.min(e,a,.5*Math.max(e,a))/Math.max(f.t,f.D),Y=new QI;
Y.scale(N,N);if(A.hy(p)<.5){Y.scale(1,-1);Y.translate(0,a)}A.aa(p,D,Y,p.xS,K);Y.rotate(Math.PI);Y.translate(e,a);
A.aa(p,D,Y,p.xS,K)};e_.Ek.eRx=function(p){var d=e_.Ek.fi,K=[];for(var A=0;A<d.length;A++){var x=d[A],M=x.uo.slice(0,4);
if(M=="0000"){K.push(x);continue}if(["1000","0100","0010","0001"].indexOf(M)==-1)continue;var G=M.indexOf("1");
if(x.uo[5]=="0"&&p==G&&G!=3)continue;K.push(x)}return K};e_.Ek.ui=function(p,d,K,A,x,M,G){var D=e_.Ek.fi,P=e_.Ek,a=[],Q,W;
for(var e=0;e<D.length;e++){var f=D[e],N=f.uo.slice(0,4);if(["1110","1101","1011","0111"].indexOf(N)==-1)continue;
var Y=N.indexOf("0")+2&3;if(f.uo[5]=="0")if(M==!0||d!=Y&&!(d==1&&Y==3))continue;a.push(f)}var l=G!=null?G:Math.floor(P.hy(p)*a.length),f=a[l],f=JSON.parse(JSON.stringify(f)),N=f.uo.slice(0,4),Y=N.indexOf("0")+2&3;
if(Y==3&&d==1)Z.u(f,new QI(1,0,0,-1,0,1e3));var h=new QI;h.translate(-500,-500);h.rotate(-Y*Math.PI/2);
h.translate(500,500);P.u(f,h);var s=K[3]-K[1],J=K[2]-K[0],u=P.JE(f);if(u.y<0){u.D+=u.y;u.y=0}if(u.y>0){u.D+=u.y;
u.y=0}if((d&1)==0){W=s;Q=J}else{Q=s;W=J}var q=Math.min(Math.min(.5+.5*P.hy(p))*Math.min(J,s),x)/u.D,H=Math.ceil(Q/(1e3*q)),C=new QI,k=new QI;
k.scale(q,q);if(d==0||d==2){k.translate(-(J/2),-(s/2));k.rotate(-d*Math.PI/2);k.translate(J/2+K[0],s/2+K[1])}else{k.rotate(Math.PI/2);
k.scale(1,-1);k.translate(K[0],K[1]);if(d==1){k.scale(-1,1);k.translate(J,0)}}A.push("<g id=\"Border-"+["top","right","bottom","left"][d]+":::\">");
for(var e=0;e<H;e++){var i=C.clone();i.concat(k);P.aa(p,f,i,p.xS,A);C.translate(1e3-2,0)}A.push("</g>");
return l};e_.Ek.Rect=function(p,d,K,A){return Typr.U.pathToSVG({crds:[p,d,p+K,d,p+K,d+A,p,d+A],cmds:["M","L","L","L","Z"]})};
e_.Ek.eRd=function(p,d,K,A,x){var M=[p,d,p+K,d,p+K,d+A,p,d+A];p+=x;d+=x;K-=2*x;A-=2*x;M.push(p,d,p,d+A,p+K,d+A,p+K,d);
return Typr.U.pathToSVG({crds:M,cmds:"M L L L Z M L L L Z".split(" ")})};e_.Ek.ezu=function(p,d){var K=Z.Qy(p.N,p.w,p.M);
K.Ln=Math.max(.1,Math.min(.9,K.Ln+d));return Z.dX(K.Ri,K.mQ,K.Ln)};e_.Ek.eiq=function(p,d){var K=Z.Qy(p.N,p.w,p.M);
K.Ri+=d;return Z.dX(K.Ri,K.mQ,K.Ln)};e_.Ek.eiD=function(p){var d=Z.Qy(p.N,p.w,p.M);d.Ln=1-d.Ln;return Z.dX(d.Ri,d.mQ,d.Ln)};
e_.Ek.ez$=function(p,d){var K=p.N-d.N,A=p.w-d.w,x=p.M-d.M;return Math.sqrt(K*K+A*A+x*x)};e_.Ek.ezL=function(p){var d=e_.Ek;
return{N:d.hy(p),w:d.hy(p),M:d.hy(p)}};e_.Ek.fF=function(p){return CSS.Gu({N:p.N*255,w:p.w*255,M:p.M*255})};
e_.Ek.JE=function(p){var d=p.K_,K=new R;for(var A=0;A<d.length;A++)K=K.ck(Z._.JE(d[A][1].B));return K};
e_.Ek.u=function(p,d){var K=p.K_;for(var A=0;A<K.length;A++)Z._.u(K[A][1].B,d,K[A][1].B)};e_.Ek.hy=function(p){p.eQn++;
var d=p.eQn&3;if(d==0)p.ei=e_.Ek.HU(p.ei);var K=p.ei>>>8*d&255;return K*(.99999999/255)};e_.Ek.uq=function(p){var d=e_.Ek.HU(p.ei);
p.ei=e_.Ek.HU(d);return d*(1/4294967295)};e_.Ek.HU=function(p){p=(p^61^p>>>16)>>>0;p=p+(p<<3)>>>0;p=(p^p>>>4)>>>0;
p=p*668265261>>>0;p=(p^p>>>15)>>>0;return p};e_.Ek.fi=[{uo:"0001-0-bird",K_:[["4b3c34",{$:"M C L C C L Z M C C L C C L Z M C L C L Z M C L C C L Z".split(" "),B:[208,16,253,5,247,86,228,104,218,108,253,60,235,12,211,18,210,18,209,17,208,16,208,16,187,140,238,125,326,133,319,189,318,198,307,210,299,207,297,205,307,208,316,195,317,188,320,126,208,137,174,149,187,140,137,75,156,79,177,94,164,157,173,147,177,101,165,79,142,75,137,75,368,59,165,59,182,233,0,210,0,225,161,250,194,61,364,63,367,61,368,59,368,59,368,59]}],["3c7040",{$:"M C C C C C L Z M C C C C L Z M C C C C L Z M C C C C L Z M C C C C C L Z M C C C C L Z M C C C C Z".split(" "),B:[345,123,324,113,331,70,284,80,287,79,310,89,314,103,314,104,306,90,284,82,281,81,270,85,268,86,274,117,335,119,345,123,345,123,270,0,283,29,282,58,244,66,258,62,265,40,269,27,265,37,256,56,249,58,242,31,263,18,270,0,270,0,89,100,81,136,47,182,101,196,90,189,92,157,91,145,94,160,93,191,109,195,148,158,96,129,89,100,89,100,230,187,201,240,160,226,133,198,150,191,172,197,187,198,166,193,153,190,134,193,159,162,207,194,230,187,230,187,126,177,131,159,129,150,119,139,122,122,145,112,147,97,166,128,164,155,134,168,139,154,146,142,145,131,143,145,133,159,126,177,126,177,209,86,195,86,166,91,173,109,177,102,181,97,191,96,180,99,174,113,175,113,194,114,200,96,209,86,209,86,278,175,254,167,235,168,231,143,245,143,248,151,256,158,252,147,243,144,240,142,276,147,265,171,278,175]}],["b588c1",{$:"M C C C C C C C C C C C C L Z".split(" "),B:[189,40,188,42,186,44,184,47,184,52,183,55,181,59,175,70,160,78,147,79,142,79,131,78,127,75,118,74,95,71,93,70,89,70,88,70,69,72,74,66,82,68,93,65,78,64,83,62,95,59,128,50,128,33,155,29,162,16,180,13,189,31,193,31,196,34,198,37,197,37,193,39,189,40,189,40]}]]},{uo:"0001-0-bird2",K_:[["ff7f2a",{$:"M L L L Z M L L L Z".split(" "),B:[296,0,296,62,335,62,296,0,357,0,357,62,318,62,357,0]}],["b588c1",{$:"M C C C C C C C C C C C L Z".split(" "),B:[321,48,344,48,379,67,396,121,408,176,396,230,337,255,303,265,265,268,217,235,191,217,170,188,186,180,195,177,199,187,205,192,203,185,199,178,207,172,217,165,224,178,225,182,227,196,231,203,250,206,273,205,290,196,292,165,289,133,269,118,268,101,267,77,288,49,321,48,321,48]}],["74439e",{$:"M C C C C C C L Z M C C Z".split(" "),B:[337,187,329,202,317,204,304,204,293,204,284,205,293,224,286,216,278,209,268,214,257,220,262,237,269,243,284,258,310,256,323,243,337,227,339,208,337,187,337,187,340,77,310,78,287,81,315,96,269,83,309,75,340,77]}],["000000",{$:"M L L L Z M L L L Z".split(" "),B:[326,258,334,315,323,316,326,258,298,262,296,318,286,317,298,262]}],["4b3c34",{$:"M L C C C C C C C C L Z".split(" "),B:[0,272,0,336,63,296,119,296,175,320,205,330,229,339,278,338,322,337,354,322,405,325,443,329,482,332,501,377,501,366,502,348,474,328,464,320,440,312,384,309,296,309,300,333,186,293,118,264,54,250,0,272,0,272]}],["3c7040",{$:"M C C C Z M C C C Z M C C C L Z M C C C L Z M C C C L Z M C C C Z".split(" "),B:[58,260,44,247,27,239,20,208,15,188,32,182,43,198,59,227,56,242,58,260,181,323,167,336,150,345,143,375,138,396,155,401,166,385,182,356,179,342,181,323,60,260,79,249,100,243,113,214,122,194,102,186,86,200,62,227,65,242,60,260,60,260,499,378,479,377,462,372,435,388,417,399,425,415,444,411,476,403,484,390,499,378,499,378,501,379,494,397,482,411,488,442,491,463,511,461,514,442,520,410,508,397,501,379,501,379,503,378,513,390,516,402,531,413,546,421,557,412,548,401,534,382,519,379,503,378]}]]},{uo:"0000-1-flower",K_:[["7a59a2",{$:"M C C C C C C C Z M C C C C C C L Z M C C C C C C C L Z M C C C C C C L Z M C C C C C C C L Z M C C C C C C L Z M C C C C C C C L Z M C C C C C C L Z".split(" "),B:[468,470,411,473,371,480,351,495,332,509,322,536,325,581,325,601,328,621,325,637,346,634,371,638,397,637,427,636,456,626,465,611,478,596,485,553,489,490,477,489,470,483,468,470,445,563,435,583,425,591,415,590,401,588,401,572,410,549,388,558,375,557,369,546,366,533,374,524,390,517,416,506,441,498,465,495,463,519,455,542,445,563,445,563,489,450,486,392,480,352,465,332,451,313,425,302,380,305,360,305,340,307,324,304,327,324,322,350,323,376,323,406,332,435,347,444,362,457,405,465,468,470,469,458,476,451,489,450,489,450,395,424,376,415,368,405,369,394,371,380,387,380,410,390,402,368,403,355,414,349,427,346,436,355,443,370,454,397,460,422,463,446,439,443,417,435,395,424,395,424,508,470,566,468,606,462,626,447,645,433,656,407,654,362,654,342,652,322,655,306,634,309,609,304,583,305,553,305,524,314,514,329,501,344,493,387,488,449,500,451,507,457,508,470,508,470,534,377,544,357,554,350,564,351,578,353,578,369,568,392,590,384,604,385,609,396,612,409,603,418,588,425,561,435,536,442,512,445,515,421,523,399,534,377,534,377,488,490,492,547,499,587,514,607,528,626,554,636,600,633,619,632,640,630,656,633,652,612,656,587,655,560,655,531,645,502,629,493,614,480,571,473,508,469,507,481,501,488,488,490,488,490,582,513,602,523,610,533,609,543,607,557,591,557,568,548,577,570,576,583,565,589,552,592,542,584,535,568,524,542,517,517,514,493,538,495,560,503,582,513,582,513]}]]},{uo:"0000-1-flower",K_:[["d13777",{$:"M L C L L C C C C L L Z M C C C C Z M L C L L C C C C L L Z M C C C C Z M L C L L C C C C L L Z M C C C C Z M L C L L C C C C L L Z M C C C C Z M L C L L C C C C L L Z M C C C C Z".split(" "),B:[474,503,457,528,452,530,450,528,450,523,469,498,464,493,388,522,332,552,314,585,297,628,322,660,372,639,361,698,421,709,450,665,467,649,477,596,482,505,474,503,474,503,439,563,431,563,424,556,424,548,424,539,431,532,439,532,447,532,454,539,454,548,454,556,447,563,439,563,462,475,432,467,429,463,430,460,435,458,465,469,468,463,417,399,371,356,335,348,288,345,265,379,300,420,241,428,249,488,301,503,321,513,374,507,462,483,462,475,462,475,394,460,391,452,396,444,404,441,412,438,420,443,423,451,426,459,421,467,413,470,405,473,396,468,394,460,484,455,483,424,486,419,489,420,492,424,492,456,498,457,543,389,570,332,566,294,554,249,515,238,487,284,461,231,406,256,408,310,405,333,427,381,477,458,484,455,484,455,477,385,484,380,494,382,499,389,504,396,502,405,496,410,489,415,479,414,474,407,469,400,471,390,477,385,511,470,539,459,545,461,545,463,542,467,512,477,513,483,592,505,654,513,688,497,728,472,726,432,674,419,717,378,675,334,625,353,602,356,563,393,506,464,511,470,511,470,575,442,581,447,583,456,578,463,573,470,563,472,557,467,550,462,548,452,553,445,558,438,568,437,575,442,505,499,524,523,524,529,521,531,517,529,498,503,492,506,496,588,508,650,533,677,570,707,607,693,603,639,656,667,685,614,651,572,641,551,594,525,509,493,505,499,505,499,551,552,548,560,540,564,532,561,524,559,519,550,522,542,524,534,533,530,541,532,549,535,554,543,551,552]}]]},{uo:"0000-1-flower",K_:[["ffac42",{$:"M C C C C C C C C C C C C C C C C C C C C C C C C C C C C C C C C Z M C C C C Z".split(" "),B:[646,471,646,446,626,426,601,426,599,426,597,426,595,427,596,426,598,424,599,423,616,406,616,378,599,360,581,343,553,343,536,360,534,361,533,363,532,364,532,363,532,361,532,359,532,335,512,315,488,315,463,315,443,335,443,359,443,361,443,363,443,365,442,364,441,363,440,362,422,344,394,344,377,362,359,379,359,407,377,425,378,426,380,427,381,429,379,428,378,428,376,428,351,428,331,448,331,473,331,498,351,518,376,518,378,518,380,517,382,517,381,518,379,519,378,521,361,538,361,566,378,584,396,601,424,601,441,584,443,582,444,581,445,579,445,581,445,583,445,584,445,609,465,629,490,629,514,629,534,609,534,584,534,582,534,580,534,579,535,580,536,581,537,582,555,600,583,600,600,582,618,565,618,537,600,519,599,518,597,516,596,515,598,515,599,516,601,516,626,516,646,496,646,471,489,552,444,552,409,516,409,472,409,428,444,392,489,392,533,392,569,428,569,472,569,516,533,552,489,552]}]]},{uo:"0000-1-flower",K_:[["d04040",{$:"M C C L L C C C C L L C C L L C C C C L C C C C L Z M C C C Z M C C C L Z M C C C L Z".split(" "),B:[691,424,690,369,680,330,660,303,634,320,601,361,568,406,568,406,568,327,578,326,585,317,585,306,585,294,576,284,564,284,552,284,542,294,542,306,542,317,550,326,560,327,560,406,559,406,540,359,522,311,501,291,475,319,453,360,433,407,431,406,431,327,441,326,448,317,448,306,448,294,439,284,427,284,415,284,405,294,405,306,405,317,412,326,423,327,423,404,390,363,360,326,341,308,296,401,299,489,360,567,396,613,443,639,500,638,624,636,694,524,692,424,691,424,389,543,370,514,379,498,399,504,439,518,470,564,488,613,455,600,414,580,389,543,481,480,488,445,505,441,515,459,533,497,524,552,501,599,487,567,472,523,481,480,481,480,624,523,610,563,565,595,515,613,528,580,548,538,585,514,614,494,629,503,624,523,624,523]}]]},{uo:"0000-1-flower",K_:[["ec7272",{$:"M C C C C Z M C C C C Z M C C C C L Z M C C C C L Z M C C C C Z M C C C C L Z".split(" "),B:[447,475,452,450,452,438,437,423,422,407,407,412,390,383,398,418,421,415,433,434,445,453,446,474,447,475,495,446,520,439,529,433,535,412,542,390,529,380,546,351,520,376,533,394,523,414,513,434,495,445,495,446,545,473,564,490,574,495,595,490,617,485,620,469,653,468,619,459,610,479,587,480,565,482,546,472,545,473,545,473,549,533,543,558,543,569,559,585,574,601,589,596,606,624,597,590,575,592,563,573,551,555,550,534,549,533,549,533,504,562,480,570,470,575,464,596,458,618,470,628,454,657,479,632,466,614,476,594,486,575,504,563,504,562,459,536,440,519,430,513,409,518,387,524,384,539,351,540,385,549,394,529,417,528,439,527,457,536,459,536,459,536]}],["333333",{$:"M C C C C C C C C C C C C L Z M C C C C C C C C C C C C L Z M C C C C C C C C C C C C L Z M C C C C C C C C C C C C L Z M C C C C C C C C C C C C L Z M C C C C C C C C C C C C L Z".split(" "),B:[534,455,584,415,579,358,577,335,574,315,585,304,585,304,585,304,568,308,561,312,554,316,520,333,500,363,479,392,493,437,486,456,479,476,452,485,452,485,452,485,471,474,475,454,479,434,460,402,482,365,505,328,565,292,597,294,612,295,591,298,587,316,583,333,593,373,584,404,574,440,533,456,534,455,534,455,559,506,619,530,666,497,685,483,701,471,716,475,716,475,716,475,704,463,697,459,690,454,657,434,622,431,587,428,554,462,534,465,513,469,492,451,492,451,492,451,511,461,530,455,549,448,568,416,611,417,654,418,716,452,730,481,737,495,724,478,706,483,689,489,660,516,628,524,592,534,558,506,559,506,559,506,524,552,534,615,586,640,607,649,625,657,629,672,629,672,629,672,634,655,634,647,634,639,636,601,621,569,606,537,560,525,547,509,534,494,539,466,539,466,539,466,539,488,554,501,569,514,607,514,627,552,648,590,650,660,632,687,623,700,631,680,617,667,605,656,566,644,543,621,517,594,524,551,524,552,524,552,467,546,417,585,421,643,424,665,426,686,415,697,415,697,415,697,432,693,439,689,446,684,481,667,501,638,521,609,508,563,515,544,522,524,548,515,548,515,548,515,530,527,526,546,522,566,540,598,518,635,496,672,436,709,404,706,388,705,409,702,413,684,417,667,408,628,417,596,426,561,467,544,467,546,467,546,442,495,383,472,336,504,317,518,301,530,286,526,286,526,286,526,298,539,305,543,312,547,344,568,380,571,415,574,448,539,468,536,488,532,510,551,510,551,510,551,490,540,471,547,452,553,434,585,391,584,348,583,286,550,272,521,265,507,278,524,296,518,313,513,342,485,373,477,409,468,444,495,442,495,442,495,476,449,467,386,415,361,394,352,375,344,371,329,371,329,371,329,366,346,366,354,366,362,364,400,379,433,394,465,440,476,453,492,467,508,462,535,462,535,462,535,461,513,446,500,431,487,394,487,373,449,352,411,350,341,368,314,377,301,369,321,383,334,396,345,434,357,457,380,483,407,477,450,476,449,476,449]}]]},{uo:"0000-0-hearts",K_:[["d17070",{$:"M C C C C C C C C C L Z".split(" "),B:[415,584,413,585,411,586,409,587,392,596,389,620,395,633,401,647,414,663,450,668,485,674,487,681,494,690,491,679,487,673,507,643,527,613,524,593,518,579,512,566,493,552,475,558,467,561,451,566,448,586,435,578,423,581,415,584,415,584]}],["6bcc6b",{$:"M C C C C C C C C C L Z".split(" "),B:[595,451,593,449,590,448,588,448,563,439,537,457,529,475,521,493,516,520,542,560,568,601,563,609,559,623,568,611,571,602,618,595,666,589,684,567,692,550,700,532,697,501,674,488,665,482,645,472,622,486,619,465,606,456,595,451,595,451]}],["5c5cc2",{$:"M C C C C C C C C C L Z".split(" "),B:[341,362,338,364,335,366,332,368,304,385,301,424,312,446,323,468,345,494,405,501,465,508,468,520,480,534,475,516,468,506,499,455,531,404,524,370,514,348,503,325,470,304,440,315,427,320,401,331,397,364,374,351,355,356,341,362,341,362]}]]},{uo:"0000-0-anchor",K_:[["2a3b66",{$:"M C C C C L Z M C C C C C C C C C C C C C C L C C C C C C C C C C C C C L C C C C C C C C C C C C C L Z".split(" "),B:[495,315,490,315,488,318,489,323,491,328,502,326,502,320,502,317,501,316,497,315,496,315,496,315,495,315,495,315,496,303,509,303,521,320,514,327,511,330,513,345,517,348,519,350,531,352,546,354,570,357,572,357,578,354,588,347,592,351,592,369,592,385,588,390,580,385,576,383,570,383,552,384,524,387,519,389,517,397,515,404,517,515,520,554,522,583,525,599,530,606,534,610,555,617,565,617,584,616,607,602,635,572,639,568,641,566,644,563,633,559,616,557,616,557,675,533,675,533,671,605,669,609,667,611,664,591,658,577,657,579,657,580,656,582,628,638,603,660,565,664,545,666,521,672,514,675,512,677,507,682,504,688,501,693,497,698,496,698,494,698,490,693,487,688,484,682,480,677,477,675,471,672,447,666,427,664,391,660,367,640,340,591,335,604,332,621,331,619,329,615,325,544,325,544,384,568,384,568,368,569,357,573,385,602,408,616,426,617,437,617,458,610,461,606,466,599,470,583,472,554,474,515,476,404,475,397,473,389,468,387,440,384,422,383,416,383,412,385,403,390,400,385,400,369,400,351,403,347,414,354,419,357,421,357,446,354,460,352,473,350,475,348,478,345,481,330,478,327,470,320,483,303,496,303,496,303]}]]},{uo:"0000-1-leaf",K_:[["fbb600",{$:"M L L L L L L C L L C L C L C C C C C L C C C C C C C C C L C C C C C C C C C C C C C L L L L Z".split(" "),B:[642,726,633,723,632,707,591,631,570,582,526,521,537,547,535,579,517,598,501,619,486,602,414,634,412,606,379,609,346,611,394,557,406,547,401,539,386,532,319,519,337,508,332,493,320,478,326,464,302,450,287,436,303,436,324,441,330,432,346,434,359,434,359,415,377,428,397,431,417,432,442,440,437,418,417,416,406,372,401,370,395,367,389,355,417,363,408,339,406,323,416,312,427,303,417,276,433,295,444,297,452,294,479,321,490,313,496,294,503,322,510,329,517,338,522,353,530,371,530,379,546,402,551,389,555,378,578,333,606,333,628,304,652,280,646,306,644,327,657,329,649,356,658,374,679,384,666,392,656,415,645,432,627,457,653,451,661,457,692,460,698,473,715,481,697,485,678,488,669,509,656,523,655,533,666,539,659,537,659,542,643,531,630,535,613,543,608,539,598,535,594,542,590,553,590,566,594,564,596,569,568,575,551,543,531,519,575,577,597,628,639,708,642,726]}]]},{uo:"0000-1-acorn",K_:[["a05a2c",{$:"M C C C C C C C L Z".split(" "),B:[506,453,450,426,413,422,398,444,374,480,374,533,384,573,391,602,407,625,430,645,451,658,487,654,509,647,554,633,587,605,612,565,635,527,591,500,565,482,557,476,515,457,506,453,506,453]}],["502d16",{$:"M C C C C C C C C C C C Z".split(" "),B:[640,524,639,539,623,540,623,540,627,522,607,504,583,488,547,465,507,445,470,434,439,426,412,417,400,437,400,437,391,424,400,414,434,370,498,356,551,376,555,349,583,317,597,321,612,326,621,346,620,350,619,354,594,352,584,368,580,375,577,382,575,387,619,412,649,460,640,524]}]]},{uo:"0000-0-skull",K_:[["808080",{$:"M C L C C L C L C C C C C C C L C L C C C C C C C C L C C L C L C C C C C C C L C L C L C C C C C C Z M C C C C Z M C C C C Z M L L L Z".split(" "),B:[396,410,398,415,398,420,398,424,420,437,433,404,465,382,501,382,538,382,569,404,582,435,602,424,602,419,603,415,604,410,604,410,609,392,622,379,633,382,643,384,648,402,643,420,643,421,642,421,642,422,643,422,643,422,644,422,662,427,675,440,672,450,669,461,652,465,633,460,628,459,624,457,620,455,589,473,588,491,582,507,572,520,607,540,611,538,615,536,620,535,639,530,656,535,659,545,662,556,649,568,630,573,630,574,629,574,629,574,629,574,629,575,629,575,634,594,630,611,619,614,609,617,596,604,591,585,590,580,589,576,589,571,565,557,564,592,536,619,501,619,466,619,438,591,437,557,412,572,411,576,411,580,410,585,410,585,405,604,392,617,381,614,371,611,366,593,371,575,371,574,371,574,372,574,371,573,371,573,370,573,352,568,339,556,342,545,345,534,362,530,381,535,385,536,390,538,394,540,430,519,421,507,415,491,414,475,380,455,376,457,372,459,367,460,367,460,349,465,331,461,328,450,326,440,338,427,357,422,357,422,358,422,358,422,358,421,358,421,358,420,353,402,357,384,368,381,379,379,391,391,396,410,463,439,445,439,431,453,431,470,431,488,445,502,463,502,480,502,494,488,494,470,494,453,480,439,463,439,540,439,522,439,508,453,508,470,508,488,522,502,540,502,557,502,571,488,571,470,571,453,557,439,540,439,483,528,518,528,500,503,483,528]}]]},{uo:"0000-0-ghost",K_:[["e6e6e6",{$:"M C C C C C C C C C C L Z M C C C C C C C C Z M C C Z".split(" "),B:[653,486,653,574,689,597,689,638,689,661,640,644,620,656,601,666,609,682,583,692,563,700,538,666,512,666,490,666,451,695,433,686,415,677,416,646,388,644,367,641,313,671,313,648,313,619,346,588,346,486,346,388,415,308,500,308,584,308,653,388,653,486,653,486,449,396,428,396,412,415,412,439,412,462,428,482,449,482,465,482,478,470,484,454,489,470,503,482,519,482,539,482,556,462,556,439,556,415,539,396,519,396,503,396,489,407,484,423,478,407,465,396,449,396,482,505,441,505,465,560,482,560,503,560,524,505,482,505]}],["000000",{$:"M C C C C Z M C C C C Z".split(" "),B:[526,446,526,455,519,462,510,462,501,462,494,455,494,446,494,437,501,430,510,430,519,430,526,437,526,446,475,446,475,455,468,462,459,462,450,462,442,455,442,446,442,437,450,430,459,430,468,430,475,437,475,446]}]]},{uo:"1001-1-rose",K_:[["9e1460",{$:"M C C C C C C C C C Z M C C C C C C C C C Z".split(" "),B:[568,83,558,83,548,88,539,96,538,98,536,99,535,101,522,115,513,134,517,149,522,172,561,200,592,207,604,210,611,215,615,221,622,234,611,258,611,258,613,260,615,264,618,264,627,266,638,241,640,236,660,188,614,83,568,83,526,125,527,97,567,68,593,75,616,81,642,121,649,152,651,165,656,172,662,176,675,183,698,173,698,173,698,173,698,173,698,173,704,176,705,179,705,180,706,189,681,199,678,200,678,200,677,201,677,201,627,220,524,170,526,125]}],["020304",{$:"M C C C C C Z M C C C C C Z M C C C C C Z M C C C C Z".split(" "),B:[60,151,60,151,37,125,60,98,83,72,95,91,115,66,134,42,117,26,120,30,123,34,146,83,132,114,114,154,60,151,60,151,280,70,280,70,258,97,283,122,308,147,318,127,339,150,361,173,344,190,347,186,350,182,370,132,354,101,333,62,280,70,280,70,61,150,61,150,27,143,30,108,33,73,54,81,55,50,57,19,33,16,38,17,43,19,91,44,98,78,107,121,61,150,61,150,-27,185,184,158,222,43,352,32,444,24,538,97,538,97,538,97,453,45,354,48,241,51,185,170,-27,185]}]]},{uo:"1001-1-curls",K_:[["53a7ab",{$:"M C C C C C C C C C C C C C C C C L Z M C C C C C C C C C C C C C C C C L Z M C C C C C C C C C C C C C C C C C C C C C L Z".split(" "),B:[68,114,121,103,159,110,183,135,212,169,211,204,189,237,162,277,124,291,86,276,52,263,38,236,47,202,55,168,79,151,121,156,147,162,165,177,160,205,155,228,135,241,113,237,97,234,92,221,96,205,98,195,105,194,115,200,124,205,133,204,135,197,139,183,122,167,95,171,68,176,54,193,68,220,84,252,131,261,165,238,201,202,199,164,158,136,118,113,52,122,-23,151,2,134,33,122,68,114,68,114,71,83,119,75,163,79,198,107,226,129,247,174,271,207,291,229,316,241,342,232,370,222,394,206,418,209,443,212,461,238,485,258,500,272,522,276,543,271,543,271,524,279,518,281,500,287,483,277,466,256,453,243,441,230,427,223,413,217,392,220,372,229,372,230,371,230,370,230,354,241,337,251,315,250,283,248,253,222,229,172,209,133,178,106,137,94,103,84,52,94,-30,133,-3,108,30,91,71,83,71,83,83,54,122,46,166,49,195,67,219,82,250,122,290,168,308,186,330,194,355,192,393,183,400,145,383,118,372,101,355,91,328,91,313,92,303,98,300,109,298,116,299,125,304,131,315,147,327,152,340,149,349,149,354,132,343,131,330,131,326,129,328,120,332,97,355,100,365,114,381,137,367,165,343,168,321,170,289,150,288,117,290,77,319,58,352,64,388,74,405,104,404,141,403,177,382,202,345,207,312,211,284,191,260,161,245,141,229,122,213,106,196,84,166,73,129,67,80,62,28,79,-26,108,10,79,46,63,83,54,83,54]}],["bbdc54",{$:"M C C C C C L Z M C C C C C L Z M C C C C L Z M C C C C L Z M C C C C C C C C C L Z M C C C C C C C C C C C C C C C C C C C C C C C C C C C C C L Z".split(" "),B:[321,315,287,324,252,312,211,219,217,284,239,326,279,341,324,352,362,329,398,291,316,305,258,269,217,196,238,284,274,319,321,315,321,315,211,261,223,300,234,345,252,374,220,378,194,367,193,324,194,306,198,288,206,270,197,315,204,340,221,351,206,327,202,297,211,261,211,261,206,246,193,301,170,317,138,297,162,281,184,254,205,222,201,246,191,267,174,283,186,279,197,267,206,246,206,246,378,233,370,286,337,299,294,270,312,277,330,276,347,267,294,278,259,252,234,203,280,259,327,278,378,233,378,233,626,217,604,273,555,313,511,315,484,316,438,289,432,232,450,253,488,296,511,291,532,286,551,277,566,261,527,269,498,263,480,243,478,241,478,237,480,235,486,230,504,220,519,226,537,233,551,242,567,241,591,236,611,228,626,217,626,217,411,192,432,183,439,166,420,136,443,144,460,158,466,182,470,165,456,149,430,133,459,136,485,145,505,165,503,143,463,133,434,128,486,127,526,124,539,118,505,123,470,124,435,122,461,111,483,96,500,76,475,95,450,110,424,118,450,96,465,72,466,48,458,75,440,98,419,112,424,106,428,99,428,91,429,68,413,57,393,51,419,70,426,92,411,110,408,77,385,58,343,52,383,26,422,25,445,62,458,47,465,29,467,8,477,27,479,51,475,76,497,64,515,49,528,29,524,57,515,82,496,103,521,113,549,111,579,99,560,122,535,136,502,137,518,149,521,173,514,205,505,181,492,166,476,158,483,188,470,205,447,216,456,183,451,166,438,157,444,193,426,211,379,207,403,193,416,172,416,140,434,156,428,173,411,192,411,192]}]]},{uo:"0111-0-pines",K_:[["e9e9e9",{$:"M C C C C C C C C L L L Z".split(" "),B:[0,946,0,946,54,960,99,944,149,927,182,954,205,956,245,960,298,940,382,974,435,995,478,957,538,956,571,955,597,969,631,968,663,967,701,938,749,944,805,950,851,960,893,946,950,928,1e3,946,1e3,946,1e3,1e3,0,1e3,0,946]}],["437a26",{$:"M C L C C C L L C C L L L L L C Z M C L C C C L L C C L L L L L C Z M C L C C C L L C C L L L L L C Z M C L C C C L L C C L L L L L C Z M C L C C C L L C C L L L L L C Z".split(" "),B:[119,801,120,801,148,859,148,859,137,853,137,853,155,890,155,891,156,892,138,887,140,888,141,888,171,925,171,925,126,924,125,943,125,943,105,944,106,944,107,944,106,924,106,924,61,925,93,886,77,891,100,854,89,860,89,860,119,801,119,801,286,871,286,871,303,905,303,905,296,902,296,902,307,924,307,924,307,925,297,922,297,922,298,922,316,944,316,944,289,944,289,955,289,955,277,956,278,956,278,956,278,944,278,944,251,944,270,921,260,924,274,902,268,906,268,906,285,871,286,871,526,863,526,863,546,903,546,903,538,899,538,899,550,924,550,925,550,926,539,922,540,922,540,922,561,948,561,948,530,947,529,960,529,960,516,961,517,961,518,961,517,947,517,947,486,948,508,921,497,925,513,899,505,903,505,903,526,863,526,863,731,841,731,841,752,883,752,883,744,879,744,879,757,907,757,908,758,908,745,905,746,905,747,905,769,932,769,932,736,932,735,946,735,946,721,946,721,946,722,947,721,932,721,932,688,932,712,903,700,908,717,880,709,884,709,884,731,841,731,841,889,826,889,826,914,876,914,876,904,871,904,871,920,904,920,905,920,906,906,901,907,902,908,902,934,934,934,934,894,933,894,950,894,950,877,951,878,951,879,951,878,933,878,933,838,934,866,900,852,905,872,872,862,877,862,877,889,826,889,826]}]]},{uo:"0111-0-flowers",K_:[["8cae40",{$:"M C L C C C L C C L C C C L C C C L C C L C C L Z M C L C C C L C C L C C C L C C C L C C L C C L Z M C L C C C L C C L C C C L C C C L C C L C C L Z M C L C C C L C C L C C C L C C C L C C L C C L Z".split(" "),B:[182,866,160,879,146,903,135,929,135,844,177,842,228,831,230,796,231,770,207,765,182,779,160,792,146,816,135,843,135,713,135,711,134,710,132,710,130,710,128,711,128,713,128,841,117,815,103,791,82,779,57,764,33,769,34,795,36,830,86,841,128,844,128,930,117,903,103,880,82,867,57,853,33,858,34,884,36,919,86,930,128,932,128,1009,128,1010,130,1012,132,1012,134,1012,135,1010,135,1009,135,931,177,928,228,918,230,882,231,856,207,851,182,866,182,866,447,904,430,898,412,904,394,916,394,861,413,873,431,879,447,873,458,868,458,852,447,848,430,841,412,848,394,859,394,788,394,787,393,786,391,786,389,786,388,787,388,788,388,859,370,847,352,841,336,848,325,852,325,868,336,873,352,879,370,873,388,862,388,915,370,904,352,898,336,904,325,909,325,925,336,929,352,936,370,930,388,918,388,1009,388,1010,389,1011,391,1011,393,1011,394,1010,394,1009,394,918,413,930,431,936,447,929,458,925,458,909,447,904,447,904,662,943,650,954,641,972,634,993,634,914,659,907,680,895,692,873,707,846,686,836,662,859,650,870,641,888,634,909,634,818,634,816,632,815,631,815,629,815,628,816,628,818,628,908,621,887,612,870,600,859,576,836,555,846,570,873,582,895,603,907,628,914,628,992,621,971,612,954,600,943,576,920,555,930,570,957,582,978,603,990,628,998,628,1009,628,1010,629,1011,631,1011,632,1011,634,1010,634,1009,634,998,659,991,680,978,692,957,707,930,686,920,662,943,662,943,892,842,875,857,862,882,850,912,850,822,874,817,896,805,908,778,919,755,896,751,877,769,866,779,857,796,850,815,850,737,850,736,848,735,847,735,845,735,844,736,844,737,844,815,836,795,828,779,817,769,798,751,775,755,785,777,797,804,820,817,844,822,844,912,832,882,818,857,801,842,772,816,737,822,753,854,772,894,806,911,844,918,844,1009,844,1010,845,1011,847,1011,848,1011,850,1010,850,1009,850,918,887,911,922,894,941,854,957,822,922,816,892,842,892,842]}],["d13777",{$:"M L C L L C C C C L L Z M C C C C Z M L C L L C C C C L L Z M C C C C Z M L C L L C C C C L L Z M C C C C Z M L C L L C C C C L L Z M C C C C Z M L C L L C C C C L L Z M C C C C Z M C C C C C C C Z M C C C C C C L Z M C C C C C C C L Z M C C C C C C L Z M C C C C C C C L Z M C C C C C C L Z M C C C C C C C L Z M C C C C C C L Z M C C C C C C C C C C C C C C C C C C C C C C C C C C C C C C C C Z M C C C C Z M C C L L C C C C L L C C L L C C C C L C C C C L Z M C C C Z M C C C L Z M C C C L Z".split(" "),B:[125,603,115,617,112,619,110,618,111,615,122,600,119,597,75,614,43,631,32,650,22,675,36,694,65,682,59,716,94,722,111,696,120,687,126,657,129,604,125,603,125,603,104,638,99,638,95,634,95,629,95,624,99,620,104,620,109,620,113,624,113,629,113,634,109,638,104,638,117,587,100,582,98,579,99,578,102,577,119,583,121,580,92,543,65,517,44,513,17,512,4,531,24,555,-10,560,-6,594,24,603,36,609,67,605,118,591,118,587,117,587,78,578,77,573,79,568,84,567,88,565,93,568,95,573,96,577,94,582,89,584,85,585,80,583,78,578,130,575,130,557,131,554,133,555,135,557,135,575,138,576,164,537,180,504,177,482,171,456,148,449,132,476,117,445,85,460,86,491,84,504,97,532,126,577,130,575,130,575,126,535,130,532,136,533,139,537,142,541,141,546,137,549,133,552,127,551,125,547,122,543,122,538,126,535,146,584,162,577,165,578,166,580,164,582,146,588,147,591,193,604,229,609,249,600,271,585,271,562,240,554,265,530,241,505,212,516,199,518,176,539,143,580,146,584,146,584,183,567,187,570,187,576,185,580,182,584,176,585,172,582,168,579,167,573,170,569,173,565,179,565,183,567,142,601,153,615,153,618,152,619,149,618,138,603,135,605,137,652,144,688,159,704,180,721,202,713,199,681,230,698,246,667,227,643,221,631,194,616,145,597,142,601,142,601,169,631,167,636,162,638,158,637,153,635,151,630,152,625,154,621,159,618,163,620,168,621,170,626,169,631,376,691,343,693,320,697,309,706,297,714,291,729,294,756,294,767,295,779,294,788,305,786,320,788,335,788,353,787,369,782,375,773,382,764,386,739,388,703,381,702,377,699,376,691,363,745,357,757,351,761,345,761,337,760,337,751,343,737,330,742,322,742,319,735,317,728,322,723,331,718,346,712,360,708,374,706,373,720,369,733,363,745,363,745,388,680,387,646,383,623,375,612,366,600,351,594,325,596,314,596,302,597,293,595,295,607,292,622,292,637,292,654,298,671,306,676,315,684,340,689,376,692,377,684,381,680,388,680,388,680,334,665,323,659,318,654,319,648,320,639,329,640,343,645,338,632,339,625,345,621,352,620,358,625,362,634,368,649,372,664,373,677,360,676,347,671,334,665,334,665,399,691,433,690,456,686,467,678,479,670,485,655,484,629,484,617,482,606,484,597,472,598,458,595,442,596,425,596,409,601,403,610,395,618,391,643,388,679,395,680,399,684,399,691,399,691,414,638,420,626,426,622,432,622,440,624,440,633,434,646,447,641,455,642,458,648,459,656,454,661,445,665,430,671,416,675,402,677,403,663,408,650,414,638,414,638,388,703,390,736,394,759,403,770,411,782,426,788,452,785,464,785,475,784,485,785,483,774,485,759,485,744,484,726,479,710,470,704,461,697,436,693,400,691,399,698,395,702,388,703,388,703,442,716,453,722,458,728,458,734,456,742,447,742,434,736,439,749,438,757,432,760,425,762,419,757,415,748,409,733,404,719,403,705,416,706,429,710,442,716,442,716,722,716,722,701,710,690,696,690,695,690,694,690,693,690,693,689,694,689,695,688,705,678,705,662,695,651,685,641,668,641,658,651,658,652,657,653,656,654,656,653,656,652,656,651,656,637,645,625,630,625,616,625,605,637,605,651,605,652,605,653,605,654,604,654,604,653,603,652,593,642,576,642,566,652,556,662,556,679,566,689,567,690,568,690,569,691,568,691,567,691,566,691,552,691,540,702,540,717,540,731,552,743,566,743,567,743,568,743,569,742,569,743,568,744,567,744,557,754,557,771,567,781,577,791,594,791,604,781,605,780,605,779,606,778,606,779,606,780,606,781,606,795,617,807,632,807,646,807,657,795,657,781,657,780,657,779,657,778,658,779,658,779,659,780,669,790,686,790,696,780,706,770,706,754,696,743,695,743,694,742,693,741,694,741,695,741,696,741,710,741,722,730,722,716,631,762,605,762,585,742,585,716,585,691,605,670,631,670,657,670,677,691,677,716,677,742,657,762,631,762,958,602,957,570,951,547,940,532,925,541,905,565,887,591,886,591,886,546,892,545,897,540,897,533,897,527,891,521,884,521,877,521,872,527,872,533,872,540,876,545,882,546,882,591,882,591,870,564,860,536,848,525,833,541,820,565,808,592,807,592,807,546,813,545,817,540,817,533,817,527,812,521,805,521,798,521,792,527,792,533,792,540,797,545,802,546,802,590,784,567,766,545,755,534,729,588,731,639,766,684,787,711,814,726,847,725,919,724,960,659,958,602,958,602,783,671,772,653,777,645,789,648,812,656,830,682,840,711,821,704,797,692,783,671,836,634,840,614,850,612,856,622,867,644,861,676,848,703,840,684,831,659,836,634,836,634,919,659,911,682,885,701,856,711,863,692,875,668,896,654,913,642,922,647,919,659,919,659]}]]},{uo:"1101-1-confetti",K_:[["e789ff",{$:"M C C C C C Z M C C C C C C C Z M C C C C C C C Z M C C C C C Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z".split(" "),B:[170,439,169,438,59,370,108,300,152,238,298,276,318,337,338,398,265,380,285,358,312,328,185,247,121,307,72,353,171,440,170,439,318,338,336,399,262,408,184,346,138,309,73,237,112,174,167,88,345,115,377,222,393,276,296,260,335,236,375,212,236,111,155,183,73,254,265,380,285,358,312,328,318,338,318,338,377,222,394,276,318,288,243,236,187,197,146,120,201,56,254,-5,365,26,407,68,407,68,414,94,378,71,344,50,258,31,221,89,178,154,297,260,336,235,374,211,377,222,377,222,406,70,452,115,432,189,324,115,214,39,323,-85,322,-85,320,-85,229,38,331,100,439,166,413,95,377,72,343,51,364,28,406,70,346,405,369,418,356,441,333,428,346,405,513,298,536,311,523,334,500,321,513,298,891,91,914,104,901,127,878,114,891,91,24,123,47,136,34,159,11,146,24,123,664,33,687,46,674,69,651,56,664,33,910,482,933,495,920,518,897,505,910,482]}],["666666",{$:"M C C C C C Z M C C C C C C C Z M C C C C C C C Z M C C C C C Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z".split(" "),B:[919,442,917,443,802,510,764,432,730,364,837,250,901,261,965,272,913,329,903,301,889,262,755,338,777,424,794,490,920,442,919,442,901,261,964,274,936,345,842,386,787,410,690,435,654,370,604,279,716,132,827,153,883,164,821,244,819,197,817,150,659,228,682,335,706,443,913,329,903,301,889,262,901,261,901,261,827,153,884,163,857,238,774,281,711,313,622,313,593,233,564,157,647,71,705,54,705,54,732,60,694,82,658,102,599,170,632,231,669,301,822,244,819,197,816,150,827,153,827,153,706,54,769,34,825,87,706,149,583,213,527,56,526,57,526,59,590,200,696,137,807,70,732,60,694,82,658,102,648,73,706,54,362,328,383,340,371,361,350,349,362,328,52,189,73,201,61,222,40,210,52,189,509,119,530,131,517,152,496,140,509,119,912,16,933,28,921,49,900,37,912,16,629,380,650,392,638,413,617,401,629,380,77,414,98,426,86,447,65,435,77,414,240,76,261,88,249,109,228,97,240,76]}]]},{uo:"1101-1-branch",K_:[["7f500b",{$:"M C C C L C C Z M C C C L C C Z M C C C L C C Z M C C C L C C Z M C C C L C C Z M C C C L C C Z".split(" "),B:[144,-14,144,-14,149,-12,150,-12,150,-12,106,22,86,75,63,137,93,193,69,238,64,236,89,174,53,146,80,72,99,19,144,-14,144,-14,280,-18,281,-18,276,-20,276,-20,276,-20,282,23,264,64,244,113,196,129,185,168,189,170,209,120,244,123,269,66,288,25,280,-18,280,-18,429,-5,429,-5,434,-4,434,-4,435,-4,405,28,396,72,386,124,415,164,402,203,398,202,410,150,379,132,391,70,399,26,429,-5,429,-5,514,-7,514,-7,519,-12,519,-12,520,-12,532,50,577,96,630,151,703,150,738,197,733,201,681,144,635,166,571,101,526,54,514,-7,514,-7,666,-67,666,-68,663,-65,662,-64,662,-64,704,-52,734,-18,768,22,763,72,793,99,796,96,760,57,778,26,737,-22,708,-56,666,-67,666,-67,936,-8,936,-8,932,-9,931,-9,931,-9,947,32,938,76,927,127,884,154,881,194,886,195,895,142,930,138,943,76,952,32,936,-8,936,-8]}],["5c7f0b",{$:"M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z".split(" "),B:[119,6,121,16,113,31,81,33,58,34,27,27,27,27,27,27,53,5,70,-1,93,-9,117,-4,119,6,124,8,132,1,151,12,165,33,179,54,180,87,180,87,180,87,153,75,139,60,122,41,115,14,124,8,78,74,82,83,76,97,48,103,27,108,-2,105,-2,105,-2,105,19,81,33,74,53,64,75,65,78,74,83,75,90,68,108,76,124,93,139,110,144,140,144,140,144,140,117,132,104,121,85,105,76,83,83,75,72,152,75,159,72,172,48,179,30,185,6,185,6,185,6,185,22,163,33,156,49,145,68,145,72,152,76,153,81,146,98,151,112,165,126,178,133,203,133,203,133,203,110,199,97,190,80,178,70,160,76,153,73,206,75,213,71,224,49,228,34,232,12,230,12,230,12,230,28,212,39,206,53,199,70,200,73,206,76,207,81,202,95,207,107,220,118,233,122,255,122,255,122,255,102,250,92,241,78,230,71,213,76,207,70,232,78,236,76,252,66,269,56,286,33,297,33,297,33,297,33,274,39,260,46,241,62,228,70,232,285,3,278,8,274,21,291,39,304,52,325,63,325,63,325,63,323,36,316,24,308,7,291,-2,285,3,281,1,280,-7,263,-10,244,-5,224,1,205,20,205,20,205,20,228,27,244,25,264,22,283,10,281,1,270,65,264,69,259,80,272,99,281,112,299,125,299,125,299,125,300,100,296,88,290,72,277,61,270,65,267,64,267,56,252,51,234,53,216,56,197,71,197,71,197,71,216,80,230,80,249,80,267,72,267,64,231,116,225,119,220,128,230,145,237,157,251,170,251,170,251,170,254,148,251,138,248,123,237,113,231,116,228,114,229,108,217,102,201,103,186,103,168,115,168,115,168,115,184,124,196,126,212,127,228,121,228,114,201,148,196,151,192,160,202,174,209,184,222,194,222,194,222,194,223,175,220,166,216,154,206,145,201,148,198,147,198,141,187,137,174,139,160,141,145,152,145,152,145,152,160,159,171,159,185,160,198,153,198,147,188,165,182,163,173,174,170,190,167,205,173,224,173,224,173,224,186,210,191,198,197,183,195,166,188,165,415,10,417,18,413,31,389,36,371,39,347,37,347,37,347,37,364,16,377,9,393,0,412,2,415,10,418,11,424,4,440,11,453,27,466,43,470,69,470,69,470,69,448,62,436,52,420,38,412,17,418,11,391,69,394,76,392,89,371,96,355,102,333,103,333,103,333,103,346,81,357,74,371,64,388,63,391,69,395,70,399,63,414,68,428,80,441,92,448,116,448,116,448,116,427,113,415,105,400,94,390,77,395,70,395,133,398,139,397,150,379,158,367,164,348,167,348,167,348,167,358,148,366,140,377,130,391,128,395,133,398,134,401,128,414,130,427,140,439,149,447,169,447,169,447,169,429,167,418,162,404,154,394,140,398,134,401,177,404,182,402,192,386,198,374,202,358,203,358,203,358,203,368,187,375,181,386,173,399,172,401,177,404,178,408,173,419,176,429,185,439,194,445,212,445,212,445,212,429,210,420,204,408,196,401,183,404,178,402,198,408,201,409,214,403,229,397,244,381,255,381,255,381,255,378,236,381,224,385,208,396,196,402,198,519,23,531,26,543,42,528,75,518,99,495,125,495,125,495,125,485,87,487,67,490,40,508,19,519,23,523,19,521,7,542,-6,571,-8,600,-10,636,6,636,6,636,6,609,27,586,32,557,39,526,32,523,19,570,100,581,102,594,115,585,147,579,170,562,197,562,197,562,197,548,163,547,145,547,120,560,98,570,100,574,97,570,86,587,72,613,66,639,60,673,71,673,71,673,71,652,93,632,101,607,110,578,107,574,97,649,149,659,150,670,160,666,188,662,208,650,232,650,232,650,232,635,205,633,189,631,168,640,149,649,149,652,146,648,137,662,123,683,116,705,109,734,116,734,116,734,116,718,137,702,145,681,155,657,155,652,146,707,178,715,179,724,189,718,213,714,230,701,250,701,250,701,250,690,225,690,211,689,193,699,177,707,178,710,175,707,167,720,156,739,151,759,147,784,155,784,155,784,155,768,172,753,177,734,185,713,183,710,175,732,194,740,189,757,199,770,218,782,237,783,266,783,266,783,266,758,254,746,240,730,223,724,199,732,194,687,-62,688,-54,699,-45,722,-53,739,-59,759,-73,759,-73,759,-73,733,-82,719,-82,701,-81,685,-71,687,-62,684,-60,676,-62,666,-48,662,-28,659,-9,669,17,669,17,669,17,684,-1,689,-16,696,-35,692,-57,684,-60,737,-23,738,-15,746,-5,768,-9,784,-12,804,-23,804,-23,804,-23,782,-34,769,-36,752,-38,736,-30,737,-23,734,-20,727,-24,716,-13,711,5,705,22,711,46,711,46,711,46,727,33,734,20,742,3,742,-17,734,-20,766,35,766,41,772,50,792,48,806,47,823,40,823,40,823,40,805,28,795,26,780,23,766,28,766,35,763,37,758,33,747,42,741,56,735,70,738,91,738,91,738,91,753,81,760,71,768,57,769,40,763,37,782,76,783,82,789,89,806,86,818,84,832,76,832,76,832,76,816,67,806,66,794,65,782,70,782,76,780,78,775,75,766,84,762,97,758,110,762,128,762,128,762,128,775,118,779,108,786,95,785,80,780,78,792,94,788,100,794,112,807,122,819,131,839,133,839,133,839,133,832,116,823,107,812,95,796,89,792,94,945,11,939,18,938,31,959,45,974,55,997,62,997,62,997,62,989,36,980,25,968,11,950,5,945,11,941,11,938,3,921,3,903,13,885,22,871,45,871,45,871,45,894,47,909,42,929,35,944,19,941,11,944,75,938,80,935,93,952,108,964,119,984,128,984,128,984,128,980,104,974,93,965,78,949,70,944,75,940,75,938,67,923,65,906,71,889,77,873,96,873,96,873,96,894,101,908,99,926,95,942,82,940,75,916,133,911,137,907,147,920,162,930,172,946,182,946,182,946,182,944,160,940,151,933,137,921,129,916,133,913,132,912,125,899,123,884,127,869,130,854,145,854,145,854,145,871,151,883,150,899,148,913,139,913,132,893,171,888,175,887,184,899,196,908,204,923,211,923,211,923,211,920,193,915,184,909,173,897,167,893,171,890,170,889,165,877,163,864,168,851,172,839,187,839,187,839,187,855,190,865,188,879,186,891,176,890,170,884,190,877,190,871,202,871,218,871,234,881,251,881,251,881,251,891,234,893,222,896,206,890,190,884,190]}]]},{uo:"1101-1-sticks",K_:[["ec7272",{$:"M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z".split(" "),B:[260,148,297,180,286,192,249,160,260,148,114,31,161,47,155,63,109,47,114,31,931,91,902,52,915,42,945,81,931,91,711,19,746,-15,758,-3,723,31,711,19,812,161,782,122,795,112,825,151,812,161,389,34,424,0,436,12,401,46,389,34,431,209,465,175,477,186,442,221,431,209,282,90,282,41,299,41,299,90,282,90,58,233,29,194,42,184,72,223,58,233,574,58,621,74,615,90,569,74,574,58]}],["0000ff",{$:"M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z".split(" "),B:[722,208,733,161,717,157,706,205,722,208,843,12,797,28,802,44,849,28,843,12,31,74,60,35,47,25,18,64,31,74,220,21,185,-13,173,-1,208,33,220,21,140,166,170,127,157,117,127,156,140,166,558,148,523,114,511,126,546,160,558,148,562,9,516,25,521,41,568,25,562,9,697,105,726,66,713,56,684,95,697,105,961,180,990,141,977,131,948,170,961,180,399,97,353,113,358,129,405,113,399,97]}]]},{uo:"1101-1-dots",K_:[["ec7272",{$:"M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z".split(" "),B:[154,47,144,47,136,39,136,29,136,19,144,11,154,11,164,11,172,19,172,29,172,39,164,47,154,47,272,164,262,164,254,156,254,146,254,136,262,128,272,128,282,128,290,136,290,146,290,156,282,164,272,164,529,48,519,48,511,40,511,30,511,20,519,12,529,12,539,12,547,20,547,30,547,40,539,48,529,48,696,101,686,101,678,93,678,83,678,73,686,65,696,65,706,65,714,73,714,83,714,93,706,101,696,101,929,91,919,91,911,83,911,73,911,63,919,55,929,55,939,55,947,63,947,73,947,83,939,91,929,91]}],["0000ff",{$:"M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z".split(" "),B:[66,122,56,122,48,114,48,104,48,94,56,86,66,86,76,86,84,94,84,104,84,114,76,122,66,122,309,55,299,55,291,47,291,37,291,27,299,19,309,19,319,19,327,27,327,37,327,47,319,55,309,55,785,180,775,180,767,172,767,162,767,152,775,144,785,144,795,144,803,152,803,162,803,172,795,180,785,180,459,147,449,147,441,139,441,129,441,119,449,111,459,111,469,111,477,119,477,129,477,139,469,147,459,147,811,48,801,48,793,40,793,30,793,20,801,12,811,12,821,12,829,20,829,30,829,40,821,48,811,48]}],["88a500",{$:["M","C","C","Z"],B:[389,224,389,224,410,230,410,230,410,230,389,224,389,224]}]]},{uo:"1101-1-strips",K_:[["ffc88c",{$:"M L L L L Z M L L L L Z M L L L L Z".split(" "),B:[-40,0,44,0,137,99,53,99,-40,0,296,0,380,0,473,99,389,99,296,0,632,0,716,0,809,99,725,99,632,0]}],["88a500",{$:"M L L L L Z M L L L L Z M L L L L Z".split(" "),B:[128,0,212,0,305,99,221,99,128,0,464,0,548,0,641,99,557,99,464,0,800,0,884,0,977,99,893,99,800,0]}],["88a500",{$:["M","C","C","Z"],B:[407,217,407,217,428,223,428,223,428,223,407,217,407,217]}]]},{uo:"1101-1-circs",K_:[["ec7272",{$:"M C C C C Z M C C C C Z".split(" "),B:[61,209,27,209,0,181,0,147,0,113,27,86,61,86,96,86,123,113,123,147,123,181,96,209,61,209,551,209,517,209,489,181,489,147,489,113,517,86,551,86,585,86,612,113,612,147,612,181,585,209,551,209]}],["217995",{$:"M C C C C Z M C C C C Z".split(" "),B:[303,209,269,209,241,181,241,147,241,113,269,86,303,86,337,86,364,113,364,147,364,181,337,209,303,209,799,209,765,209,738,181,738,147,738,113,765,86,799,86,834,86,861,113,861,147,861,181,834,209,799,209]}],["88a500",{$:["M","C","C","Z"],B:[530,273,530,273,551,279,551,279,551,279,530,273,530,273]}]]},{uo:"1101-1-squares",K_:[["014ea7",{$:"M L L L L Z M L L L L Z".split(" "),B:[0,120,124,120,124,244,0,244,0,120,497,120,621,120,621,244,497,244,497,120]}],["fc54ff",{$:"M L L L L Z M L L L L Z".split(" "),B:[249,120,373,120,373,244,249,244,249,120,746,120,870,120,870,244,746,244,746,120]}],["88a500",{$:["M","C","C","Z"],B:[389,354,389,354,410,360,410,360,410,360,389,354,389,354]}]]},{uo:"1101-0-christmas",K_:[["014ea7",{$:"M C C C C Z M C C C C Z M L L L L Z".split(" "),B:[255,480,178,480,116,418,116,341,116,264,178,202,255,202,332,202,394,264,394,341,394,418,332,480,255,480,255,232,236,232,221,217,221,198,221,179,236,164,255,164,274,164,289,179,289,198,289,217,274,232,255,232,251,-152,260,-152,260,248,251,248,251,-152]}],["ff9518",{$:"M C C C C Z M C C C C Z M L L L L Z".split(" "),B:[746,623,669,623,607,561,607,484,607,407,669,345,746,345,823,345,885,407,885,484,885,561,823,623,746,623,747,376,728,376,713,361,713,342,713,323,728,308,747,308,766,308,781,323,781,342,781,361,766,376,747,376,742,-8,751,-8,751,392,742,392,742,-8]}]]}];
var Gh={};Gh.parse=function(p){var d=new Uint8Array(p),K=null;if(d[0]==80&&d[1]==75){var A=Date.now(),x=UZIP.parse(d.buffer),K=x["document.json"];
K=JSON.parse(v.Il(K,0,K.length));Gh.uf(K,x)}else{var M=Mt.parse(p);K=Gh._m(M[2][0][1])}return K};Gh.uf=function(p,d){var K=typeof p;
if(K=="string"||K=="number"||K=="boolean")return p;if(p instanceof Array){for(var A=0;A<p.length;A++)p[A]=Gh.uf(p[A],d);
return p}var x=p._class;if(x==null)return p;if(x=="MSJSONFileReference"){var M=p._ref;if(!1){}else if(d[M+".json"]!=null){var G=d[M+".json"],D=G.length;
for(var A=0;A<D;A++)if(G[A]==11||G[A]==3)G[A]=32;var P=v.Il(G,0,D);p=JSON.parse(P)}else if(d[M+".png"]!=null)return{key:M.split("/").pop(),bdata:d[M+".png"]};
else if(d[M+".jpg"]!=null)return{key:M.split("/").pop(),bdata:d[M+".jpg"]};else if(d[M+".pdf"]!=null)return{key:M.split("/").pop(),bdata:d[M+".pdf"]};
else if(d[M]!=null)return{key:M.split("/").pop(),bdata:d[M]};else{console.log(p,d);return}}else if(x=="MSAttributedString"){var P=atob(p.archivedAttributedString._archive),a=P.length-1,e=new Uint8Array(a);
for(var A=0;A<a;A++)e[A]=P.charCodeAt(A);p.archivedAttributedString=Gh._m(e)}for(var f in p)p[f]=Gh.uf(p[f],d);
return p};Gh.Fq=function(p,d,K,A){if(p instanceof Uint8Array)return null;if(A.indexOf(p)!=-1)return null;
A.push(p);if(p==d)return K;for(var x in p){K.push(x);var M=Gh.Fq(p[x],d,K,A);if(M){console.log(p,M);
throw"e"}K.pop()}};Gh._m=function(p){var d=tk.parse(p,0),K=d.$objects,A=new Uint8Array(K.length),x=Gh._r(K,A,d.$top.root);
for(var M=0;M<K.length;M++)if(A[M]==0&&M!=0){console.log(M,K[M]);Gh.Fq(x,M,[],[])}for(var M=0;M<K.length;
M++){var G=K[M];if(G._class&&(G._class=="bitmap"||G._class=="fill"&&G.fillType==4&&(G.image||G.imageSHA))){var D=G.image,P=G.imageSHA,a=null,e=null;
if(D=="$null")D=null;if(P=="$null")P=null;if(D&&D.data){e=D.sha1["NS.bytes"];e=btoa(v.Ms(e,0,e.length));
a=D.data instanceof Uint8Array?D.data:D.data["NS.bytes"]}else if(D==null&&P==null){var f=QH.PNG._B([[Z.p(4).buffer]],1,1);
a=new Uint8Array(f)}else{var N=(x.assets?x.assets.imageCollection:x.images).images;if(P)e=P instanceof Uint8Array?P:P["NS.bytes"];
else e=D.sha1["NS.bytes"];e=btoa(v.Ms(e,0,e.length));var a=N[e].data;if(a["NS.bytes"])a=a["NS.bytes"]}a=new Uint8Array(a.buffer.slice(a.byteOffset,a.byteOffset+a.length));
delete G.imageSHA;G.image={key:e,bdata:a}}}return x};Gh.ezW=function(p){return p.slice(0,11)=="MSImmutable"?"MS"+p.slice(11):p};
Gh._r=function(p,d,K){var A=p[K];if(d[K]==1){return A}d[K]=1;if(typeof A=="string")return A;if(typeof A=="number")return A;
if(typeof A=="boolean")return A;if(A instanceof Array)return A;if(A instanceof Uint8Array){return A}if(p[A.$class]==null){if(A.$class==null&&A["NS.data"]!=null)return A;
console.log(K,A);throw"e"}var x=p[A.$class],M=Gh.ezW(x.$classname);d[A.$class]=1;A.$class=M;if(Gh.ih[M]){delete A.$class;
A._class=Gh.ih[M]}var G=Gh._r;if(M=="NSMutableArray"||M=="NSArray"){var D=[];if(A["NS.objects"]!=null)for(var P=0;
P<A["NS.objects"].length;P++)D.push(G(p,d,A["NS.objects"][P]));else for(var P=0;A["NS.object."+P]!=null;
P++)D.push(G(p,d,A["NS.object."+P]));p[K]=D;return D}if(M=="NSDictionary"||M=="NSMutableDictionary"){var a={$class:M};
if(A["NS.keys"]!=null)for(var P=0;P<A["NS.keys"].length;P++){var e=G(p,d,A["NS.keys"][P]);if(e instanceof Uint8Array)e=btoa(Gh.R_.Ms(e,0,e.length));
else if(typeof e!="string"&&typeof e!="number")e=btoa(Gh.R_.Ms(e["NS.bytes"],0,e["NS.bytes"].length));
a[e]=G(p,d,A["NS.objects"][P])}else for(var P=0;A["NS.key."+P]!=null;P++){var e=G(p,d,A["NS.key."+P]);
if(e instanceof Uint8Array)e=btoa(Gh.R_.Ms(e,0,e.length));else if(typeof e!="string"&&typeof e!="number")e=btoa(Gh.R_.Ms(e["NS.bytes"],0,e["NS.bytes"].length));
a[e]=G(p,d,A["NS.object."+P])}for(var f in A)delete A[f];for(var f in a)A[f]=a[f];return A}if(M=="NSURL")return{$class:M,base:G(p,d,A["NS.base"]),relative:G(p,d,A["NS.relative"])};
if(Gh.ezD.indexOf(M)!=-1){p[K]=G(p,d,A.array_do);return p[K]}if(A.do_objectID!=null)A.do_objectID=G(p,d,A.do_objectID);
if(Gh.ezl.indexOf(M)!=-1)return A;var N=Gh.ezk[M];if(N==null){console.log(p,A);throw"unknown class "+M}for(var P=0;
P<N.length;P++)if(A[N[P]]!=null)A[N[P]]=G(p,d,A[N[P]]);if(M=="MSTextLayer"){var Y=A,l,h,s,J;if(Y.attributedString)l=Y.attributedString.archivedAttributedString;
else l=Y.storage;J=l.NSString;if(typeof J!="string")J=v.Il(J["NS.bytes"],0,J["NS.bytes"].length);if(l.NSAttributeInfo)h=l.NSAttributeInfo["NS.bytes"];
else{var u=J.length,Q=[];while(u>0){var W=Math.min(100,u);Q.push(W,0);u-=W}h=new Uint8Array(Q)}s=l.NSAttributes instanceof Array?l.NSAttributes:[l.NSAttributes];
var q={$class:"NSAttributedString",NSString:J,NSAttributes:s};Y.attributedString={_class:"MSAttributedString",archivedAttributedString:q};
q.NSAttributeInfo={$class:"NSMutableData","NS.data":h};delete Y.storage}return A};Gh.R_={OW:function(p,d){return p[d+1]<<8|p[d]},X:function(p,d){return p[d+3]<<24|p[d+2]<<16|p[d+1]<<8|p[d]},Ms:function(p,d,K){var A="";
for(var x=0;x<K;x++)A+=String.fromCharCode(p[d+x]);return A}};Gh.ih={MSPage:"page",MSArtboardGroup:"artboard",MSShapeGroup:"shapeGroup",MSLayerGroup:"group",MSBitmapLayer:"bitmap",MSTextLayer:"text",MSSliceLayer:"slice",MSSymbolMaster:"symbolMaster",MSSymbolInstance:"symbolInstance",MSStyleFill:"fill",MSShapePathLayer:"shapePath",MSRectangleShape:"rectangle",MSOvalShape:"oval",MSTriangleShape:"triangle"};
Gh.ezD=["MSArray","MSFillStyleCollection","MSBorderStyleCollection","MSShadowStyleCollection","MSInnerShadowStyleCollection"];
Gh.ezl="MSArchivedColor MSLayoutGrid MSSimpleGrid MSColor MSRect MSStyleColorControls MSGraphicsContextSettings NSMutableString NSMutableData NSDecimalNumberPlaceholder MSStyleReflection".split(" ");
Gh.ezk={MSAssetCollection:["gradients","colors","imageCollection","images"],MSImageCollection:["images"],MSSharedStyleContainer:["objects"],MSSharedTextStyleContainer:["objects"],MSSharedLayerStyleContainer:["objects"],MSSharedLayerTextStyleContainer:["objects"],MSSharedLayerContainer:["objects"],MSSymbolContainer:["objects"],MSGradient:["stops","from","to","points"],MSGradientStop:["color"],MSStyleFill:["color","gradient","contextSettings","image","imageSHA"],MSExportFormat:["fileFormat","name"],MSExportOptions:["exportFormats","includedLayerIds","sizes"],MSRulerData:["guides"],MSStyle:"textStyle fills contextSettings sharedObjectID borders blur shadows innerShadows borderOptions colorControls reflection".split(" "),MSSharedStyle:["name","value"],MSSymbol:["name","value"],MSAttributedString:["archivedAttributedString"],MSSharedLayerStyle:["name","value","instances"],MSSharedLayer:["name","value","instances"],MSDocumentData:"assets layerStyles pages layerTextStyles layerSymbols images userInfo".split(" "),MSShapePathLayer:"exportOptions frame name userInfo path originalObjectID".split(" "),MSOvalShape:"exportOptions frame name userInfo path originalObjectID".split(" "),MSRectangleShape:"exportOptions frame name userInfo path originalObjectID".split(" "),MSPolygonShape:"exportOptions frame name userInfo path originalObjectID".split(" "),MSTriangleShape:"exportOptions frame name userInfo path originalObjectID".split(" "),MSStarShape:"exportOptions frame name userInfo path originalObjectID".split(" "),MSBitmapLayer:"exportOptions frame name userInfo style imageSHA nineSliceCenterRect image clippingMask originalObjectID".split(" "),MSTextLayer:"exportOptions frame name userInfo style originalObjectID attributedString glyphBounds storage".split(" "),MSShapeGroup:"exportOptions frame name userInfo style originalObjectID layers".split(" "),MSLayerGroup:"exportOptions frame name userInfo style originalObjectID layers sharedObjectID".split(" "),MSArtboardGroup:"exportOptions frame name userInfo style layers horizontalRulerData verticalRulerData layout grid backgroundColor".split(" "),MSPage:"exportOptions frame name userInfo style layers horizontalRulerData verticalRulerData layout grid scrollOrigin".split(" "),MSSymbolMaster:"exportOptions frame name userInfo style layers horizontalRulerData verticalRulerData layout grid originalObjectID symbolID backgroundColor".split(" "),MSSymbolInstance:"exportOptions frame name userInfo style symbolID overrides masterInfluenceBounds originalObjectID".split(" "),MSSliceLayer:["exportOptions","frame","name","userInfo","backgroundColor"],MSTextStyle:["attributes","encodedAttributes"],MSShapePath:["points"],MSPointArray:["points"],MSImageData:["data","sha1","name"],MSCurvePoint:["curveFrom","curveTo","point"],MSImageProxy:["sha1"],MSStyleBorder:["color","gradient","contextSettings"],MSStyleBlur:["center"],MSStyleShadow:["color","contextSettings"],MSStyleInnerShadow:["color","contextSettings"],MSExportSize:["format","name"],MSStyleBorderOptions:["dashPattern"],NSFont:["NSName"],NSColor:["NSCustomColorSpace"],NSFontDescriptor:["NSFontDescriptorAttributes"],NSMutableParagraphStyle:["NSTextBlocks","NSTabStops","NSTextLists"],NSAttributedString:["NSAttributes","NSString","NSAttributeInfo"],NSTextStorage:["NSAttributeInfo","NSAttributes","NSString"],NSColorSpace:["NSICC"],NSParagraphStyle:["NSTabStops","NSTextBlocks","NSTextLists"],NSTextList:["NSMarkerFormat"],NSTextTab:["NSTabOptions"],UIFontDescriptor:["UIFontDescriptorAttributes"]};
var tk={};tk.parse=function(p,d){var K=v.Ms(p,d,8);d+=8;var A=tk.parse.ea$(p,p.length-31),x=[];if(A.Jr==1){var d=p.length-31-A.Jr*A.Jy;
for(var M=0;M<A.Jy;M++)x.push(p[d+M])}else if(A.Jr==2){var d=p.length-31-A.Jr*A.Jy;for(var M=0;M<A.Jy;
M++)x.push(v.OW(p,d+M*2))}else if(A.Jr==4){var d=p.length-31-A.Jr*A.Jy;for(var M=0;M<A.Jy;M++)x.push(v.X(p,d+M*4))}else{throw"e"}var G=tk.parse._r(p,x,A.root,A);
return G};tk.parse._r=function(p,d,K,A){var x=tk.R_,M=A.eaU,G=M==4?x.X:M==2?x.OW:x.eax,D=tk.parse,P=d[K],a=p[P],e=a>>4,f=a&15,Y=null;
P+=1;if([4,5,6,10,12,13].indexOf(e)!=-1&&f==15){var N=D.gc(p,P);P+=N.Lw;f=N.S}if(!1){}else if(e==0)Y=f==8?!1:f==9?!0:null;
else if(e==1)Y=D.gc(p,P-1).S;else if(e==2)Y=1<<f==4?v.lX(p,P):v.Ut(p,P);else if(e==3)Y=v.Ut(p,P);else if(e==4)Y=new Uint8Array(p.buffer,P,f);
else if(e==5)Y=v.Ms(p,P,f);else if(e==6)Y=v.mI(p,P,f);else if(e==8){Y=0;for(var l=0;l<f+1;l++)Y=Y<<8|p[P+l]}else if(e==10){Y=[];
for(var l=0;l<f;l++)Y.push(D._r(p,d,G(p,P+M*l),A))}else if(e==12){Y=[];for(var l=0;l<f;l++)Y.push(D._r(p,d,G(p,P+M*l),A))}else if(e==13){Y={};
for(var l=0;l<f;l++){var h=D._r(p,d,G(p,P+M*l),A),s=D._r(p,d,G(p,P+M*(f+l)),A);Y[h]=s}}else throw"unknown mask "+e;
return Y};tk.parse.gc=function(p,d){var K=1<<(p[d]&15),A=0;for(var x=0;x<K;x++)A=A<<8|p[d+1+x];return{S:A,Lw:K+1}};
tk.parse.ea$=function(p,d){var K={};d+=6;K.Jr=p[d];d++;K.eaU=p[d];d++;d+=4;K.Jy=v.X(p,d);d+=4;d+=4;K.root=v.X(p,d);
d+=4;d+=4;K.epC=v.X(p,d);d+=4;return K};tk.R_={eax:function(p,d){return p[d]},OW:function(p,d){return p[d]<<8|p[d+1]},X:function(p,d){return p[d]<<24|p[d+1]<<16|p[d+2]<<8|p[d+3]},Ms:function(p,d,K){var A="";
for(var x=0;x<K;x++)A+=String.fromCharCode(p[d+x]);return A}};var Mt={parse:function(p){var d=new Uint8Array(p),K=Mt.mF(d),A=[],x=new Uint8Array(d.length),M=[];
A.push(M);Mt.Ht(d,K,1,x,M);for(var G=0;G<M.length;G++){var D=[];A.push(D);Mt.Ht(d,K,M[G][3],x,D);M[G][3]=G+1}return A},Ht:function(p,d,K,A,x){K--;
var M=K*d.pr+(K==0?100:0),G=p[M],D=Mt.OW(p,M+1);if(D!=0)throw"free block in a page";var P=Mt.OW(p,M+3),a=Mt.OW(p,M+5);
if(a==0)a=65536;var e=p[M+7],f=Mt.OW(p,M+8);if(G==2||G==5)M+=4;else f=0;for(var N=0;N<P;N++){var Y=K*d.pr+Mt.OW(p,M+8+2*N),l=-1,h=0,s=0,J=0;
if(G==2||G==5){l=Mt.X(p,Y);Y+=4}if(G==2||G==10||G==13){h=Mt.xx(p,Y);Y+=h.Lw}if(G==5||G==13){s=Mt.xx(p,Y);
Y+=s.Lw}if(G==5){Mt.Ht(p,d,l,A,x);continue}var u=d.pr-(K==0?100:0),Q=h.jV,W=G==13?u-35:Math.floor((u-12)*64/255)-23,q=Math.floor((u-12)*32/255)-23,H=q+(Q-q)%(u-4);
if(Q<=W){Mt.tM(p,Y,A,0,Q)}else{var C=H<=W?H:q,k=0;Mt.tM(p,Y,A,0,C);k+=C;J=Mt.X(p,Y+C);while(J!=0){var i=(J-1)*d.pr;
J=Mt.X(p,i);var m=Math.min(d.pr-4,Q-k);Mt.tM(p,i+4,A,k,m);k+=m}}x.push(Mt.eaD(A,Q))}},eaD:function(p,d){var K=0,A=Mt.xx(p,K);
K+=A.Lw;var x=[],M=[];while(K<A.jV){var G=Mt.xx(p,K);K+=G.Lw;x.push(G.jV)}if(K!=A.jV)throw"e";for(var D=0;
D<x.length;D++){var G=x[D];if(!1){}else if(G==0)M.push(null);else if(G==1){M.push(Mt.eaJ(p,K));K+=1}else if(G==2){M.push(Mt.ZW(p,K));
K+=2}else if(G==3){M.push(Mt.eaA(p,K));K+=3}else if(G==4){M.push(Mt.gc(p,K));K+=4}else if(G==7){M.push(Mt.eaC(p,K));
K+=16}else if(G==8)M.push(0);else if(G==9)M.push(1);else if(G>=12&&(G&1)==0){var P=G-13>>1,a=new Uint8Array(P);
Mt.tM(p,K,a,0,P);M.push(a);K+=P}else if(G>=13&&(G&1)==1){var P=G-12>>1;M.push(Mt.Il(p,K,P));K+=P}else throw"unknonw type "+G}return M},mF:function(p){if(!(p[18]==1&&p[19]==1&&p[20]==0&&p[21]==64&&p[22]==32&&p[23]==32))throw"unexpected SQL3 header";
var d={JN:Mt.Ms(p,0,15),pr:Mt.OW(p,16),epZ:Mt.X(p,24),size:Mt.X(p,28),epr:Mt.X(p,32),epb:Mt.X(p,36),epY:Mt.X(p,40),epl:Mt.X(p,44),epj:Mt.X(p,48),epX:Mt.X(p,52),eQB:Mt.X(p,56),epf:Mt.X(p,60),epT:Mt.X(p,64)!=0,epk:Mt.X(p,68),enS:Mt.X(p,92),ene:Mt.X(p,96)};
if(d.pr==1)d.pr=65536;if(d.eQB!=1)throw"unsupported text encoding "+d.eQB;return d},ead:function(p,d){return p[d]<<16|p[d+1]<<8|p[d+2]},eaA:function(p,d){var K=Mt.ead(p,d),A=K&8388608;
return A?-(16777215-K+1):K},eaJ:function(p,d){Mt._Y[0]=p[d];return Mt.eag[0]},gc:function(p,d){var K=Mt._Y;
for(var A=0;A<4;A++)K[A]=p[d+3-A];return Mt.ear[0]},ZW:function(p,d){var K=Mt._Y;K[0]=p[d+1];K[1]=p[d];
return Mt.eaZ[0]},OW:function(p,d){return p[d]<<8|p[d+1]},X:function(p,d){return p[d]<<24|p[d+1]<<16|p[d+2]<<8|p[d+3]},eaC:function(p,d){var K=Mt._Y;
for(var A=0;A<8;A++)K[A]=p[d+7-A];return Mt.eab[0]},xx:function(p,d){var K=d,A=0;while(!0){var x=p[d];
d++;A=A*128+(x&127);if(x<128)break}return{jV:A,Lw:d-K}},Ms:function(p,d,K){var A="";for(var x=0;x<K;
x++)A+=String.fromCharCode(p[d+x]);return A},Il:function(p,d,K){var A="";for(var x=0;x<K;x++)A+="%"+Mt.eaN(p[d+x].toString(16));
return decodeURIComponent(A)},tM:function(p,d,K,A,x){if(p[d+x-1]==null||K[A+x-1]==null){console.log(d,A,x);
throw"e"}for(var M=0;M<x;M++)K[A+M]=p[d+M]},eaN:function(p){return p.length<2?"0"+p:p}};Mt._Y=new Uint8Array(8);
Mt.eag=new Int8Array(Mt._Y.buffer);Mt.eaZ=new Int16Array(Mt._Y.buffer);Mt.ear=new Int32Array(Mt._Y.buffer);
Mt.eab=new Float64Array(Mt._Y.buffer);function en(p,d,K){this.cR=p;this.qj=d;this.eam=K;this.pX=new QP(0,0);
this.qf=-1;this.hF=0;this.XG=0;this.wi=new R;this.wD=[];this.Jb=null;this.epK=null;this.JY=null;this.Ce=null;
this.XK=null;this.eOt=null}en.prototype.StartPage=function(p,d,K,A){var x=this.qj,M=x.st(),G=1;while((K-p)*(A-d)*M*M/(G*G)>8e3*8e3)G++;
x.scale(1/G,1/G);this.epK=[p,d,K,A];var G=x.st();p=Math.round(p*G);d=Math.round(d*G);K=Math.round(K*G);
A=Math.round(A*G);var D=this.cR,P=this.JY;if(P==null){x.ol=-p}else{var a=P[2]-P[0]+30,e=Math.round(K-p)+30;
if(this.pX.x+a+e>8192){x.ol=-p;this.pX.x=0;this.pX.y+=this.XG+120;this.XG=0}else{x.ol+=a;this.pX.x+=a}}x.lF=this.pX.y+(this.eam?A:-d);
this.XG=Math.max(this.XG,Math.round(A-d));this.JY=[p,d,K,A];D.L.push(D.dN())};en.prototype.hn=function(){var p=this.cR,d=p.L[p.L.length-1];
return d};en.prototype.hs=function(){var p=JSON.parse(JSON.stringify(QG.Wh.default));p.strokeStyleLineAlignment.v.strokeStyleLineAlignment="strokeStyleAlignCenter";
p.strokeEnabled.v=!1;p.fillEnabled.v=!1;return p};en.prototype.s$=function(){var p=this.cR,d=p.sP();
d.Hv("Path "+p.L.length);this.cR.L.push(d);d.Wm|=16;d.add.SoCo={classID:"null",Clr:{t:"Objc",v:Z.k.wI({N:0,w:0,M:0})}};
d.add.vmsk=new V.mK;d.add.vstk=this.hs();return d};en.prototype.Hn=function(p){var d={B:p.crds,$:p.cmds},K=Z._.Li(d,!1);
Z.e.RF(K,this.qj);return K};en.sF=function(p,d){for(var K=0;K<p.length;K++)if(p[K].Ez!=null)p[K].Ez=d};
en.eaf=function(p){return Math.sqrt(Math.abs(p[0]*p[3]-p[1]*p[2]))};en.Ro=function(p){return Z.k.wI({N:p[0]*255,w:p[1]*255,M:p[2]*255})};
en.xD=function(p){return new QI(p[0],p[1],p[2],p[3],p[4],p[5])};en.prototype.Stroke=function(p){if(this.qf!=-1&&this.qf!=this.hF)return;
if(p.pth.cmds.length<=1)return;var d=this.Hn(p.pth);if(d.length<=2)return;this.De(p);en.sF(d,-1);d[2].Ez=1;
var K=en.Ro(p.COLR),A=this.hn(),x=this.hs();x.strokeEnabled.v=!0;x.strokeStyleMiterLimit.v=p.mlimit;
x.strokeStyleLineDashSet.v=QL.ZN(p.dash,1/p.lwidth);x.strokeStyleLineDashOffset.v.val=p.doff;x.strokeStyleLineJoinType.v.strokeStyleLineJoinType=QG.Wh.join[p.ljoin];
x.strokeStyleLineCapType.v.strokeStyleLineCapType=QG.Wh.zR[p.lcap];x.strokeStyleLineWidth.v.val=Math.max(.4,p.lwidth*en.eaf(p.ctm)*this.qj.st());
x.strokeStyleContent.v.Clr.v=K;var M=A!=null&&A.add.vmsk!=null&&!A.Ba(),G=M&&!A.add.vstk.strokeEnabled.v&&V.mK.emE(A.add.vmsk.Z,d,!0),D=M&&!A.add.vstk.fillEnabled.v&&JSON.stringify(x)==JSON.stringify(A.add.vstk);
if(D){en.sF(d,-1);A.add.vmsk.Z=A.add.vmsk.Z.concat(d.slice(2))}else if(G){A.add.vstk=x;x.fillEnabled.v=!0}else{A=this.s$();
A.add.vmsk.Z=d;A.add.vstk=x}};en.prototype.Fill=function(p,d){if(this.qf!=-1&&this.qf!=this.hF)return;
if(p.ca==0)return;var K=p.pth.cmds;if(K.length==0)return;if(K.length==2&&JSON.stringify(K)=="[\"M\",\"L\"]")return;
var A=Z._.JE(p.cpth.crds),x=Z._.JE(p.pth.crds);if(x.pk(A).kQ())return;var M=p.pth;if(this.Ce==null&&UDOC.G.isBox(M,[x.x,x.y,x.x+x.t,x.y+x.D])&&x.iV(A)){M=p.cpth}else this.De(p);
var G=this.Hn(M),D=Z._.MF(x);Z._.u(D.B,this.qj,D.B);x=Z._.JE(D.B);var P=en.s_(p.colr,this.qj,x),a=this.hn(),e=a!=null&&a.add.vstk!=null&&!a.add.vstk.strokeEnabled.v&&a.add.SoCo&&P.type=="SoFi"&&JSON.stringify(a.add.SoCo.Clr.v)==JSON.stringify(P.S.v.Clr.v);
if(e){var f=!1;for(var N=0;N<G.length;N++){if(G[N].Ez==0||G[N].Ez==2)f=!0}if(f){var Y=Z._.JE(Z.e.gK(a.add.vmsk.Z)),l=Z._.JE(Z.e.gK(G));
e=Y.pk(l).kQ()}}if(e){var h=a.add.vmsk.Z;for(var N=2;N<G.length;N++)h.push(G[N])}else{a=this.s$();delete a.add.SoCo;
a.add.vmsk.Z=V.mK.el(G);en.tg(p.colr,a,this.qj,x);en.sa(p,a)}};en.tg=function(p,d,K,A){var x=en.s_(p,K,A),M=null,G=null;
d.add.vstk.fillEnabled.v=!0;if(x.type=="SoFi"){M="SoCo";G=QG.Za}if(x.type=="GrFl"){M="GdFl";G=QG.xM}if(x.type=="patternFill"){M="PtFl";
G=QG.xU}if(M!=null){d.add[M]={classID:"null"};for(var D=0;D<G.length;D++){var P=G[D];d.add[M][P]=x.S.v[P]}}};
en.prototype.De=function(p){var d=this.cR,K=p.cpth,A=K.cmds.join(""),x=K.crds,M=A+" "+x.join(","),G=UDOC.G.isBox(K,this.epK);
if(G&&this.Ce==null)return;if(M==this.Ce)return;this.sL();if(!G){this.Ce=M;d.L.push(d.dN());var D=d.sP();
D.Hv("Mask");D.add.lsct=ew.Wy;D.yk="pass";D.Wm=24;var P=D.add.vmsk=new V.mK;P.Z=this.Hn(p.cpth);if(UDOC.G.isBox(K)){this.XK=Z.e.Du(P.Z);
this.XK.WJ(3,3)}else this.XK=null;this.eOt=D}};en.prototype.sL=function(){var p=this.cR;if(this.Ce!=null){var d=p.L.length-1,K=d,A=!1;
while(K>=0&&p.L[K].add.lsct!=ew.RX)K--;var x=this.XK;if(x){var M=new R,G=d;while(G>K){M=p.L[G].RC(this.cR,!1,!0);
G--}A=x.iV(M)}if(A){this.wD.splice(K,1);p.L.splice(K,1)}else{p.L.push(this.eOt)}this.Ce=null}};en.s_=function(p,d,K){var A,x;
if(p.length!=null){A="SoFi";var M=JSON.parse(QG.oA[QG.order.indexOf("SoFi")]);x={t:"Objc",v:M};x.v.Clr.v=en.Ro(p)}else{var G=en.eiC(p,d,K);
A="GrFl";x={t:"Objc",v:G}}return{type:A,S:x}};en.eiC=function(p,d,K){var A=JSON.parse(QG.oA[QG.order.indexOf("GrFl")]),x=A.Grad.v;
x.Intr.v=0;var M=en.xD(p.mat);M.concat(d);var G=new QP(0,0),D=new QP(K.t,0),P=p.crds;if(p.typ=="rad"){A.Type.v.GrdT="Rdl";
var a=.7;G.x=(1-a)*P[0]+a*P[3];G.y=(1-a)*P[1]+a*P[4];D.x=G.x;D.y=G.y;D.x+=Math.max(P[2],P[5])}else{A.Type.v.GrdT="Lnr";
G.x=P[0];G.y=P[1];D.x=P[2];D.y=P[3];G.x=D.x+.5*(G.x-D.x);G.y=D.y+.5*(G.y-D.y)}G=M.zK(G);D=M.zK(D);Z.k.hz(G,D,K,A);
var e=p.grad;Z.k.et(e,x);return A};en.prototype.PutText=function(p,d,K){var A=d.charCodeAt(0),f=null;
if(this.qf!=-1&&this.qf!=this.hF)return;if(d.length==0||d.length==1&&(A==0||A==8203))return;this.De(p);
var x=this.cR,M=p.font,G=en.xD(p.ctm);G.concat(this.qj);var D=en.xD(M.Tm);D.concat(G);var P=r.ge.st(D),a=new QI(1/P,0,0,-1/P,0,0);
a.concat(D);var e=M.Tfs*P;if(M.Th!=100||M.Trise!=0){console.log(M)}var N=x.L.length-1;while(N>=0&&x.L[N].add.TySh==null)N--;
if(N>=0&&x.L[N].add.TySh){var Y=x.L[N],l=this.wD[N],h=Y.add.TySh.u,s=(h.ol+l.wb-a.ol)/e,J=Math.abs(s),u=d.indexOf(" ")==-1,Q=h.V==a.V&&h.M==a.M&&h.$H==a.$H&&h.Wb==a.Wb,W=Q&&Math.abs(l.VS-a.lF)<1e-5&&J<.6,q=a.lF-l.VS;
if(W){f=Y;l.wb=a.ol-h.ol;if(s>.2&&u&&[".",",","?",":","!"].indexOf(d)==-1)d=" "+d}else if(Q&&Math.abs(a.ol-h.ol)<1e-5&&0<q&&q<e*1.7&&l.eOy==e){f=Y;
this.sz(l);l.VS=a.lF;d="\n"+d}}if(f==null){N=x.L.length;this.wD[N]={xp:[],wb:0,VS:a.lF,Jl:"",eOy:e};
f=x.sP();x.L.push(f);f.add.lnsr="rend";f.add.TySh=QM.av(0,0);f.add.TySh.u=a}var l=this.wD[N];l.wb+=K*e;
l.Jl+=d;var H=f.add.TySh.Nf,C=QM.WD(H),k=C.length-1,i=k+d.length;QM.bN(H,k,d);if(this.Jb==null)this.Jb=QM.fy(H,k,k);
var m=this.Jb;m.K$.FontSize=Math.round(e);m.K$.Tracking=Math.round(M.Tc*100);m.K$.Underline=M.Tun==1;
m.K$.FillColor={Type:1,Values:[1,p.colr[0],p.colr[1],p.colr[2]]};if(M.Tal!=0)m.hw.Justification=M.Tal;
if(l.xp.length!=0){m.K$.AutoLeading=!1;m.K$.Leading=l.VS-l.xp[l.xp.length-1].y}var w=M.Tf;w=w.replace(/#2B/g,"+");
w=w.replace(/#2C/g,"-");w=w.split("+").pop();var S={"NimbusRomNo9L-Medi":"NimbusRomNo9L-Med","NimbusRomNo9L-Regu":"NimbusRomNo9L-Reg","NimbusRomNo9L-MediItal":"NimbusRomNo9L-MedIta","NimbusRomNo9L-ReguItal":"NimbusRomNo9L-RegIta",CMTT9:"NimbusMono-Regular",Arial:"ArialMT","BebasNeue-Regular":"BebasNeueRegular"};
if(S[w])w=S[w];QM.xz(m,w);QM.gh(H,k,i-1,m);f.cy()};en.prototype.sz=function(p){p.xp.push({dv:p.wb,pz:p.Jl.slice(p.xp.length==0?0:1)+"\n",y:p.VS,mQ:p.eOy});
p.wb=0;p.Jl=""};en.prototype.PutImage=function(p,d,K,A,x,M,G){if(this.qf!=-1&&this.qf!=this.hF)return;
var D=this.cR,P=p.font.Tmode;if(P==7&&D.L[D.L.length-1].add.TySh){return}this.De(p);var a=en.xD(p.ctm);
a.concat(this.qj);var e=new QI(1/K,0,0,-1/A,0,1);e.concat(a);a=e;d=en.si(d,K,A);if(x)x=en.si(x,K,A);
if(x==null){if(d.length==K*A*4)d=new Uint8Array(QH.PNG._B([[d.buffer,0]],K,A))}else{d=this.sq(d,K,A,M,!1);
x=this.sq(x,K,A,G,!0);var f=Z.p(K*A);Z.$m(x,f,0);Z.qF(f,d,3);d=new Uint8Array(QH.PNG._B([[d.buffer,0]],K,A))}var N=D.tQ(d,"Bitmap",0,0),Y=N.rect.clone();
Y.x=Y.y=0;var l=Z._.MF(Y).B;Z._.u(l,a,l);N.add.SoLd.Trnf=r.ge.oZ(l);N.add.SoLd.nonAffineTransform=r.ge.oZ(l);
N.uc(D,!1);en.sa(p,N);D.L.push(N)};en.sa=function(p,d){d.opacity=Math.round(255*p.ca);var K=en.HB[p.bmode];
if(K==null)console.log("Unknown blend mode",K);else d.yk=K};en.HB={"/Normal":"norm","/Multiply":"mul ","/Screen":"scrn","/Overlay":"over","/Darken":"dark","/Lighten":"lite","/ColorDodge":"div ","/ColorBurn":"idiv","/HardLight":"hLit","/SoftLight":"sLit","/Difference":"diff","/Exclusion":"smud","/Hue":"hue ","/Saturation":"sat ","/Color":"colr","/Luminosity":"lum "};
en.si=function(p,d,K){var A=QH.BU(p.buffer);if(A=="jpg"){try{p=new Uint8Array(QH.JPG.ePe(p.buffer))}catch(Qg){p=new Uint8Array(d*K*4)}}if(A==null&&p.length!=d*K*4){var x=new Uint8Array(d*K*4),M=new Uint8Array(Math.ceil(d*K/8));
UTIF.decode._decodeG4(p,0,p.length,M,0,d,1);for(var G=0;G<d*K;G++){var D=G*4,P=(M[G>>3]>>7-(G&7)&1)*255;
x[D]=P;x[D+1]=P;x[D+2]=P;x[D+3]=255}p=x}return p};en.prototype.sq=function(p,d,K,A,x){if(p.length!=d*K*4){var M=QH.BU(p.buffer),G=QH.If(M);
if(G==null||M=="tga")G=QH.If("jpg");p=new Uint8Array(G.W$(p,A,x)[0].data)}return p};en.prototype.ShowPage=function(){var p=this.cR;
this.hF++;var d=this.JY;this.sL();var K=p.sP();p.L.push(K);var A=new R(Math.round(this.pX.x),Math.round(this.pX.y),Math.round(d[2]-d[0]),Math.round(d[3]-d[1]));
this.wi=this.wi.ck(A);K.Pw(A);K.Hv("Page "+this.hF);K.add.lsct=ew.Wy;K.yk="pass";K.Wm=24};en.prototype.Print=function(p){console.log("Print:",p)};
en.prototype.Done=function(){var p=this.cR;if(this.hF==1)p.L[p.L.length-1].add.lsct=ew.rK;p.Oj(this.hF);
for(var d=0;d<p.L.length;d++){var K=p.L[d],A=K.add.vmsk,x=K.add.TySh,M=this.wD[d];K.oK();K.u_(p);if(x&&M.xp.length!=0){this.sz(M);
var G=x.Nf,D=M.xp.length,P=M.xp[0],a=0,f=0;for(var e=0;e<D;e++)a=Math.max(a,M.xp[e].dv);QM.aP(G,1);x.u.lF-=P.mQ*.7;
QM.wv(G,[0,0,Math.ceil(a*1.1),Math.ceil(M.xp[D-1].y-P.y+P.mQ*2)])}if(x){var G=x.Nf;QM.eVh(G);var N=QM.WD(G).split("\n");
for(var e=0;e<N.length-1;e++){var Y=N[e],l=0;for(var h=0;h<Y.length;h++){var s=Y.charCodeAt(h);if(1473<=s&&s<=1524)l++}if(l>Y.length/2){N[e]=Y.split("").reverse().join("");
var J=G.EngineDict.ParagraphRun.RunArray[e].ParagraphSheet.Properties;J._Direction=1;J.Justification=QM.Uj(J)}}QM.FV(G,N.join("\n"))}}p.pd=!0;
p.t=this.wi.t;p.D=this.wi.D;p.buffer=Z.p(this.wi.r()*4)};var nc={};nc.fK=function(p,d,K,A){var x=!1,M=[p.root],G=p.root.children;
if(p.add.artd){x=!0;for(var D=0;D<G.length;D++)if(G[D].o.add.artb==null)x=!1;if(x)M=G}var P=new R(0,0,p.t,p.D),a=d[0];
a=a.replace(/,/g," ").replace(/\-/g," - ").replace(/  +/g," ").trim();a=a.split(" ");var e=[];for(var D=0;
D<a.length;D++){var f=a[D];if(f=="-"){var N=e.pop(),Y=parseInt(a[D+1]);while(N<Y){e.push(N);N++}}else e.push(parseInt(f))}a=e;
for(var D=0;D<a.length;D++)if(isNaN(a[D])||a[D]<1||a[D]>M.length){a.splice(D,1);D--}var l=72/p.Bk;for(var D=0;
D<M.length;D++){if(a.length!=0&&a.indexOf(D+1)==-1)continue;var h=M[D],s=x?h.o.Rb():P,J=Math.round(s.t*l),u=Math.round(s.D*l);
K.StartPage(0,0,J,u);var Q=UDOC.getState([[0,0,J,u]]),W=new QI;W.translate(-s.x,-s.y-s.D);W.scale(l,-l);
if(d[2]){var q=p.zi();if(!P.GR(s)){q=Z.p(s.r()*4);Z.PE(p.zi(),P,q,s)}if(d[1]!=100){var H=QH.JPG._B([[q.buffer]],s.t,s.D,[d[1]]);
q=new Uint8Array(H)}var C=new QI;C.translate(s.x,s.y);nc.ss(Q,K,q,s,C,W)}else nc.sh(p,h,Q,K,W,d,A);K.ShowPage()}K.Done()};
nc.LN=function(p){p=Z.k.iz(p);return[p.N/255,p.w/255,p.M/255]};nc.sh=function(p,d,K,A,x,M,G){var D=d.o,P=D.add.lsct,a=D.add.lmfx,e=D.add.vmsk,f=D.add.vstk,N=D.add.TySh;
if(!D.Ml())return;var Y=D.opacity/255,l=D.add.iOpa?D.add.iOpa/255:1;for(var h in en.HB)if(en.HB[h]==D.yk)K.bmode=h;
K.ca=K.CA=Y*l;var s=a;if(s)s=s.solidFillMulti.v[0];if(s)s=s.v;if(s&&!s.enab.v)s=null;if(D.Ba()){for(var J=0;
J<d.children.length;J++)nc.sh(p,d.children[J],K,A,x,M,G)}else if(e){var u=e.Z,Q=Z.e.Du(u),W=Z._.ZT(u),q=!1,H=!1,C=!1;
Z._.u(W.B,x,W.B);K.pth={cmds:W.$,crds:W.B};if(f.fillEnabled.v){var k=QL.$s(a,D.add),i=k[0],m=k[1];if(i){K.colr=nc.LN(i.Clr.v)}else if(m){var w=m,S=[],o,O=w.Type.v.GrdT=="Rdl"?"rad":"lin",t=Z.k.OJ(w,Q),c=x.zK(t[0]),g=x.zK(t[1]);
if(O=="rad")o=[c.x,c.y,0,c.x,c.y,QP.gG(c,g)];else{c.pf(g.x+(c.x-g.x)*2,g.y+(c.y-g.y)*2);o=[c.x,c.y,g.x,g.y]}var j=w.Grad.v.Clrs.v;
for(var J=0;J<j.length;J++){var _=j[J].v;S.push([_.Lctn.v/4096,nc.LN(_.Clr.v)])}K.colr={typ:O,mat:[1,0,0,1,0,0],grad:S,crds:o}}q=!0}var U=QL.$W(a);
if(!f.strokeEnabled.v&&U)f=U;if(f.strokeEnabled.v){var $=f.strokeStyleContent.v,I=f.strokeStyleLineDashSet.v,E=QG.Wh.zW.indexOf(f.strokeStyleLineAlignment.v.strokeStyleLineAlignment);
if($.Clr==null)return;var b=Z.k.iz($.Clr.v);K.COLR=[b.N/255,b.w/255,b.M/255];K.lwidth=f.strokeStyleLineWidth.v.val*(E==2?2:1)*x.st();
K.mlimit=f.strokeStyleMiterLimit.v;K.doff=f.strokeStyleLineDashOffset.v.val;K.ljoin=QG.Wh.join.indexOf(f.strokeStyleLineJoinType.v.strokeStyleLineJoinType);
K.lcap=QG.Wh.zR.indexOf(f.strokeStyleLineCapType.v.strokeStyleLineCapType);K.dash=[];for(var J=0;J<I.length;
J++)K.dash.push(I[J].v.val*K.lwidth);if(K.dash.length==1&&K.dash[0]==0)K.dash=[];H=!0;if(E==2)C=!0}if(q&&!C)A.Fill(K);
if(H)A.Stroke(K);if(q&&C)A.Fill(K)}else if(N&&M[4]){var z=N.Nf,QS=new MB(z,G),W=Mq.rx(QS,N),QQ=Z._.Ui(W);
for(var b in QQ){var Qe=parseInt(b.slice(1),16);K.colr=s?nc.LN(s.Clr.v):[(Qe>>>16&255)/255,(Qe>>>8&255)/255,(Qe&255)/255];
var QB=QQ[b];Z._.u(QB.B,x,QB.B);QB=Z._.e$r(QB);K.pth={cmds:QB.$,crds:QB.B};A.Fill(K)}}else if(N&&M[3]==!1){var z=N.Nf,QU=N.u.clone(),Qt=new QI(1,0,0,-1,0,0);
Qt.concat(QU);Qt.concat(x);var F=QM.WD(z),QS=new MB(z,G);for(var J=0;J<QS.hw.length;J++){var L=QS.hw[J];
if(L.iO.length==1&&L.iO[0].CH)continue;for(var Qu=0;Qu<L.od.length;Qu++){var QK=L.od[Qu],Qm=L.oE.y+QK.oE.y,ei=L.iO[QK.start].start,Qp=L.iO[QK.end-1].end,QO=QM.eVa(z,ei,Qp);
for(var QE=0;QE<QO.length;QE++){var Qi=QS.rJ(ei),QV=QO[QE],Q$=QM.fy(z,ei,ei),eS=Q$.CV[Q$.K$.Font].Name;
K.font.Tf=eS;var b=QM.iz(Q$.K$);K.colr=s?nc.LN(s.Clr.v):[b.N/255,b.w/255,b.M/255];K.font.Tfs=Math.round(Q$.K$.FontSize);
var Qs=F.slice(ei,ei+QV);if(Q$.K$.FontCaps==2)Qs=Qs.toUpperCase();var Qw=new QI;Qw.translate(Qi.m.x,-Qm);
Qw.concat(Qt);K.ctm=[Qw.V,Qw.M,Qw.$H,Qw.Wb,Qw.ol,Qw.lF];A.PutText(K,Qs,0);K.ctm=[1,0,0,1,0,0];ei+=QV}}}}else if(!D.rect.kQ()){var Q_,QN,eK=new QI;
if(D.add.SoLd){var Qz=D.add.SoLd,eQ=Qz.Idnt.v,Qd=p.ZH(eQ,Qz.Crop?Qz.Crop.v:null),Qq="";if(Qd==null)return;
var Qj=Qd._f,QD=QH.BU(Qd.raw.buffer);if(M[5].indexOf(QD)!=-1)Q_=Qd.raw;else Q_=Qj[0];QN=Qj[1];eK=Z.c.Tz(Qz)}else{Q_=D.buffer;
QN=D.rect;eK.translate(QN.x,QN.y)}if(s)Q_=QL.eIO(Q_,s,QN);nc.ss(K,A,Q_,QN,eK,x)}};nc.ss=function(p,d,K,A,x,M){var G=new QI;
G.scale(A.t,-A.D);G.translate(0,A.D);G.concat(x);G.concat(M);p.ctm=[G.V,G.M,G.$H,G.Wb,G.ol,G.lF];d.PutImage(p,K,A.t,A.D);
p.ctm=[1,0,0,1,0,0]};var ey={};ey.RL=function(p){var d=new Uint8Array(p);return ey.fr(d,0)};ey.fr=function(p,d){var K=v.X,A=v.Ms,x={Ak:A(p,d,4),J:d+8,size:K(p,d+4)},M=x.Ak=="FORM"||x.Ak=="LIST"||x.Ak=="CAT ";
if(M)x.XJ=A(p,d+8,4);if(x.size<0||x.J+x.size>p.length)throw"e";if(M){x.sub=[];d+=12;var G=x.J+x.size;
while(d<G){var D=ey.fr(p,d);x.sub.push(D);d+=8+D.size+(D.size&1)}}return x};var GX={};GX.RL=function(p,d){var K=new Uint8Array(p);
return GX.fr(K,0,d)};GX.fr=function(p,d,K){var A=v.WL,x=v.Ms,M={Ak:x(p,d,4),J:d+8,size:A(p,d+4)};if(K&&K[M.size]!=null)M.size=K[M.size];
if(M.Ak=="RIFF"||M.Ak=="LIST"){M.XJ=x(p,d+8,4)}if(M.size<0||M.J+M.size>p.length)throw"e";if(M.Ak=="RIFF"||M.Ak=="LIST"&&(M.XJ!="cmpr"&&M.XJ!="stlt")){M.sub=[];
d+=12;var G=M.J+M.size;while(d<G){var D=GX.fr(p,d,K);M.sub.push(D);d+=8+D.size+(D.size&1)}}return M};
var ey={};ey.RL=function(p){var d=new Uint8Array(p);return ey.fr(d,0)};ey.fr=function(p,d){var K=v.X,A=v.Ms,x={Ak:A(p,d,4),J:d+8,size:K(p,d+4)},M=x.Ak=="FORM"||x.Ak=="LIST"||x.Ak=="CAT ";
if(M)x.XJ=A(p,d+8,4);if(x.size<0||x.J+x.size>p.length)throw"e";if(M){x.sub=[];d+=12;var G=x.J+x.size;
while(d<G){var D=ey.fr(p,d);x.sub.push(D);d+=8+D.size+(D.size&1)}}return x};function Qk(){}Qk.RL=function(p,d){var K=new Uint8Array(p);
d.pd=!0;var A=v.Ms(K,0,2);if(A=="WL"){alert("Unsupported CDR version")}else{var x=Qk.HO,M=GX.RL(K.buffer),G={data:K,J:0,eX:Qk.eqj(K[11])},N=300;
G.JT=G.eX<600?16:32;Qk.HK(G,M.sub,d,0);var D=x(M,"cmpr").sub,P=D[0],a=D.slice(1),e=x(P,"mcfg").S,f=e.eaw;
N/=Mp.mY(new R(0,0,Math.round(f.x*N),Math.round(f.y*N)),8192*8192);var Y=Math.round(f.x*N),l=Math.round(f.y*N);
d.t=Y;d.D=l;d.buffer=Z.p(d.t*d.D*4);var h=x(P,"filt").sub,s=x(P,"otlt").sub;P.Jk={};for(var J=0;J<h.length;
J++)P.Jk[h[J].sub[0].S.id]=h[J].sub[0].S;P.CS={};for(var J=0;J<s.length;J++)P.CS[s[J].S.id]=s[J].S;var u=new QI(N,0,0,-N,f.x*N/2,f.y*N/2),Q=a[1];
Qk._g(Q,P,d,u);d.Oj(1);d.L[d.L.length-1].Pw(new R(0,0,Y,l))}};Qk.HO=function(p,d){var K=null;for(var A=0;
A<p.sub.length;A++){var x=p.sub[A];if(x.Ak==d||x.XJ==d)K=x}return K};Qk._g=function(p,d,K,A){var x=Qk.HO,M=p.XJ?p.XJ:p.Ak,G=x(p,"lgob"),D=x(p,"txsm"),P,a;
if(G){P=x(G,"trfl");a=x(G,"loda")}var e=P?P.sub[0].EI.clone():new QI;e.concat(A);var f=K.sP();if(M=="page"||M=="layr"||M=="grp "){f.Hv((M=="page"?"Page":"Group")+" "+K.L.length);
f.add.lsct=ew.rK;f.yk="pass";f.Wm=24;var N=[];if(M=="page")N=x(p,"gobj").sub;if(M=="layr")N=p.sub.slice(2);
if(M=="grp ")N=p.sub.slice(4);if(N.length==0)return;K.L.push(K.dN());for(var Y=N.length-1;Y>=0;Y--)Qk._g(N[Y],d,K,A)}else if(M=="obj "&&a.S&&a.S.path){f.Hv("Object "+K.L.length);
var l=d.Jk[a.S.eaa],h=d.CS[a.S.eay],s=f.getName(),J=l&&l.type!=0,u=J&&l.S!=null?l.S:[0,0,0];f.Wm|=16;
f.add.vstk=JSON.parse(JSON.stringify(QG.Wh.default));var Q=f.add.vstk;Q.strokeEnabled.v=!1;f.add.vmsk=new V.mK;
if(h&&h.eiS!=1){Q.strokeEnabled.v=!0;Q.strokeStyleLineAlignment.v.strokeStyleLineAlignment="strokeStyleAlignCenter";
Q.strokeStyleLineWidth.v.val=h.lineWidth*A.st();var W=h.color;Q.strokeStyleContent.v.Clr.v=Z.k.wI({N:W[0]*255,w:W[1]*255,M:W[2]*255})}var q=a.S.path;
f.add.vmsk.Z=Z._.Li(q,!1);Z.e.RF(f.add.vmsk.Z,e);en.tg(u,f,e,Z.e.Du(f.add.vmsk.Z));Q.fillEnabled.v=J;
f.oK();f.u_(K)}else if(M=="obj "&&D){var H=a.S.eiu,C=a.S.eio,m="";f.add.TySh=QM.av(0,0);var k=e.st();
f.add.TySh.u.translate(e.ol,e.lF);var i=f.add.TySh.Nf,w=D.S.eUc;for(var Y=0;Y<w.length;Y++){var S=w[Y],o=m.length;
m+=S.text+"\n";QM.bN(i,o,S.text+"\n");var O=Qk.eiN(S.eiY,d),t=QM.fy(i,o,m.length);if(O.align==3)t.hw.Justification=1;
else t.hw.Justification=0;var c=O.fill.S;t.K$.FillColor={Type:1,Values:[1,c[0],c[1],c[2]]};t.K$.FontSize=Math.round(O.eil.fontSize*e.st());
QM.gh(i,o,m.length-1,t)}if(C){QM.aP(i,0)}else{QM.aP(i,1);QM.wv(i,[0,0,Math.round(H.x*e.V),Math.round(-H.y*e.Wb)])}f.Hv(m.slice(0,10))}else{f=null}if(f)K.L.push(f)};
Qk.eiN=function(p,d){var K=Qk.HO(d,"stlt").S,A=JSON.parse(JSON.stringify(K.Qk[p]));if(A.CP!=0){var x=K.Qk[A.CP];
for(var M in x)if(A[M]==null||A[M]==0)A[M]=x[M];delete A.CP}A.align=K.eif[A.eiT];A.fill=d.Jk[K.eqG[A.eUL]];
A.enY=d.CS[K.eqQ[A.eUo]];A.eil=K.eUg[A.eqp];return A};Qk.eiZ=function(p){var d=p.data[p.J];p.J+=1;return d};
Qk.tZ=function(p){var d=v.rz(p.data,p.J);p.J+=2;return d};Qk.tY=function(p){var d=v.WL(p.data,p.J);p.J+=4;
return d};Qk.eij=function(p){var d=v.WL(p.data,p.J);p.J+=8;return d};Qk.DP=function(p){var d=v.Wo(p.data,p.J);
p.J+=2;return d};Qk.DB=function(p){var d=v.Vz(p.data,p.J);p.J+=4;return d};Qk.Ut=function(p){var d=v.e$y(p.data,p.J);
p.J+=8;return d};Qk.GE=function(p){if(p.J>=p.data.length)throw"e";var d=0;while(p.data[p.J+d]!=0)d++;
var K=v.Ms(p.data,p.J,d);p.J+=d+1;return K};Qk.eqM=function(p){if(p.eX<600)return Math.PI*Qk.DP(p)/1800;
return Math.PI*Qk.DB(p)/18e7};Qk.eqH=function(p){if(p.eX<1500)return Qk.RA(p);else return Qk.Ut(p)/254e3};
Qk.RA=function(p){if(p.eX<600)return Qk.DP(p)/1e3;else return Qk.DB(p)/254e3};Qk.eqv=function(p){if(p.eX<600)return CRDParser.tZ(p);
else return Qk.tY(p)};Qk.eqc=function(p){if(p.eX<600)return CRDParser.DP(p);else return Qk.DB(p)};Qk.HK=function(p,d,K,A){var x=Qk,M=x.eiZ,G=x.tZ,D=x.tY,P=x.eij,a=x.DP,e=x.DB,f=x.Ut,N=x.RA,Y=x.eqH,l=x.eqM,h=x.eqv,s=x.eqc;
for(var J=0;J<d.length;J++){var u=p.eX,Q=d[J];p.J=Q.J+(Q.Ak=="LIST"?4:0);if(Q.Ak=="vrsn"){var W=G(p);
p.eX=W;console.log("Version",W);p.JT=W<600?16:32}else if(Q.Ak=="DISP"){}else if(Q.Ak=="LIST"&&Q.XJ=="cmpr"){var q=D(p),H=D(p),C=D(p),k=D(p),i=new Uint8Array(p.data.buffer,p.J+8+2,q-6-8),m=pako.inflateRaw(i),O=0;
p.J+=q;i=new Uint8Array(p.data.buffer,p.J+8+2);var w=pako.inflateRaw(i),S=[];for(var o=0;o<w.length;
o+=4)S.push(v.WL(w,o));Q.sub=[];while(O<m.length){var t=GX.fr(m,O,S);O=t.J+t.size;Q.sub.push(t)}var c={data:m,J:0,eX:u,JT:p.JT};
Qk.HK(c,Q.sub,K,A+1)}else if(Q.Ak=="LIST"&&Q.XJ=="stlt"){var g=p.J,L=32;Q.S={};var j=D(p);if(j==0)return;
Q.S.eqG=Qk.Hz(p,u>=1300);Q.S.eqQ=Qk.Hz(p);Q.S.eUg={};var _=D(p);for(var U=0;U<_;U++){var $=D(p);p.J+=u<1e3?12:20;
var I=G(p),E=G(p);p.J+=8;var b=N(p);p.J+=u<1e3?12:20;Q.S.eUg[$]={eqn:I,enT:E,fontSize:b}}Q.S.eif=Qk.Hz(p);
var z=D(p);p.J+=52*z;var QS=D(p);p.J+=152*QS;var QQ=D(p);p.J+=784*QQ;var Qe=D(p);for(var U=0;U<Qe;U++){p.J+=40;
if(u>1300)p.J+=4;if(u>=1300){if(D(p))p.J+=68;else p.J+=12}else{p.J+=20;if(u>=1e3)p.J+=8;if(D(p))p.J+=8;
p.J+=8}}var QB=D(p);Q.S.eqB={};for(var U=0;U<QB;U++){var QU=D(p),Qt={};p.J+=12;Qt.right=N(p);Qt.eBS=N(p);
Qt.left=N(p);Q.S.eqB[QU]=Qt}var F=D(p);if(u>=1300)L+=4;p.J+=L*F;var Qu=D(p);p.J+=28*Qu;if(u>800){var QK=D(p);
p.J+=12*QK}Q.S.Qk={};for(var U=0;U<j;U++){var Qm=D(p),ei=D(p),Qp={};Qp.CP=D(p);p.J+=8;var QO=D(p);if(u>=1200)QO*=2;
p.J+=QO;Qp.eUL=D(p);Qp.eUo=D(p);if(Qm>1){Qp.eqp=D(p);Qp.eiT=D(p);Qp.eBe=D(p);Qp.eBP=D(p);if(u>800)Qp.eBG=D(p)}if(Qm>2){Qp.eBt=D(p);
Qp.eBQ=D(p);Qp.eBM=D(p);Qp.eBp=D(p);Qp.eBn=D(p)}Q.S.Qk[ei]=Qp}}else if(Q.Ak=="LIST")Qk.HK(p,Q.sub,K,A+1);
else if(Q.Ak=="txsm"){Q.S={};if(u<600)throw"e";if(u<700)throw"e";if(u>=1600)throw"e";if(u>=1500)p.J+=37;
else p.J+=36;if(D(p)){if(u<800)p.J+=32}if(u<800)p.J+=4;Q.S.eBB=D(p);Q.S.eUc=[];p.J+=48;if(u>=800){if(D(p)){p.J+=32;
if(u>=1300)p.J+=8}}if(u>=1500)p.J+=12;var Qm=D(p),QE=1,Qi=!1;if(!Qm){if(u>=800)p.J+=4;if(u>800)p.J+=2;
if(u>=1400)p.J+=2;p.J+=24;if(u<800)p.J+=8;QE=D(p)}for(var o=0;o<QE;o++){var QV=D(p),U=0;if(u>=1300&&Qm)p.J++;
p.J++;var j=D(p),Q$=[];for(U=0;U<j;U++){var eS=M(p),Qw=0;M(p);var Qs=M(p);if(u>=800)Qw=M(p);var Qp={};
if(Qs&1){Qp.eqn=G(p);var Q_=G(p);if(Q_)Qp.eBO=Q_}if(Qs&2)p.J+=4;if(Qs&4)Qp.eBU=N(p);if(Qs&8)p.J+=4;if(Qs&16)p.J+=4;
if(Qs&32)p.J+=4;if(Qs&64){Qp.eUL=D(p);if(u>=1500)p.J+=48}if(Qs&128){Qp.eUo=D(p)}if(Qw&8){if(u>=1300){var QN=D(p);
if(p.J+QN*2>=p.data.length){Qi=!0;break}p.J+=QN*2}else p.J+=4}if(Qw&32){var eK=M(p);if(eK)p.J+=52}if(eS==2)if(u>=1300)p.J+=48;
Q$.push(Qp)}if(Qi){break}var Qz=D(p);if(p.J+Qz*4>p.data.length)break;var eQ=[];for(U=0;U<Qz;U++){var Qd=0;
if(u>=1200)Qd=P(p)&4294967295;else Qd=D(p);eQ[U]=Qd>>16|Qd&1}var Qj=Qz;if(u>=1200)Qj=D(p);var QD=Qk.GE(p);
Q.S.eUc.push({eiY:QV,text:QD,Qk:Q$})}}else if(Q.Ak=="font"){var Qq=G(p),et=G(p);p.J+=14;var QC=Qk.GE(p);
Q.S={id:Qq,eBK:et,name:QC}}else if(["IKEY","ICMT","pfrd","bcfg"].indexOf(Q.Ak)!=-1){}else if(Q.Ak=="flgs")Q.S=D(p);
else if(Q.Ak=="bbox"){var Qf=N(p),QA=N(p),Qb=N(p),MS=N(p);Q.S=new R(Qf,QA,Qb-Qf,MS-QA)}else if(Q.Ak=="fild"){var QR=D(p),eG=0,MM;
if(u>=1300){p.J+=4;eG=G(p);p.J+=2}var MG=G(p);if(MG==0){}else if(MG==1){p.J+=u>=1300?13:2;MM=Qk.rM(p)}else if(MG==2){p.J+=u>=1300?8:2;
var MP=M(p),Mu=0;if(u>=1300){p.J+=17;Mu=a(p)}else if(u>=600){p.J+=19;Mu=e(p)}else{p.J+=11;Mu=a(p)}var Mm=l(p),Mw=.5+s(p),MU=.5+s(p)-.5;
if(u>=600)p.J+=2;var Pp=h(p)&255,Ma=M(p)/100;p.J++;var MQ=h(p)&65535;if(u>=1300)p.J+=3;var P$=[];for(var U=0;
U<MQ;U++){var pU=Qk.rM(p);if(u>=1300){if(eG==158||u>=1600&&eG==150)p.J+=26;else p.J+=5}var pP=h(p)/100;
if(u>=1300)p.J+=3;P$.push([pP,pU])}MM={typ:MP==1?"lin":"rad",crds:[Mw-Math.cos(Mm)/2,MU-Math.sin(Mm)/2,Mw,MU],grad:P$,mat:[1,0,0,1,0,0]}}else console.log("Unknown fill type",MG);
Q.S={id:QR,type:MG,S:MM}}else if(Q.Ak=="outl"){var Mr=D(p);if(u>=1300){var eM=0,pS=0;while(eM!=1){p.J+=pS;
eM=D(p);pS=D(p)}}var eN=G(p),Mk=G(p),MI=G(p);if(u<1300&&u>=600)p.J+=2;var ez=N(p),PK=G(p)/100;if(u>=600)p.J+=2;
var eZ=l(p);if(u>=1300)p.J+=46;else if(u>=600)p.J+=52;var MM=Qk.rM(p,Mr==270963208||Mr==276198e3,Mr);
Q.S={id:Mr,eiS:eN,eBm:Mk,eBu:MI,lineWidth:ez,color:MM}}else if(Q.Ak=="mcfg"){if(1300<=u)p.J+=12;else if(900<=u)p.J+=4;
else if(600<=u&&u<700)p.J+=28;var eu=0,pp=0;if(u<400)throw"e";else{eu=N(p);pp=N(p)}Q.S={eaw:new QP(eu,pp)}}else if(Q.Ak=="loda"){var g=p.J,GB=h(p),MH=h(p),Gi=h(p),e$=h(p),Mx=h(p),em=[],pe=[];
p.J=g+Gi;for(var U=0;U<MH;U++)em[U]=h(p);p.J=g+e$;for(var U=MH-1;U>=0;U--)pe[U]=h(p);Q.S={};for(var U=0;
U<MH;U++){p.J=g+em[U];var eU=pe[U];if(eU==10)Q.S.eay=D(p);else if(eU==20)Q.S.eaa=D(p);else if(eU==200)Q.S.eBH=h(p);
else if(eU==30){if(u<400)Mx--;if(Mx==1){var Qf=Y(p),QA=Y(p),MZ=0,ep=0,tN=0,pM=0;if(u<1500){pM=Y(p);tN=u<900?pM:Y(p);
ep=u<900?pM:Y(p);MZ=u<900?pM:Y(p)}else throw"e";Q.S.path=Z._.ZT(Z.e.Ek.Rect(0,0,Qf,QA,MZ))}else if(Mx==2){var BS=N(p),Pc=N(p),tZ=l(p),Qy=l(p),na=Math.abs(BS),pC=Math.abs(Pc);
Q.S.path=Z._.ZT(Z.e.Ek.Ao(0,0,na,-pC))}else if(Mx==3){Q.S.path=Qk.eqY(p)}else if(Mx==4){Q.S.eio=Qk.eqW(p)}else if(Mx==6){Q.S.eiu=Qk.eqA(p)}else if(Mx==37){Q.S.path=Qk._l(p)}else console.log(Mx)}}}else if(Q.Ak=="trfd"){var g=p.J,GB=h(p),MH=h(p),Gi=h(p);
p.J=g+Gi;var em=[];for(var U=0;U<MH;U++)em[U]=h(p);for(var U=0;U<MH;U++){p.J=g+em[U];if(u>=1300)p.J+=8;
var eW=G(p);if(eW==8){var MC,Gu,Qf,Gt,GN,QA;if(u>=600)p.J+=6;if(u>=500){MC=f(p);Gu=f(p);Qf=f(p)/(u<600?1e3:254e3);
Gt=f(p);GN=f(p);QA=f(p)/(u<600?1e3:254e3)}else throw"e";Q.EI=new QI(MC,Gt,Gu,GN,Qf,QA)}else console.log(eW)}}else if(!1){console.log(Q);
var PI=Math.min(Q.size,32);console.log(v.ma(data,Q.J,PI));console.log(v.e$s(data,Q.J,PI))}}};Qk.Hz=function(p,d){var K=Qk.tY,A={},x=K(p);
for(var M=0;M<x;M++){var G=K(p);p.J+=4;var D=K(p);A[G]=D;if(d)p.J+=48}return A};Qk.eqW=function(p){var d=Qk,K=d.RA,A=K(p),x=K(p);
return new QP(A,x)};Qk.eqA=function(p){var d=Qk,K=d.RA;p.J+=4;var A=K(p),x=K(p);return new QP(A,x)};
Qk._l=function(p){var d=Qk,K=d.tY,A=d.tZ,x=d.RA;p.J+=4;var M=A(p)+A(p);p.J+=16;var G=Qk.xo(p,M);return G};
Qk.eqY=function(p){var d=Qk.tZ(p);p.J+=2;return Qk.xo(p,d)};Qk.xo=function(p,d){var K=Qk,A=K.RA,x=p.eX<600?2:4,M=p.J,G={B:[],$:[]},D=0,P=0,a=0;
for(var e=0;e<d;e++){var D=A(p),P=A(p),f=p.data[M+d*x*2+e];if(!(f&64)&&!(f&128)){G.B.push(D,P);G.$.push("M");
a+=2}else if(f&64&&!(f&128)){G.B.push(D,P);G.$.push("L");a+=2}else if(!(f&64)&&f&128){G.B.push(D,P);
G.$.push("C");a+=6}else if(f&64&&f&128){G.B.push(D,P)}}if(a!=G.B.length)throw"e";return G};Qk.eid=function(p,d){var K=v.WL;
d+=8;var A=K(p,d);d+=4;var x=K(p,d);d+=4;d+=4*7;var M=d,G=Z.p(A*x*4);d+=1024;for(var D=0;D<x;D++)for(var P=0;
P<A;P++){var a=D*A+P,e=(x-D-1)*A+P,f=p[d+a]<<2,N=e<<2;G[N+0]=p[M+f+2];G[N+1]=p[M+f+1];G[N+2]=p[M+f+0];
G[N+3]=255}return{nM:G,rect:new R(0,0,A,x)}};Qk.eqj=function(p){if(p==32)return 300;else if(p<49)return 0;
else if(p<58)return 100*(p-48);else if(p<65)return 0;return 100*(p-55)};Qk.rM=function(p,d,K){var A=Qk.tZ,x=Qk.tY,M=p.eX,G=0,D=0;
if(M>=500){G=A(p);if(G==1&&M>=1300)G=25;if(G==25||G==30)throw"e";else if(G==14)throw"e";else{p.J+=6;
D=x(p)}}else throw"e";var P=[];if(G==2||G==9||G==17){var a=[D>>>0&255,D>>>8&255,D>>>16&255,D>>>24&255];
if(G==2)for(var e=0;e<4;e++)a[e]=Math.round(255*a[e]/100);for(var e=0;e<4;e++)a[e]/=255;P=UDOC.C.cmykToRgb(a)}else if(G==1||G==5){P=[D>>>0&255,D>>>8&255,D>>>16&255];
for(var e=0;e<3;e++)P[e]=P[e]/255}else console.log("Unknown color model "+G,D,D.toString(16));return P};
var Pt={};Pt.Ov=function(){var p=new ArrayBuffer(4);return[new Uint8Array(p),new Uint32Array(p),new Float32Array(p)]}();
Pt.xX=function(p,d,K,A,x){function M(t,c){for(var g=0;g<t.length;g++)if(t[g][0]==c)return t[g]}function G(){var i=0,t=0,c=0;
do{c=p[d++];i|=(c&127)<<t;t+=7}while(c&128&&t<35);return i>>>0}var D=Pt.Ov,P=D[0],a=D[1],e=D[2],f="",s=1;
for(var N=0;N<x;N++)f+="    ";var Y=A[0]=="mesg",l=A[2],h={},J=Y?1e9:l.length;while(s<=J){var u=s;if(Y){u=p[d++];
if(u>127){if(p[d]!=1)throw"e";d++}if(u==0)break}var Q=M(l,u),W=Q[2],q=Q[1]==1,H=q?G():1,C=new Array(H);
if(W==3){if(!q)throw"e";C=p.slice(d,d+H);d+=H}else for(var N=0;N<H;N++){var k;if((W&1)==1){if(W==1)k=p[d++]==1;
else if(W==3)k=p[d++];else if(W==5){var i=G();k=i&1?~(i>>>1):i>>>1}else if(W==7)k=G();else if(W==9){if(p[d]==0){k=0;
d++}else{P[0]=p[d];P[1]=p[d+1];P[2]=p[d+2];P[3]=p[d+3];var m=a[0];a[0]=m<<23|m>>>9;k=e[0];d+=4}}else if(W==11){var w=Pt.eqX(p,d);
k=w[0];d+=w[1]+1}else throw W}else{var S=K[W>>>1];if(S[0]=="enum"){var o=p[d++];if(o>127)throw"e";k=S[2][o]}else{var O=Pt.xX(p,d,K,S,x+1);
k=O[0];d=O[1]}}C[N]=k}h[Q[3]]=q?C:C[0];s++}return[h,d]};Pt.eqX=function(p,d){var K=d;while(p[K]!=0)K++;
return[v.Il(p,d,K-d),K-d]};Pt.eqy=function(p,d){var K=d;while(p[K]!=0)K++;for(var A=d;A<K;A++)if(p[A]>127)throw"e";
return v.Ms(p,d,K-d)};Pt.eqf=function(p,d){var K=Pt.eqy,A=1,x=[];while(A<p.length){var M=A,G=x.length,D=K(p,A);
A+=D.length+1;var P=p[A++];if(P==0){var a=p[A++];if(a>127)A++;var e=[];for(var f=0;f<a;f++){var N=K(p,A);
A+=N.length+1;var Y=p[A++];if(Y!=0)throw Y;var l=p[A++];if(l!=0)throw l;var h=p[A++];if(h>127){if(p[A]!=1)throw"e";
A++}if(h!=f)throw h;e.push(N)}x.push(["enum",D,e])}else if(P==1){var a=p[A++],e=[];for(var f=0;f<a;f++){var N=K(p,A);
A+=N.length+1;var Y=p[A++];if(Y>127){if(p[A]!=1)throw"e";A++}var l=p[A++];if(l>127){if(p[A]!=1)throw"e";
A++}var h=p[A++];if(h>127){if(p[A]!=1)throw"e";A++}e.push([h,l,Y,N])}x.push(["strc",D,e])}else if(P==2){var a=p[A++];
if(a>127)A++;var e=[];for(var f=0;f<a;f++){var N=K(p,A);A+=N.length+1;var Y=p[A++];if(Y>127){if(p[A]!=1)throw"e";
A++}var l=p[A++];if(l>127){if(p[A]!=1)throw"e";A++}var h=p[A++];if(h>127){if(p[A]!=1)throw"e";A++}e.push([h,l,Y,N])}x.push(["mesg",D,e])}else throw P}return x};
function eV(){}eV.RL=function(p,d){var K=new Uint8Array(p),A=8,x=v.WL(K,A),t=1,c=0;A+=4;var M=[];while(A<K.length){var G=v.WL(K,A);
A+=4;var D=K.slice(A,A+G);if(K[A]==137&&K[A+1]==80){}else D=UZIP.inflateRaw(D);M.push(D);A+=G}var P=Pt.eqf(M[0]),a=Pt.xX(M[1],0,P,P[P.length-1],0)[0],e={wz:{},Ve:{},eUZ:{}},f=a.nodeChanges;
for(var N=0;N<f.length;N++){var Y=f[N],l=Y.guid;e.Ve[l.sessionID+","+l.localID]=Y}for(var N=0;N<f.length;
N++){var Y=f[N],l=Y.parentIndex;if(l){var h=eV.DU(e.Ve,l.guid);if(h.children==null)h.children=[];h.children.push(Y)}}var s=f[0],J=s.children,u=new R,Q=[],W=[];
for(var l=0;l<J.length;l++){var q=J[l],H=q.children;if(q.name=="Internal Only Canvas")continue;var C=new R;
for(var k=0;k<H.length;k++){var i=H[k],m=i.transform,w=i.size,S=new R(m.m02,m.m12,w.x,w.y);C=C.ck(S)}var o=u.D==0?0:u.D+100,O=C.clone();
O.x=0;O.y=o;u=u.ck(O);Q[l]=C;W[l]=o}while(Math.max(u.t,u.D)/t>16e3)t++;if(t!=1)console.log("Scaling down "+t+"x");
d.t=Math.round(u.t/t);d.D=Math.round(u.D/t);d.buffer=Z.p(d.t*d.D*4);for(var l=0;l<J.length;l++){var q=J[l],H=q.children;
if(q.name=="Internal Only Canvas")continue;H.sort(eV.AM);var g=new QI(1,0,0,1,-Q[l].x,W[l]-Q[l].y);g.scale(1/t,1/t);
for(var k=0;k<H.length;k++){var i=H[k];eV._g(i,[],g,a.blobs,d,0,e);c++}}d.Oj(c);d.pd=!0};eV._g=function(p,d,K,A,x,M,G){var D=eV,m=!1,w,S,O,t,c;
for(var P=0;P<d.length;P++){var a=d[P],e=a.guidPath.guids[0];if(D.ehn(e,p.guid)){var f={};for(var N in p)f[N]=a[N]!=null?a[N]:p[N];
p=f}}var Y=p.type,l=p.children,h=p.size,s=p.effects,J=x.sP();J.Hv(p.name);J.qJ(p.visible);J.opacity=Math.round(p.opacity*255);
var u=D.Fu(p.transform),Q=u.clone();Q.concat(K);var W=new R(Math.round(Q.ol),Math.round(Q.lF),Math.round(h.x*Q.st()),Math.round(h.y*Q.st())),q=p.fillPaints,H=p.inheritFillStyleID;
if(H){var f=D.DU(G.Ve,H);if(f)q=f.fillPaints}if(q==null)q=[];var q=D.AV(q),C=q[0],k=p.strokePaints,H=p.inheritFillStyleIDForStroke;
if(H){var f=D.DU(G.Ve,H);if(f)k=f.fillPaints}if(k==null)k=[];var k=D.AV(k),i="BOOLEAN_OPERATION LINE RECTANGLE ROUNDED_RECTANGLE ELLIPSE VECTOR REGULAR_POLYGON".split(" ").indexOf(Y)!=-1;
if(i||Y=="FRAME"){w=new V.mK;S=[];D.NW(p,A,w,S);m=Z.e.ehS(w.Z);Z.e.RF(w.Z,Q);W=Z.e.Du(w.Z);if(G.wz.pW&&C){var o=V.mK.el(G.wz.pW.Z);
for(var P=2;P<o.length;P++)if(o[P].Ez!=null)o[P].Ez=3;w.Z=w.Z.concat(o.slice(2));S=S.concat(JSON.parse(JSON.stringify(G.wz.B$)))}}if(C&&C.type=="IMAGE"){c=C.imageScaleMode;
O=D.zi(A,C.image.dataBlob);var g=O.Uo.t/O.Uo.D,j=h.x/h.y;t=Math.abs(g-j)}if(Y=="FRAME"){}else if(i&&m&&O&&(c=="FIT"||c=="FILL"&&t<=.05)){var _=A[C.image.dataBlob].bytes,U=x.tQ(_,J.getName(),0,0);
U.Wm=J.Wm;U.opacity=J.opacity;J=U;var $=new R(0,0,h.x,h.y);if(c=="FIT"){var I=O.Uo.t,E=O.Uo.D,b=Math.min(h.x/I,h.y/E),z=I*b,QS=E*b;
$=new R($.x+($.t-z)/2,$.y+($.D-QS)/2,z,QS)}var QQ=Z._.MF($).B;Z._.u(QQ,Q,QQ);J.add.SoLd.Trnf=r.ge.oZ(QQ);
J.add.SoLd.nonAffineTransform=r.ge.oZ(QQ);var Qe=[],s=p.effects,QB=C.paintFilter;if(s)for(var P=0;P<s.length;
P++)if(s[P].type=="FOREGROUND_BLUR"){var QU=s[P],Qt=eq.i$("GsnB",{});Qe.push(Qt);Qt.v.enab.v=QU.visible;
Qt.v.Fltr.v.Rds.v.val=QU.radius/2.4}if(QB&&QB.exposure!=0){var Qt=eq.i$("brit",{});Qe.push(Qt);Qt.v.Fltr.v.Brgh.v=Math.round(QB.exposure*160);
Qt.v.Fltr.v.useLegacy.v=!0}if(Qe.length!=0){J.add.SoLd.filterFX=eq.NU();x.tP({id:J.add.SoLd.placed.v,rect:new R,buffer:Z.p(1),g:new V.dK});
J.add.SoLd.filterFX.v.filterFXList.v=Qe}J.uc(x,!1);D.Ac(G,J,x)}else if(i){J.Wm|=16;J.add.vogk=S;J.add.vmsk=w;
var F=J.add.vstk=JSON.parse(JSON.stringify(QG.Wh.default)),L=D.DO(p,q[0],Q,W,A,x,G);if(L[0]=="None"){F.fillEnabled.v=!1;
J.add.SoCo=L[1]}else{var Qu=L[1].Opct.v.val;if(Qu!=100)J.opacity=Math.round(J.opacity/255*(Qu/100)*255);
J.add[L[0]]=L[1]}var L=D.DO(p,k[0],Q,W,A,x,G);if(L[0]!="None"){F.strokeEnabled.v=!0;F.strokeStyleLineWidth.v.val=p.strokeWeight*Q.st();
F.strokeStyleLineAlignment.v.strokeStyleLineAlignment=QG.Wh.zW[["INSIDE","CENTER","OUTSIDE"].indexOf(p.strokeAlign)];
var QK={SoCo:"SoFi",GdFl:"GrFl"}[L[0]],Qm=["SoFi","GrFl","patternFill"].indexOf(QK),ei=[QG.Za,QG.xM,QG.xU][Qm];
F.strokeStyleContent.v={classID:QG.Wh.XJ[0]};F.strokeStyleLineDashSet.v=QL.ZN(p.dashPattern,1/p.strokeWeight);
var Qp=F.strokeStyleContent.v={classID:QG.Wh.XJ[Qm]};for(var P=0;P<ei.length;P++)Qp[ei[P]]=L[1][ei[P]]}if(s)for(var P=0;
P<s.length;P++){var QU=s[P];if(QU.type!="FOREGROUND_BLUR")continue;w.EU=QU.radius/2.4}J.u_(x)}else if(Y=="TEXT"){var QO=p.textData,QE=QO.layoutSize,Qi=["LEFT","RIGHT","CENTER"].indexOf(p.textAlignHorizontal);
J.add.lnsr="rend";J.add.TySh=QM.av(0,0);J.add.TySh.MB=new R(0,0,100,100);var QV=Q.clone();J.add.TySh.u=QV;
var Q$=J.add.TySh.Nf,eS=QO.characters;if(p.textCase=="TITLE"){for(var P=0;P<eS.length;P++)if(P==0||eS[P-1]==" "){var Qs=eS.slice(0,P),Qw=eS.slice(P+1);
eS=Qs+eS[P].toUpperCase()+Qw}}eS=eS.replace(/\u2028/g,"\n");eS=eS.replace(/\u2029/g,"\n");eS=eS.replace(/\r/g,"\n");
QM.bN(Q$,0,eS);var Q_=p.textAutoResize,QN=QO.baselines;if(Q_=="WIDTH_AND_HEIGHT"){var eK=Qi==0?0:Qi==1?QE.x:QE.x/2,Qz=QN?QN[0].position.y:0;
QV.translate(eK*Q.st(),Qz*Q.st());QM.aP(Q$,0)}else if(Q_=="HEIGHT"||Q_=="NONE"){var Qz=QN?QN[0].position.y-p.fontSize*.7:0;
QV.translate(0,Qz*Q.st());QM.aP(Q$,1);QM.wv(Q$,[0,0,Math.round(QE.x),Math.round(1.2*QE.y)])}else throw Q_;
if(eS!=""){var eQ=QM.fy(Q$,0,1);D.NQ(p,Q,h,eQ,J);QM.gh(Q$,0,eS.length,eQ);var Qd=QO.characterStyleIDs,Qj=QO.styleOverrideTable;
if(Qd)for(var P=0;P<Qd.length;P++){var QD=Qd[P];if(eS[P]=="\n")continue;if(QD!=0){var Qq;for(var et=0;
et<Qj.length;et++)if(Qj[et].styleID==QD)Qq=Qj[et];var eQ=QM.fy(Q$,P,P+1);D.NQ(Qq,Q,h,eQ,J);QM.gh(Q$,P,P+1,eQ)}}}}else if(Y=="SYMBOL"){}else if(Y=="INSTANCE"){var QC=p.symbolData,Qf=QC.symbolOverrides,f=D.DU(G.Ve,QC.symbolID);
if(f)l=f.children;else console.log(p.name,"symbol not found",QC.symbolID);d=d.slice(0);for(var P=0;P<Qf.length;
P++)d.push(Qf[P])}else console.log(Y);if(!1){}else if(l&&!i){l.sort(D.AM);if(M==0&&Y!="SYMBOL"&&Y!="INSTANCE"){J.Pw(W);
var QA=q?q[0]:null;if(QA&&QA.type=="SOLID"){var Qb=QA.color;J.add.artb.artboardBackgroundType.v=4;J.add.artb.Clr=D.rM(Qb)}}x.L.push(x.dN());
var MS=G.wz;G.wz={};for(var QR=0;QR<l.length;QR++)D._g(l[QR],d,Q,A,x,M+1,G);G.wz=MS;J.add.lsct=!1?ew.rK:ew.Wy;
J.yk="pass";var eG=J.Ml();J.Wm=24;J.qJ(eG);var MG=M!=0&&q.length!=0&&!p.frameMaskDisabled&&p.containerSupportsFillStrokeAndCorners;
if(MG&&w){J.add.vmsk=w;J.add.vogk=S;J.u_(x)}else D.Ac(G,J,x);x.L.push(J)}else if(p.mask){if(w){G.wz.pW=w;
G.wz.B$=S}}else{var MM=[];if(s)for(var MP=0;MP<s.length;MP++){var QU=s[MP],Mu=QU.color,Mm=QU.type,Mw=["DROP_SHADOW","INNER_SHADOW"].indexOf(Mm);
if(Mw!=-1){var MU=["DrSh","IrSh"][Mw],Pp=JSON.parse(QG.oA[QG.order.indexOf(MU)]);MM.push([MU,Pp]);Pp.enab.v=QU.visible;
Pp.Md.v.BlnM=eE.iR(D.ehU(QU.blendMode));Pp.Opct.v.val=Math.round(100*Mu.a);Pp.blur.v.val=Math.round(QU.radius*Q.st());
Pp.Clr=D.rM(Mu);var eK=QU.offset.x,Qz=QU.offset.y;Pp.uglg.v=!1;Pp.lagl.v.val=Math.round(180/Math.PI*Math.atan2(Qz,-eK));
Pp.Dstn.v.val=Math.round(Math.sqrt(eK*eK+Qz*Qz)*Q.st())}}for(var P=1;P<q.length;P++){var Ma=q[P],MQ=D.DO(p,Ma,Q,W,A,x,G);
if(MQ[0]=="GdFl")MM.push(["GrFl",MQ[1]]);else if(MQ[0]=="SoCo")MM.push(["SoFi",MQ[1]]);else if(MQ[0]=="PtFl")MM.push(["patternFill",MQ[1]]);
else throw MQ}if(MM.length!=0){var P$=JSON.parse(QG.default);for(var P=0;P<QG.order.length;P++)P$[QG.mV[P]]={t:"VlLs",v:[]};
for(var P=0;P<MM.length;P++){var pU=MM[P],MU=QG.mV[QG.order.indexOf(pU[0])];P$[MU].v.unshift({t:"Objc",v:pU[1]})}if(l==null)J.add.lmfx=P$}x.L.push(J)}};
eV.AM=function(p,d){var K=p.parentIndex.position,A=d.parentIndex.position;return K>A?1:-1};eV.AV=function(p){for(var d=1;
d<p.length;d++){var K=p[d];if(K.type=="IMAGE"&&K.opacity==1){p=p.slice(d);break}}for(var d=0;d<p.length;
d++){var K=p[d];if(!K.visible||K.type=="IMAGE"&&K.image.dataBlob==null){p.splice(d,1);d--}}return p};
eV.Ac=function(p,d,K){if(p.wz.pW){d.add.vmsk=p.wz.pW.clone();d.add.vogk=JSON.parse(JSON.stringify(p.wz.B$));
d.u_(K)}};eV.NQ=function(p,d,K,A,x){var M=p.fontSize,G=p.lineHeight,D=p.fontName,P=p.textAlignHorizontal,a=p.textTracking,e=p.textCase;
if(M==null)M=A.K$.FontSize;if(D)QM.xz(A,D.postscript);if(M!=null)A.K$.FontSize=Math.round(M);if(a)A.K$.Tracking=Math.round(a*1e3);
if(e)A.K$.FontCaps=e=="UPPER"?2:0;if(G&&(G.units!="PERCENT"||G.value!=100)){var f=G.value;if(G.units=="PERCENT")f=1*M*f/100;
if(G.units=="RAW")f=1*M*f;A.K$.AutoLeading=!1;A.K$.Leading=Math.round(f)}if(P)A.hw.Justification=["LEFT","RIGHT","CENTER"].indexOf(P);
var N=p.fillPaints;if(N){var Y=eV.DO(p,N[0],d,K);if(Y[0]=="SoCo"){var l=Z.k.iz(Y[1].Clr.v);A.K$.FillColor={Type:1,Values:[1,l.N/255,l.w/255,l.M/255]};
x.opacity=Math.round(x.opacity/255*(Y[1].Opct.v.val/100)*255)}else console.log(N)}};eV.DO=function(p,d,K,A,x,M,G){var D=eV,P,a,e=p.size;
if(d){var f=d.type,N=["GRADIENT_LINEAR","GRADIENT_RADIAL","GRADIENT_DIAMOND","GRADIENT_ANGULAR"].indexOf(f);
if(f=="SOLID"){P="SoCo";var Y=d.color;a=JSON.parse(QG.oA[QG.order.indexOf("SoFi")]);a.Clr=D.rM(Y)}else if(N!=-1){var l=JSON.parse(QG.oA[QG.order.indexOf("GrFl")]),h=l.Grad.v;
h.Intr.v=0;l.Type.v.GrdT=["Lnr","Rdl","Dmnd","Angl"][N];var s=[],J=d.stops;for(var u=0;u<J.length;u++){var Q=J[u],W=Q.color;
s.push([Q.position,[W.r,W.g,W.b],W.a])}Z.k.et(s,h);var q=D.Fu(d.transform);q.an();var H=q.clone();H.scale(e.x,e.y);
H.concat(K);var C=new QP(0,.5),k=new QP(1,.5);C=H.zK(C);k=H.zK(k);if(!0){C.x=k.x+.5*(C.x-k.x);C.y=k.y+.5*(C.y-k.y)}Z.k.hz(C,k,A,l);
if(N==3){var i=l.Angl.v;i.val=(i.val+180+180)%360-180;l.Rvrs.v=!l.Rvrs.v}P="GdFl";a=l}else if(f=="IMAGE"){var l=JSON.parse(QG.oA[QG.order.indexOf("patternFill")]),m=l.phase.v,w=d.image.dataBlob,S=G.eUZ[w],$=1;
if(S==null){var o=D.zi(x,w);S=G.eUZ[w]={nM:new Uint8Array(o.data),m:o.Uo};S.id=QZ.Ex()+"-d71c-11e5-b1ae-a548a96e5f9f";
S.name="someImage";M.zI(S)}l.Algn.v=!0;l.Ptrn.v.Idnt.v=S.id;var O=K.ol,t=K.lF,c=d.imageScaleMode,q=D.Fu(d.transform);
q.an();var g=A.t,j=A.D,_=S.m.t,U=S.m.D;if(c=="FILL"){$=Math.max(g/_,j/U);$=Math.round($*100)/100}else if(c=="FIT"){$=Math.min(g/_,j/U);
$=Math.round($*100)/100}else if(c=="STRETCH"){var I=g*q.V,E=j*q.Wb;$=.5*(I/_+E/U);$=Math.round($*100)/100;
O+=(I-g)/2+q.ol*g;t+=(E-j)/2+q.lF*j}else if(c=="TILE"){$=d.scale;$=Math.round($*100)/100;O+=(I-g)/2;
t+=(E-j)/2}var b=$*_,z=$*U;O+=-(b-g)/2;t+=-(z-j)/2;l.Scl.v.val=Math.round(100*$);m.Hrzn.v=Math.round(O);
m.Vrtc.v=Math.round(t);P="PtFl";a=l}else throw f;if(a)a.Opct={t:"UntF",v:{type:"#Prc",val:Math.round(d.opacity*100)}}}else{P="None";
a={classID:"null",Clr:{t:"Objc",v:Z.k.wI({N:0,w:0,M:0})}}}return[P,a]};eV.zi=function(p,d){var K=p[d];
if(K.rslt)return K.rslt;var A=K.bytes.buffer,x=QH.BU(A),M=QH.If(x);K.rslt=M.W$(A)[0];return K.rslt};
eV.NW=function(p,d,K,A){var x=p.type,M=p.size,G=p.cornerRadius,f;if(G==null)G=0;var D=Z.B$.MS(),P=M.x,a=M.y,e=[G,G,G,G],N=["rectangleTopLeftCornerRadius","rectangleTopRightCornerRadius","rectangleBottomRightCornerRadius","rectangleBottomLeftCornerRadius"];
for(var Y=0;Y<4;Y++)if(p[N[Y]]!=null)e[Y]=p[N[Y]];if(x=="RECTANGLE"||x=="ROUNDED_RECTANGLE"||x=="FRAME"){f=Z.e.Ek.Rect(0,0,P,a,e)}else if(x=="ELLIPSE"){var l=p.arcData,h=l?l.startingAngle:0,s=l?l.endingAngle:2*Math.PI,J=l?l.innerRadius:0;
if(h==0&&s>1.999*Math.PI)f=Z.e.Ek.Ao(0,0,P,a,0);else f=Z.e.Ek.ehl(P/2,a/2,a/2,h,s);if(J!=0&&J!=1){var u=V.mK.el(f).slice(3);
u.reverse();for(var Y=0;Y<u.length;Y++){var Q=u[Y],W=Q.Gp;Q.Gp=Q.UL;Q.UL=W}var q=new QI;q.translate(-P/2,-a/2);
q.scale(J,J);q.translate(P/2,a/2);Z.e.RF(u,q);f=f.concat(u);f[2].length*=2}}else if(x=="LINE"){f=Z.e.Ek.Rect(0,0,P,a,0);
f.pop();f.pop();f[2].length=2}else if(x=="REGULAR_POLYGON"){f=Z.e.Ek.Ks(.5,.5,.5,Math.PI/2,p.count,0);
var H=new QI;H.scale(P,a);Z.e.RF(f,H)}else if(x=="BOOLEAN_OPERATION"){f=[{type:6},{type:8,all:0}];var C=p.children,k=["XOR","UNION","SUBTRACT","INTERSECT"].indexOf(p.booleanOperation);
if(k==-1)throw p;if(C==null)C=[];for(var Y=0;Y<C.length;Y++){var i=C[Y],m=new V.mK,w=[],S=eV.NW(i,d,m,w);
if(m.Z==null)continue;Z.e.RF(m.Z,eV.Fu(i.transform));f=f.concat(m.Z.slice(2));for(var o=0;o<w.length;
o++)A.push(w[o])}for(var Y=3;Y<f.length;Y++)if(f[Y].Ez!=null)f[Y].Ez=k;D=null}else if(x=="VECTOR"){var O,t;
if(!0){var c=p.vectorData;O=c.normalizedSize;t=c.vectorNetworkBlob}else{O=M;t=fg[0].commandsBlob;console.log(fg)}var g=d[t].bytes,j=new Uint32Array(g.buffer),_=new Float32Array(g.buffer),U=j[0],$=j[1],I=[];
for(var Y=0;Y<U;Y++){var E=3+Y*3,b=new QP(_[E+1],_[E+2]);I.push(b)}var z=[],QS=3+U*3;for(var Y=0;Y<$;
Y++){var QQ=QS+Y*7,Qe=j[QQ+1],QB=j[QQ+4];z.push([Qe,QB,_[QQ+2],_[QQ+3],_[QQ+5],_[QQ+6]])}var QU=-1;for(var Y=0;
Y<$;Y++){if(QU==-1){}else{var Qt=-1;for(var o=Y;o<$;o++)if(z[o][1]==QU)Qt=o;for(var o=Y;o<$;o++)if(z[o][0]==QU)Qt=o;
if(Qt!=-1){var F=0,W=z[Qt];z[Qt]=z[Y];z[Y]=W;if(W[0]!=QU){F=W[0];W[0]=W[1];W[1]=F;F=W[2];W[2]=W[4];W[4]=F;
F=W[3];W[3]=W[5];W[5]=F}}}QU=z[Y][1]}var L=[],Qu=[],QK=-1;QU=-1;for(var Y=0;Y<$;Y++){var Qm=z[Y],Qe=Qm[0],QB=Qm[1],ei=I[Qe],Qp=I[QB];
if(QU!=Qe){Qu.push("M");L.push(ei.x,ei.y);QK=Qe}L.push(ei.x+Qm[2],ei.y+Qm[3]);L.push(Qp.x+Qm[4],Qp.y+Qm[5]);
Qu.push("C");L.push(Qp.x,Qp.y);QU=QB;if(QK==QB){Qu.push("Z");QK=QU=-1}}f=Z._.Li({B:L,$:Qu},!0);if(G!=0){var e=[],QO=f[2].length;
for(var Y=0;Y<QO;Y++)e.push(G);if(Z.e.KR(f))Z.e.eqr(f,2,e)}var QE=new QI;QE.scale(O.x==0?1:M.x/O.x,O.y==0?1:M.y/O.y);
Z.e.RF(f,QE)}K.Z=f;if(D)A.push(D)};eV.DU=function(p,d){return p[d.sessionID+","+d.localID]};eV.ehn=function(p,d){return p.sessionID==d.sessionID&&p.localID==d.localID};
eV.ehU=function(p){var d={NORMAL:"norm",MULTIPLY:"mul ",SCREEN:"scrn"}[p];if(d==null)throw p;return d};
eV.rM=function(p){return{t:"Objc",v:Z.k.wI({N:p.r*255,w:p.g*255,M:p.b*255})}};eV.Fu=function(p){var d=[p.m00,p.m10,p.m01,p.m11,p.m02,p.m12];
for(var K=0;K<6;K++)if(Math.abs(d[K])<1e-20)d[K]=0;return new QI(d[0],d[1],d[2],d[3],d[4],d[5])};var r={};
r.IM=function(p,d,K){this.name=p;this.id=d;this.td=null;if(K!=null)this.ht=K};r.IM.prototype.Ch=function(p,d,K,A,x){};
r.IM.prototype.enable=function(p,d,K,A,x,M){var G=new y(n.E.s,!0);G.data={j:n.H.Nn,$B:"default"};d.n(G)};
r.IM.prototype.disable=function(p,d,K,A,x){};r.IM.prototype.gu=function(p,d,K,A,x){return!1};r.IM.prototype.Fg=function(p,d,K,A,x){};
r.IM.prototype.Dc=function(p,d,K,A,x){};r.IM.prototype.Yh=function(p,d,K,A,x){};r.IM.prototype.gi=function(p,d,K,A,x){};
r.IM.prototype.Tq=function(p,d,K,A,x){};r.IM.prototype.AC=function(p,d,K,A){};r.IM.prototype.lT=function(p,d,K,A){};
r.IM.prototype.Qv=function(p,d){};r.IM.prototype.WY=function(p,d){};r.IM.prototype.kz=function(p,d,K,A,x){};
r.IM.prototype.Ei=function(p,d){};r.IM.prototype.gJ=function(p,d){return!1};r.IM.prototype.cQ=function(p,d){return!1};
r.IM.prototype.ZX=function(){return!1};r.IM.prototype.DF=function(p,d){return!0};r.IM.prototype.DL=function(){return null};
r.IM.prototype.gL=function(p,d,K){};r.IM.prototype.Zs=function(){return!1};r.IM.prototype.rc=function(p,d,K,A){};
r.IM.prototype.track=function(p){var d=new y(n.E.Iz,!0);d.data=p;p.VP=!0;this.td.n(d)};r.IM.tf=function(p,d,K,A,x){r.IM.br(p,d,[Qc.get([12,41]).charAt(0)+": "+Z.ZG.bQ(K.t,A.Bk,x,A.t,!0),Qc.get([12,42]).charAt(0)+": "+Z.ZG.bQ(K.D,A.Bk,x,A.D,!0)],A)};
r.IM.br=function(p,d,K,A){var x=14,M=130,G=K.length*17+8,D=new R(p,d-G,M,G),P=r.IM.fM;if(P==null)P=r.IM.fM=document.createElement("canvas");
P.width=M;P.height=G;var a=P.getContext("2d");a.fillStyle="rgba(0,0,1,1)";a.fillRect(0,0,M,G);a.font=x+"px monospace";
a.fillStyle="rgba(255,255,255,1)";for(var e=0;e<K.length;e++)a.fillText(K[e],6,(e+1)*17);A.K.nt=[[a.getImageData(0,0,M,G).data,D.clone()]]};
r.IM.fM=null;r.cz="0";r.$$="1";r.ehr="2";r.ehy="3";r.kh="5";r.esn="6";r.esK="7";r.Tg="8";r.esw="9";r.RJ="10";
r.Ha="11";r.DI="12";r.Hq="13";r.eeZ="14";r.esz="16";r.eKM="18";r.jM="19";r.een="20";r.eer="22";r.hK="23";
r.DR="24";r.esC="25";r.zp="27";r.tT="31";r.eoB="32";r.eoq="34";r.eos="35";r.QS="36";r.Qp="37";r.jd="38";
r.eeg="39";r.eGB="40";r.eeU="41";r.Hh="42";r.zc="43";r.jY="47";r.IV="51";r.Dh="52";r.DW="54";r.Hs="55";
r.Dx="56";r.DA="57";r.Hg="58";r.zF="59";r.iQ="61";r.hc="100";r.Db="101";r.HX="120";r.kt="230";r.eqU="231";
r.Ze="232";r.aW="233";r.Ic="234";r.qR="235";r.DY="236";r.eeL=function(p){var d=r.kn,K=null;for(var A in d)if(d[A][1].indexOf(p[1].classID)!=-1)K=A;
return K};r.kn={};r.kn[r.hK]=["tools/brush",["PbTl"]];r.kn[r.DR]=["tools/pencil",["PcTl"]];r.kn[r.tT]=["tools/eraser",["ErTl"]];
r.Ef=function(p,d,K){r.IM.call(this,p,d,K);this.qi={brush:p?tb.UZ():null,bmode:"norm",opacity:1,flow:1,smth:0,samp:0,prsr:[!1,!0],emode:0,wconf:[40,!0,!0],algnd:!1,sfrom:0,alt:[!1],expo:.5,rng:1,strn:.5,pdetail:!0,smode:1,qsmode:0,setop:"front",patch:0};
this.hG=null;this.Zm=null;this.AL=null;this.Xv=null;this.na=null;this.pM=null;this.Xi=null;this.VH=null;
this.BI=null;this.h$=null;this.CG=null;this.Ct=null;this.ga=null;this.PY=1;this.Ga=!1;this.$K=null;this.caller=null};
r.Ef.prototype=new r.IM;r.Ef.prototype.cQ=function(p,d){return p.Fj&&d.Q(B.tS)};r.Ef.prototype.Dc=function(p,d,K,A,x){if(A.Q(B.Od)){this.pM=new QP(x.x,x.y);
var M=this.qi.brush.Brsh.v,G=M.Dmtr.v.val,D=M.Hrdn!=null?M.Hrdn.v.val:-1;this.Xi=[G,D,!0,JSON.parse(JSON.stringify(this.qi.brush)),x];
this.Rk(K)}};r.Ef.prototype.$d=function(p,d,K){var A=this.Xi,x=p.U.v,M=K.x-A[4].x,G=K.y-A[4].y,D=A[0],P=A[1],a=Math.abs(M)>Math.abs(G);
if(a&&A[2]){var e=Math.round(2*M/x);D+=e;K.x-=M-.5*e*x}if(!a&&!A[2]&&P!=-1){var e=Math.round(.25*G);
P+=e;K.y-=G-4*e}D=Math.max(1,D);P=A[1]==-1?-1:Math.max(0,Math.min(100,P));var f=A[3];f.Brsh.v.Dmtr.v.val=D;
if(P!=-1)f.Brsh.v.Hrdn.v.val=P;this.Xi=[D,P,a,f,K];var N=Qr.$k(f,d.hx.Im,x),Y=N[1];Y.x=Math.round(this.pM.x-Y.t/2);
Y.y=Math.round(this.pM.y-Y.D/2);p.K.CI=[N];var l=p.U.FT(this.pM.x,this.pM.y);p.K.EZ={XA:[],yO:[l.x-D/2,l.y,l.x+D/2,l.y]};
if(P!=-1)p.K.EZ.yO.push(l.x+50/x,l.y-P/2,l.x+50/x,l.y+P/2);p.nw=!0};r.Ef.prototype.Tq=function(p,d,K,A,x){if(this.id==r.een)return;
if(this.pM){this.pM=null;this.Hy(JSON.parse(JSON.stringify(this.Xi[3])));p.K.CI=[];p.K.EZ=null;p.nw=!0;
return}var M=new y(n.E.s,!0);M.data={j:n.H.xV,O:this.id,eqI:"showBrushOpts",Vv:new QP(x.XW+4,x.hq)};
d.n(M)};r.Ef.prototype.Hy=function(p){var d=new y(n.E.s,!0);d.data={j:n.H.aA,gD:Qn.ee,Bp:p};this.caller.n(d)};
r.Ef.Lb=function(p,d,K,A){if(p==null)p="FrgC";if(d==null)d="norm";if(K==null)K=1;var x={classID:"Fl",Usng:{t:"enum",v:{FlCn:p}},Opct:{t:"UntF",v:{type:"#Prc",val:Math.round(K*100)}},Md:{t:"enum",v:{BlnM:eE.iR(d)}}};
if(p=="Clr")x.Clr={t:"Objc",v:A};if(p=="contentAware")x.contentAwareColorAdaptationFill={t:"bool",v:!0};
return{LG:"fill",Qz:x}};r.Ef.prototype.Ch=function(p,d,K,A,x){this.td=d;var M=K.Mv.length;if(M==0&&!K.ux())return;
var G=M!=0?-1-K.Mv[0]:K.Y[0],D=K.L[G];if(p.j=="fromAction"){var P=p.Cs,a=P.Qz;if(P.LG=="fill"){var e=(a.Opct?a.Opct.v.val:100)/100,f=a.Md?eE.UW(a.Md.v.BlnM):"norm",N=a.Usng.v.FlCn,Y;
if(N=="contentAware"){if(K.P==null){alert("Select an area to heal first.");return}if(!K.ux())return;
this.QU(K);var l=K.P,h=Z.p(l.rect.r()*4);Z.qF(l.channel,h,3);this.Xp(K,"sheal",h,l.rect,l.rect);this.i(K,l.rect);
this.finish(K,l.rect)}else{if(N=="FrgC")Y=x.ou;else if(N=="BckC")Y=x.Le;else if(N=="Blck")Y=0;else if(N=="Wht")Y=16777215;
else if(N=="Gry")Y=8421504;else if(N=="Clr"){var s=Z.k.iz(a.Clr.v);Y=s.N<<16|s.w<<8|s.M}var J=Y>>16&255,u=Y>>8&255,Q=Y>>0&255;
this.ePU(K,D,K.P,J,u,Q,Math.round(255*e),f,[2,3])}}else if(P.LG=="delete"){var W=G<0?1:D.gq,l=K.P,i;
if(l==null)return;var q=G<0?K.$O[-G-1]:W<=0?null:W==1?D.gW():D.MT(K).g,H=W<=0?D.rect:q.rect,C=W<=0?l.rect.pk(H):l.rect.clone();
if(C.kQ())return;var k=C.r();if(W<=0){i=Z.p(k*4);Z.PE(D.buffer,D.rect,i,C)}else{i=Z.p(k);q.extend(C);
Z.Qj(q.channel,q.rect,i,C)}if(0<=G&&D.Nq(K,l)){if(W<=0){Z.Pk(i,0);Z.PE(D.qt.dC,D.qt.ne,i,C)}else{Z.set(i,255);
Z.Qj(D.qt.dC,D.qt.ne,i,C)}}else{if(W<=0){var m=Z.p(i.length>>2);Z.$m(i,m,3);Z.h.$U(Z.MS(l.rect.r()),l.rect,m,C,l.channel,C,1);
Z.qF(m,i,3)}else{var w=Z.p(l.rect.r()),J=x.Le>>16&255,u=x.Le>>8&255,Q=x.Le>>0&255;Z.set(w,Math.round(Z.Je(J,u,Q)));
Z.h.$U(w,l.rect,i,C,l.channel,C,1)}}this.HT(K,!0,[2,2],G,W,C,i)}}if(p.j=="stroke"){var S=p.eqz,l=K.P;
if(l==null){l={rect:D.rect.clone(),channel:Z.p(D.rect.r())};Z.$m(D.buffer,l.channel,3)}var o=QL.Zd(S),O=r.wJ.eep(l,Math.ceil(o[0]),Math.ceil(o[1])),Y=Z.k.iz(S.Clr.v),J=Math.round(Y.N),u=Math.round(Y.w),Q=Math.round(Y.M);
this.ePU(K,D,O,J,u,Q,Math.round(255*S.Opct.v.val/100),eE.UW(S.Md.v.BlnM),[14,9])}if(p.j=="fillBMP"){this.eBZ(K,D,K.P,p.lo,p.vN,p.hH)}if(p.j=="draw"){var t=p.Gi,c=p.eKP?Qv.Ys.eVQ(t,K):t.rect,g=this.qi.bmode;
this.QU(K);this.qi.bmode="norm";this.Xp(K,"draw",t.buffer,c,c.pk(new R(0,0,K.t,K.D)));this.qi.bmode=g;
this.i(K,c);this.finish(K,c,p.hH,p.eKP)}};r.Ef.prototype.ePU=function(p,d,K,A,x,M,G,D,P){var a=K==null?new R(0,0,p.t,p.D):K.rect,e=G<<24|M<<16|x<<8|A<<0,f=Z.p(a.r()*4);
Z.Pk(f,e);this.eBZ(p,d,K,f,D,P)};r.Ef.prototype.eBZ=function(p,d,K,A,x,M){var G=p.Mv.length!=0?-1-p.Mv[0]:p.Y[0],D=G<0?1:d.gq,P=G<0?p.$O[-1-G]:D<=0?null:D==1?d.gW():d.MT(p).g,a=D<=0?d.rect:P.rect,e=K==null?new R(0,0,p.t,p.D):K.rect,f=K==null?Z.Bb(p.t*p.D):K.channel,N=e.r(),Y,l=null;
if(D<=0){Y=Z.p(N*4);Z.PE(d.buffer,d.rect,Y,e)}else{Y=Z.p(N);P.extend(e);Z.Qj(P.channel,P.rect,Y,e)}if(K!=null)Z.f$(f,A);
if(D>0){l=Z.p(N);Z.gC(A,l)}if(0<=G&&K&&d.Nq(p,K)){var h=d.qt.AW,s=Z.clone(d.qt.AW);if(D<=0)Z.tM(A,s);
else Z.tM(l,s);var J=new QY([2,3],this);J.data={j:"drawtemp",o:p.Y[0],xn:D,eqa:h,eqo:s};p.Gn(J);this.Qv(J.data,p)}else{if(D<=0)Z.h.gQ(x,A,e,Y,e,e,1);
else Z.h.$U(l,e,Y,e,f,e,1);this.HT(p,!0,M,G,D,e,Y)}};r.Ef.prototype.gJ=function(p){if(B.CC.indexOf(p)!=-1)return!0;
return!1};r.Ef.prototype.AC=function(p,d,K,A){var x=this.qi.brush,M=A.Q(B.Od),G=M!=this.Ga,D=r.Ef.Hf(x,A);
if(D!=null)this.Hy(D);if(!A.Q(B.DV)&&A.wl()!=-1){var P=n.eB$(Math.round(this.qi.opacity*100),A.wl())/100;
this.QE({opacity:P},d)}if(this.id==r.Tg&&G&&p!=null){var a=this.qi.qsmode;if(a==2)a=p.P==null?0:1;else a=2;
this.QE({qsmode:a},d)}this.Ga=M;if(G){if(p)this.PY=p.U.v;this.Rk(K,A)}};r.Ef.Hf=function(p,d){var K=p.Brsh.v.Dmtr.v.val,A=p.Brsh.v.Hrdn!=null?p.Brsh.v.Hrdn.v.val:-1,x=K,M=A,G=d.Q(B.tS);
if(d.Q(B.Ca)){if(G)A=25*Math.floor((A-1)/25);else{if(K<=10)K--;else if(K<=50)K=5*Math.floor((K-1)/5);
else if(K<=100)K=10*Math.floor((K-1)/10);else if(K<=200)K=25*Math.floor((K-1)/25);else if(K<=400)K=50*Math.floor((K-1)/50);
else K=100*Math.floor((K-1)/100)}}if(d.Q(B.wy)){if(G)A=25*Math.ceil((A+1)/25);else{if(K<10)K++;else if(K<50)K=5*Math.ceil((K+1)/5);
else if(K<100)K=10*Math.ceil((K+1)/10);else if(K<200)K=25*Math.ceil((K+1)/25);else if(K<400)K=50*Math.ceil((K+1)/50);
else K=100*Math.ceil((K+1)/100)}}K=Math.max(1,K);A=Math.max(0,Math.min(100,A));if(M==-1)A=-1;if(K!=x||A!=M){var D=JSON.parse(JSON.stringify(p));
D.Brsh.v.Dmtr.v.val=K;if(M!=-1)D.Brsh.v.Hrdn.v.val=A;return D}return null};r.Ef.prototype.Rk=function(p,d,K,A){if(p.hx.list.length==0)return;
var x=this.id,M;if((x==r.zp||x==r.jM||x==r.hK||x==r.DR)&&(d!=null&&d.Q(B.Od)||this.qi.alt[0]))M="crosshair";
else{var G=this.PY,D=this.qi.brush,P;if(K&&K.Y.length!=0)P=K.L[K.Y[0]];if((x==r.zp||x==r.jM)&&P!=null&&P.gq<=0){var a=K.U.FT(A.x,A.y),e=this.e_t(a),f=this.qi.sfrom,N=P.buffer,Y=P.rect,q,H;
if(f!=0){Y=new R(0,0,K.t,K.D);N=K.zi(f==1&&K.Y[0]!=K.L.length-1?K.Y[0]:null)}var l=new R(Y.x+e.x,Y.y+e.y,Y.t,Y.D),h=Qr.$k(D,p.hx.Im,G),s=h[0],J=h[1],u=Math.ceil(J.t/G),Q=new R(Math.round(a.x-u/2),Math.round(a.y-u/2),u,u),W=Z.p(Q.r()*4);
Z.PE(N,l,W,Q);if(G==1){q=W;H=Q}else if(G<1){var C=Z.Bi(W,Q,G);q=C.nM;H=C.rect;if(H.r()!=J.r()){H=J.clone();
H.x=C.rect.x;H.y=C.rect.y;q=Z.p(H.r()*4);Z.PE(C.nM,C.rect,q,H)}}else{q=s.slice(0);H=J;Z.scale.La(W,Q.t,Q.D,q,H.t,H.D,G)}var k=this.qi.opacity/255;
for(var i=0;i<q.length;i+=4)q[i+3]=k*(s[i+3]*q[i+3]);M={Yq:q,m:H,ME:new QP(H.t/2,H.D/2)}}else M=Qr.FU(D,p.hx.Im,G)}var m=new y(n.E.s,!0);
m.data={j:n.H.Nn,$B:M};if(this.caller)this.caller.n(m)};r.Ef.prototype.enable=function(p,d,K,A){this.hG=K;
this.caller=d;this.Hy(JSON.parse(JSON.stringify(this.qi.brush)));if(p&&p.U.v!=0)this.PY=p.U.v;this.Rk(K,A)};
r.Ef.prototype.Ei=function(p,d){if(d==Qn.ee){this.qi.brush=p.hx.yv;this.Rk(p)}};r.Ef.prototype.kz=function(p,d,K,A,x){for(var M in p)this.qi[M]=p[M];
if(this.qi.alt[0])this.Rk(x,A,K)};r.Ef.prototype.QU=function(p,d){var K=p.Mv.length!=0?-1-p.Mv[0]:p.Y[0],A=p.L[K],x=K<0?1:A.gq,M=K<0?p.$O[-K-1]:x<=0?null:x==1?A.gW():A.MT(p).g;
this.ga=p.P==null?null:{rect:p.P.rect.clone(),channel:Z.clone(p.P.channel)};this.h$=M?M.channel:A.buffer;
this.BI=(M?M.rect:A.rect).clone();var G=new R(0,0,p.t,p.D),D=G.ck(this.BI);if((this.Df()&&x<=0||D.GR(this.BI))&&d!=!0)this.h$=this.h$.slice(0);
else{if(M)M.extend(D);else A.extend(D)}this.CG=this.BI;this.Ct=this.h$;if(x<=0&&(this.id==r.zp||this.id==r.jM)){var P=this.qi.sfrom;
if(P!=0){this.CG=new R(0,0,p.t,p.D);this.Ct=Z.clone(p.zi(P==1&&p.Y[0]!=p.L.length-1?p.Y[0]:null))}}};
r.Ef.prototype.Dy=function(p,d,K){if(p.Q(B.Od)){var A=new y(n.E.q,!0);A.O=r.eeZ;A.data={j:"pickhere",eqx:K};
d.n(A);return!0}return!1};r.Ef.prototype.Fz=function(p,d,K,A,x,M){if(!p.ux()){this.Zm=null;return}this.QU(p);
var G=new R(0,0,p.t,p.D),D=null;if(M!=null){var P=p.Mv.length!=0?-1-p.Mv[0]:p.Y[0],a=p.L[P],e=P<0?p.$O[-P-1]:a.gq<=0?null:a.gq==1?a.gW():a.MT(p).g;
D=Z.p(G.r()*4);if(e)r.Ef.Xc(this.h$,this.BI,e.color,D,G);else Z.PE(this.h$,this.BI,D,G)}var f=this.qi;
if(this.Zm&&this.id==r.Tg&&f.qsmode!=0){}else{var N=d.ou,Y=d.Le;if(this.$K=="erase"){var l=N;N=Y;Y=l}var h=this.id==r.Tg?this.BI:G;
this.Zm=new Qr(f.brush,d.hx.Im,d.hx.eN,{Xo:x,CQ:M,eqD:f.smth*50*n.F()/p.U.v,CU:this.id==r.DR||f.emode==1,yi:f.prsr},N,Y,h,D)}if(this.id==r.Tg){this.Zm.ems(f.brush,f.qsmode==2?0:16777215)}var s=p.U.FT(A.x,A.y);
s=r.Zl.oe(p,s,d);if(K.Q(B.tS)&&this.AL){this.Zm.moveTo(this.AL.x,this.AL.y,A.VE);this.Zm.lineTo(s.x,s.y,A.VE)}else this.Zm.moveTo(s.x,s.y,A.VE);
this.AL=s;this.Xv=s.clone();this.na=new Bx(s)};r.Ef.prototype._S=function(p,d,K){if(p.U.v!=0&&p.U.v!=this.PY){this.PY=p.U.v;
this.Rk(K)}};r.Ef.prototype._v=function(p,d,K,A){if(this.Zm==null)return;var x=p.L[p.Y[0]],M=p.U.FT(A.x,A.y);
M=r.Zl.oe(p,M,d);var G=this.na.rR(M,K);if(G.GR(this.AL))return 1;this.Zm.lineTo(G.x,G.y,A.VE);this.AL=G;
if(this.id==r.zp||this.id==r.jM){var D=this.dP(),P=11;D=p.U.RI(M.x-D.x,M.y-D.y);var a=P>>>1,e=new R(Math.round(D.x)-a,Math.round(D.y)-a,P,P),f=Z.p(e.r()*4);
Z.Pk(16777215);for(var N=0;N<P;N++)f[(N*P+a)*4+3]=f[(P*a+N)*4+3]=255;p.K.nt=[[f,e]];p.nw=!0}};r.Ef.prototype.lT=function(p,d,K,A){if(this.id!=r.Tg||p==null)return;
if(p.P==null||p.Y[0]!=this.ehG){this.ehG=p.Y[0];this.QE({qsmode:0},d)}};r.Ef.prototype.i=function(p,d){if(p.Mv.length!=0){p.nw=!0;
return}var K=p.L[p.Y[0]];if(d==null){d=this.Zm.$l();if(this.Df()&&K.gq<=0)d=d.pk(this.BI)}if(d.kQ())return;
if(K.gq<=0){K.i(d)}if(K.gq==1){K.gW().dJ=!0;K.u_(p)}if(K.gq==3){K.i()}p.i(p.root.$_(d,p,p.Y[0]))};r.Ef.prototype.gi=function(p,d,K,A,x){if(this.Zm==null)return;
this.Zm.finish();if(this.id!=r.eKM&&this.id!=r.jM&&this.id!=r.Tg)this.fo(p);if(this.id==r.zp||this.id==r.jM){p.K.nt=[];
p.nw=!0}if(this.id==r.Tg){var M=p.P;p.P=this.ga;var G=new y(n.E.q,!0);G.data={j:"setsel",hH:this.name,P:M};
G.O=r.$$;d.n(G);if(this.qi.qsmode==0)this.QE({qsmode:1},d)}else{this.finish(p,this.Zm.sy());this.Zm=null;
this.VH=null}this.dir=0};r.Ef.prototype.QE=function(p,d){for(var K in p)this.qi[K]=p[K];var A=new y(n.E.s,!0);
A.data={j:n.H.xV,O:this.id,nO:p};d.n(A)};r.Ef.prototype.Df=function(){var p=this.id;return p==r.Tg||p==r.tT||p==r.eeg||p==r.eGB||p==r.eeU||p==r.eer};
r.Ef.prototype.finish=function(p,d,K,A){var x=p.Mv.length!=0?-1-p.Mv[0]:p.Y[0],M=p.L[x],G=x<0?1:M.gq,D=x<0?p.$O[-x-1]:G<=0?null:G==1?M.gW():M.MT(p).g,P=D?D.rect:M.rect,f;
if(this.Df()||!P.GR(this.BI)){if(D==null){if(this.Df())M.bB();else{var a=d.ck(this.BI),e=Z.p(a.r()*4);
Z.PE(M.buffer,M.rect,e,a);M.buffer=e;M.rect=a}}else D.bB();this.i(p,P)}if(G<=0){f=Z.p(d.r()*4);Z.PE(this.h$,this.BI,f,d)}else{f=Z.p(d.r());
Z.set(f,D.color);Z.Qj(this.h$,this.BI,f,d)}this.HT(p,!1,K?K:this.name,x,G,d,f,A)};r.Ef.prototype.HT=function(p,d,K,A,x,M,G,D){var P=G;
if(x>0){P=Z.p(M.r()*4);r.Ef.Xc(G,M,0,P,M)}var a=new QY(K,this);a.data=[{o:A,xn:x,m:M,Qd:P}];if(D)a.data.eKm=[p.P,null];
p.Gn(a);if(d)this.Qv(a.data,p);else if(D)p.P=null;Qv.Kq.e_P(p,a.data)};r.Ef.prototype.WY=function(p,d){this.ePO(p,d,!1)};
r.Ef.prototype.Qv=function(p,d){this.ePO(p,d,!0)};r.Ef.prototype.ePO=function(p,d,K){if(p.j=="drawtemp"){var A=K?p.eqo:p.eqa,x=d.L[p.o];
x.qt.AW=A;x.ik(d,0,0,d.P);x.i()}else{Qv.Kq.aM(d,p);if(p.eKm){d.P=p.eKm[K?1:0];d.ye=!0}}d.i()};r.Ef.prototype.fo=function(p){this.Xp(p,this.$K,this.Zm.tR(),this.Zm.rl(),this.Zm.$l());
this.i(p)};r.Ef.prototype.Xp=function(p,d,K,A,x){var M=this.qi,G=p.L[p.Y[0]],D=p.Mv.length!=0?p.$O[p.Mv[0]]:G.gq<=0?null:G.gq==1?G.gW():G.MT(p).g,P=Z.p(x.r()*4);
if(D==null){Z.PE(this.h$,this.BI,P,x)}else{r.Ef.Xc(this.h$,this.BI,D.color,P,x)}if(p.P&&d!="qselect"){var a=x.pk(p.P.rect),e=Z.p(a.r()*4);
if(d=="copy"){var f=Z.p(a.r());Z.Qj(p.P.channel,p.P.rect,f,a);Z.PE(P,x,e,a);Z.h.OL(K,A,e,a,f,a,0,a,1,!1)}else{Z.PE(K,A,e,a);
Z.HG(p.P.channel,p.P.rect,e,a)}K=e;A=a}if(d=="idraw"||d=="ierase"){if(this.VH==null)this.VH=Z.p(this.BI.r());
var N=this.qi.samp,Y=this.hG.Le,l=N==0?this.AL:this.Xv,h=l.x,s=l.y,J=r.PW.Ad(this.h$,this.BI,[l,new QP(h-2,s),new QP(h+2,s),new QP(h,s-2),new QP(h,s+2)]);
if(N==2)J=[[Y>>>16&255,Y>>>8&255,Y>>>0&255,255]];var u=r.PW.eeP(P,x,this.AL,J,this.qi.wconf),Q=Z.p(x.r());
Z.Qj(this.VH,this.BI,Q,x);Z.af.ck(u,Q,Q);Z.Qj(Q,x,this.VH,this.BI);Z.HG(Q,x,K,A);d=d.slice(1)}if(d=="erase"&&(Qv.Kq.ee$(p)!=16777215||D))d="draw";
if(d=="draw")Z.h.gQ(M.bmode,K,A,P,x,x,M.opacity);else if(d=="erase"){var W=Z.p(x.r()*4);Z.PE(K,A,W,x);
if(D==null){var q=Z.p(x.r());Z.$m(W,q,3);Z.iX(q,M.opacity);Z.an(q);Z.HG(q,x,P,x)}else{Z.Pk(W,0,4278190080);
Z.h.gQ("norm",W,x,P,x,x,M.opacity)}}else if(d=="clone"||d=="heal"){var H=this.dP(),C=this.CG.clone();
C.offset(H.x,H.y);var k=x.clone();k.WJ(1,1);var i=Z.p(k.r()*4),m=Z.p(k.r());Z.PE(K,A,i,k);Z.$m(i,m,3);
Z.Pk(i,0);if(D==null){Z.PE(this.Ct,C,i,k);var w=Z.p(k.r());Z.$m(i,w,3);Z.iy(w,m)}else r.Ef.Xc(this.h$,C,D.color,i,k);
if(d=="clone"){Z.qF(m,i,3);Z.h.gQ(M.bmode,i,k,P,x,x,M.opacity)}if(d=="heal"){var S=Z.clone(m);Z.round(S,20);
var o=Z.p(k.r()*4);Z.PE(this.h$,this.BI,o,k);Z.h.OL(i,k,o,k,S,k,0,k,1,!1);Z.sO.eK(o,S,k);Z.h.OL(o,k,P,x,m,k,0,x,1,!1)}}else if(d=="dodge"||d=="burn"){var i=Z.p(x.r()*4),c=1,g=0,j=0,_=0;
Z.PE(K,A,i,x);var O=x.r()*4,t=r.Ef.dG;if(this.Ga){if(d=="dodge")d="burn";else d="dodge"}var U=M.rng;
if(d=="dodge"){g=[1-c/2,1,1+c][U];j=[1,1/(1+c),1][U];_=[c/2,0,0][U]}if(d=="burn"){g=[1/(1-c/2),1,1-c/2][U];
j=[1,1+c,1][U];_=[-(c/2)/(1-c/2),0,0][U]}for(var $=0;$<O;$+=4){var I=i[$+3];P[$+0]=t(P[$+0],g,j,_,I);
P[$+1]=t(P[$+1],g,j,_,I);P[$+2]=t(P[$+2],g,j,_,I)}}else if(d=="sponge"||d=="redeye"){var i=Z.p(x.r()*4),m=Z.p(x.r());
Z.PE(K,A,i,x);Z.$m(i,m,3);Z.tM(P,i);var E=M.smode;if(this.Ga)E=1-E;var b=eq.Kj("hue2");if(d=="sponge")Ph.gB(b,0,[0,[-50,46][E],[6,5][E]]);
else Ph.gB(b,1,{iK:[265,305,25,55],Rx:[0,-90,-70]});var z=QW.eh("hue2",b);QW.sg(z,i,i,x);Z.h.OL(i,x,P,x,m,x,0,x,1,!1)}else if(d=="copy")Z.PE(K,A,P,x);
else if(d=="sheal"){var i=Z.p(x.r()*4),m=Z.p(x.r());Z.PE(K,A,i,x);Z.$m(i,m,3);Z.BA.eK(this.h$,this.BI,m,P,x)}else if(d=="qselect"){var QS=this.BI,QQ=QS.t,Qe=QS.D,QB=QQ*Qe,QU=this.Zm.tR(),J=this.h$,Qt=r.wJ.dc,m=Qt.qc;
m.fill(128);for(var $=0;$<QB;$++){var F=QU[$<<2],L=QU[($<<2)+3];if(L==255&&(F==0||F==255))m[$]=F}m[0]=m[QQ-1]=0;
m[(Qe>>>1)*QQ]=m[(Qe>>>1)*QQ+QQ-1]=0;r.uM.JB(Qt,!0);p.P={rect:QS,channel:Qt.P.slice(0)};p.ye=!0}if(D==null)Z.PE(P,x,G.buffer,G.rect);
else r.Ef.dt(P,x,D)};r.Ef.dP=function(){return null};r.Ef.dG=function(p,d,K,A,x){var M=p*(1/255),G=A+d*Math.pow(M,K),D=Math.round(G*x+M*(255-x));
return Math.max(0,Math.min(255,D))};r.Ef.Xc=function(p,d,K,A,x){var M=Z.p(x.r());Z.set(M,K);Z.Qj(p,d,M,x);
Z.Pk(A,4278190080);Z.Bz(M,A)};r.Ef.dt=function(p,d,K){var A=Z.p(d.r());Z.gC(p,A);Z.Qj(A,d,K.channel,K.rect)};
r.wJ=function(p,d,K){r.IM.call(this,p,d,K);this.qi={sb:"front",EU:0,_F:{pz:0,x:3,y:2},CK:[10,!0,!0]};
this.gr=new QP(-1,-1);this.Pv=new QP(-1,-1);this.nU="default";this.td=null;this.tr=!1;this.Cc=!1;this.Ga=!1;
this.Cy=0;this.xm=0;this.Ne=!1;this.Vc=null;this.VJ=null;this.yD=!1};r.wJ.prototype=new r.IM;r.wJ.dc={key:""};
r.wJ.d$=function(p,d){var K={LG:p,Qz:{classID:"setd",null:{t:"obj ",v:[{t:"prop",v:{classID:"Chnl",keyID:"fsel"}}]}}};
if(d)K.Qz.T=d;return K};r.wJ.vS=function(p,d){return r.wJ.d$("set",{t:"Objc",v:{classID:p,Top:{t:"UntF",v:{type:"#Pxl",val:d.y}},Left:{t:"UntF",v:{type:"#Pxl",val:d.x}},Btom:{t:"UntF",v:{type:"#Pxl",val:d.y+d.D}},Rght:{t:"UntF",v:{type:"#Pxl",val:d.x+d.t}}}})};
r.wJ.Qa=function(p,d){var K=[],A=[],G="set";for(var x=0;x<p.length;x+=2){K.push(p[x]);A.push(p[x+1])}var M={t:"Objc",v:{classID:"Plgn",Pts:{t:"ObAr",v:{classID:"Pnt",arr:[{id:"Hrzn",type:"UnFl",uID:"#Pxl",arr:K},{id:"Vrtc",type:"UnFl",uID:"#Pxl",arr:A}]}}}};
if(d)G={front:"set",union:"addTo",difference:"subtractFrom",intersection:"interfaceWhite"}[d];return r.wJ.d$(G,M)};
r.wJ.eWB=function(p,d){var K={t:"Objc",v:{classID:"Pnt",Hrzn:{t:"UntF",v:{type:"#Pxl",val:p.x}},Vrtc:{t:"UntF",v:{type:"#Pxl",val:p.y}}}},A=r.wJ.d$("set",K);
A.Qz.Tlrn={t:"long",v:d[0]};A.Qz.AntA={t:"bool",v:d[1]};A.Qz.Cntg={t:"bool",v:d[2]};return A};r.wJ.Zu=function(p){return r.wJ.d$("set",{t:"enum",v:{Ordn:p?"Al":"None"}})};
r.wJ.eWu=function(p,d,K){var A={classID:"null"};if(p!="border")A.selectionModifyEffectAtCanvasBounds={t:"bool",v:K};
var x={e:"By",c:"By",b:"Wdth",f:"Rds",s:"Rds"}[p[0]];A[x]={t:"UntF",v:{type:"#Pxl",val:d}};return{LG:p,Qz:A}};
r.wJ.eSQ=function(p,d,K){var A={t:"obj ",v:[{t:"prop",v:{classID:"Chnl",keyID:"fsel"}}]},x={t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:["Trsp","Msk"][K]}},{t:"name",v:{classID:"Lyr",val:p}}]},M=[{classID:"null",null:A,T:x},{classID:"null",null:x,T:A},{classID:"null",null:x,From:A},{classID:"null",null:x,With:A}],G=["set","add","subtract","interfaceIconFrameDimmed"];
return{LG:G[d],Qz:M[d]}};r.wJ.epR=function(p,d){var K=new y(n.E.s,!0);K.data={j:n.H.aA,gD:Qn.eR};if(!d.nQ)p.n(K);
K.data={j:n.H.aA,gD:Qn.Jf};if(!d.mq.nK)p.n(K)};r.wJ.prototype.Ch=function(p,d,K,A,x){r.wJ.epR(d,x);this.td=d;
var M=p.j,G,D,P=new R(0,0,K.t,K.D),Qp=!1,QO,QE;if(M=="fromAction"){var a=p.Cs,e=a.LG,f=a.Qz,N=f?f.selectionModifyEffectAtCanvasBounds:null,Y=N&&N.v;
if(e=="inverse"){if(K.P==null){alert("No selection!");return}G={channel:Z.p(P.r()),rect:P};Z.Qj(K.P.channel,K.P.rect,G.channel,G.rect);
Z.an(G.channel);D=[7,2]}else if(e=="expand"){var l=f.By.v.val,h=K.P.rect.clone();h.WJ(l,l);var s=Z.p(h.r()),J=Z.p(h.r());
Z.Qj(K.P.channel,K.P.rect,J,h);Z.style.stroke(J,s,h,l);G={channel:s,rect:h};D=[7,4]}else if(e=="contract"){var l=f.By.v.val,u=K.P.rect.clone();
u.WJ(1,1);if(!Y)u=u.pk(P);var J=Z.p(u.r()),Q=Z.p(J.length);Z.Qj(K.P.channel,K.P.rect,J,u);Z.an(J);Z.style.stroke(J,Q,u,l);
Z.an(Q);G={channel:Q,rect:u};Z.bB(G);D=[7,5]}else if(e=="border"){var l=f.Wdth.v.val;G=r.wJ.eep(K.P,l/2,l/2);
D=[7,9]}else if(e=="feather"||e=="smoothness"){var l=f.Rds.v.val;G=r.wJ.eeM(K.P,l,e=="smoothness",P,Y);
D=e=="feather"?[7,6]:[19,3,0]}else{var W=f.null.v;function q(QC){var Qf=QC.Top.v.val,Qw=QC.Left.v.val;
return new R(Qw,Qf,QC.Rght.v.val-Qw,QC.Btom.v.val-Qf)}function H(QC){var Qf=QC[0].arr,QA=QC[1].arr,Qb={B:[],$:[]};
for(var QK=0;QK<Qf.length;QK++){Qb.$.push(QK==0?"M":"L");Qb.B.push(Qf[QK],QA[QK])}Qb.$.push("Z");return Qb}var C=["set","addTo","subtractFrom","interfaceWhite"].indexOf(e),k=f.T?f.T.v:null;
if(k&&k.classID=="Elps"){G=this.eGE(r.I$.eBI(q(k)));D=[10,4]}else if(k&&k.classID=="Rctn"){var i=q(k);
G={channel:Z.p(i.r()),rect:i.clone()};Z.set(G.channel,255);D=[10,15]}else if(k&&k.classID=="ObSl"){var i=q(k),m=r.wJ.dc,w=m.rect,S=m.qc,o=w.t,O=w.D,t=i.x-w.x,c=t+i.t-1,g=Math.max(t,Math.min(c,t+c>>>1)),j=i.y-w.y,_=j+i.D-1,U=Math.max(j,Math.min(_,j+_>>>1)),$=Math.max(t,0),I=Math.min(c,o),E=Math.max(j,0),b=Math.min(_,O);
S.fill(128);if(0<=j)for(var z=$;z<I;z++)S[j*o+z]=0;if(_<O)for(var z=$;z<I;z++)S[_*o+z]=0;if(0<=t)for(var QS=E;
QS<b;QS++)S[QS*o+t]=0;if(c<o)for(var QS=E;QS<b;QS++)S[QS*o+c]=0;var QQ=r.kI.eUC,Qe=Math.round(i.t*QQ),QB=Math.round(i.D*QQ);
for(var z=Math.max(0,g-Qe);z<Math.min(o,g+Qe);z++)S[U*o+z]=255;for(var QS=Math.max(0,U-QB);QS<Math.min(O,U+QB);
QS++)S[QS*o+g]=255;r.uM.JB(m,!0);G={channel:m.P.slice(0),rect:w.clone()};D=[10,44]}else if(k&&k.classID=="Plgn"){G=this.eGE(H(k.Pts.v.arr));
D=[10,9]}else if(k&&k.classID=="Pnt"){G=r.PW.eBz(K,new QP(k.Hrzn.v.val,k.Vrtc.v.val),[f.Tlrn.v,f.AntA==null||f.AntA.v,f.Cntg==null||f.Cntg.v]);
D=[10,12]}else if(k&&k.Ordn=="None"){G=null;D=[7,1]}else if(k&&k.Ordn=="Al"){G={channel:Z.p(P.r()),rect:P};
Z.set(G.channel,255);D=[7,0]}else{var QU=K.Y[0],Qu;if(W.length==2)QU=Pq.eG(K,W[1]);else if(k.length==2)QU=Pq.eG(K,k[1]);
var Qt=(k?k:W)[0].v.enum,F=["Trsp","Msk","vectorMask"].indexOf(Qt);console.log(F);var L=C!=-1?C:["set","add","subtract","interfaceIconFrameDimmed"].indexOf(e);
if(k&&k[0].t=="name"){for(var QK=0;QK<K.$O.length;QK++)if(K.$O[QK].name==k[0].v.val)QU=QK;Qu={j:"fromchannel",ZU:[-5-QU,0,L]}}else if(Qt=="RGB")Qu={j:"fromchannel",ZU:[-1,0,L]};
else Qu={j:"fromlayer",ZU:[QU,F,L]};this.Ch(Qu,d,K,A,x);return}if(f.Fthr)G=r.wJ.eeM(G,f.Fthr.v.val,!1);
if(e!="set"&&K.P!=null)G=Z.af.UY(G,K.P,["","union","difference","intersection"][C])}if(e=="expand"||e=="contract")if(!Y&&!P.contains(G.rect)){var Qm=G.rect.pk(P),ei=Z.p(Qm.r());
Z.Qj(G.channel,G.rect,ei,Qm);G.channel=ei;G.rect=Qm}}if(M=="qmask"){Qp=!0;var Qi=K.Eu(),QV=new R(0,0,K.t,K.D);
if(Qi){G=Qi.rect.GR(QV)&&Z.ix(Qi.channel,255)?null:{rect:Qi.rect.clone(),channel:Qi.channel.slice(0)};
QO=Qi}else{G=null;QE=new V.dK;QE.color=0;QE.name="Quick Mask";QE.hW=!0;if(K.P){QE.rect=K.P.rect.clone();
QE.channel=K.P.channel.slice(0)}else{QE.rect=QV;QE.channel=Z.p(QE.rect.r());Z.set(QE.channel,255)}}D=[6,6,1]}if(M=="setsel"){G=p.P;
D=p.hH}if(M=="crange"){var Q$=p.pV,eS=p.p$;G=r.wJ.ePI(K,Q$,eS,p.ql);D=[7,8];Q$={t:"Objc",v:{classID:"LbCl",Lmnc:{t:"doub",v:Q$.Gs},A:{t:"doub",v:Q$.V},B:{t:"doub",v:Q$.M}}};
eS={t:"Objc",v:{classID:"LbCl",Lmnc:{t:"doub",v:eS.Gs},A:{t:"doub",v:eS.V},B:{t:"doub",v:eS.M}}};this.track({LG:"colorRange",Qz:{__name:"Color Range",classID:"ClrR",Fzns:{t:"long",v:Math.round(p.ql*200)},Mnm:Q$,Mxm:eS,colorModel:{t:"long",v:0}}})}if(M=="fromlayer"||M=="fromchannel"||M=="frompath"){var Qs=p.ZU[0],F=p.ZU[1],C=p.ZU[2];
if(M=="fromlayer"){if(Qs==null)Qs=K.Y[0];var Qw=K.L[Qs];if(F==0){var Q_=Qw.rect,QN=Qw.buffer;if(Q_.kQ())return;
var eK=Z.p(QN.length>>>2);Z.$m(QN,eK,3);G={channel:eK,rect:Q_.clone()}}else{if(Qw.g==null)Qw.u_(K);var Qz=F==1?Qw.gW():Qw.g;
G=r.wJ.ePB(Qz,P)}this.track(r.wJ.eSQ(Qw.getName(),C,F))}else if(M=="frompath"){if(Qs==null){var eQ=K.zu(),Qd=eQ[1],eQ=eQ[0];
if(eQ.length==0)return;Qs=eQ[Qd[0]]._W}var Qj=Qs>=0?K.L[Qs]:K.uE[-1-Qs],Qz=Qj.add.vmsk.gW(),QD=Qz.rl();
if(QD.r()==0)return;var eK=Qz.qG(),Qq=K.wV.indexOf(-1-Qs);if(Qq!=-1)K.wV.splice(Qq,1);G={channel:eK,rect:QD}}else{if(Qs==null)Qs=r.wJ.eey(K);
G=r.wJ.eet(K,Qs)}if(C!=0&&K.P)G=Z.af.UY(G,K.P,["","union","difference","intersection"][C]);D=[14,11]}if(G!=null&&Z.ix(G.channel,0)){G=null;
D=[7,1]}if(G)Z.bB(G);var et=new QY(D,this);et.data={j:"changesel",ga:K.P,PD:G,Eu:Qp,eKI:QO,eKX:QE};K.Gn(et);
this.Qv(et.data,K)};r.wJ.eey=function(p){var d=0;if(p.Mv.length!=0)d=-5-p.Mv[0];else if(JSON.stringify(p.U.GU)=="[1,1,1]")d=-1;
else d=-2-p.U.GU.indexOf(1);return d};r.wJ.eet=function(p,d){var K,A=new R(0,0,p.t,p.D);if(-5<d&d<0){var x=-d-1,M=p.zi(),G=Z.p(A.r());
if(x==0)Z.gC(M,G);else Z.$m(M,G,x-1);K={channel:G,rect:A.clone()}}if(d<-4){K=r.wJ.ePB(p.$O[-d-5],A)}return K};
r.wJ.ePB=function(p,d){var K,A;if(p.iz()==0){A=p.rl();if(A.r()==0)return;K=p.qG()}else{A=d;K=Z.p(A.r());
p.eI(A,K)}return{channel:K,rect:A}};r.wJ.prototype.cQ=function(p){return this.Ne||p.Fj&&this.id!=r.kh};
r.wJ.prototype.oD=function(p,d,K){var A=new y(d,!0);A.data=K;p.n(A)};r.wJ.prototype.eGM=function(p,d){var K=new y(n.E.s,!0);
K.data={j:n.H.Nn,$B:d};p.n(K)};r.wJ.prototype.rl=function(p,d,K){d=p.P==null||this.Cy>1||this.xm>1?d:null;
var A=this.gr,x=this.Pv;if(K){A.x=Math.max(0,Math.min(p.t,A.x));A.y=Math.max(0,Math.min(p.D,A.y));x.x=Math.max(0,Math.min(p.t,x.x));
x.y=Math.max(0,Math.min(p.D,x.y))}var M=r.aa.vA(A,x,d,!0,this.qi._F),G=M[0].x,D=M[0].y;return new R(G,D,M[1].x-G,M[1].y-D)};
r.wJ.prototype.Fg=function(p,d,K,A,x){if(this.vG())return;this.td=d;this.tr=!1;this.Cc=A.Q(B.tS);this.Ga=A.Q(B.Od);
this.Cy=this.Cc?0:1;this.xm=this.Ga?0:1;this.gr=p.U.FT(x.x,x.y);this.gr=r.Zl.oe(p,this.gr,K);if(this.eB_(p,this.gr)){this.Ne=!0;
this.Vc=p.P.rect.clone();return}this.ro(p,K,A,x);p.U.yg=new R};r.wJ.prototype.eB_=function(p,d){if(p.P&&this.qi.sb=="front")return Z.uD(d,p.P.channel,p.P.rect);
return!1};r.wJ.prototype.Yh=function(p,d,K,A,x){this.td=d;if(this.yD)return;var M=p.U.FT(x.x,x.y);if(QP.gG(this.gr,M)*p.U.v>5)this.tr=!0;
if(A.Q(B.Rv)){if(this.VJ==null)this.VJ=new QP(M.x-this.gr.x,M.y-this.gr.y);this.gr.x=M.x-this.VJ.x;this.gr.y=M.y-this.VJ.y}else this.VJ=null;
this.Pv=M;if(!this.Ne)this.Pv=r.Zl.oe(p,this.Pv,K);if(this.eB_(p,this.Pv))this.eGM(d,"move");else this.eGM(d,this.nU);
if(this.Ne){var G=this.Vc.clone();G.x+=this.Pv.x-this.gr.x;G.y+=this.Pv.y-this.gr.y;var D=r.Zl.zo(p,G,K);
p.P.rect.x=Math.round(this.Pv.x-this.gr.x+this.Vc.x+D[0]);p.P.rect.y=Math.round(this.Pv.y-this.gr.y+this.Vc.y+D[1]);
p.ye=!0;r.Zl.zh(p,G,D);return}this.oB(p,K,A,x);if(p.U.yg)p.U.yg=this.rl(p,A)};r.wJ.prototype.vG=function(){return!1};
r.wJ.prototype.gi=function(p,d,K,A,x){p.U.yg=null;this.Pv=p.U.FT(x.x,x.y);this.Pv=r.Zl.oe(p,this.Pv,K);
if(this.Ne){this.Ne=!1;if(this.Pv.GR(this.gr)&&this.eG$()=="front"){this.oD(d,n.E.Iz,r.wJ.Zu());return}this.eeC(p,this.Vc,p.P.rect.clone());
if(p!=null&&p.K.ny){p.K.ny=null;p.nw=!0}return}this.zZ(p,K,A,x);r.wJ.epR(d,K)};r.wJ.prototype.eeC=function(p,d,K){var A=p.ED();
if(A!=null&&A.O==this&&A.data.j=="movesel"){}else{A=new QY([7,7],this);A.data={j:"movesel",W_:d};p.Gn(A)}A.data.NM=K;
this.Qv(A.data,p)};r.wJ.prototype.Dc=function(p,d,K,A,x){this.yD=!0};r.wJ.prototype.Tq=function(p,d,K,A,x){var M=new y(n.E.s,!0);
M.data={j:n.H.xV,O:this.id,np:x,cR:p,gn:K};d.n(M);this.yD=!1};r.wJ.prototype.AC=function(p,d,K,A){var x=A.Q(B.tS),M=A.Q(B.Od);
if(this.tr){if(this.Cy==0&&!x)this.Cy++;if(this.Cy==1&&x)this.Cy++;if(this.xm==0&&!M)this.xm++;if(this.xm==1&&M)this.xm++}if(p!=null&&p.P!=null){var G=A.RQ();
if(G.x!=0||G.y!=0){var D=p.P.rect.clone();D.x+=G.x;D.y+=G.y;this.eeC(p,p.P.rect.clone(),D)}}var P=r.wJ.vt(this.qi.sb,x,M),a=new y(n.E.s,!0);
a.data={j:n.H.xV,O:this.id,sb:P};d.n(a)};r.wJ.prototype.finish=function(p,d,K,A){var x=p.P,M=this.getSelection(p,d,K,A);
if(M==null)M=r.wJ.Zu();else{var G=this.qi.EU,D=this.eG$();if(G!=0)M.Qz.Fthr={t:"UntF",v:{type:"#Pxl",val:G}};
if(D!="front"&&D!="xor")M.LG={union:"addTo",difference:"subtractFrom",intersection:"interfaceWhite"}[D]}this.oD(this.td,n.E.Iz,M);
this.gr.pf(-1,-1);this.Pv.pf(-1,-1)};r.wJ.prototype.eG$=function(){return r.wJ.vt(this.qi.sb,this.Cc,this.Ga)};
r.wJ.vt=function(p,d,K){if(d)p="union";if(K)p="difference";if(d&&K)p="intersection";return p};r.wJ.prototype.getSelection=function(p,d,K,A){return null};
r.wJ.prototype.ro=function(p,d,K,A){};r.wJ.prototype.oB=function(p,d,K,A){};r.wJ.prototype.zZ=function(p,d,K,A){};
r.wJ.prototype.WY=function(p,d){var K=p.j;if(K=="changesel")d.P=p.ga;if(K=="movesel")d.P.rect=p.W_;if(p.Eu){if(p.eKI){d.Mv=[d.$O.length];
d.$O.push(p.eKI)}else{d.$O.pop();d.Mv=[]}}d.ye=!0};r.wJ.prototype.Qv=function(p,d){var K=p.j;if(K=="changesel")d.P=p.PD;
if(K=="movesel")d.P.rect=p.NM;if(p.Eu){if(p.eKX){d.Mv=[d.$O.length];d.$O.push(p.eKX)}else{d.$O.pop();
d.Mv=[]}}d.ye=!0};r.wJ.prototype.kz=function(p){this.qi=p};r.wJ.prototype.eGE=function(p){var d=Z._.rN(p.B);
if(d.kQ())return null;var K=n.b("canvas","");K.width=d.t;K.height=d.D;var A=K.getContext("2d");A.beginPath();
A.translate(-d.x,-d.y);Typr.U.pathToContext({cmds:p.$,crds:p.B},A);A.closePath();A.fill();var x=Z.p(d.r()),M=A.getImageData(0,0,K.width,K.height);
Z.$m(M.data,x,3);return{rect:d,channel:x}};r.wJ.eeM=function(p,d,K,A,x){if(K)d=Math.round(d*.7);var M=Math.ceil(2.6*d),G=p.rect.clone();
G.WJ(M,M);if(A&&!x)G=G.pk(A);var D=Z.p(G.r()),P=Z.p(D.length);Z.Qj(p.channel,p.rect,P,G);Z.blur.Zt(P,D,G,d);
if(K){var a=D.length;for(var e=0;e<a;e++){var f=(D[e]-128)*d*2.5;D[e]=Math.max(0,Math.min(255,Math.round(128+f)))}}return{channel:D,rect:G}};
r.wJ.eep=function(p,d,K){var A=Math.max(1,Math.ceil(K)),x=p.rect.clone();x.WJ(A,A);var M=x.r(),G={channel:Z.p(M),rect:x},D=Z.p(M);
Z.Qj(p.channel,p.rect,D,G.rect);if(K!=0)Z.style.stroke(D,G.channel,G.rect,K);else Z.tM(D,G.channel);
var P=Z.p(M);Z.an(D);if(d!=0)Z.style.stroke(D,P,G.rect,d);else Z.tM(D,P);Z.af.pk(G.channel,P,G.channel);
return G};r.wJ.ePI=function(p,d,K,A){var x=new R(0,0,p.t,p.D),M=p.zi();if(p.P){var G=p.P.rect.pk(x),D=Z.p(G.r()*4);
Z.PE(M,x,D,G);x=G;M=D}var P=x.r(),a=Z.p(P),e=1/A;for(var f=0;f<P;f++){var N=f<<2,Y=Z.Jt(M[N],M[N+1],M[N+2]),l=Z.fB(Y,d,K,A,e);
a[f]=255*l}return{rect:x,channel:a}};r.dD=function(){r.Ef.call(this,[10,18],r.QS,"tools/blur");this.$K="copy"};
r.dD.prototype=new r.Ef;r.dD.prototype.Fg=function(p,d,K,A,x){var M=A.Q(B.Od)?Qr.rs:Qr.QS;this.Fz(p,K,A,x,this.qi.strn,M);
if(this.Zm==null)return;this.fo(p)};r.dD.prototype.Yh=function(p,d,K,A,x){this._S(p,d,K);if(this.pM)this.$d(p,K,x);
if(this.Zm==null)return;if(!x.Fj)return;this._v(p,K,A,x);this.fo(p)};r.dg=function(){r.Ef.call(this,[10,0],r.hK,"tools/brush");
this.$K="draw"};r.dg.prototype=new r.Ef;r.dg.prototype.Fg=function(p,d,K,A,x){if(this.Dy(A,d,x))return;
this.Fz(p,K,A,x,this.qi.flow);if(this.Zm==null)return;this.fo(p)};r.dg.prototype.Yh=function(p,d,K,A,x){this._S(p,d,K);
if(this.pM)this.$d(p,K,x);if(this.Zm==null)return;if(!x.Fj)return;this._v(p,K,A,x);this.fo(p)};r.dZ=function(){r.Ef.call(this,[10,42],r.esC,"tools/crepl");
this.$K="idraw";this.qi.bmode="hue "};r.dZ.prototype=new r.Ef;r.dZ.prototype.Fg=function(p,d,K,A,x){if(this.Dy(A,d,x))return;
this.Fz(p,K,A,x,this.qi.flow);if(this.Zm==null)return;this.fo(p)};r.dZ.prototype.Yh=function(p,d,K,A,x){this._S(p,d,K);
if(this.pM)this.$d(p,K,x);if(this.Zm==null)return;if(!x.Fj)return;this._v(p,K,A,x);this.fo(p)};r.dy=function(){r.Ef.call(this,[10,43],r.eer,"tools/redeye");
this.qi.smode=0;this.$K="redeye"};r.dy.prototype=new r.Ef;r.dy.prototype.Fg=function(p,d,K,A,x){this.Fz(p,K,A,x,this.qi.flow);
if(this.Zm==null)return;this.fo(p)};r.dy.prototype.Yh=function(p,d,K,A,x){this._S(p,d,K);if(this.pM)this.$d(p,K,x);
if(this.Zm==null)return;if(!x.Fj)return;this._v(p,K,A,x);this.fo(p)};r.dk=function(){r.Ef.call(this,[10,38],r.DR,"tools/pencil");
this.$K="draw"};r.dk.prototype=new r.Ef;r.dk.prototype.Fg=function(p,d,K,A,x){if(this.Dy(A,d,x))return;
this.Fz(p,K,A,x,this.qi.flow);if(this.Zm==null)return;this.fo(p)};r.dk.prototype.Yh=function(p,d,K,A,x){this._S(p,d,K);
if(this.pM)this.$d(p,K,x);if(this.Zm==null)return;if(!x.Fj)return;this._v(p,K,A,x);this.fo(p)};r.AK=function(){r.Ef.call(this,[10,22],r.eGB,"tools/burn");
this.$K="burn"};r.AK.prototype=new r.Ef;r.AK.prototype.Fg=function(p,d,K,A,x){this.Fz(p,K,A,x,this.qi.expo/Math.E);
if(this.Zm==null)return;this.fo(p)};r.AK.prototype.Yh=function(p,d,K,A,x){this._S(p,d,K);if(this.pM)this.$d(p,K,x);
if(this.Zm==null)return;if(!x.Fj)return;this._v(p,K,A,x);this.fo(p)};r.kK=function(p,d,K){r.Ef.call(this,p==""?null:p?p:[10,1],d?d:r.zp,K?K:"tools/clone");
this.$K="clone";this.nu=null;this.J=null};r.kK.prototype=new r.Ef;r.kK.prototype.Fg=function(p,d,K,A,x){var M=this.qi,G=M.alt[0];
if(A.Q(B.Od)||A.Q(B.Ix)||G){this.nu=p.U.FT(x.x,x.y);this.J=null;if(G)this.QE({alt:[!1]},d);this.Rk(K,A,p,x);
return}if(this.nu==null){alert(Qc.get([15,7,0]));return}this.Rk(K,A);this.Fz(p,K,A,x,this.qi.flow);if(this.Zm==null)return;
this.J=this.e_t(p.U.FT(x.x,x.y));this.fo(p)};r.kK.prototype.e_t=function(p){var d=this.J;if(d==null||!this.qi.algnd)d=new QP(Math.round(p.x-this.nu.x),Math.round(p.y-this.nu.y));
return d};r.kK.prototype.Yh=function(p,d,K,A,x){this._S(p,d,K);if(this.pM)this.$d(p,K,x);if(this.Zm==null){if(this.nu!=null)this.Rk(K,A,p,x);
return}if(!x.Fj||this.nu==null)return;this._v(p,K,A,x);this.fo(p)};r.kK.prototype.dP=function(){return this.J};
r.kK.prototype.disable=function(p,d,K,A){this.nu=null;this.J=null};r.pO=function(p,d,K){r.IM.call(this,p,d,K);
this.x$={Qs:{pz:0,x:0,y:0}};this.Wq=null;this.cursor=null;this.emG=0;this.fc=null;this.gr=null;this.CF=null};
r.pO.prototype=new r.IM;r.pO.prototype.ZX=function(){return this.Wq!=null};r.pO.prototype.cQ=function(p){return this.Wq&&this.Wq.eBg()};
r.pO.prototype.Fg=function(p,d,K,A,x){this.fc=x;var M=p.U.FT(x.x,x.y);M.x=Math.round(M.x);M.y=Math.round(M.y);
var G=this.x$.Qs,D=G.pz!=0?G.x/G.y:null;if(this.Wq)this.Wq.Fg(p,K,A,M,D,!1);else this.gr=r.Zl.oe(p,M,K)};
r.pO.prototype.eMw=function(p,d){var K=[p.x,p.y,p.x+p.t,p.y,p.x+p.t,p.y+p.D,p.x,p.y+p.D];return new eL(K,!0,!1,this.id==r.Ha,!0,d,this.id==r.Ha?2:0)};
r.pO.prototype.Rk=function(p){var d=new y(n.E.s,!0);d.data={j:n.H.Nn,$B:this.cursor};p.n(d)};r.pO.prototype.enable=function(p,d,K,A){this.cursor="crosshair";
this.Rk(d);if(p!=null&&p.P){var x=this.x$.Qs={pz:0,x:0,y:0};this.oD(d,n.E.s,{j:n.H.xV,O:this.id,VC:!1,_F:x});
this.kz({Ed:"cropby",eun:3},d,p,A,K)}};r.pO.prototype.Yh=function(p,d,K,A,x){this.fc=x;var M=p.U.FT(x.x,x.y);
if(!x.Fj){var G="crosshair";if(this.Wq){var D=this.Wq.ae(M,p.U.v);if(D)G=D;else G="default"}if(G!=this.cursor){this.cursor=G;
this.Rk(d)}}if(this.Wq)this.Wq.Yh(p,K,A,M);else if(this.gr){var P=r.aa.vA(this.gr,r.Zl.oe(p,M,K),A,!0,this.x$.Qs),a=P[0].x,e=P[0].y,f=this.CF=new R(a,e,P[1].x-a,P[1].y-e);
p.K._H=Z._.MF(f);p.nw=!0;r.IM.tf(x.x+10,x.y-10,f,p,K)}};r.pO.prototype.gi=function(p,d,K,A,x){this.fc=x;
if(this.Wq==null){if(this.gr){var M=this.CF;if(M){var G=this.x$.Qs;this.Wq=this.eMw(M,G.pz!=0);this.Wq.bG(p,K);
this.CF=null;this.oD(d,n.E.s,{j:n.H.xV,O:this.id,VC:!0})}this.gr=null;p.K.nt=[];p.nw=!0}return}var D=p.U.FT(x.x,x.y);
this.Wq.gi(p,K,A,D);this.oD(d,n.E.s,{j:n.H.xV,O:this.id,VC:!0});var P=this.Wq.qh();if(Math.abs(P[0]-P[4])<2||Math.abs(P[1]-P[5])<2){this.disable(p,d,null,A);
return}if(Date.now()-this.emG<200&&this.Wq.Mi(D)){this.vM(p,K);this.disable(p,d,K,A);return}this.emG=Date.now()};
r.pO.prototype.AC=function(p,d,K,A){var x=this.Wq;if(x==null||this.fc&&this.fc.Fj)return;if(A.Q(B.ut)){this.vM(p,K);
this.disable(p,d,K,A)}else if(A.Q(B.qo)){this.disable(p,d,K,A)}else x.AC(p,K,A)};r.pO.vQ=function(p,d){if(d==null)d=[!0,!0,!0,!0];
var K={classID:"trim",trimBasedOn:{t:"enum",v:{trimBasedOn:["topLeftPixelColor","bottomRightPixelColor","Trns"][p]}}},A=["Top","Left","Btom","Rght"];
for(var x=0;x<4;x++)K[A[x]]={t:"bool",v:d[x]};return{LG:"trim",Qz:K}};r.pO.ePu=function(p,d,K,A){var x={classID:"null"};
if(A!=null){x.Wdth={t:"UntF",v:{type:"#Pxl",val:p}};x.Hght={t:"UntF",v:{type:"#Pxl",val:d}};x.Intr={t:"enum",v:{Intp:["Nrst","Blnr","bicubicSharper"][A]}}}if(K!=null)x.Rslt={t:"UntF",v:{type:"#Rsl",val:K}};
return{LG:"imageSize",Qz:x}};r.pO.eeH=function(p,d,K){if(K==null)K=4;var A=Math.floor(K/3),x=K%3;return{LG:"canvasSize",Qz:{classID:"null",Wdth:{t:"UntF",v:{type:"#Pxl",val:p}},Hght:{t:"UntF",v:{type:"#Pxl",val:d}},Hrzn:{t:"enum",v:{HrzL:["Left","Cntr","Rght"][x]}},Vrtc:{t:"enum",v:{VrtL:["Top","Cntr","Btom"][A]}}}}};
r.pO.prototype.Ch=function(p,d,K,A,x){var M=new R(0,0,K.t,K.D),G=[11,3],D=K.Bk,P=K.t/2,a=K.D/2,e=1,U,$;
if(p.j=="fromAction"){var f=p.Cs,N=f.LG,Y=f.Qz,l=K.t/K.D,h=Y.Wdth?Y.Wdth.v.val:-1,s=Y.Hght?Y.Hght.v.val:-1,D=Y.Rslt?Y.Rslt.v.val:null,J=Y.Wdth?Y.Wdth.v.type:Y.Hght?Y.Hght.v.type:-1,u=1,Q;
if(N=="imageSize"){if(Y.Intr){if(Y.Intr.v.Intp=="Nrst")u=0;if(Y.Intr.v.Intp=="bicubicSharper")u=2;if(h==-1&&s==-1){var W=D/K.Bk;
h=Math.round(K.t*W);s=Math.round(K.D*W)}else if(J=="#Prc"){if(h!=-1)h=Math.round(K.t*h/100);if(s!=-1)s=Math.round(K.D*s/100)}if(Y.CnsP&&Y.CnsP.v){if(h==-1)h=Math.round(s*l);
if(s==-1)s=Math.round(h/l)}}else{if(J=="#Prc")D=Math.round(K.Bk/((h!=-1?h:s)/100));else if(J==-1)D=Math.round(D);
else throw"e";h=K.t;s=K.D}Q={j:"imgsize",cp:h,cn:s,cB:D,Np:u}}else if(N=="canvasSize"){console.log(N,Y);
if(h==-1)h=K.t;if(s==-1)s=K.D;if(Y.Rltv&&Y.Rltv.v==!0){if(Y.Wdth)h+=K.t;if(Y.Hght)s+=K.D}var q=Y.Vrtc?Y.Vrtc.v.VrtL:"Cntr",H=Y.Hrzn?Y.Hrzn.v.HrzL:"Cntr";
Q={j:"canvsize",cp:h,cn:s,qL:3*["Top","Cntr","Btom"].indexOf(q)+["Left","Cntr","Rght"].indexOf(H)}}else if(N=="revealAll"){Q={j:"revealAll"}}else if(N=="trim"){var C={topLeftPixelColor:0,bottomRightPixelColor:1,Trns:2}[Y.trimBasedOn.v.trimBasedOn];
if(C==null)throw"e";var k=["Top","Left","Btom","Rght"],i=[!0,!0,!0,!0];for(var m=0;m<4;m++)if(Y[k[m]])i[m]=Y[k[m]].v;
Q={j:"trim",eIX:C,_F:i}}if(Q)this.Ch(Q,d,K,A,x);return}else if(p.j=="imgsize"){M=new R(0,0,p.cp,p.cn);
if(p.cB)D=p.cB;e=p.Np}else if(p.j=="canvsize"){var w=p.qL!=null?p.qL:0;M=new R(0,0,p.cp,p.cn);var S=K.t-p.cp,o=K.D-p.cn,O=Math.round(S/2),t=Math.round(o/2);
if(w==1||w==4||w==7)M.x=O;if(w==2||w==5||w==8)M.x=S;if(w==3||w==4||w==5)M.y=t;if(w==6||w==7||w==8)M.y=o;
if(p.J){M.x=p.J.x;M.y=p.J.y}}else if(p.j=="rot"&&(p.S+2*Math.PI)%(Math.PI/2)!=0){var c=Z._.MF(M).B,g=new QI;
g.translate(-P,-a);g.rotate(p.S);g.translate(P,a);Z._.u(c,g,c);M=Z._.rN(c)}else if(p.j=="rot"&&p.S!=Math.PI&&p.S!=-Math.PI){M=new R(P-K.D/2,a-K.t/2,K.D,K.t);
if((K.t+K.D&1)==1){P=Math.floor(P);a=Math.floor(a);M=new R(P-Math.floor(K.D/2),a-Math.floor(K.t/2),K.D,K.t);
if((K.t&1)==1&&p.S!=-Math.PI/2)M.y--;if((K.D&1)==1&&p.S==-Math.PI/2)M.x--}}else if(p.j=="trim"){G=[11,12,0];
var j=K.zi(),_=new R(0,0,K.t,K.D);M=Z.BZ(j,_,p.eIX,p._F);if(M.kQ())M=_}else if(p.j=="cropbysel"){G=[11,12,1];
M=K.P.rect.clone()}else if(p.j=="revealAll"){G=[11,12,2];M=K.root.rl(K,!0)}if(p.j=="imgsize"||p.j=="rot"||p.j=="scl"){var I=new QI;
if(p.j=="imgsize"){G=[11,10];I.scale(p.cp/K.t,p.cn/K.D)}else{I.translate(-P,-a);if(p.j=="rot")I.rotate(p.S);
if(p.j=="scl")I.scale(p.S.x,p.S.y);I.translate(P,a);G=p.hH}$=Z.c.H$(I);U=this.eBX(K,x,$,e)}var E=new R(0,0,K.t,K.D);
if(!M.kQ()&&(!M.GR(E)||U!=null)){var b=new QY(G,this);b.data={W_:E,NM:M,eHl:K.Bk,cB:D,nc:U,CL:$,cH:r.pO.eVB(K,M,E,U!=null)};
K.Gn(b);this.Qv(b.data,K)}};r.pO.eVB=function(p,d,K,A){if(p.ey.length==0)return null;var x=JSON.stringify(p.ey),M=JSON.parse(x);
r.GP.etn(M,d,K,A);M=JSON.stringify(M);return[x,M]};r.pO.prototype.eBX=function(p,d,K,A,x){var M={L:[],Ik:null,vf:null};
for(var G=0;G<p.L.length;G++)M.L.push(G);for(var G=0;G<p.uE.length;G++)M.L.push(-1-G);M.Ik=r.ge.M_(p,M.L,!0);
r.ge.EB(p,d,M.L,M.Ik,A,K,null,!0,x);M.vf=r.ge.M_(p,M.L,!0);return M};r.pO.prototype.Qv=function(p,d){if(p.cB)d.Bk=p.cB;
if(p.cH)d.ey=JSON.parse(p.cH[1]);if(p.nc){r.pO.eBR(d,Z.c.a_(p.CL));r.ge.MI(d,p.nc.L,p.nc.vf)}r.pO.Qo(d,p.NM)};
r.pO.prototype.WY=function(p,d){if(p.eHl)d.Bk=p.eHl;if(p.cH)d.ey=JSON.parse(p.cH[0]);var K=p.W_.clone();
K.offset(-p.NM.x,-p.NM.y);r.pO.Qo(d,K);if(p.nB)d.U.J.Yl(p.nB);d.eGn();if(p.nc){var A=Z.c.a_(p.CL).clone();
A.an();r.pO.eBR(d,A);r.ge.MI(d,p.nc.L,p.nc.Ik)}};r.pO.eBR=function(p,d){for(var K=0;K<p.L.length;K++){var A=p.L[K];
if(A.add.artb==null)continue;var x=Z._.MF(A.Rb()).B;Z._.u(x,d,x);var M=Z._.rN(x);A.Pw(M)}};r.pO.Qo=function(p,d){p.t=d.t;
p.D=d.D;var K=[];for(var A=0;A<p.L.length;A++)K.push(A);r.Zl.Ah(p,K,null,-d.x,-d.y);for(var A=0;A<p.L.length;
A++){p.L[A].u_(p)}p.eGn();p.U.J.pf(0,0);if(p.P)p.P.rect.offset(-d.x,-d.y);for(var A=0;A<p.$O.length;
A++)p.$O[A].rect.offset(-d.x,-d.y)};r.pO.prototype.kz=function(p,d,K,A,x){if(p.Ed=="commit"){this.vM(K,x);
this.disable(K,d,null,A)}else if(p.Ed=="cancel"){this.disable(K,d,null,A)}var M=null,G=this.x$.Qs;if(p.Ed=="config"){this.x$=p.x$;
G=this.x$.Qs;if(K==null)return;M=new R(0,0,K.t,K.D);if(G.pz==1){var D=G.x/G.y;M.D=Math.round(M.t/D)}if(G.pz==2){M.t=G.x;
M.D=G.y}M.x=Math.round((K.t-M.t)/2);M.y=Math.round((K.D-M.D)/2)}if(p.Ed=="cropby"){if(K==null)return;
var P=p.eun,M;if(P==0)M=K.root.rl(K,!0);if(P==1){if(K.Y.length==0)alert("No layer is selected.");else{var a=K.root.AX(K.Y[0]);
M=a.rl(K,!0)}}if(P==2){if(K.Y.length==0)alert("No layer is selected.");else{var e=K.L[K.Y[0]];M=Z.BZ(e.buffer,e.rect,0);
if(M.kQ())M=e.rect.clone()}}if(P==3){if(K.P!=null)M=K.P.rect;else alert("There is no selection.")}}if(M&&M.kQ())M=null;
if(M!=null){this.Wq=this.eMw(M,G.pz!=0);this.Wq.bG(K,x);this.oD(d,n.E.s,{j:n.H.xV,O:this.id,VC:!0})}};
r.pO.prototype.vM=function(p,d){var K=this.Wq.qh(),A=Z._.rN(K),x=this.eSn(p,K),M=!1,G=this.x$.Qs,D=G.x,P=G.y,f;
if(this.id==r.RJ&&G.pz==2&&x.r()!=D*P){x=new R(x.x,x.y,D,P);M=!0}var a=Z.c.cg(K,x);a=Z.c.an(a);var e=Z.c.hv(a),N=Math.atan2(a[3],a[0]);
if(Math.abs(N)>1e-9||!e||M)f=this.eBX(p,d,a,1,A);var Y=new QY(this.name,this),l=new R(0,0,p.t,p.D);Y.data={W_:l,NM:x,nc:f,CL:a,nB:p.U.J.clone(),cH:r.pO.eVB(p,x,l,!1)};
p.Gn(Y);this.Qv(Y.data,p)};r.pO.prototype.eSn=function(p,d){var K=Z.c.cg(d),A=Z.c.hv(K),x=Z.c.a_(K),M=x.ol,G=x.lF,D=Math.atan2(x.M,x.V);
x.rotate(D);var P=new R(M,G,x.V,x.Wb);if(!A){function a(Q,W,q){var H=Q[W]-Q[q],C=Q[W+1]-Q[q+1];return Math.sqrt(H*H+C*C)}var e=a(d,0,2),f=a(d,4,6),N=Math.max(e,f),Y=a(d,2,4),l=a(d,6,0),h=Math.max(Y,l),s=r.pO.eS$(d,p.t/2,p.D/2),J,u;
if(isNaN(s)||s==Infinity||s==-Infinity||Math.min(s,1/s)<.1)s=(e+f)/(Y+l);if(N/h>s){J=N*1;u=J/s}else{u=h*1;
J=u*s}P.t=J;P.D=u}P.x=Math.round(P.x);P.y=Math.round(P.y);P.t=Math.round(P.t);P.D=Math.round(P.D);return P};
r.pO.eS$=function(p,d,K){var A=p[0]-d,x=p[1]-K,M=p[2]-d,G=p[3]-K,D=p[6]-d,P=p[7]-K,a=p[4]-d,e=p[5]-K,f=((x-e)*D-(A-a)*P+A*e-x*a)/((G-e)*D-(M-a)*P+M*e-G*a),N=((x-e)*M-(A-a)*G+A*e-x*a)/((P-e)*M-(D-a)*G+D*e-P*a),Y=-((N*P-x)*(f*G-x)+(N*D-A)*(f*M-A))/((N-1)*(f-1));
function l(s){return s*s}var h=Math.sqrt((l(f-1)+l(f*G-x)/Y+l(f*M-A)/Y)/(l(N-1)+l(N*P-x)/Y+l(N*D-A)/Y));
if(f==1&&N==1)h=Math.sqrt((l(G-x)+l(M-A))/(l(P-x)+l(D-A)));return h};r.pO.prototype.disable=function(p,d,K,A){if(p==null)return;
if(this.Wq)this.Wq.clear(p);this.Wq=null;this.oD(d,n.E.s,{j:n.H.xV,O:this.id,VC:!1})};r.pO.prototype.oD=function(p,d,K,A){var x=new y(d,!0);
x.data=K;if(A)x.O=A;p.n(x)};r.ePA=function(){r.pO.call(this,[10,2],r.RJ,"tools/rcrop")};r.ePA.prototype=new r.pO;
r.eeA=function(){r.pO.call(this,[10,39],r.Ha,"tools/pcrop")};r.eeA.prototype=new r.pO;r.Am=function(){r.Ef.call(this,[10,21],r.eeg,"tools/dodge");
this.$K="dodge"};r.Am.prototype=new r.Ef;r.Am.prototype.Fg=function(p,d,K,A,x){this.Fz(p,K,A,x,this.qi.expo/Math.PI);
if(this.Zm==null)return;this.fo(p)};r.Am.prototype.Yh=function(p,d,K,A,x){this._S(p,d,K);if(this.pM)this.$d(p,K,x);
if(this.Zm==null)return;if(!x.Fj)return;this._v(p,K,A,x);this.fo(p)};r.Av=function(){r.Ef.call(this,[10,3],r.tT,"tools/eraser");
this.$K="erase"};r.Av.prototype=new r.Ef;r.Av.prototype.Fg=function(p,d,K,A,x){this.Fz(p,K,A,x,this.qi.flow);
if(this.Zm==null)return;this.fo(p)};r.Av.prototype.Yh=function(p,d,K,A,x){this._S(p,d,K);if(this.pM)this.$d(p,K,x);
if(this.Zm==null)return;if(!x.Fj)return;var M=this._v(p,K,A,x);this.fo(p)};r.A$=function(){r.Ef.call(this,[10,45],r.eoB,"tools/beraser");
this.$K="ierase"};r.A$.prototype=new r.Ef;r.A$.prototype.Fg=function(p,d,K,A,x){if(this.Dy(A,d,x))return;
this.Fz(p,K,A,x,this.qi.flow);if(this.Zm==null)return;this.fo(p)};r.A$.prototype.Yh=function(p,d,K,A,x){this._S(p,d,K);
if(this.pM)this.$d(p,K,x);if(this.Zm==null)return;if(!x.Fj)return;this._v(p,K,A,x);this.fo(p)};r.QW=function(){r.wJ.call(this,[10,15],r.$$,"tools/rselect");
this.nU="crosshair"};r.QW.prototype=new r.wJ;r.QW.prototype.oB=function(p,d,K,A){if(!A.Fj||!this.tr)return;
var x=this.rl(p,K,!0);p.K._H=Z._.MF(x);p.nw=!0;r.IM.tf(A.x+10,A.y-10,x,p,d)};r.QW.prototype.zZ=function(p,d,K,A){p.K._H=null;
p.K.nt=[];p.nw=!0;this.finish(p,d,K,A)};r.QW.prototype.getSelection=function(p,d,K,A){if(this.gr.GR(this.Pv)||!this.tr)return null;
var x=this.rl(p,K,!0);if(x.kQ())return null;return r.wJ.vS("Rctn",x)};r.I$=function(){r.wJ.call(this,[10,4],r.ehr,"tools/eselect");
this.nU="crosshair"};r.I$.prototype=new r.wJ;r.I$.prototype.oB=function(p,d,K,A){if(!A.Fj||!this.tr)return;
var x=this.rl(p,K);p.K._H=r.I$.eBI(x);p.nw=!0;r.IM.tf(A.x+10,A.y-10,x,p,d)};r.I$.prototype.zZ=function(p,d,K,A){p.K._H=null;
p.K.nt=[];p.nw=!0;this.finish(p,d,K,A)};r.I$.prototype.getSelection=function(p,d,K,A){if(this.gr.GR(this.Pv)||!this.tr)return null;
var x=this.rl(p,K);if(!x.Xs(new R(0,0,p.t,p.D)))return null;return r.wJ.vS("Elps",x)};r.I$.eBI=function(p){var d=p.x,K=p.y,A=p.x+p.t,x=p.y+p.D,M=(d+A)/2,G=(K+x)/2,D=(d-A)/2,P=(K-x)/2,a=.5522848,e={B:[M,G-P],$:["M","C","C","C","C"]};
e.B.push(M+a*D,G-P,M+D,G-a*P,M+D,G);e.B.push(M+D,G+a*P,M+a*D,G+P,M,G+P);e.B.push(M-a*D,G+P,M-D,G+a*P,M-D,G);
e.B.push(M-D,G-a*P,M-a*D,G-P,M,G-P);return e};r.Ib=function(){r.IM.call(this,[10,5],r.eeZ,"tools/eyedropper");
this.Ci=!1;this.yC=1};r.Ib.prototype=new r.IM;r.Ib.prototype.cQ=function(p){return p.Fj};r.Ib.prototype.Ch=function(p,d,K,A,x){if(p.j=="pickhere")this.vm(K,d,x,A,p.eqx)};
r.Ib.prototype.Fg=function(p,d,K,A,x){this.Ci=!0;this.vm(p,d,K,A,x)};r.Ib.prototype.Yh=function(p,d,K,A,x){if(this.Ci)this.vm(p,d,K,A,x)};
r.Ib.prototype.gi=function(p,d,K,A,x){this.Ci=!1};r.Ib.prototype.vm=function(p,d,K,A,x){var M=r.Ib.QD(p,x,this.yC),G=new y(n.E.s);
G.data={j:n.H.aA,gD:Qn.Py,hE:0,S:M};d.n(G)};r.Ib.QD=function(p,d,K){var A=p.U.FT(d.x,d.y),x=Math.floor(A.x),M=Math.floor(A.y),G=(K-1)/2,D=Math.max(0,x-G),P=Math.max(0,M-G),a=Math.min(p.t,x+G+1),e=Math.min(p.D,M+G+1),f=(a-D)*(e-P),N=p.zi(),Y=0,l=0,h=0;
for(var x=D;x<a;x++)for(var M=P;M<e;M++){var s=4*(M*p.t+x);Y+=N[s];l+=N[s+1];h+=N[s+2]}Y=Math.round(Y/f);
l=Math.round(l/f);h=Math.round(h/f);return Y<<16|l<<8|h};r.Ib.prototype.kz=function(p){this.yC=p.yC};
r.hT=function(){r.IM.call(this,[10,6],r.eoq,"tools/gradient");this.qi={k:JSON.parse(QG.gR.eOJ).v,gF:"Lnr",nI:!1,eve:!1,ev_:"norm",Xo:1};
this.gz=!1;this.zL=null};r.hT.prototype=new r.IM;r.hT.prototype.enable=function(p,d,K,A){var x=new y(n.E.s,!0);
x.data={j:n.H.Nn,$B:"default"};d.n(x)};r.hT.prototype.kz=function(p){this.qi=p.gD};r.hT.prototype.Fg=function(p,d,K,A,x){if(!p.ux())return;
this.zL=p.U.FT(x.x,x.y);this.zL=r.Zl.oe(p,this.zL,K);this.gz=!0};r.hT.prototype.Yh=function(p,d,K,A,x){if(!this.gz)return;
var M=p.U.FT(x.x,x.y);M=r.Zl.oe(p,M,K);if(A.Q(B.tS))M=r.hT.kw(this.zL,M);p.K._H={B:[this.zL.x,this.zL.y,M.x,M.y],$:["M","L"]};
p.K.dd=[this.zL.x,this.zL.y,M.x,M.y];p.nw=!0};r.hT.prototype.gi=function(p,d,K,A,x){if(!this.gz)return;
var M=p.L[p.Y[0]],G=p.U.FT(x.x,x.y);G=r.Zl.oe(p,G,K);if(A.Q(B.tS))G=r.hT.kw(this.zL,G);var D=G.TS(this.zL),P=QP.Us(this.zL,G,.5),a=Math.atan2(D.y,D.x),e=QP.gG(this.zL,G),f=Math.sin(a),N=Math.cos(a);
if(e>2){var Y;if(p.P)Y=p.P.rect;else Y=new R(0,0,p.t,p.D);var l=Z.p(Y.r()*4),h=this.qi,s=h.gF;if(s!="Lnr"){e*=2;
P=this.zL}Z.k.kg(h.k,l,Y,[N*1/e,f*1/e,-f*1/e,N*1/e],P.x,P.y,h.nI,QG.k.types.indexOf(s),K.ou,K.Le,null,h.eve);
var J=Math.round(h.Xo*256),u=l.length;if(J!=256)for(var Q=0;Q<u;Q+=4)l[Q+3]=l[Q+3]*J>>>8;var W=new y(n.E.q);
W.O=r.tT;W.data={j:"fillBMP",lo:l,vN:h.ev_,hH:this.name};d.n(W)}p.K._H=null;p.K.dd=[];p.nw=!0;this.gz=!1};
r.hT.kw=function(p,d){if(p.GR(d))return p;var K=d.x-p.x,A=d.y-p.y,x=Math.abs(K),M=Math.abs(A);if(x>M)M=x/2>M?0:x;
if(M>x)x=M/2>x?0:M;x=K>0?x:-x;M=A>0?M:-M;var G=Math.sqrt(K*K+A*A)/Math.sqrt(x*x+M*M);return new QP(p.x+x*G,p.y+M*G)};
r.hT.XN=function(p,d,K,A,x,M,G){if(G==null)G=n.b("canvas","");var D=G.getContext("2d");G.width=d;G.height=K;
var P=new R(0,0,d,K),a=Z.p(d*K*4);Z.Tf(a,d,K,4,0,0);var e=Math.sin(A),f=Math.cos(A),N=Z.p(d*K*4);Z.k.kg(p,N,P,[f*1/d,e*1/d,-e*1/K,f*1/K],d/2,K/2,!1,0,x,M);
Z.h.gQ("norm",N,P,a,P,P,1);var Y=D.getImageData(0,0,d,K);Z.tM(a,Y.data);D.putImageData(Y,0,0);return G.toDataURL()};
r.hT.eSi=function(p,d,K){var A=JSON.parse(JSON.stringify(p));for(var x=0;x<A.Clrs.v.length;x++){var M=A.Clrs.v[x].v,G=M.Type.v.Clry;
if(G=="UsrS")continue;var D=G=="FrgC"?d:K;M.Type.v.Clry="UsrS";M.Clr={t:"Objc",v:Z.k.wI({N:D>>16&255,w:D>>8&255,M:D&255})}}return A};
r.Zj=function(){r.IM.call(this,[10,7],r.zF,"tools/hand");this.Cq=new QP(0,0);this.Co=new QP(0,0)};r.Zj.prototype=new r.IM;
r.Zj.prototype.Ch=function(p,d,K,A,x){var M=p.j;if(M=="setcls"){K.U.GU=p.GU;K.nw=!0}if(M=="scroll"&&!A.Q(B.Od)){if(A.Q(B.DV))r.Zj.A_(K,K.U.J.x-p.n$.y,K.U.J.y-p.n$.x);
else r.Zj.A_(K,K.U.J.x-p.n$.x,K.U.J.y-p.n$.y)}};r.Zj.prototype.enable=function(p,d,K,A){var x=new y(n.E.s,!0);
x.data={j:n.H.Nn,$B:"grab"};d.n(x)};r.Zj.prototype.Fg=function(p,d,K,A,x){this.Co.Yl(p.U.J);this.Cq.pf(x.x,x.y)};
r.Zj.prototype.Yh=function(p,d,K,A,x){if(!x.Fj)return;r.Zj.A_(p,this.Co.x+(x.x-this.Cq.x),this.Co.y+(x.y-this.Cq.y))};
r.Zj.A_=function(p,d,K){var A=p.U.v;if(p.t*A<p.U.W.t&&p.D*A<p.U.W.D)p.U.J.pf(0,0);else{p.U.J.x=d;p.U.J.y=K}p.TH=!0};
r.vv=function(){r.kK.call(this,[10,25],r.jM,"tools/hbrush")};r.vv.prototype=new r.kK("");r.vv.prototype.gi=function(p,d,K,A,x){if(this.Zm==null)return;
this.Xp(p,"heal",this.Zm.tR(),this.Zm.rl(),this.Zm.sy());this.i(p,this.Zm.sy());r.Ef.prototype.gi.call(this,p,d,K,A,x);
if(!this.qi.algnd)this.J=null};r.EN=function(){r.IM.call(this,[10,8],r.jY,"tools/htype");this.ng=[];
this._b=null;this.gn=null;this.caller=null;this.evC=0;this.cE=0;this.Cd=null;this.eEU=null;this.CJ=null;
this._a=null;this.yZ=null;this.nb=null;this.OM=null;this.eEV=null;this.nR=null;this.Wq=null;this.hA=!1;
this.rr=!1;this.tl=!1;this.yb=null;this.ev=null;this.ewh=null;this.CN=!1;this.N$=!1;this.LB=-1;this.Bs=-1;
this.tE=document.createElement("textarea");this.tE.setAttribute("style","font-family:Arial; font-size:14px; z-index:-1;  position:absolute; top:0px; left:0px;  pointer-events: none; opacity:0; user-select:none; width:200px; height:150px;");
this.tE.addEventListener("input",this.eem.bind(this),!1);this.tE.addEventListener("keydown",this.eea.bind(this),!1)};
r.EN.prototype=new r.IM;r.EN.prototype.cQ=function(p){return p.Fj};r.EN.prototype.lT=function(p,d,K,A){if(this._a!=null)return;
this.caller=d;this._b=p;var x=this.eev(p);if(x.length!=0){var M=null,G=[],D=[];for(var P=0;P<x.length;
P++){var a=p.L[x[P]],e=a.add.TySh,f=0,N=QM.WD(e.Nf).length-2,Y=QM.fy(e.Nf,f,N);QM.FF(Y,r.ge.st(e.u));
if(Y.K$.Font!=null)Y.K$.Font=Y.CV[Y.K$.Font].Name;M=Y.CV;G.push(Y.K$);D.push(Y.hw)}var Y={CV:M,K$:QM.HN(G),hw:QM.HN(D)};
if(Y.K$.Font)QM.xz(Y,Y.K$.Font);this.Cd=JSON.stringify(Y);this.eGw(d,Y)}};r.EN.prototype.eev=function(p){var d=[];
for(var K=0;K<p.Y.length;K++)if(p.L[p.Y[K]].add.TySh)d.push(p.Y[K]);return d};r.EN.prototype.Ch=function(p,d,K,A,x){if(this._a!=null){var M=this.N$;
if(p.j=="warp"||p.j=="warpCancel"){if(p.j=="warp")this._a.add.TySh._u=p.Fl;else this._a.add.TySh._u=this.eEV;
var K=this._b;this.IF(K,x);if(!M)this.IL(K)}if(p.j!="warp")this.tE.focus();if((p.j=="warpConfirm"||p.j=="warpCancel")&&M){this.N$=!1;
if(p.j=="warpConfirm")this.xC(K,d);else this.Zy(K,d)}}if(p.j=="editCurr"){if(this._a!=null)this.disable(K,d,x,A);
this._b=K;this.gn=x;this.caller=d;this.Aa(K,d,x,[p.nW]);var G=QM.WD(this._a.add.TySh.Nf);this.LB=0;this.Bs=G.length-1;
this.IL(K);this.Qg();this.tE.focus()}if(p.j=="switchPntPrgr"){var D=K.L[K.Y[0]],P=D.add.TySh,a=P.u.st(),e=JSON.parse(JSON.stringify(P.Nf)),f=QM.EE(e),N=f==1?QM.xa(e):[0,0,Math.round(D.rect.t*1.05/a),Math.round(D.rect.D*1.25/a)],Y=QM.fy(e,0,0),l=[0,N[2],N[2]/2][Y.hw.Justification%3],h=Y.K$.FontSize*.8;
QM.aP(e,1-f);if(f==0){l=-l;h=-h;QM.wv(e,[0,0,N[2],N[3]])}var s=new QI(1,0,0,1,l,h);s.concat(P.u);p={OB:K.Y[0],j:"newED",Cg:e,u:s}}if(p.j=="newED"){var D=K.L[p.OB],P=D.add.TySh,J=this.Ai(K,[p.OB]);
P.Nf=p.Cg;if(p.u)P.u=p.u;var u=new MB(P.Nf,x.ET),Q=Mq.ZM(u,P);D.rect=Q.m;D.buffer=Q.nM;D.i();K.i();var W=new QY(this.name,this);
W.data={MC:J,CZ:this.Ai(K,[p.OB])};K.Gn(W)}};r.EN.prototype.gJ=function(p){return this.ng.indexOf(p)!=-1};
r.EN.prototype.enable=function(p,d,K,A){var x=this.tE;if(!n.Or(x))d.G.appendChild(x);this.nR="default";
this.Rk(d)};r.EN.prototype.ZX=function(){return this._a!=null};r.EN.prototype.ePR=function(p,d){for(var K=p.L.length-1;
K>=0;K--){var A=p.L[K];if(A.add.TySh&&A.rect.Bf(d)&&p.eOn(K)){var x=A.uF(2)||A.uF(31);return x?-2:K}}return-1};
r.EN.prototype.Fg=function(p,d,K,A,x){this._b=p;this.gn=K;this.caller=d;var M=p.U.FT(x.x,x.y),G=this._a==null;
if(G){var D=this.ePR(p,M);if(D==-2){alert(Qc.get([6,57,0]));return}if(D>=0)this.Aa(p,d,K,[D]);else{this.tl=!0;
this.yb=x;return}}if(this.Wq&&this.Wq.Fg(p,K,A,M)&&Z.Fl.Ab(this._a.add.TySh._u)||!G&&Z._.kV(M,this._a.rect)>20/p.U.v&&QM.EE(this._a.add.TySh.Nf)==0){this.hA=!0;
this.ev=M;this.ewh=this._a.add.TySh.u.clone();if(this.LB==-1&&this.Bs==-1)this.LB=this.Bs=this.vV(M)}else{this.rr=!0;
this.LB=this.Bs=this.vV(M);var P=Date.now();if(P-this.evC>300)this.cE=0;this.cE++;this.evC=P;if(this.cE==2)this.eSA();
if(this.cE==3)this.eeK();if(this.cE>1){this.rr=!1;this.Qg()}}this.IL(p)};r.EN.prototype.Aa=function(p,d,K,A){var x=p.L[A[0]];
this._a=x;this.oD(d,n.E.s,{j:n.H.xV,O:this.id,Ed:"showactive"});this.yZ=A;p.Y=A.slice(0);p.$a();p.NA=!0;
this.OM=this.Ai(p,A);this.eeT(x.add.TySh);this.IF(p,K)};r.EN.prototype.eeT=function(p){if(QM.EE(p.Nf)!=1)return;
var d=QM.xa(p.Nf);d=new R(0,0,d[2]-d[0],d[3]-d[1]);var K=[d.x,d.y,d.x+d.t,d.y,d.x+d.t,d.y+d.D,d.x,d.y+d.D];
Z._.u(K,p.u,K);this.Wq=new eL(K,!1,!1,!1,!0)};r.EN.prototype.eSA=function(){var p=QM.WD(this._a.add.TySh.Nf);
this.LB=this.eUe(p,this.LB);this.Bs=this.eUW(p,this.LB)};r.EN.prototype.eUe=function(p,d){var K=" \t\n,.?!_-+=@#$%^&*'\"(){}[]\\/<>:;|",A=[];
for(var x=0;x<K.length;x++)A.push(K.charAt(x));var M=A.indexOf(p[d])==-1?!0:!1;for(var x=d-1;x>=0;x--)if(A.indexOf(p.charAt(x))!=-1==M)return x+1;
return 0};r.EN.prototype.eUW=function(p,d){var K=" \t\n,.?!_-+=@#$%^&*'\"(){}[]\\/<>:;|",A=[];for(var x=0;
x<K.length;x++)A.push(K.charAt(x));var M=A.indexOf(p[d])==-1?!0:!1;for(var x=d+1;x<p.length;x++)if(A.indexOf(p.charAt(x))!=-1==M)return x;
return p.length-1};r.EN.prototype.eeK=function(){var p=this.nb.eEw(this.LB);this.LB=p[0];this.Bs=p[1]};
r.EN.prototype.Rk=function(p){var d=new y(n.E.s,!0);d.data={j:n.H.Nn,$B:this.nR};p.n(d)};r.EN.prototype.Yh=function(p,d,K,A,x){var M=p.U.FT(x.x,x.y),G=this._a;
if(!x.Fj){var D="default";if(this.Wq&&Z.Fl.Ab(G.add.TySh._u)){var P=this.Wq.ae(M,p.U.v);if(P)D=P;else if(this.Wq.Mi(M))D="text"}else if(G&&Z._.kV(M,G.rect)>20/p.U.v)D="move";
else if(this.ePR(p,M)>=0)D="text";if(D!=this.nR){this.nR=D;this.Rk(d)}}if(this.tl&&QP.gG(this.yb,x)>4){this.tl=!1;
this.ePn(p,d,K,A,x);G=this._a;this.hA=!0;this.Wq=new eL(null,!1,!1,!1,!0);var a=p.U.FT(this.yb.x,this.yb.y);
a.x=Math.round(a.x);a.y=Math.round(a.y);this.Wq.Fg(p,K,A,a)}if(this.hA){var e=G.add.TySh;if(this.Wq){this.Wq.Yh(p,K,A,M);
var f=e.u.clone(),N=Math.atan2(f.M,f.V);f.rotate(N);var Y=Z.c.a_(Z.c.cg(this.Wq.qh())),l=Math.atan2(Y.M,Y.V);
Y.rotate(l);if(!isNaN(Y.V)&&Y.V*Y.Wb-Y.M*Y.$H!=0){var h=new R(0,0,Y.V/f.V,Y.Wb/f.Wb),s=Math.round(h.t),J=Math.round(h.D),u=e.Nf.Curve;
if(u){var Q=QM.xa(e.Nf),W=new QI(s/Q[2],0,0,J/Q[3],0,0);Z._.u(u.Points,W,u.Points);QM._l(e)}QM.wv(e.Nf,[0,0,s,J]);
e.u=Z.c.a_(Z.c.cg(this.Wq.qh(),h));this.IF(p,K);QM._l(e)}}else{var q=M.x-this.ev.x,H=M.y-this.ev.y;e.u=this.ewh.clone();
var C=new QP(e.u.ol+q,e.u.lF+H);C=r.Zl.oe(p,C,K);e.u.ol=C.x;e.u.lF=C.y;this.IF(p,K)}}if(this.rr)this.Bs=this.vV(M);
if(this.hA||this.rr)this.IL(p)};r.EN.prototype.ePn=function(p,d,K,A,x){var M=p.zu(),G=M[0],D=M[1],P=p.sP();
P.add.lnsr="rend";var a=p.L.slice(0);P.Hv("Text layer "+a.length);this._a=P;var e=p.Y.length==0?p.L.length-1:p.Y[p.Y.length-1],f=e+1;
if(a[e].add.lsct==ew.rK)f--;this.OM={ZB:a.slice(0),ga:p.Y.slice(0)};a.splice(f,0,P);p.Y=[f];this.LB=this.Bs=0;
p.Wz(a);this.OM.uv=a.slice(0);this.OM.PD=p.Y.slice(0);this.oD(d,n.E.s,{j:n.H.xV,O:this.id,Ed:"showactive"});
var N=p.U.FT(x.x,x.y);P.add.TySh=QM.av(N.x,N.y,K.uW);var Y=P.add.TySh,l=Y.Nf;if(x.Fj)QM.aP(l,1);else{QM.aP(l,0);
var h=G[D.pop()],s=h?h.add.vmsk:null;if(s){s=s.clone();var J=s.Z,W,q;for(var u=0;u<J.length;u++)if(J[u].Ez!=null)J[u].Ez=0;
var Q=4*n.F()/p.U.v;W=Z.e.uD(s.Z,N,!0,Q);if(W._W==-1)W=Z.e.uD(s.Z,N);if(W._W!=-1){QM.aP(l,1);var H=Z.e._e(J,W._W),C=Z.e.Kw(J,W._W)-1;
J=s.Z=J.slice(0,2).concat(J.slice(H,H+C+1));s.Y=[];Y.add={vmsk:s,vogk:V.oK(J)};l.Curve={};QM.Uy(Y);if(W.wz!=null){var k=MB.rA(l.Curve);
Z._.u(k[0],Y.u,k[0]);var i=Z._.sM(k[0],N.x,N.y),m=K.uW.hw.Justification;if(m==2||m==5){var w=(k[2][i]+k[3]*.5)%k[3];
i=MB.FK(w,k[2])}var S=k[1][i];S=S%C;s.K_=[S,S];QM.Uy(Y)}else this.eeT(Y)}}}return P};r.EN.prototype.gi=function(p,d,K,A,x){var M=p.U.FT(x.x,x.y);
if(this.tl){this.tl=!1;this.ePn(p,d,K,A,x);this.rr=!0}if(this.hA||this.rr){this.IL(p);this.Qg()}if(this.hA&&this.Wq)this.Wq.gi(p,K,A,M);
this.hA=this.rr=!1;this.tE.focus()};r.EN.prototype.Qg=function(){var p=this._a.add.TySh,d=Math.min(this.LB,this.Bs),K=Math.max(this.LB,this.Bs),A,x;
if(d==K){var M=QM.WD(p.Nf);if(d==0||M.charAt(d-1)=="\n")A=x=d;else A=x=d-1}else{A=d;x=K-1}var G=QM.fy(p.Nf,A,x);
QM.FF(G,r.ge.st(p.u));this.eGw(this.caller,G)};r.EN.prototype.eGw=function(p,d){this.oD(p,n.E.s,{j:n.H.aA,gD:Qn.ar,uW:d})};
r.EN.prototype.AC=function(p,d,K,A){if(A.Q(B.qo))this.Zy(p,d)};r.EN.prototype.disable=function(p,d,K,A){var x=this._a;
if(x&&QM.WD(x.add.TySh.Nf)!="\n")this.xC(p,d);else this.Zy(p,d)};r.EN.prototype.kz=function(p,d,K,A,x){if(this.N$)return;
if(p.Ed=="commit")this.xC(K,d);if(p.Ed=="cancel")this.Zy(K,d);if(p.Ed=="showwarp"){if(K==null)return;
if(this._a==null){var M=K.L[K.Y[0]],G=M.add.TySh;if(G==null)return;this.Aa(K,d,x,[K.Y[0]]);this.tE.focus();
this.N$=!0}this.eEV=this._a.add.TySh._u;var D=new y(n.E.s,!0);D.data={j:n.H.Ae,$u:"textwarp"};d.n(D)}};
r.EN.prototype.Ei=function(p,d){this.gn=p;var K=this._b;if(K==null)return;if(d!=Qn.ff&&d!=Qn.ar&&d!=Qn.ec)return;
if(this.CN){this.CN=!1;var A=this.yZ;for(var x=0;x<A.length;x++){this._a=K.L[A[x]];this.IF(K,p)}this.xC(K,this.caller);
return}if(this._a==null){var M=JSON.stringify(p.uW),G=!1;if(this.Cd==M){return}this.Cd=M;var A=this.eev(K);
if(A.length!=0){this.Aa(K,this.caller,p,A);for(var x=0;x<A.length;x++){var D=K.L[A[x]],P=D.add.TySh;
this._a=D;var a=QM.WD(P.Nf);this.LB=0;this.Bs=a.length-1;QM.gh(P.Nf,this.LB,this.Bs,this.vE(p,P));var e=this.IF(K,p);
if(e==!1)G=!0}if(G){this.CN=!0;return}this.xC(K,this.caller)}return}var f=Math.min(this.LB,this.Bs),N=Math.max(this.LB,this.Bs),P=this._a.add.TySh;
QM.gh(P.Nf,f,N-1,this.vE(p,P));var K=this._b,e=this.IF(K,p);if(e)this.IL(K);if(document.activeElement.tagName.toLowerCase()!="input")this.tE.focus()};
r.EN.prototype.vE=function(p,d){var K=JSON.parse(JSON.stringify(p.uW));QM.FF(K,1/r.ge.st(d.u));return K};
r.EN.prototype.Qv=function(p,d){if(p.MC!=null)this.vw(d,p.CZ);else this.e_y(d,p.uv,p.PD)};r.EN.prototype.WY=function(p,d){if(p.MC!=null)this.vw(d,p.MC);
else this.e_y(d,p.ZB,p.ga)};r.EN.prototype.vw=function(p,d){for(var K=0;K<d.length;K++){var A=d[K],x=A.OB,M=p.L[x];
M.buffer=A.Qd;M.rect=A.m.clone();M.i();var G=M.add.TySh;G._u=A.Fl;G.MB=A.MB.clone();G.u=A.u.clone();
G.Nf=JSON.parse(JSON.stringify(A.Nf));M.cy()}p.i()};r.EN.prototype.Ai=function(p,d){var K=[];for(var A=0;
A<d.length;A++){var x=d[A],M=p.L[x],G=M.add.TySh;K.push({OB:x,u:G.u.clone(),Fl:JSON.parse(JSON.stringify(G._u)),MB:G.MB.clone(),Nf:JSON.parse(JSON.stringify(G.Nf)),Qd:Z.clone(M.buffer),m:M.rect.clone()})}return K};
r.EN.prototype.e_y=function(p,d,K){p.Y=K;p.Wz(d);p.i()};r.EN.prototype.IF=function(p,d,K){if(K==null)K=!1;
var A=this._a.add.TySh;if(!Mq.Ur(A,d.ET))return!1;this.nb=new MB(A.Nf,d.ET);if(!K){var x=QM.WD(A.Nf);
this.tE.value=x.slice(0,x.length-1)}var M=Mq.ZM(this.nb,A);if(Z.Fl.Ab(A._u))A.MB=new R;else{if(QM.EE(A.Nf)==1){var G=QM.xa(A.Nf),D=M.MB.y;
A.MB=new R(0,D,G[2]-G[0],G[3]-G[1]-D)}else{A.MB=M.MB}}var P=this._a.rect;this._a.rect=M.m;this._a.buffer=M.nM;
this._a.i();p.ao();p.i(p.root.$_(M.m.ck(P),p,p.L.indexOf(this._a)));return!0};r.EN.prototype.eem=function(p){if(this._a==null||this.N$)return;
var d=this.tE.selectionStart,K=this._a.add.TySh,A=QM.WD(K.Nf),x=this.tE.value+"\n",M=Math.min(this.LB,this.Bs),G=Math.max(this.LB,this.Bs),f=!1;
this.LB=Math.min(d,M);if(x.length-d<A.length-this.Bs)this.Bs=A.length-x.length+d;if(A!=x){while(this.LB>0&&A.charAt(this.LB-1)!=x.charAt(this.LB-1))this.LB--}var D=A.substring(0,this.LB),P=A.substring(this.Bs,A.length),a=x.substring(this.LB,x.length-P.length);
QM.F$(K.Nf,this.LB,this.Bs);QM.bN(K.Nf,this.LB,a);var e=this.vE(this.gn,K),N=-1;for(var Y=0;Y<a.length;
Y++)N=Math.max(N,a.charCodeAt(Y));if(N!=-1&&N>128&&e.K$.Font!=null){var l=e.CV[e.K$.Font].Name,h=this.gn.ET.yn(N,l,e.CV);
if(l!=h){QM.xz(e,h);f=!0}}if(this.CJ!=null&&a==this.CJ){var s=JSON.parse(this.eEU);e.K$=s.K$;e.CV=s.CV;
f=!0}QM.gh(K.Nf,this.LB,this.LB+a.length-1,e);this.LB=this.Bs=D.length+a.length;var J=this._b,u=this.IF(J,this.gn,!0);
if(u)this.IL(J,!0);if(f)this.Qg()};r.EN.prototype.eea=function(p){if(this._a==null||this.N$)return;if(this._a==null)return;
var d=B,K=0,A=0,J=!1;if(d.ov(p.code,d.eSm))K=1;if(d.ov(p.code,d.eFo))K=-1;if(d.ov(p.code,d.nG))A=-1;
if(d.ov(p.code,d.nm))A=1;var x=p.ctrlKey||p.metaKey,M=d.ov(p.code,B.epw),G=d.ov(p.code,B.epV);if(d.ov(p.code,B.ut)&&x){this.xC(this._b,this.caller);
return}if(d.ov(p.code,B.C$)){p.preventDefault();var D=this.tE,P=D.value,a=D.selectionStart,e=D.selectionEnd;
D.value=P.substring(0,a)+"\t"+P.substring(e);D.selectionStart=D.selectionEnd=a+1;this.eem(null);return}if((d.ov(p.code,d.ap)||d.ov(p.code,d.Cx))&&x){var f=this.LB,N=this.Bs;
if(f>N){var Y=f;f=N;N=Y}var l=this._a.add.TySh,h=QM.WD(l.Nf);if(f!=N){this.CJ=h.slice(f,N);this.eEU=JSON.stringify(this.gn.uW)}}var s=QM.WD(this._a.add.TySh.Nf);
if(K!=0||A!=0||M||G){p.preventDefault();var u=this.LB;if(K!=0){if(x&&K==-1)u=this.eUe(s,this.LB-1);else if(x&&K==1)u=this.eUW(s,this.LB);
else u=this.LB+K}else if(A!=0){var Q=this.nb.rJ(this.LB);if(A==-1&&Q.fe==0)u=0;else if(A==1&&Q.fe==this.nb.evf()-1)u=99999999999;
else u=this.nb.eBY(new QP(Q.m.x+Q.m.t/2,0),Q.fe+A)}else if(M){var W=this.LB-1;while(W>0&&s.charCodeAt(W)!=10)W--;
u=W==0?0:W+1}else if(G){var W=this.LB;while(W<s.length-1&&s.charCodeAt(W)!=10)W++;u=W}u=Math.max(0,Math.min(s.length-1,u));
if(p.shiftKey)this.LB=u;else this.LB=this.Bs=u;J=!0}if(d.ov(p.code,B.H)&&x){this.LB=0;this.Bs=s.length-1;
J=!0}if(J){this.Qg();this.IL(this._b)}};r.EN.ees=function(p,d){var K=p.length;if(K!=d.length)return!1;
for(var A=0;A<K;A++)if(p[A].OB!=d[A].OB)return!1;return!0};r.EN.prototype.xC=function(p,d){if(this._a==null)return;
this._a.cy();var K=this.OM;if(K instanceof Array){var A=this.Ai(p,this.yZ),x=p.ED();if(x!=null&&x.O==this&&x.data.MC&&r.EN.ees(x.data.MC,K))x.data.CZ=A;
else{var M=new QY(this.name,this);M.data={MC:K,CZ:A};p.Gn(M)}}else{var M=new QY(this.name,this);M.data={ZB:K.ZB,uv:K.uv,ga:K.ga,PD:K.PD};
p.Gn(M)}this.escape(p,d)};r.EN.prototype.Zy=function(p,d){if(this._a==null)return;if(this.OM instanceof Array){this.vw(p,this.OM);
if(this._a)QM._l(this._a.add.TySh)}else{p.Y=this.OM.ga;p.Wz(this.OM.ZB)}p.i();this.escape(p,d)};r.EN.prototype.escape=function(p,d){this._a=null;
this.yZ=null;this.nb=null;this.Wq=null;this.tE.blur();p.K._H=null;p.K.ty=null;p.K.dd=[];p.nw=!0;this.hA=!1;
this.rr=!1;this.LB=this.Bs=-1;this.oD(d,n.E.s,{j:n.H.xV,O:this.id,Ed:"hideactive"})};r.EN.prototype.oD=function(p,d,K,A){var x=new y(d,!0);
x.data=K;if(A)x.O=A;p.n(x)};r.EN.prototype.vV=function(p){var d=this._a.add.TySh,K=this.nb,A=d.u.clone();
A.an();var x=A.zK(p),M=QM.rl(d,K),G=Z.Fl.aJ(d._u,M),D=Z.tO.T.Tm(G,0,1,0,1),P=new Uint32Array(30),a=Z.tO.T.emk(D.Ho,D.lx,x.x,x.y,P),e=Z.tO.uD(G,x.x,x.y,D.Ho,P,a,!1),f=Z.tO.hO;
if(f==null)f=new Float64Array(2);x=new QP(M.x+f[0]*M.t,M.y+f[1]*M.D);var N=K.eBY(x);return N};r.EN.prototype.IL=function(p,d){if(d==null)d=!1;
var K=this._a.add.TySh,A=QM.EE(K.Nf),x=this.nb,M=x?QM.rl(K,x):null;p.K.dd=[];p.K._H=null;p.K.ty=null;
if(this.Wq){this.Wq.bG(p,this.gn,!Z.Fl.Ab(K._u));var G=K.u.clone();G.an();Z._.u(p.K.dd,G,p.K.dd);Z._.u(p.K._H.B,G,p.K._H.B);
if(x&&x.evl()){var D=M.t-20,P=M.D+8;p.K._H.B.push(D,P,D+10,P,D+5,P-5,D+5,P+5);p.K._H.$.push("M","L","M","L")}}else if(A==0)this.ePY(p,K,x);
else p.K._H={B:[],$:[]};var a=Math.min(this.LB,this.Bs),e=Math.max(this.LB,this.Bs);if(!d){this.tE.selectionStart=a;
this.tE.selectionEnd=e}if(x!=null){var f=function(W,q){var H=W.x,C=W.y+W.D,k=new QI;k.translate(-H,-C);
k.rotate(-q);k.translate(H,C);W.y+=W.D*.27;var u=Z._.MF(W);Z._.u(u.B,k,u.B);return u};if(a==e){a=Math.max(a,0);
var N=x.rJ(a);if(N){var Y=N.m,l=this.gn.uW.K$.FontSize;if(l!=null&&l!=0){Y.y+=Y.D-l;Y.D=l}var h=x.eEn(a);
if(h!=null&&h.Ok==1)Y.x+=Y.t;var s=f(Y,N.nx).B;p.K._H.$.push("M","L");p.K._H.B.push(s[0],s[1],s[6],s[7])}}else{p.K.ty={B:[],$:[]};
for(var J=a;J<e;J++){var N=x.rJ(J),u=f(N.m,N.nx);Z._.concat(p.K.ty,u)}}}if(x!=null){if(!M.kQ()){var Q=Z.Fl.aJ(K._u,M);
if(p.K._H){p.K._H=Z._.e$(p.K._H);p.K._H=Z._.eL(p.K._H,Math.min(M.t,M.D)/10);Z.tO.apply(Q,p.K._H.B,M)}if(p.K.ty){p.K.ty=Z._.e$(p.K.ty);
p.K.ty=Z._.eL(p.K.ty,Math.min(M.t,M.D)/10);Z.tO.apply(Q,p.K.ty.B,M)}Z.tO.apply(Q,p.K.dd,M)}}if(p.K._H)Z._.u(p.K._H.B,K.u,p.K._H.B);
if(p.K.ty)Z._.u(p.K.ty.B,K.u,p.K.ty.B);Z._.u(p.K.dd,K.u,p.K.dd);p.nw=!0};r.EN.prototype.ePY=function(p,d,K){if(K==null)return;
p.K.dd.push(0,0);if(p.K._H==null)p.K._H={$:[],B:[]};for(var A=0;A<K.hw.length;A++){var x=K.hw[A];for(var M=0;
M<x.od.length;M++){var G=x.od[M],D=x.oE.x+G.oE.x+G.m.x,P=x.oE.y+G.oE.y+G.m.y+G.m.D;p.K._H.$.push("M","L");
p.K._H.B.push(D,P,D+G.m.t,P)}}p.nw=!0};r.LY=function(){r.wJ.call(this,[10,9],r.kh,"tools/lasso");this.nU="crosshair";
this.Ew=null;this.GS=null;this.ev=null};r.LY.prototype=new r.wJ;r.LY.prototype.ro=function(p,d,K,A){this.Ew=this.gr;
this.GS={B:[this.Ew.x,this.Ew.y],$:["M"]}};r.LY.prototype.oB=function(p,d,K,A){this.ev=A;var x=this.GS;
if(x==null)return;if(!A.Fj){if(this.GS!=null&&this.xm>1&&K.Q(B.Od)){x.B.pop();x.B.pop();x.B.push(this.Pv.x,this.Pv.y);
p.K._H=x;p.nw=!0}return}x.$.push("L");x.B.push(this.Pv.x,this.Pv.y);this.Ew=this.Pv;if(this.tr){p.K._H=x;
p.nw=!0}};r.LY.prototype.ZX=function(){return this.GS!=null};r.LY.prototype.vG=function(){return this.GS!=null};
r.LY.prototype.AC=function(p,d,K,A){r.wJ.prototype.AC.call(this,p,d,K,A);if(this.GS&&this.xm>1&&this.ev&&!this.ev.Fj&&!A.Q(B.Od))this.ePm(p,K,A)};
r.LY.prototype.zZ=function(p,d,K,A){this.ev=A;var x=this.GS;if(x==null)return;if(this.xm>1&&K.Q(B.Od)){x.$.push("L");
x.B.push(this.Pv.x,this.Pv.y);return}this.ePm(p,d,K)};r.LY.prototype.ePm=function(p,d,K){this.finish(p,d,K,this.ev);
this.GS=null;p.K._H=null;p.nw=!0};r.LY.prototype.getSelection=function(p,d,K,A){if(this.gr.GR(this.Pv)||!this.tr)return null;
return r.wJ.Qa(this.GS.B)};r.Zl=function(){r.IM.call(this,[10,11],r.cz,"tools/move");this.cw=new QP(0,0);
this.cc=new QP(0,0);this.zg=null;this.na=null;this.QI=new QP(0,0);this.ag=null;this.hG=null;this.td=null;
this.WI=null;this.hZ=[];this.xq=null;this.gz=!1;this.j=0;this.Cr=null;this.UV=null;this.cI=null;this.fn=!1;
this.qi={NY:!1,gv:!1,EZ:!1};this.Wq=null;this.c_=null;this.ewx=null;var p=[];for(var d=0;d<Z.ZG.eW.length;
d++)p.push({name:Z.ZG.eW[d],C:function(K,A,x){return{qq:A.mq.aX==x}}});this.ic=new p_(p);this.ic.R("select",this.v$,this)};
r.Zl.prototype=new r.IM;r.IM.prototype.cQ=function(p){return this.gz&&this.j!=2};r.Zl.prototype.Zs=function(){return this.gz&&this.j==0};
r.Zl.prototype.rc=function(p,d,K,A){this.Mt(p,-this.QI.x,-this.QI.y);this.QI.pf(0,0);this.Mn(p,null,K);
this.vJ(p)};r.Zl.prototype.DL=function(){var p=this.qi;return[p.NY?1:0,p.gv?1:0,p.EZ?1:0]};r.Zl.prototype.gL=function(p,d,K){var A=this.qi;
if(p&&p[0]!=null)A.NY=p[0]==1;if(p&&p[1]!=null)A.gv=p[1]==1;if(p&&p[2]!=null)A.EZ=p[2]==1;var x=new y(n.E.s,!0);
x.data={j:n.H.xV,O:this.id,cq:A,ehQ:d};K.n(x)};r.Zl.eGv=function(p,d,K,A,x,M,G){if(G==null)G=[!1,!0];
var D=new R(0,0,p.t,p.D),P=p.AP(null,x,!0),a=p.eVz(P,G[0]?D:null,G[1]?null:D)[0];if(K!=1){var e=new R(0,0,Math.round(a.t*K),Math.round(a.D*K));
r.pO.Qo(a,e);var f=[];for(var N=0;N<a.L.length;N++)f.push(N);var Y=r.ge.M_(a,f,!0);r.ge.EB(a,A,f,Y,1,Z.c.H$(new QI(K,0,0,K,0,0)),null,!0);
a.gm()}var l=[];for(var N=0;N<d.length;N++)l.push(QH.Tr(a,d[N].toUpperCase(),null,null,M?M[N]:null,A));
return l};r.Zl.prototype.eef=function(p,d,K,A,x){if(p==null||p.Y.length==0)return;var M=r.Zl.eGv(p,[d],K,A,null)[0],G=new y(n.E.s,!0);
G.data={j:n.H.KW,data:M,name:p.L[p.Y[0]].getName()+"."+d};x.n(G)};r.Zl.prototype.kz=function(p,d,K,A,x){if(p.hE=="getPNG"){this.eef(K,"png",p.ewT,x,d)}else if(p.hE=="getSVG"){this.eef(K,"svg",p.ewT,x,d)}if(p.hE=="prms"){this.qi=p;
this.vJ(K)}};r.Zl.ePj=function(p){var d=p.length,A=0;p.sort(function(D,P){return D[0]+D[1]/2-(P[0]+P[1]/2)});
var K=p[d-1][0]+p[d-1][1]-p[0][0];for(var x=0;x<d;x++)A+=p[x][1];var M=Math.round((K-A)/(d-1)),G=p[0][0];
for(var x=0;x<d;x++){p[x][0]=G;G+=p[x][1]+M}};r.Zl.prototype.Ch=function(p,d,K,A,x){var M=p.j;if(M=="trsl"){var G=Math.round(p.e$V),D=Math.round(p.eFQ);
this.QI.pf(G,D);this.Aq(K,d,A,x,!1,p.o);this.Mt(K,G,D);this.Mn(K,null,x)}else if(M=="gids"||M=="gidsFromLayer"){var P=p.UV,a,e;
if(P==null)P=JSON.parse(JSON.stringify(K.tu));if(M=="gids"){a=p.dz;var f=P[0].length+P[1].length,N=a[0].length+a[1].length;
e=f==N?[23,2]:f>N?[23,3]:[23,4];if(N==0)e=[11,15,0]}else if(M=="gidsFromLayer"){var Y=[[],[]];for(var l=0;
l<K.Y.length;l++){var h=K.L[K.Y[l]].rect;if(h.kQ())continue;Y[0].push(h.x,h.x+h.t);Y[1].push(h.y,h.y+h.D)}e=[11,15,1];
a=JSON.parse(JSON.stringify(K.tu));r.Zl.vc(a,Y)}if(JSON.stringify(P)==JSON.stringify(a))return;var M=new QY(e,this);
M.data={j:2,UV:P,dz:a};K.Gn(M);this.Qv(M.data,K)}else if(M=="algn"){var s=p.S;if(K==null)return;if(K.Y.length<2&&!(K.P!=null&&s!=3&&s!=7)){alert(Qc.get([15,7,5]));
return}var J=K.P;K.P=null;var h=J?J.rect:r.ge.rl(K);this.Aq(K,d,A,x,!1);if(!this.gz)return;var u=this.WI,Q={},W=[],q=[],H=[];
for(var l=0;l<u.length;l++){var C=u[l];while(K.L[C].getName()=="</Layer group>")C++;var k=K.root.AX(C),i=k;
while(k.parent!=null){k=k.parent;if(u.indexOf(k.index)!=-1)i=k}var m=q.indexOf(i.index);if(m==-1){m=q.length;
q.push(i.index)}W[l]=m}var w=[],S=[],o=[];for(var l=0;l<q.length;l++){var O=r.ge.rl(K,K.AP(!0,q[l]));
o.push(O);var t=s==3?[O.y,O.D]:[O.x,O.t];w[l]=t;S.push(t)}r.Zl.ePj(S);for(var l=0;l<q.length;l++){var O=o[l],c=O.x,g=O.y;
if(s==0)c=h.x;if(s==1)c=h.x+(h.t-O.t)/2;if(s==2)c=h.x+(h.t-O.t);if(s==3)g=w[l][0];if(s==4)g=h.y;if(s==5)g=h.y+(h.D-O.D)/2;
if(s==6)g=h.y+(h.D-O.D);if(s==7)c=w[l][0];H.push(Math.round(c-O.x),Math.round(g-O.y))}var j=[];for(var l=0;
l<u.length;l++){var _=W[l];j[2*l]=H[2*_];j[2*l+1]=H[2*_+1]}this.Mt(K,0,0,null,j);var U=s==3||s==7?[20,4,6]:[20,4,s<3?s:s-1];
this.Mn(K,null,x,j,U);K.P=J}};r.Zl.vc=function(p,d){for(var K=0;K<d.length;K++)for(var A=0;A<d[K].length;
A++)if(p[K].indexOf(d[K][A])==-1)p[K].push(d[K][A])};r.Zl.prototype.enable=function(p,d,K,A,x){this.hG=K;
this.td=d;this.fn=x?!0:!1;this.vJ(p);this.Rk("default",d)};r.Zl.prototype.disable=function(p,d,K,A){this.eGp(p)};
r.Zl.prototype.eGp=function(p){if(p==null)return;if(this.Wq){this.Wq.clear(p);this.Wq=null}if(p.K.EZ){p.K.EZ=null;
p.nw=!0}if(p.K.ny){p.K.ny=null;p.nw=!0}if(p.K.gZ[this.id]){delete p.K.gZ[this.id];p.nw=!0}if(p.K.nt.length!=0){p.K.nt=[];
p.nw=!0}};r.Zl.prototype.lT=function(p,d,K,A){this.vJ(p)};r.Zl.prototype.vJ=function(p,d){if(p==null)return;
var K=this.qi;this.eGp(p);if(!this.fn){var A;if(K.gv||K.EZ)A=Z._.ND(r.ge.rl(p));if(K.gv&&!A.kQ()){this.Wq=new eL([A.x,A.y,A.x+A.t,A.y,A.x+A.t,A.y+A.D,A.x,A.y+A.D],!0);
this.Wq.bG(p,this.hG)}if(K.EZ){var x=p.euX(p.Y[0]),e=null,f=!1;if(x==null)x=new R(0,0,p.t,p.D);p.K.EZ={XA:[A],yO:[]};
var M=p.K.EZ.yO,G=A.x+A.t,D=A.y+A.D,P=A.x+Math.floor(A.t/2),a=A.y+Math.floor(A.D/2);if(d){var N=p.root.uD(new QP(Math.floor(d.x),Math.floor(d.y)));
if(N){e=Z._.ND(N.o.RC(p));if(e.Xs(A)){f=(e.iV(A)||A.iV(e))&&!A.GR(e);if(!f)e=null}}}this.enI(A,M);if(e!=null){p.K.EZ.XA.push(e);
var Y=e.x+e.t,l=e.y+e.D,h=e.x+Math.floor(e.t/2),s=e.y+Math.floor(e.D/2);if(f){var J=P,u=a;if(A.iV(e)){J=h;
u=s}M.push(A.x,u,e.x,u);M.push(G,u,Y,u);M.push(J,A.y,J,e.y);M.push(J,D,J,l)}else{this.enI(e,M);var Q=D<e.y||l<A.y,W=G<e.x||Y<A.x;
if(G<e.x)M.push(G,a,e.x,a);if(Y<A.x)M.push(Y,a,A.x,a);if(D<e.y)M.push(P,D,P,e.y);if(l<A.y)M.push(P,l,P,A.y);
if(Q&&!W){if(A.x<e.x)M.push(A.x,s,e.x,s);if(e.x<A.x)M.push(e.x,a,A.x,a)}}}else{if(A.y>x.y)M.push(P,x.y,P,A.y);
if(D<x.y+x.D)M.push(P,D,P,x.y+x.D);if(A.x>x.x)M.push(x.x,a,A.x,a);if(G<x.x+x.t)M.push(G,a,x.x+x.t,a)}p.nw=!0}}if(this.j==2&&this.gz){var q=this.WI,H=q[0],C=(H==0?"X":"Y")+": "+Z.ZG.bQ(p.tu[H][q[1]],p.Bk,this.hG,H==0?p.t:p.D,!0);
r.IM.br(Math.round(this.zg.x)+10,Math.round(this.zg.y)-10,[C],p);p.nw=!0}if(this.j==3&&this.gz){var k=Z._.MF(this.Cr);
p.K.gZ[this.id]={_H:k};p.nw=!0}};r.Zl.prototype.enI=function(p,d){var K=p.t,A=p.D,x=p.x+Math.floor(K*.2),M=p.y+Math.floor(A*.2);
d.push(x,p.y,x,p.y+A);d.push(p.x,M,p.x+K,M)};r.Zl.prototype.Rk=function(p,d){var K={j:n.H.Nn,$B:p},A=new y(n.E.s,!0);
A.data=K;d.n(A)};r.Zl.prototype.dQ=function(p){var d=this.c_.iC()[0],K=this.ag,A=this.ewx[d];this.eeB(K,A)};
r.Zl.prototype.v$=function(p){var d=JSON.parse(JSON.stringify(this.hG.mq));d.aX=this.ic.iC()[0];var K=new y(n.E.s,!0);
K.data={j:n.H.aA,gD:Qn.pF,dx:d};this.td.n(K)};r.Zl.prototype.Tq=function(p,d,K,A,x){if(this.gz)this.gi(p,d,K,A,x);
this.ag=p;this.hG=K;this.td=d;var M=p.U.FT(x.x,x.y),G;if(r.Zl.vF(K,x)){G=this.ic}else{if(this.c_)this.c_.removeEventListener("select",this.dQ);
var D=[];p.root.uD(M,D);if(D.length==0)return;var P=[];this.ewx=D;for(var a=0;a<D.length;a++)P.push({name:p.L[D[a]].getName()});
G=this.c_=new p_(P);G.R("select",this.dQ,this)}G.parent=d;G.l();G.update(p,K);var e=new y(n.E.s,!0);
e.data={j:n.H.uO,Fy:G,x:x.XW+2,y:x.hq+1};d.n(e)};r.Zl.prototype.gu=function(p,d,K,A,x){return r.Zl.vF(K,x)};
r.Zl.prototype.Fg=function(p,d,K,A,x){this.zg=x;this.cw.pf(x.x,x.y);this.cc=p.U.FT(x.x,x.y);this.na=new Bx(this.cc);
this.Aq(p,d,A,K,!0)};r.Zl.vF=function(p,d){return p.qa&&(0<d.x&&d.x<Z.ZG.gt||0<d.y&&d.y<Z.ZG.gt)};r.Zl.prototype.Aq=function(p,d,K,A,x,M){var G,D=this.cc,P=!1;
if(x){var a=A.nQ&&A.mq.tu;if(r.Zl.vF(A,this.cw)){G=JSON.parse(JSON.stringify(p.tu));if(this.cw.x<Z.ZG.gt)p.tu[0].push(D.x);
if(this.cw.y<Z.ZG.gt)p.tu[1].push(D.y);if(!a){var e=new y(n.E.s);if(!A.mq.tu){e.data={j:n.H.aA,gD:Qn.pa};
d.n(e)}if(!A.nQ){e.data={j:n.H.aA,gD:Qn.eR};d.n(e)}a=!0}}var f=this.eMX(p,D);if(a&&f){this.j=2;this.UV=G?G:JSON.parse(JSON.stringify(p.tu));
this.WI=f;this.gz=!0;this.xq=r.ge.rl(p);return}if(p.Mv.length!=0){this.j=4;this.xq=p.$O[p.Mv[0]].rect.clone();
this.gz=!0;return}if(this.Wq&&this.Wq.ae(D,p.U.v,!0)!=null){var e=new y(n.E.s);e.data={j:n.H.ZA,O:r.hc};
d.n(e);var N=new y(n.E.q);N.O=r.hc;N.data={j:"doMouseDown",zg:this.cw};d.n(N);return}if(p.P&&p.P.rect.Bf(D)){var Y=Math.round(D.x),l=Math.round(D.y),h=p.P.rect;
P=p.P.channel[(l-h.y)*h.t+Y-h.x]>128}if(!P&&(!this.fn&&(K.Q(B.DV)||this.qi.NY)||this.fn&&this.qi.NY&&(K.Q(B.tS)||p.Y.length<2))){var s=this.ePT(p,D,K);
if(!s){p.Y=[];p.BJ=null;p.Yi=p.fU=!0;this.j=3;this.Cr=new R;this.gz=!0;return}}if(K.Q(B.Od)&&!P){var N=new y(n.E.q);
N.O=r.aW;N.data={j:V.RY,ehM:!0};d.n(N)}}if(p.Mv.length!=0){this.j=4;this.xq=p.$O[p.Mv[0]].rect.clone();
this.gz=!0;return}this.WI=p.AP(M==null,M,null,!0);for(var J=0;J<this.WI.length;J++){var u=p.L[this.WI[J]];
if(u.uF(2)||u.uF(31)){alert(Qc.get([6,57,0]));return}}this.hZ=r.Zl.ePy(p,this.WI);this.j=0;if(p.P&&(!x||P)&&p.Y.length==1&&p.ux(!1)){if(!p.eH_()){this.gz=!1;
return}var Q=p.L[p.Y[0]],W=K.Q(B.Od);this.j=1;var q=p.history[p.PO];if(q.O==this&&q.data.j==1&&q.data.o==p.Y[0]&&Q.gq==Q.qt.gq&&!W){this.cI=q}else{var H=Q.qt,C=!1,k;
if(!Q.Nq(p,p.P)||W){C=!0;Q.cj(p,p.P,W)}if(Q.qt.gq<=0){k=Z.p(Q.qt.AW.length>>2);Z.$m(Q.qt.AW,k,3)}else k=Z.clone(p.P.channel);
var i={rect:Q.qt.Cz.clone(),channel:k};this.cI=new QY(W?[12,53]:[12,54],this);this.cI.data={j:1,o:p.Y[0],qt:Q.qt,nA:H,xd:C,ga:p.P,PD:i,Wb:new QP(0,0)};
p.Gn(this.cI);p.P=i;p.ye=!0}}this.gz=!0;this.xq=r.ge.rl(p)};r.Zl.prototype.ePT=function(p,d,K){var A=p.root.uD(new QP(Math.floor(d.x),Math.floor(d.y)));
if(A){if(A.o.add.vmsk)p.nw=!0;var x=p.L.indexOf(A.o);if(K.Q(B.tS)){var M=p.Y.indexOf(x);if(M==-1)p.Y.push(x);
else if(p.Y.length>1)p.Y.splice(M,1)}else if(p.Y.indexOf(x)==-1){this.eeB(p,x)}}return A!=null};r.Zl.prototype.eeB=function(p,d){p.L[d].gq=0;
p.Y=[d];p.BJ=null;p.$a();p.NA=!0;p.Yi=!0};r.Zl.prototype.Yh=function(p,d,K,A,x){this.zg=x;var M=p.U.FT(x.x,x.y),N,Y;
if(this.na&&this.j<2)M=this.na.rR(M,A);if(!this.gz){if(K.nQ&&K.mq.tu){var G=this.eMX(p,M),D="default";
if(G)D=["col-resize","row-resize"][G[0]];else if(this.Wq){var P=this.Wq.ae(M,p.U.v);if(P)D=P}this.Rk(D,d)}this.vJ(p,M);
return}var a=this.cc,e=Math.round(M.x-a.x)-this.QI.x,f=Math.round(M.y-a.y)-this.QI.y;if(this.xq){if(this.j==2){M=r.Zl.oe(p,M,K,[!1,p.P?p.P.rect:this.xq,!0])}else{Y=this.xq.clone();
Y.offset(this.QI.x+e,this.QI.y+f);N=r.Zl.zo(p,Y,K);e+=Math.round(N[0]);f+=Math.round(N[1])}}this.QI.x+=e;
this.QI.y+=f;this.Mt(p,e,f,M,null,A.Q(B.tS));this.vJ(p,M);if(N)r.Zl.zh(p,Y,N)};r.Zl.prototype.eMX=function(p,d){d=[d.x,d.y];
for(var K=0;K<2;K++)for(var A=0;A<p.tu[K].length;A++)if(Math.abs(p.tu[K][A]-d[K])*p.U.v<4)return[K,A];
return null};r.Zl.prototype.Mt=function(p,d,K,A,x,M){if(this.j==0){if(x)r.Zl.As(p,this.WI,this.hZ,x);
else r.Zl.Ah(p,this.WI,this.hZ,d,K)}else if(this.j==1){var G=this.cI.data;G.Wb.offset(d,K);r.Zl.MQ(p,G.o,d,K)}else if(this.j==2){var D=1e-5;
if(M)D=p.U.v<=1?10:1;else if(p.U.v<=1)D=1;var P=D*Math.round(A.x/D),a=D*Math.round(A.y/D),e=[P,a],f=this.WI;
p.tu[f[0]][f[1]]=e[f[0]]}else if(this.j==3){var N=this.cc,Y=Z._.rN([N.x,N.y,A.x,A.y]);this.Cr=Y;var l=[];
p.root.eRQ(Y,l);if(JSON.stringify(p.Y)!=JSON.stringify(l)){p.Y=l;p.Yi=!0;p.fU=!0}}else if(this.j==4){for(var h=0;
h<p.Mv.length;h++)p.$O[p.Mv[h]].rect.offset(d,K);p.nw=!0}};r.Zl.MQ=function(p,d,K,A){var x=p.L[d];p.P.rect.offset(K,A);
x.ik(p,K,A,p.P);p.ye=!0;p.i()};r.Zl.prototype.gi=function(p,d,K,A,x){this.Mn(p,x,K);this.vJ(p)};r.Zl.prototype.Mn=function(p,d,K,A,x){if(!this.gz)return;
this.gz=!1;if(this.j==0){if(A){this.eUn(p,null,A,x)}else{if(this.QI.x==0&&this.QI.y==0)return;this.eUn(p,this.QI.clone())}p.TH=!0}else if(this.j==2){var M=0;
d=[d.x,d.y];var G=this.WI,D=this.UV[0].length+this.UV[1].length,P=p.tu[0].length+p.tu[1].length;if(K.qa&&d[G[0]]<Z.ZG.gt){p.tu[G[0]].splice(G[1],1);
M=1;if(D==P-1)return}if(D<P)M=2;var a=new QY([[23,2],[23,3],[23,4]][M],this);a.data={j:2,UV:this.UV,dz:JSON.parse(JSON.stringify(p.tu))};
p.Gn(a)}else if(this.j==4){var a=new QY([12,54],this);a.data={j:4,Y:p.Mv.slice(0),J:this.QI.clone()};
p.Gn(a)}this.QI.pf(0,0)};r.Zl.prototype.AC=function(p,d,K,A){var x=A.RQ();if(p!=null&&(x.x!=0||x.y!=0)){this.QI.pf(x.x,x.y);
this.Aq(p,d,A,K,!1);if(!this.gz)return;this.Mt(p,x.x,x.y);this.Mn(p,null,K);this.vJ(p)}};r.Zl.prototype.WY=function(p,d){if(p.j==0)r.Zl.As(d,p.Y,p.Uf,p.fV,!0);
else if(p.j==2){d.tu=JSON.parse(JSON.stringify(p.UV));d.nw=!0}else if(p.j==4){for(var K=0;K<p.Y.length;
K++)d.$O[p.Y[K]].rect.offset(-p.J.x,-p.J.y);d.nw=!0}else{var A=d.L[p.o];if(p.xd){A.cX(d,p.nA);d.P=p.ga;
d.ye=!0;d.i();A.i()}else{r.Zl.MQ(d,p.o,-p.Wb.x,-p.Wb.y)}}};r.Zl.prototype.Qv=function(p,d){if(p.j==0)r.Zl.As(d,p.Y,p.Uf,p.fV);
else if(p.j==2){d.tu=JSON.parse(JSON.stringify(p.dz));d.nw=!0}else if(p.j==4){for(var K=0;K<p.Y.length;
K++)d.$O[p.Y[K]].rect.offset(p.J.x,p.J.y);d.nw=!0}else{var A=d.L[p.o];if(p.xd){A.qt=p.qt;d.P=p.PD;r.Zl.MQ(d,p.o,0,0);
A.i()}else{r.Zl.MQ(d,p.o,p.Wb.x,p.Wb.y)}}};r.Zl.prototype.eUn=function(p,d,K,A){if(K){var x=!0;for(var M=0;
M<K.length;M++)if(K[M]!=0)x=!1;if(x)return}var G=p.history[p.PO];if(G.data&&G.O==this&&G.data.j==0&&K==null&&JSON.stringify(G.data.Y)==JSON.stringify(this.WI)&&JSON.stringify(G.data.Uf)==JSON.stringify(this.hZ)){var D=G.data.fV,P=G.data.ehB.Qz.T.v;
P.Hrzn.v.val+=d.x;P.Vrtc.v.val+=d.y;for(var M=0;M<D.length;M+=2){D[M]+=d.x;D[M+1]+=d.y}}else{if(d==null)d=new QP(K[0],K[1]);
var a={LG:"move",Qz:{classID:"null",null:Pq.bt("Lyr",!0),T:{t:"Objc",v:{classID:"Ofst",Hrzn:{t:"UntF",v:{type:"#Rlt",val:d.x}},Vrtc:{t:"UntF",v:{type:"#Rlt",val:d.y}}}}}},e=new QY(A?A:[12,54],this);
if(K)e.data={j:0,Y:this.WI,Uf:this.hZ,fV:K};else e.data={j:0,Y:this.WI,Uf:this.hZ,fV:r.Zl.eel(this.WI,d.x,d.y)};
e.data.ehB=a;p.Gn(e);this.track(a)}};r.Zl.eel=function(p,d,K){var A=[];for(var x=0;x<p.length;x++)A.push(d,K);
return A};r.Zl.Ah=function(p,d,K,A,x){r.Zl.As(p,d,K,r.Zl.eel(d,A,x))};r.Zl.As=function(p,d,K,A,x){if(d.length==0)return;
if(K==null){K=[];for(var M=0;M<d.length;M++){K.push(p.L[d[M]].Nd(p,!0))}}var G=new R,D=new R(0,0,p.t,p.D);
for(var M=0;M<d.length;M++){var P=A[2*M],a=A[2*M+1];if(x){P=-P;a=-a}var e=p.L[d[M]],f=K[M];if(e.add.fxrp&&(f.indexOf(0)!=-1||e.ti()))e.add.fxrp.offset(P,a);
for(var N=0;N<f.length;N++){var Y=f[N];if(Y==0){e.rect.offset(P,a);if(e.fP()&&e.MT(p))e.MT(p).rect.offset(P,a);
if(e.add.artb){var l=e.Rb();l.offset(P,a);e.Pw(l)}if(e.add.TySh){e.add.TySh.u.translate(P,a);if(e.add.TySh.add){e.add.TySh.add.vmsk.offset(P,a)}}if(e.add.SoLd){var h=new QI(1,0,0,1,P,a),s=e.add.SoLd,J=r.ge.fQ(s.Trnf),u=r.ge.fQ(s.nonAffineTransform);
Z._.u(J,h,J);Z._.u(u,h,u);s.Trnf=r.ge.oZ(J);s.nonAffineTransform=r.ge.oZ(u)}}if(Y==1)e.gW().rect.offset(P,a);
if(Y==2){e.add.vmsk.offset(P,a);if(e.add.vogk)Z.B$.u(e.add.vogk,[1,0,P,0,1,a,0,0],[])}if(Y==3){e.MT(p).g.rect.offset(P,a);
if(f.length==1)e.i()}}if(f.length>0){var Q=e.add.GdFl;if(Q==null)Q=e.add.PtFl;if(e.ti()&&!e.uV()&&e.add.vmsk!=null&&Z.e.PG(e.add.vmsk.Z)&&e.add.vmsk.HW==255&&(Q==null||Q.Algn&&Q.Algn.v)){e.rect.offset(P,a)}else e.u_(p);
var W=p.root.$_(e.RC(p),p,d[M]);G=G.ck(W);W.offset(-P,-a);G=G.ck(W);if(e.add.SoCo||e.add.GdFl||e.add.PtFl||QW.get(e.add)!=null)G=G.ck(D);
e.eMB()}}p.i(G)};r.Zl.ePy=function(p,d){var K=[];for(var A=0;A<d.length;A++){var x=p.L[d[A]];K.push(x.Nd(p))}return K};
r.Zl.zh=function(p,d,K){var A=p.K.ny={B:[],$:[]},x=d.x+K[0],M=d.y+K[1];if(K[2]!=1e9){A.$.push("M","L");
A.B.push(K[2],M,K[2],M+d.D)}if(K[3]!=1e9){A.$.push("M","L");A.B.push(x,K[3],x+d.t,K[3])}p.nw=!0};r.Zl.oe=function(p,d,K,A){var x=r.Zl.ecF(p,[[d.x],[d.y]],K,A);
return new QP(d.x+x[0],d.y+x[1])};r.Zl.zo=function(p,d,K,A,x){var M=x==!0?0:1,G=r.Zl.ecF(p,[[d.x,d.x+(d.t>>>M),d.x+d.t],[d.y,d.y+(d.D>>>M),d.y+d.D]],K,A);
return G};r.Zl.ecF=function(p,d,K,A){if(A==null)A=[!0,null,!0];var x=[0,0,1e9,1e9];if(!K.fI)return x;
var M=JSON.parse(JSON.stringify(d));for(var G=0;G<2;G++){var D=1e9,P=d[G],a=0;for(var e=0;e<P.length;
e++){var f=r.Zl.eGA(p,P[e],M[1-G][e],G,K,A);if(f!=1e9)M[G][e]=f;if(f!=1e9&&Math.abs(f-P[e])<Math.abs(D)){D=f-P[e];
a=f}}if(D!=1e9){x[G]=D;x[G+2]=a}}return x};r.Zl.eGA=function(p,d,K,A,x,M){var G=1e9,D=x.nX,P=x.mq;if(M[0]&&D[0]&&P.tu&&x.nQ){var a=p.tu[A];
for(var e=0;e<a.length;e++)if(Math.abs(a[e]-d)<Math.abs(G-d))G=a[e]}if(D[1]&&P.UT&&x.nQ){var f=Math.round(Z.ZG.k_(P.sp,p,P.sB));
if(A==1&&P.BQ==1){var N=K*.5*Math.sqrt(4/3),Y;f*=Math.sqrt(4/3);Y=Math.round((d-N)/f)*f+N;if(Math.abs(Y-d)<Math.abs(G-d))G=Y;
Y=Math.round((d+N)/f)*f-N;if(Math.abs(Y-d)<Math.abs(G-d))G=Y}else{var Y=Math.round(d/f)*f;if(Math.abs(Y-d)<Math.abs(G-d))G=Y}}var l=p.ey;
if(D[3]&&P.ey&&x.nQ&&l.length!=0){for(var e=0;e<l.length;e++){if(!M[2]&&p.WN.indexOf(e)!=-1)continue;
var h=r.GP.Ua(l,e);for(var s=0;s<3;s+=2)if(h[s+A]!=d&&Math.abs(h[s+A]-d)<Math.abs(G-d))G=h[s+A]}}if(M[1]){var J=M[1],u=J.t,Q=J.D,W=[J.x,J.y,J.x+(u>>>1),J.y+(Q>>>1),J.x+u,J.y+Q];
for(var e=0;e<6;e+=2)if(Math.abs(W[e+A]-d)<Math.abs(G-d))G=W[e+A]}if(D[4]){var u=p.t,Q=p.D,W=[0,0,u>>>1,Q>>>1,u,Q];
for(var e=0;e<6;e+=2)if(Math.abs(W[e+A]-d)<Math.abs(G-d))G=W[e+A]}var q=Math.abs(G-d)<=4*n.F()/p.U.v?G:1e9;
return q};r.PW=function(){r.wJ.call(this,[10,12],r.esw,"tools/mwand")};r.PW.prototype=new r.wJ;r.PW.prototype.ro=function(p,d,K,A){this.finish(p,d,K,A)};
r.PW.prototype.getSelection=function(p,d,K,A){var x=this.Pv,M=r.wJ.eWB(new QP(Math.floor(x.x),Math.floor(x.y)),this.qi.CK);
return M};r.PW.eBz=function(p,d,K){if(p.Y.length!=1){alert("More than one layer selected.");return null}var A=p.L[p.Y[0]],x;
if(A.add.lsct!=null&&A.add.lsct!=ew.$S){alert("No layer selected.");return null}if(d.x<0||d.x>p.t||d.y<0||d.y>p.D)return null;
var M=new R(0,0,p.t,p.D),G=A.gq<=0?null:A.gq==1?A.gW():A.MT(p).g;if(G==null&&M.GR(A.rect))x=A.buffer;
else{x=Z.p(M.r()*4);if(G==null)Z.PE(A.buffer,A.rect,x,M);else r.Ef.Xc(G.channel,G.rect,G.color,x,M)}var D=r.PW.eeP(x,M,d,null,K),P=Z.gg(D,M),a=Z.p(P.r());
Z.Qj(D,M,a,P);return{rect:P,channel:a}};r.PW.Ad=function(p,d,K){var A=d.t,M=0,G=0,D=0,P=0;p=new Uint32Array(p.buffer);
var x=[],a=K.length;for(var e=0;e<a;e++){var f=K[e],N=Math.round(f.x-.5-d.x),Y=Math.round(f.y-.5-d.y);
if(!d.Bf(f))N=Y=0;var l=Y*A+N,h=p[l];x.push([h&255,h>>8&255,h>>16&255,h>>>24])}return x};r.PW.eeP=function(p,d,K,A,x){p=new Uint32Array(p.buffer);
var M=d.t,G=d.D,D=M*G;if(A==null)A=r.PW.Ad(p,d,[K]);var P=Math.round(K.x-.5-d.x),a=Math.round(K.y-.5-d.y),e=a*M+P,f=Date.now(),N=Z.p(M*G),Y=x[0],l=1/Y,h=x[1]&&Y>0?255:0;
if(x[2]){var s=Z.p(N.length),J=new Uint32Array(D),u=1;J[0]=P<<16|a;s[e]=1;while(u>0){var Q=J[u-1];u--;
var W=Q>>>16,q=Q&65535,H=q*M+W,C=r.PW.vL(p[H],A);if(C>Y){var k=h*(1-Math.max(0,Math.min(1,(C-Y)*l)));
N[H]=~~k}else{N[H]=255;if(q!=G-1&&s[H+M]==0){J[u++]=W<<16|q+1;s[H+M]=1}if(q!=0&&s[H-M]==0){J[u++]=W<<16|q-1;
s[H-M]=1}if(W!=M-1&&s[H+1]==0){J[u++]=W+1<<16|q;s[H+1]=1}if(W!=0&&s[H-1]==0){J[u++]=W-1<<16|q;s[H-1]=1}}}}else{for(var H=0;
H<D;H++){var C=r.PW.vL(p[H],A);if(C<=Y)N[H]=255}for(var q=0;q<G;q++)for(var W=0;W<M;W++){var H=q*M+W;
if(N[H]==0&&(W>0&&(N[H-1]==255||q>0&&N[H-M-1]==255||q<G-1&&N[H+M-1]==255)||W<M-1&&(N[H+1]==255||q>0&&N[H-M+1]==255||q<G-1&&N[H+M+1]==255)||q>0&&N[H-M]==255||q<G-1&&N[H+M]==255)){var C=r.PW.vL(p[H],A),k=h*(1-Math.max(0,Math.min(1,(C-Y)*l)));
N[H]=~~k}}}return N};r.PW.vL=function(p,d){var K=d.length,A=r.PW.ePJ(p,d[0]),x=1;while(x!=K){A=Math.min(A,r.PW.ePJ(p,d[x]));
x++}return A};r.PW.ePJ=function(p,d){var K=p&255,A=p>>>8&255,x=p>>>16&255,M=p>>>24&255;if(d[3]==0)return M<5?0:255;
var G=Math.max(Math.abs(K-d[0]),Math.max(Math.abs(A-d[1]),Math.abs(x-d[2])));return M==0?255:G};r.kc=function(){r.Ef.call(this,[10,26],r.een,"tools/patch");
this.Ew=null;this.GS=null;this.J=null;this.oE=null;this.Cb=new QP;this.CY=null};r.kc.prototype=new r.Ef;
r.kc.prototype.Fg=function(p,d,K,A,x){var M=p.U.FT(x.x,x.y);if(p.P&&Z.uD(M,p.P.channel,p.P.rect)){var G=new R(0,0,p.t,p.D),D=G.pk(p.P.rect);
if(!p.ux()||D.kQ())return;if(!D.GR(p.P.rect)){var P=Z.p(D.r());Z.Qj(p.P.channel,p.P.rect,P,D);p.P={channel:P,rect:D}}this.QU(p);
this.oE=M;this.Cb=new QP(M.x-p.P.rect.x,M.y-p.P.rect.y);this.CY=Z.p(p.P.rect.r()*4);Z.set(this.CY,4294967295);
if(this.qi.patch==1){var a=p.L[p.Y[0]];a.cj(p,p.P,!0);if(a.qt==null)this.oE=null}}else{this.GS={B:[M.x,M.y],$:["M"]};
this.Ew=M}};r.kc.prototype.Yh=function(p,d,K,A,x){var M=p.U.FT(x.x,x.y);if(this.oE){if(this.qi.patch==1){var G=p.L[p.Y[0]].qt,D=M.x-this.Cb.x,P=M.y-this.Cb.y;
r.Zl.MQ(p,p.Y[0],Math.round(D-G.Cz.x),Math.round(P-G.Cz.y))}else this.eSC(p,M,"clone")}if(this.Ew){this.GS.$.push("L");
this.GS.B.push(M.x,M.y);this.Ew=M;p.K._H=this.GS;p.nw=!0}};r.kc.prototype.gi=function(p,d,K,A,x){var M=p.U.FT(x.x,x.y);
if(this.oE){this.eSC(p,M,"heal");this.finish(p,p.P.rect);this.oE=null}if(this.Ew){var G=r.wJ.vt(this.qi.setop,A.Q(B.tS),A.Q(B.Od)),D=new y(n.E.Iz,!0);
if(this.GS.B.length<=4)D.data=r.wJ.Zu();else D.data=r.wJ.Qa(this.GS.B,G);d.n(D);this.Ew=null;p.K._H=null;
p.nw=!0}};r.kc.prototype.dP=function(){return this.J};r.kc.prototype.kz=function(p,d,K,A,x){r.Ef.prototype.kz.call(this,p,d,K,A,x);
this.Rk(x,A)};r.kc.prototype.Rk=function(p,d){var K="auto;";if(d!=null&&d.Q(B.tS)&&!d.Q(B.Od)||this.qi.setop=="union")K="copy";
var A=new y(n.E.s,!0);A.data={j:n.H.Nn,$B:K};if(this.caller)this.caller.n(A)};r.kc.prototype.eSC=function(p,d,K){var A=new QP(Math.round(this.oE.x-d.x),Math.round(this.oE.y-d.y));
if(this.qi.patch==1)A.pf(-A.x,-A.y);this.J=A;this.Xp(p,K,this.CY,p.P.rect,p.P.rect);this.i(p,p.P.rect)};
r.MK=function(){r.Ef.call(this,[10,13],r.eos,"tools/pbucket")};r.MK.prototype=new r.Ef;r.MK.prototype.enable=function(p,d,K,A){var x=new y(n.E.s,!0);
x.data={j:n.H.Nn,$B:"default"};d.n(x)};r.MK.prototype.Ei=function(p,d){};r.MK.prototype.gi=function(p,d,K,A,x){if(!p.ux())return;
var M=p.U.FT(x.x,x.y),G=r.PW.eBz(p,M,this.qi.wconf);if(G==null)return;var D=Z.p(G.rect.r()*4);Z.Pk(D,(K.ou&255)<<16|(K.ou>>8&255)<<8|(K.ou>>16&255)<<0);
Z.qF(G.channel,D,3);this.QU(p);this.Xp(p,"draw",D,G.rect,G.rect);this.i(p,G.rect);this.finish(p,G.rect)};
r.qz=function(){r.wJ.call(this,[10,14],r.esn,"tools/plasso");this.nU="crosshair";this.ng=[];this.GS=null;
this.e_h=0};r.qz.prototype=new r.wJ;r.qz.prototype.disable=function(p,d,K,A){this.XC(p)};r.qz.prototype.ro=function(p,d,K,A){this.ng=[B.dF,B.dB]};
r.qz.prototype.gJ=function(p){return this.ng.indexOf(p)!=-1};r.qz.prototype.cQ=function(p){return this.GS!=null};
r.qz.prototype.vG=function(){return this.GS!=null};r.qz.prototype.ZX=function(){return this.GS!=null};
r.qz.prototype.oB=function(p,d,K,A){if(this.GS==null)return;var x=this.GS,M=x.B,G=M.length-2,D=this.Pv;
if(this.xm>1&&K.Q(B.Od)&&A.Fj){M.push(0,0);x.$.push("L");G+=2}else if(K.Q(B.tS))D=r.hT.kw(new QP(M[G-2],M[G-1]),D);
M[G]=D.x;M[G+1]=D.y;p.K._H=x;p.nw=!0};r.qz.prototype.zZ=function(p,d,K,A){var x=Date.now();if(this.GS==null)this.GS={B:[this.Pv.x,this.Pv.y,this.Pv.x,this.Pv.y],$:["M","L"]};
else{this.oB(p,d,K,A);this.GS.$.push("L");this.GS.B.push(this.Pv.x,this.Pv.y);p.K._H=this.GS;if(x-this.e_h<250||QP.gG(this.Pv,new QP(this.GS.B[0],this.GS.B[1]))<5*n.F()/p.U.v){this.finish(p,d,K,A);
this.XC(p)}}this.e_h=x;p.K._H=this.GS};r.qz.prototype.XC=function(p){this.GS=null;this.ng=[];if(p!=null){p.K._H=null;
p.nw=!0}};r.qz.prototype.AC=function(p,d,K,A){r.wJ.prototype.AC.call(this,p,d,K,A);if(this.GS==null)return;
if(A.Q(B.dF)||A.Q(B.dB)){this.GS.B.pop();this.GS.B.pop();this.GS.$.pop();this.oB(p,K,A)}if(A.Q(B.ut)){if(this.GS.B.length>4)this.finish(p,K,A);
this.GS=null}if(A.Q(B.qo)){this.GS=null}p.K._H=this.GS;p.nw=!0};r.qz.prototype.getSelection=function(p,d,K,A){return r.wJ.Qa(this.GS.B)};
r.Px=function(){r.wJ.call(this,[10,10],r.esK,"tools/mlasso");this.nU="crosshair";this.ng=[];this.Zx={Ox:3};
this.Z=[];this.fR=[];this.od=[];this.fa=null;this.sc=null;this.co=null;this.cC=0};r.Px.prototype=new r.wJ;
r.Px.prototype.disable=function(p,d,K,A){this.clear(p)};r.Px.prototype.cQ=function(p){return this.Z.length!=0};
r.Px.prototype.ZX=function(){return this.Z.length!=0};r.Px.prototype.gJ=function(p){return this.ng.indexOf(p)!=-1};
r.Px.prototype.ro=function(p,d,K,A){this.ng=[B.dF,B.dB];var x=this.Al(this.gr,p);if(this.Z.length!=0&&(QP.gG(x,this.Z[0])<4*n.F()/p.U.v||Date.now()-this.cC<300)){this.AY(p,this.Z[0]);
this.finish(p,d,K);this.clear(p);return}this.cC=Date.now();if(this.Z.length!=0)x=this.vR(x,p,this.Zx.Ox);
else{var M=p.t,G=p.D,D=Z.p(M*G),P=p.zi(),a=M*G*4;for(var e=0;e<a;e+=4)D[e>>>2]=Z._s(Math.round(.3*P[e]+.6*P[e+1]+.1*P[e+2])*P[e+3]);
this.fa=Z.wG.eut(D,M,G);this.co=new Uint16Array(D.length)}this.AY(p,x);this.gx(p)};r.Px.prototype.AY=function(p,d){var K=this.Z;
this.fR[K.length]=this.od.length;if(K.length!=0){Z.wG.Oi(this.sc,d.y*p.t+d.x);var A=this.vI(p,d);A.reverse();
var x=this.eeX(p,A);this.od=this.od.concat(x)}K.push(d);this.ePN(p)};r.Px.prototype.ePN=function(p){var d=this.Z[this.Z.length-1],K=d.y*p.t+d.x;
this.sc=Z.wG.eup(this.fa.qN,this.fa.Ln,K);Z.set(this.co,0)};r.Px.prototype.Al=function(p,d){return new QP(Math.floor(Math.max(0,Math.min(d.t-1,p.x))),Math.floor(Math.max(0,Math.min(d.D-1,p.y))))};
r.Px.prototype.clear=function(p){this.od=[];this.Z=[];this.fR=[];this.fa=null;this.sc=null;this.co=null;
if(p!=null){p.K._H=null;p.K.dd=[];p.nw=!0}this.ng=[]};r.Px.prototype.oB=function(p,d,K,A){if(this.Z.length==0)return;
var x=this.vR(this.Al(this.Pv,p),p,this.Zx.Ox),M=this.vI(p,x);for(var G=0;G<M.length;G++){var D=M[G],P=new QP(D%p.t,Math.floor(D/p.t));
if(this.co[D]>30&&QP.gG(P,this.Z[this.Z.length-1])>20){this.AY(p,P);return}this.co[D]++}this.gx(p)};
r.Px.prototype.gx=function(p){var d=this.Z;if(d.length!=0){var K=this.vR(this.Al(this.Pv,p),p,this.Zx.Ox),A=this.vI(p,K);
A.reverse();var x=this.eeX(p,A),M=this.od.concat(x);p.K._H=this.eFa(M)}p.K.dd=[];for(var G=0;G<d.length;
G++)p.K.dd.push(d[G].x+.5,d[G].y+.5);p.nw=!0};r.Px.prototype.zZ=function(p,d,K,A){};r.Px.prototype.AC=function(p,d,K,A){if(this.Z.length==0)return;
if(A.Q(B.dF)||A.Q(B.dB)){this.Z.pop();this.od=this.od.slice(0,this.fR[this.Z.length]);this.fR.pop();
if(this.Z.length==0)this.clear(p);else this.ePN(p);this.gx(p)}if(A.Q(B.ut)){var x=this.Al(this.Pv,p);
this.AY(p,x);this.finish(p,K,A);this.clear(p)}if(A.Q(B.qo)){this.clear(p)}};r.Px.prototype.eFa=function(p){var d={B:p.slice(0),$:["M"]};
for(var K=2;K<p.length;K+=2)d.$.push("L");return d};r.Px.prototype.getSelection=function(p,d,K,A){var x=this.eFa(this.od);
return r.wJ.Qa(x.B)};r.Px.prototype.vI=function(p,d){var K=this.Z[this.Z.length-1],A=K.y*p.t+K.x,x=d.y*p.t+d.x,M=[x];
while(x!=A){x=this.sc.qk[x];M.push(x);if(M.length>5e3){console.log(M);throw"e"}}return M};r.Px.prototype.eeX=function(p,d){var K=[],A=p.t;
for(var x=0;x<d.length;x++){var M=d[x];K.push(M%A+.5,Math.floor(M/A)+.5)}return K};r.Px.prototype.vR=function(p,d,K){var A=d.t,x=d.D,M=p.clone();
Z.wG.Oi(this.sc,p.y*A+p.x);var G=this.sc.vs[p.y*A+p.x];for(var D=-K+1;D<K;D++)for(var P=-K+1;P<K;P++){var a=p.x+P,e=p.y+D;
if(a<0||a>=A||e<0||e>=x)continue;Z.wG.Oi(this.sc,e*A+a);if(this.sc.vs[e*A+a]<G)M.pf(a,e)}return M};r.rQ=function(){r.IM.call(this,[10,36],r.esz,"tools/ruler");
this.K_=null;this.sT=null;this.Cl=null;this.Cj=null};r.rQ.prototype=new r.IM;r.rQ.prototype.cQ=function(p){return p.Fj};
r.rQ.prototype.disable=function(p,d,K,A){this.K_=this.sT=null;if(p)this.vJ(p)};r.rQ.prototype.Fg=function(p,d,K,A,x){var M=p.U.v/n.F(),G=p.U.FT(x.x,x.y);
G.x=Math.round(G.x);G.y=Math.round(G.y);var D=this.K_;if(D&&QP.gG(G,D[0])*M<6)this.sT=[0];else if(D&&QP.gG(G,D[1])*M<6)this.sT=[1];
else if(D&&r.rQ.eGY(D[0],D[1],G)*M<6&&Math.min(D[0].x,D[1].x)-5<=G.x&&G.x<=Math.max(D[0].x,D[1].x)+5&&Math.min(D[0].y,D[1].y)-5<=G.y&&G.y<=Math.max(D[0].y,D[1].y)+5){this.sT=[0,1];
this.Cj=[D[0].clone(),D[1].clone()];this.Cl=G}else{this.K_=[G.clone(),G.clone()];this.sT=[1]}};r.rQ.prototype.Yh=function(p,d,K,A,x){if(this.sT==null)return;
var M=this.K_,G=this.sT,D=p.U.FT(x.x,x.y);D.x=Math.round(D.x);D.y=Math.round(D.y);if(G.length==2){var P=D.x-this.Cl.x,a=D.y-this.Cl.y;
M[0]=this.Cj[0].clone();M[0].offset(P,a);M[1]=this.Cj[1].clone();M[1].offset(P,a)}else{M[G[0]].pf(D.x,D.y);
if(A.Q(B.tS)){M[G[0]]=r.hT.kw(M[1-G[0]],M[G[0]])}}this.vJ(p);this.oD(d,n.E.s,{j:n.H.xV,O:this.id,ehm:M[0],Hr:M[1]})};
r.rQ.prototype.gi=function(p,d,K,A,x){this.sT=null};r.rQ.prototype.oD=function(p,d,K){var A=new y(d,!0);
A.data=K;p.n(A)};r.rQ.prototype.vJ=function(p){var d=this.K_;if(d==null){p.K._H=null;p.K.dd=[]}else{var K=[d[0].x,d[0].y,d[1].x,d[1].y];
p.K._H={$:["M","L"],B:K};p.K.dd=K}p.nw=!0};r.rQ.eGY=function(p,d,K){var A=d.x-p.x,x=d.y-p.y,M=Math.abs(x*K.x-A*K.y+d.x*p.y-d.y*p.x),G=Math.sqrt(A*A+x*x);
return M/G};r.Aj=function(){r.Ef.call(this,[10,19],r.Qp,"tools/sharpen");this.$K="copy"};r.Aj.prototype=new r.Ef;
r.Aj.prototype.Fg=function(p,d,K,A,x){var M=this.qi.pdetail?Qr.rs:Qr.Qp;if(A.Q(B.Od))M=Qr.QS;this.Fz(p,K,A,x,this.qi.strn,M);
if(this.Zm==null)return;this.fo(p)};r.Aj.prototype.Yh=function(p,d,K,A,x){this._S(p,d,K);if(this.pM)this.$d(p,K,x);
if(this.Zm==null)return;if(!x.Fj)return;this._v(p,K,A,x);this.fo(p)};r.MH=function(){r.Ef.call(this,[10,24],r.eKM,"tools/shbrush");
this.$K="draw";this.qi.opacity=.5};r.MH.prototype=new r.Ef;r.MH.prototype.Fg=function(p,d,K,A,x){this.Fz(p,K,A,x,1);
if(this.Zm==null)return;this.fo(p)};r.MH.prototype.Yh=function(p,d,K,A,x){this._S(p,d,K);if(this.pM)this.$d(p,K,x);
if(this.Zm==null)return;if(!x.Fj)return;this._v(p,K,A,x);this.fo(p)};r.MH.prototype.gi=function(p,d,K,A,x){if(this.Zm==null)return;
this.Xp(p,"sheal",this.Zm.tR(),this.Zm.rl(),this.Zm.sy(),null);this.i(p,this.Zm.sy());r.Ef.prototype.gi.call(this,p,d,K,A,x)};
r.JG=function(){r.Ef.call(this,[10,20],r.jd,"tools/smudge");this.$K="copy"};r.JG.prototype=new r.Ef;
r.JG.prototype.Fg=function(p,d,K,A,x){this.Fz(p,K,A,x,this.qi.strn,Qr.jd);if(this.Zm==null)return;this.fo(p)};
r.JG.prototype.Yh=function(p,d,K,A,x){this._S(p,d,K);if(this.pM)this.$d(p,K,x);if(this.Zm==null)return;
if(!x.Fj)return;this._v(p,K,A,x);this.fo(p)};r.JQ=function(){r.Ef.call(this,[10,23],r.eeU,"tools/sponge");
this.$K="sponge"};r.JQ.prototype=new r.Ef;r.JQ.prototype.Fg=function(p,d,K,A,x){this.Fz(p,K,A,x,this.qi.flow);
if(this.Zm==null)return;this.fo(p)};r.JQ.prototype.Yh=function(p,d,K,A,x){this._S(p,d,K);if(this.pM)this.$d(p,K,x);
if(this.Zm==null)return;if(!x.Fj)return;this._v(p,K,A,x);this.fo(p)};r.ws=function(){r.IM.call(this,[10,17],r.iQ,"tools/zoom");
this.an=!1;this.gy=!0;this.cZ=0;this.fD=null;this.zL=null;this.CT=0;this.nB=null;this.BR=0;this.ic=new p_([{name:[8,0],zw:"Ctrl + +"},{name:[8,1],zw:"Ctrl + -",uu:!0},{name:[20,3],zw:"Ctrl + 0"},{name:[20,2],C:function(p){return{FQ:Qc.get([20,2])+": 100%"}},zw:"Ctrl + 1"}],[{z:n.E.q,O:r.iQ,a:{j:"zoom",gy:!0}},{z:n.E.q,O:r.iQ,a:{j:"zoom",gy:!1}},{z:n.E.q,O:r.iQ,a:{j:"adapt",S:"fitscr"}},{z:n.E.q,O:r.iQ,a:{j:"adapt",S:"pixel"}}])};
r.ws.prototype=new r.IM;r.ws.prototype.Tq=function(p,d,K,A,x){var M=this.ic;M.l();M.parent=d;M.update(p,K);
var G=new y(n.E.s,!0);G.data={j:n.H.uO,Fy:M,x:x.XW+2,y:x.hq+1};d.n(G)};r.ws.prototype.enable=function(p,d,K,A){this.vi(d,A);
if(Date.now()-this.cZ<300)this.Ch({j:"adapt",S:"pixel"},d,p,A,K);this.cZ=Date.now()};r.ws.prototype.Fg=function(p,d,K,A,x){this.zL=new QP(x.x,x.y);
this.CT=p.U.v;this.nB=p.U.J.clone()};r.ws.prototype.Yh=function(p,d,K,A,x){if(this.zL==null)return;var M=Math.round((x.x-this.zL.x)/16);
if(M==0)return;var G=r.ws.va(this.CT),D=r.ws._i[Math.max(0,Math.min(r.ws._i.length-1,G-M))];p.U.v=this.CT;
p.U.J=this.nB.clone();this.Ch({j:"zoom",v:D,zg:this.zL},d,p,A,K)};r.ws.prototype.gi=function(p,d,K,A,x){if(QP.gG(this.zL,x)<4){var M=this.eaB(A);
this.Ch({j:"zoom",gy:M,zg:x},d,p,A,K)}this.zL=null};r.ws._i=[32,16,12,8,7,6,5,4,3,2,1,2/3,1/2,1/2*(2/3),1/4,1/4*(2/3),1/8,1/8*(2/3),1/16,1/16*(2/3),1/32,1/32*(2/3),1/64];
r.ws.vz=function(p,d,K,A){var x=1;while(p*x*1/2>K||d*x*1/2>A)x*=1/2;if(p*x*2/3>K||d*x*2/3>A)x*=1/2;else if(p*x>K||d*x>A)x*=2/3;
return x};r.ws.eGX=function(p,d){var K=r.ws.va(p);if(d&&K==0)return p;if(!d&&K==r.ws._i.length-1)return p;
return r.ws._i[d?K-1:K+1]};r.ws.va=function(p){var d=0;while(r.ws._i[d]>p)d++;return d};r.ws.M$=function(p,d,K,A){var x=p._b;
if(A==0||A==null){A=r.ws.eGX(p.v,K);if(A==p.v)return}var M=p.FT(d.x,d.y);if(x.t*A<=p.W.t&&x.D*A<=p.W.D)p.J.pf(0,0);
else{p.J.x=Math.round(x.t*A/2-M.x*A+(d.x-p.W.t/2));p.J.y=Math.round(x.D*A/2-M.y*A+(d.y-p.W.D/2))}p.v=A};
r.ws.prototype.Ch=function(p,d,K,A,x){var M=0,G=!1,D=null;if(p.j=="adapt"){var P=0;if(p.S=="pixel")P=1;
if(p.S=="fitscr"){var P=0,a=K.U.W.t,e=K.U.W.D;if(K.t<=a&&K.D<=e){var f=1;while(K.t*(f+1)<=a&&K.D*(f+1)<=e)f++;
P=f}else{P=r.ws.vz(K.t,K.D,a,e)}}D=new QP(Math.round(K.U.W.t/2),Math.round(K.U.W.D/2));M=P;r.ws.M$(K.U,D,G,M);
K.TH=!0}if(p.j.startsWith("multi")){function N(w){var S=w[0].x-w[1].x,o=w[0].y-w[1].y;return Math.sqrt(S*S+o*o)}function Y(w){return new QP((w[0].x+w[1].x)/2,(w[0].y+w[1].y)/2)}var l=p.Ck,h=Y(l);
if(p.j=="multidown"){this.fD=[l,K.U.v,K.U.FT(h.x,h.y)]}else{M=this.fD[1]*N(l)/N(this.fD[0]);if(M>=1)M=Math.min(32,Math.round(M));
else{var s=0,J=1e9,u=r.ws._i;for(var Q=0;Q<u.length;Q++){var W=Math.abs(1-M/u[Q]);if(W<J){J=W;s=Q}}M=u[s]}if(M!=K.U.v)r.ws.M$(K.U,h,G,M);
var q=this.fD[2],H=K.U.RI(q.x,q.y),C=K.U.J;C.x=Math.round(C.x+h.x-H.x);C.y=Math.round(C.y+h.y-H.y);K.TH=!0}}if(p.j=="scroll"){D=p.zg;
this.BR+=p.n$.y;var k=14;if(this.BR<-k){G=!0;this.BR=Math.max(this.BR+k,-(k-1))}else if(this.BR>k){G=!1;
this.BR=Math.min(this.BR-k,k-1)}else return;r.ws.M$(K.U,D,G,M);K.TH=!0}if(p.j=="zoom"){D=p.zg?p.zg:new QP(Math.round(K.U.W.t/2),Math.round(K.U.W.D/2));
if(p.v!=null)M=p.v;else G=p.gy;r.ws.M$(K.U,D,G,M);K.TH=!0}if(p.j=="mskView"){var i=K.L[K.Y[0]],m=i.gq==3?i.MT(K).g:i.gW();
if(p.S==0){K.U.GU=[1,1,1];m.hW=!1}if(p.S==1){K.U.GU=[1,1,1];m.hW=!0}if(p.S==2){K.U.GU=[0,0,0];m.hW=!0}for(var Q=0;
Q<K.$O.length;Q++)K.$O[Q].hW=!1;K.Mv=[];K.nw=!0}};r.ws.prototype.AC=function(p,d,K,A){if(this.an!=A.Q(B.Od)){this.an=A.Q(B.Od);
var x={j:n.H.xV,O:this.id,an:this.an},M=new y(n.E.s,!0);M.data=x;d.n(M);this.vi(d,A)}};r.ws.prototype.vi=function(p,d){var K=new y(n.E.s,!0),A=this.eaB(d);
K.data={j:n.H.Nn,$B:A?"zoom-in":"zoom-out"};p.n(K)};r.ws.prototype.kz=function(p,d,K,A){this.gy=p.gy;
this.vi(d,A)};r.ws.prototype.eaB=function(p){var d=this.gy;if(p.Q(B.Rv)&&p.Q(B.DV))d=!0;if(this.an)d=!d;
return d};r.Zb=function(p,d,K){r.IM.call(this,p,d,K);this.rL=null;this.hG=null;this.td=null;this.e_T=0};
r.Zb.prototype=new r.IM;r.Zb.prototype.enable=function(p,d,K,A,x){this.hG=K;var M=new y(n.E.s,!0);M.data={j:n.H.Nn,$B:"default"};
d.n(M)};r.Zb.prototype.Tq=function(p,d,K,A,x){if(p.zu()[0].length==0)return;var M=new y(n.E.s,!0);M.data={j:n.H.xV,O:this.id,np:x,cR:p,gn:K};
d.n(M)};r.Zb.prototype.eMC=function(p,d){var K=new y(n.E.s,!0);K.data={j:n.H.aA,gD:Qn.eR};if(!d.nQ)p.n(K);
K.data={j:n.H.aA,gD:Qn.iM};if(!d.mq.uE)p.n(K)};r.Zb.prototype.lT=function(p,d,K,A){if(p.Y.length==0)return;
var x=p.L[p.Y[0]],M=x.add.vmsk,G=x.add.vstk,D=r.Zb.vW(p,p.Y[0]);this.rL=p;this.td=d;if(x.ti()&&M!=null&&(JSON.stringify(G)!=JSON.stringify(K.cY)||JSON.stringify(D)!=JSON.stringify(K.cf))){this.e_T=Date.now();
var P=new y(n.E.s,!0);P.data={j:n.H.aA,gD:Qn.ie,S:D};d.n(P);P.data={j:n.H.aA,gD:Qn.pS,S:G};d.n(P)}};
r.Zb.prototype.Ei=function(p,d){if(this.rL==null)return;if(d==Qn.ff||d==Qn.ie||d==Qn.pS){if(Date.now()-this.e_T<50)return;
var K=d==Qn.ie,A=this.rL,x=K?p.cf:p.cY,M=[];for(var G=0;G<A.Y.length;G++){var D=A.Y[G],P=A.L[D];if(!P.ti()||P.add.vmsk==null)continue;
M.push(D)}var a=new y(n.E.q,!0);a.O=r.aW;a.data={j:V.sW,gO:M,qs:K,S:x};if(M.length!=0)this.td.n(a)}};
r.Zb.prototype.eGy=function(p){if(typeof p=="number"){var d=new y(n.E.Iz,!0);d.data=r.aa.Lb(0);d.data.Qz.Usng.v.Type.v.Clr.v=Z.k.wI({N:p>>>16&255,w:p>>>8&255,M:p>>>0&255});
this.td.n(d)}};r.Zb.prototype.Ch=function(p,d,K,A,x){this.td=d;if(p.j=="newfill"){if(p.Rd==0){var M=new y(n.E.s,!0);
M.data={j:n.H.Ae,$u:"colorpicker",es:x.ou,fd:this.eGy.bind(this)};d.n(M)}}else if(p.j=="pathedit"){var G=p.hE,D=K.uE.slice(0),P=K.wV.slice(0),a=K.uE.slice(0),e=K.wV.slice(0);
if(G=="rnm"){var f=-1-p._W,N=D[f],Y=QZ.zb(p.name,N.add);a[f]=Y}if(G=="new"){a.push(QZ.zb("Path "+D.length));
e=[a.length-1]}if(G=="del"){if(e.length==0)return;e.sort(function(h,m){return h-m});if(e[0]==0){a[0]=QZ.zb(D[0].name);
e=e.slice(1)}var l=0;while(e.length!=0){a.splice(e[0]-l,1);e=e.slice(1);l++}}var h=new QY((G=="new"?"New":G=="del"?"Delete":"Rename")+" Path",this);
h.data={C_:D,NP:P,ehu:a,NG:e};K.Gn(h);this.Qv(h.data,K)}else{var s=K.zu(p.j=="append"),J=s[0],u=s[1],Q=J[u[0]],W=Q.add.vmsk,q=Q.add.vogk,H=W.clone(),C=W.clone(),k=JSON.stringify(q);
if(p.j=="remove"){if(C.Y.length==0)return;var l=0;for(var i=0;i<C.Y.length;i++){q.splice(C.Y[i]+l,1);
l--}C.Z=Z.e.eq$(C.Z,C.Y);C.Y=[];C.HM=[]}if(p.j=="append"){r.Zb.eVm(p.ehv,C,q)}this.Rw(K,Q._W,C,q);this.rp(K,p.hH,Q._W,H,C.clone(),null,k,JSON.stringify(q))}};
r.Zb.eOe=function(p,d){var K=Z.e.eqF(p.Z,p.Y),A=[];for(var x=0;x<p.Y.length;x++)A.push(JSON.parse(JSON.stringify(d[p.Y[x]])));
return[K,A]};r.Zb.eVm=function(p,d,K){var A=Z.e.vB(d.Z),x=Z.e.vB(p[0]);d.Z=d.Z.concat(p[0].slice(2));
d.Y=[];for(var M=0;M<x;M++)d.Y.push(A+M);for(var M=0;M<x;M++)K.push(JSON.parse(JSON.stringify(p[1][M])))};
r.Zb.prototype.gJ=function(p,d){if(d==null)return!1;var K=d.zu(),A=K[0],x=K[1];if(x.length==0)return!1;
var M=A[x[0]],G=M.add.vmsk;if(G&&G.Y.length+G.HM.length!=0)return[B.dF,B.dB].indexOf(p)!=-1};r.Zb.prototype.AC=function(p,d,K,A){if(p==null)return;
var x=p.zu(),M=x[0],G=x[1];if(G.length==0)return;var D=M[G[0]],P=D.add.vmsk;if(A.Q(B.qo)||A.Q(B.ut)){P.HM=[];
p.nw=!0}if(P.Y.length!=0){var a=A.RQ();if(a.x!=0||a.y!=0){var e=P.clone(),f=P.clone(),N=new QI(1,0,0,1,a.x,a.y),Y=D.add.vogk,l=JSON.stringify(Y);
Z.e.RF(f.Z,N,f.Y);Z.B$.u(Y,Z.c.H$(N),f.Y);this.Rw(p,D._W,f,Y);this.rp(p,"Move Paths",D._W,e,f.clone(),!0,l,JSON.stringify(Y))}if(A.Q(B.dF)||A.Q(B.dB))this.Ch({j:"remove",hH:"Delete Paths"},d,p,A,K)}};
r.Zb.prototype.rp=function(p,d,K,A,x,M,G,D){var P=new QY(d,this);P.data={QT:K,Nt:A,Mu:x,eId:M,eRL:G,Nm:D};
p.Gn(P)};r.Zb.prototype.Qv=function(p,d){if(p.QT!=null)this.Rw(d,p.QT,p.Mu.clone(),JSON.parse(p.Nm));
else{d.uE=p.ehu.slice(0);d.wV=p.NG.slice(0);d.nw=d.Yi=!0}};r.Zb.prototype.WY=function(p,d){if(p.QT!=null)this.Rw(d,p.QT,p.Nt.clone(),JSON.parse(p.eRL));
else{d.uE=p.C_.slice(0);d.wV=p.NP.slice(0);d.nw=d.Yi=!0}};r.Zb.prototype.Rw=function(p,d,K,A){var x=d<0?p.uE[-1-d]:d<1e6?p.L[d]:p.L[d-1e6].add.TySh;
x.add.vmsk=K;x.add.vogk=A;if(1e6<=d){QM.Uy(x);var M=p.L[d-1e6],G=x,D=this.hG,P=new MB(G.Nf,D.ET),a=Mq.ZM(P,G);
M.rect=a.m;M.buffer=a.nM;M.i();p.i()}else if(0<=d){K.dJ=!0;x.u_(p);p.i()}p.nw=p.Yi=!0};r.Zb.vW=function(p,d){var K=p.L[d],A=K.add.vstk,x=null;
if(A&&!A.fillEnabled.v)x={rv:0};else if(K.add.SoCo)x={rv:1,dm:K.add.SoCo};else if(K.add.GdFl)x={rv:2,dm:K.add.GdFl};
else if(K.add.PtFl)x={rv:3,dm:K.add.PtFl};return x};r.Zb.JM=function(p,d){var K=p.add.vmsk,A=p.add.vstk,x=d.rv;
if(A)A.fillEnabled.v=x!=0;if(x>0){var M=["SoCo","GdFl","PtFl"][x-1];for(var G=0;G<3;G++)delete p.add[["SoCo","GdFl","PtFl"][G]];
p.add[M]=d.dm}};r.aa=function(p,d,K,A){r.Zb.call(this,p,d,K);this.qi={tmode:1,shape:Pd.Kj(),pshape:0,binop:0,crad:0,irad:40,length:4,sides:5,width:5,tolr:5,cstr:{pz:0}};
this.ehE=A;this.BW=null;this.Nu=null;this.cT=null};r.aa.prototype=new r.Zb;r.aa.prototype.cQ=function(p){return p.Fj&&this.id!=r.zc};
r.aa.prototype.enable=function(p,d,K,A,x){var M=new y(n.E.s,!0);M.data={j:n.H.Nn,$B:"crosshair"};d.n(M)};
r.aa.prototype.pN=function(p,d,K,A){};r.aa.prototype.Fg=function(p,d,K,A,x){this.eMC(d,K);var M=this.qi.tmode;
if(M==2&&!p.ux())return;var G=p.U.FT(x.x,x.y);G=r.Zl.oe(p,G,K);this.cT=[G.x,G.y];this.BW=G;this.Nu=new QP(0,0)};
r.aa.prototype.ePl=function(p,d,K){var A=[this.BW.clone(),d.clone()];if(this.ehE)A=r.aa.vA(A[0],A[1],K,!0,this.qi.cstr);
if(p)p.U.yg=new R(A[0].x,A[0].y,A[1].x-A[0].x,A[1].y-A[0].y);return this.pN(A[0],A[1],K.Q(B.tS),this.cT)};
r.aa.prototype.epe=function(p,d,K){var A=p.U.FT(d.x,d.y),x=this.qi.cstr;if(x.pz==2){var M=new R(A.x-x.x,A.y-x.y,x.x,x.y),G=r.Zl.zo(p,M,K);
A.x+=G[0];A.y+=G[1];r.Zl.zh(p,M,G)}else A=r.Zl.oe(p,A,K);return A};r.aa.prototype.Yh=function(p,d,K,A,x){if(this.BW==null)return;
var M=this.epe(p,x,K);if(A.Q(B.Rv))this.BW=M.TS(this.Nu);else this.Nu=M.TS(this.BW);this.cT.push(M.x,M.y);
if(this.qi.shape==null)this.qi.shape=K.$w[0];var G=this.ePl(p,M,A)[0],D=Z._.ZT(G);p.K._H=D;if(this.id!=r.zc&&this.id!=r.Dx&&this.id!=r.DA)r.IM.tf(x.x+10,x.y-10,p.U.yg,p,K);
p.nw=!0};r.aa.prototype.eGf=function(p,d,K,A){var x=p[4].clone();if(A){x.x-=d/2;x.y-=K/2}var M=this.pN(x,new QP(x.x+d,x.y+K),!1,this.cT);
this.eOG(p[0],p[1],p[2],M)};r.aa.prototype.eOG=function(p,d,K,A){var x=new y(n.E.Iz,!0);x.data=r.aa.eRb(A[1],K);
d.n(x);if(A[1].v.classID=="customShape"&&A[1].v.Nm.v.startsWith("--")){var M=p.zu(),G=M[0],D=M[1],P=G[D.pop()],a=P.add.vmsk,e=P.add.vogk,f=a.clone();
f.Z=A[0];this.Rw(p,P._W,f,e)}};r.aa.prototype.gi=function(p,d,K,A,x){if(this.BW==null)return;var M=this.epe(p,x,K),G=this.qi.binop,D=this.qi.tmode,P=this.cT,a=P.length;
if(this.id==r.zc&&a<=4){}else if(a<=4){M.x=Math.round(M.x);M.y=Math.round(M.y);var e=new y(n.E.s);e.data={j:n.H.Ae,$u:"createshape",ehL:this.eGf.bind(this),eh_:this.name,ehh:[p,d,K,A,M]};
d.n(e)}else if(a!=2){var f=this.ePl(p,M,A),N=f[0];if(D==0&&N.length>2){N[2].Ez=[1,2,3,0][G];var Y=p.zu(!0),l=Y[0],h=Y[1],s=l[h.pop()],J=s.add.vmsk,u=s.add.vogk,Q=J.clone(),W=J.clone(),q=JSON.stringify(u);
W.Z=W.Z.concat(N.slice(2));W.Y=[Z.e.vB(W.Z)-1];var H=Z.B$.kp(f[1]);u.push(H?H:Z.B$.MS());this.Rw(p,s._W,W,u);
this.rp(p,this.name,s._W,Q,W,null,q,JSON.stringify(u))}else if(D==1){this.eOG(p,d,K,f)}else if(D==2){var W=new V.mK;
W.Z=W.Z.concat(N.slice(2));var C=W.gW(),k=Z.p(C.rect.r()*4);Z.Pk(k,(K.ou&255)<<16|(K.ou>>8&255)<<8|(K.ou>>16&255)<<0);
Z.qF(C.channel,k,3);var i=new y(n.E.q,!0);i.O=r.hK;i.data={j:"draw",Gi:{buffer:k,rect:C.rect.clone()},hH:this.name};
d.n(i)}}this.BW=null;p.K._H=null;p.K.ny=null;p.K.nt=[];p.U.yg=null;p.nw=!0};r.aa.prototype.kz=function(p,d,K,A,x){for(var K in p)this.qi[K]=p[K]};
r.aa.vA=function(p,d,K,A,x){var M=p.x,G=p.y,D=d.x,P=d.y;if(x&&x.pz==2){if(A){D=Math.round(D);P=Math.round(P)}M=D-x.x;
G=P-x.y}else{var a=0;if(x&&x.pz==1)a=x.y/x.x;else if(K&&K.Q(B.tS))a=1;if(a!=0){if(A){if(M<D)M=Math.floor(M);
else M=Math.ceil(M);if(G<P)G=Math.floor(G);else G=Math.ceil(G)}var e=Math.abs(D-M),f=Math.abs(P-G),N=e;
if(f/e<a)N*=f/e/a;D=D>M?M+N:M-N;P=P>G?G+N*a:G-N*a}if(K&&K.Q(B.Od)){M-=D-M;G-=P-G}}var p=new QP(M,G),d=new QP(D,P);
if(A)r.aa.eGk(p,d);return[p,d]};r.aa.eGk=function(p,d){if(p.x>d.x){var K=p.x;p.x=d.x;d.x=K}if(p.y>d.y){var K=p.y;
p.y=d.y;d.y=K}p.x=Math.floor(p.x);p.y=Math.floor(p.y);d.x=Math.ceil(d.x);d.y=Math.ceil(d.y)};r.aa.etS=function(){return{classID:"Mk",null:{t:"obj ",v:[{t:"Clss",v:{classID:"contentLayer"}}]},Usng:{t:"Objc",v:{classID:"contentLayer",Type:{t:"Objc",v:{}}}}}};
r.aa.Lb=function(p,d){var K=r.aa.etS();if(d==null)d=JSON.parse(JSON.stringify(QG.Pr[p]));Qv.Ys.Mh(d,K.Usng.v.Type.v,p);
return{LG:"make",Qz:K}};r.aa.eRb=function(p,d){var K=d.cf,A=JSON.parse(JSON.stringify(d.cY));if(K.rv==0)A.fillEnabled.v=!1;
var x=r.aa.Lb(Math.max(0,K.rv-1),K.dm);x.Qz.Usng.v.Shp=p;x.Qz.Usng.v.strokeStyle={t:"Objc",v:A};return x};
r.yU=function(){r.Zb.call(this,[10,29],r.Hh,"tools/pen");this.__=null;this.xA=null;this.$V=1;this.eRI=0;
this.fJ=null;this.fj=!1};r.yU.prototype=new r.Zb;r.yU.prototype.cQ=function(p){return this.__!=null};
r.yU.prototype.Fg=function(p,d,K,A,x){this.eMC(d,K);var M=p.U.FT(x.x,x.y),Y,l;M.x=Math.round(M.x);M.y=Math.round(M.y);
var G=r.Zl.oe(p,M,K),D=p.zu(this.$V==0),P=D[0],a=D[1],e=P[a.pop()],f=e?e.add.vmsk:null,N=4*n.F()/p.U.v;
if(f)Y=Z.e.uD(f.Z,M,!0,N);if(this.$V==1&&(f==null||(f.HM.length==0||f.HM[0]!=f.Z.length-1)&&Y._W==-1)){var h=new y(n.E.Iz,!0),s=Z.B$.Nc("customShape",[0,0,1,1],null,null,null,"--");
h.data=r.aa.eRb(s,K);d.n(h);D=p.zu(!0);P=D[0];a=D[1];e=P[a.pop()];f=e.add.vmsk;f.Z=f.Z.slice(0,2)}var J=e.add.vogk;
this.__=f.clone();this.xA=JSON.stringify(J);var u=f.Z,Q=Z.e.vB(u);l=Z.e.sJ(f.Z,new R(M.x-N,M.y-N,N*2,N*2));
Y=Z.e.uD(f.Z,M,!0,N);if(Y._W!=-1&&l[0].length==0){var W=Z.e._e(u,Y._W);while(u[W].length<=Y.wz){Y.wz-=u[W].length;
W+=u[W].length+1}u[W].length++;u.splice(W+2+Y.wz,0,{type:4,Gp:G.clone(),I:G.clone(),UL:G.clone()});f.HM=[W+2+Y.wz]}else if(l[0].length==1&&A.Q(B.Od)){var q=l[0],H=f.Z.length-1,C=f.Z[q];
C.UL=C.I.clone();if(q!=H)C.Gp=C.I.clone()}else{var k=0;if(f.HM.length!=1){f.Y=[Q];u.push({type:3,length:1,Ez:[1,2,3,0][this.eRI],LC:0,if:0,qP:0});
k=u.length;J.push(Z.B$.MS())}else{var i=f.HM[0],m=Z.e.PR(u,i),W=Z.e._e(u,m);if(i==W+u[W].length&&QP.gG(M,u[W+1].I)<N){u[W].type=0;
f.HM=[W+1];this.fJ=G;this.fj=!0;this.Rw(p,e._W,f,J);p.nw=!0;return}u[W].length++;k=i+1}if(A.Q(B.tS)&&u[k-1]&&u[k-1].I)G=r.hT.kw(u[k-1].I,G);
u.splice(k,0,{type:4,Gp:G.clone(),I:G.clone(),UL:G.clone()});f.HM=[k];this.fJ=G}this.Rw(p,e._W,f,J);
p.nw=!0};r.yU.prototype.Yh=function(p,d,K,A,x){if(this.__==null)return;var M=p.U.FT(x.x,x.y),G=r.Zl.oe(p,M,K),D=p.zu(this.$V==0),P=D[0],a=D[1],e=P[a.pop()],f=e.add.vmsk,N=f.Z,Y=N[f.HM[0]];
if(A.Q(B.Rv)){if(A.Q(B.tS))G=r.hT.kw(this.fJ,G);var l=Y.I.TS(Y.UL),h=Y.Gp.TS(Y.I);Y.UL=G;Y.I=G.add(l);
Y.Gp=Y.I.add(h)}else{if(A.Q(B.tS))G=r.hT.kw(Y.I,G);if(this.fj){var s=QP.gG(Y.I,G),J=s==0?0:QP.gG(Y.I,Y.UL)/s;
Y.UL.x=Y.I.x+J*(G.x-Y.I.x);Y.UL.y=Y.I.y+J*(G.y-Y.I.y)}else Y.UL=G;if(A.Q(B.Od))Y.type=5;else{Y.type=4;
Y.Gp=Y.I.add(Y.I.TS(G))}this.fJ=G}this.Rw(p,e._W,f,e.add.vogk);p.nw=!0};r.yU.prototype.gi=function(p,d,K,A,x){if(this.__==null)return;
var M=p.zu(this.$V==0),G=M[0],D=M[1],P=G[D.pop()],a=P.add.vmsk,e=P.add.vogk;this.rp(p,this.fj?"Close Path":"Add Anchor Point",P._W,this.__,a.clone(),null,this.xA,JSON.stringify(e));
this.fj=!1;this.__=null};r.yU.prototype.kz=function(p,d,K,A,x){this.$V=p.tmode;this.eRI=p.binop};r.vZ=function(){r.aa.call(this,[10,30],r.zc,"tools/fpen",!1)};
r.vZ.prototype=new r.aa;r.vZ.prototype.pN=function(p,d,K,A){return[Z.e.Ki(A,this.qi.tolr),Z.B$.Nc("customShape",[0,0,1,1],null,null,null,"--")]};
r.I_=function(){r.Zb.call(this,[10,27],r.IV,"tools/pselect");this.nH=null;this.$L=!1;this.GS=null;this.__=null;
this.NH=null;this.xA=null;this.Nv=null;this.xq=null;this.$g=null;this.na=null};r.I_.prototype=new r.Zb;
r.I_.prototype.cQ=function(p){return p.Fj};r.I_.prototype.Fg=function(p,d,K,A,x){var M=p.U.FT(x.x,x.y),G=p.zu(),D=G[0],P=G[1],a,e;
for(var f=0;f<P.length;f++){var N=D[P[f]],Y=N.add.vmsk,l=Z.e.uD(Y.Z,M)._W;if(l!=-1){this.GS=a=N;e=l}for(var h=0;
h<Y.K_.length;h++){var s=Z.e.kX(Y.Z,Y.K_[h]);if(s==null)continue;var J=QP.gG(s,M);if(J<4*n.F()/p.U.v){var u=p.L[N._W-1e6].add.TySh,Q=u.Nf.Curve,W=u.u,q=Q.Reversed;
Q.Reversed=!1;var Q=MB.rA(u.Nf.Curve);Q.Reversed=q;Z._.u(Q[0],W,Q[0]);this.$g=[Q,h,W.V*W.Wb-W.M*W.$H];
this.GS=a=N;e=0}}if(this.$g)break}if(a!=null){var Y=a.add.vmsk;Y.HM=[];var H=Y.Y.indexOf(e);if(A.Q(B.tS)){if(H==-1){Y.Y.push(e);
this.$L=!0}else Y.Y.splice(H,1)}else{if(H==-1)Y.Y=[e];this.$L=!0}this.xq=Z.e.Du(Y.Z,Y.Y)}this.nH=M;this.na=new Bx(M);
p.Yi=!0;p.nw=!0};r.I_.prototype.Yh=function(p,d,K,A,x){if(this.nH==null)return;var M=p.U.FT(x.x,x.y);
if(this.$L){M=this.na.rR(M,A);var G=this.GS;if(this.__==null){this.__=this.NH=G.add.vmsk.clone();this.xA=this.Nv=JSON.stringify(G.add.vogk);
if(A.Q(B.Od)){var D=this.__.clone(),P=JSON.parse(this.xA),a=r.Zb.eOe(D,P);r.Zb.eVm(a,D,P);this.NH=D;
this.Nv=JSON.stringify(P)}}var D=this.NH.clone(),P=JSON.parse(this.Nv);if(this.$g){var e=this.$g,f=e[0][0],N=Z._.sM(f,M.x,M.y);
D.K_[e[1]]=e[0][1][N];var Y=f[N*2],l=f[N*2+1],h=(f[N*2+2]-Y)*(M.y-l)-(f[N*2+3]-l)*(M.x-Y);if(e[2]<0)h=-h;
D.nI=h>0}else{var s=this.xq.clone(),J=s.x,u=s.y;s.offset(M.x-this.nH.x,M.y-this.nH.y);s.x=Math.round(s.x);
s.y=Math.round(s.y);var Q=r.Zl.zo(p,s,K),W=new QI(1,0,0,1,s.x-J+Q[0],s.y-u+Q[1]);Z.e.RF(D.Z,W,D.Y);Z.B$.u(P,Z.c.H$(W),D.Y);
r.Zl.zh(p,s,Q)}this.Rw(p,G._W,D,P)}else{var q=this.nH;p.K._H=Z._.MF(new R(q.x,q.y,M.x-q.x,M.y-q.y));
p.nw=!0}};r.I_.prototype.gi=function(p,d,K,A,x){if(this.nH==null)return;var M=p.U.FT(x.x,x.y),G=this.GS,D=G?G.add.vmsk:null;
if(this.$L){var P=JSON.stringify(G.add.vogk);if(!this.nH.GR(M))this.rp(p,"Move Paths",G._W,this.__,D,null,this.xA,P);
if(p!=null&&p.K.ny){p.K.ny=null;p.nw=!0}}else{if(D){var a=this.nH,e=new R(a.x,a.y,M.x-a.x,M.y-a.y),f=Z.e.eqm(D.Z,e);
if(A.Q(B.tS)){for(var N=0;N<f.length;N++)if(D.Y.indexOf(f[N])==-1)D.Y.push(f[N])}else D.Y=f}p.K._H=null;
p.nw=!0}this.nH=null;this.__=null;this.$g=null;this.$L=!1;this.na=null};r.I_.prototype.lT=function(p,d,K,A){r.Zb.prototype.lT.call(this,p,d,K,A);
if(p.Y.length==0)return;var x=p.zu(),M=x[0],G=x[1];if(G.length==0)return;var D=M[G[0]],P=D.add.vmsk,a=D.add.vstk,e=D.add.vogk,f=new y(n.E.s,!0);
f.data={j:n.H.xV,O:this.id,Ed:"main",pW:P?P:null,B$:e};d.n(f)};r.I_.prototype.kz=function(p,d,K,A,x){var M=p.ZU;
if(M.pW){var G=K.zu(),D=G[0],P=G[1],a=D[P[0]],e=a.add.vmsk.clone(),f=JSON.stringify(a.add.vogk),N=M.pW;
this.Rw(K,a._W,N,M.B$);var Y=[18,5];if(e.Z.length==N.Z.length)Y=e.Y[0]==N.Y[0]?"Fill Rule":"Path Order";
this.rp(K,Y,a._W,e,N,null,f,JSON.stringify(M.B$))}};r.OP=function(){r.Zb.call(this,[10,28],r.Dh,"tools/dselect");
this.Uk=-1;this.oM=-1;this.fX=null;this.nH=null;this.GS=null;this.__=null;this.xA=null;this.cC=0;this.eRq={psnap:!1};
this.na=null};r.OP.prototype=new r.Zb;r.OP.prototype.cQ=function(p){return p.Fj};r.OP.prototype.kz=function(p){this.eRq=p};
r.OP.prototype.disable=function(p,d,K,A){this.vr(p)};r.OP.prototype.Fg=function(p,d,K,A,x){this.vr(p);
var M=p.U.FT(x.x,x.y),f,N,Y;this.fX=M.clone();var G=p.zu(),D=G[0],P=G[1];if(P.length==0)return;var a=4*n.F()/p.U.v,e=new R(M.x-a,M.y-a,a*2,a*2);
for(var l=0;l<P.length;l++){f=this.GS=D[P[l]];N=f.add.vmsk;Y=Z.e.sJ(N.Z,e);if(Y[0].length+Y[1].length+Y[2].length!=0)break}var h=[!1,!1,!1];
for(var s=0;s<3;s++){for(var J=0;J<Y[s].length;J++)if(N.HM.indexOf(Y[s][J])!=-1){Y[s]=[Y[s][J]];h[s]=!0;
break}}if(Y[0].length!=0&&(h[0]||!h[1]&&!h[2])){var u=Y[0][0],Q=N.HM.indexOf(u);if(A.Q(B.tS)){if(Q==-1)N.HM.push(u);
else{N.HM.splice(Q,1);p.nw=!0;return}}else if(Q==-1)N.HM=[u];this.Uk=u;this.oM=0}else if(Y[1].length!=0&&(h[1]||!h[2])){this.Uk=Y[1][0];
this.oM=1}else if(Y[2].length!=0){this.Uk=Y[2][0];this.oM=2}else{var W=Z.e.uD(N.Z,M,!0,a);if(W._W==-1)this.nH=M;
else{N.Y=[W._W];N.HM=[]}}if(this.__==null){this.__=f.add.vmsk.clone();this.xA=JSON.stringify(f.add.vogk)}this.na=new Bx(M);
p.nw=!0};r.OP.prototype.Yh=function(p,d,K,A,x){if(p==null)return;var M=p.U.FT(x.x,x.y),G=this.GS;if(this.Uk!=-1){var D=this.__.clone(),P=G.add.vogk,a=D.Z[this.Uk];
a=[a.I,a.Gp,a.UL][this.oM];if(A.Q(B.tS)){M=this.na.rR(M,A);M.x+=a.x-this.fX.x;M.y+=a.y-this.fX.y}else{if(this.eRq.psnap){M.x=Math.round(M.x);
M.y=Math.round(M.y)}M=r.Zl.oe(p,M,K)}if(this.oM==0){var e=new QI(1,0,0,1,M.x-a.x,M.y-a.y);Z.e.RF(D.Z,e,null,D.HM)}else{var f=D.Z[this.Uk],N=f.Gp,Y=f.UL;
if(this.oM==2){N=f.UL;Y=f.Gp}N.pf(M.x,M.y);if(f.type==1||f.type==4){var l=QP.gG(N,f.I),h=QP.gG(Y,f.I);
if(h!=0){Y.x=f.I.x-(N.x-f.I.x)*(h/l);Y.y=f.I.y-(N.y-f.I.y)*(h/l)}}}this.vk(D,P);this.Rw(p,G._W,D,P)}else if(this.nH!=null){var s=this.nH;
p.K._H=Z._.MF(new R(s.x,s.y,M.x-s.x,M.y-s.y));p.nw=!0}else{var J=p.zu(),u=J[0],Q=J[1],G,D,H;if(Q.length==0)return;
var W=4*n.F()/p.U.v,q=new R(M.x-W,M.y-W,W*2,W*2);for(var C=0;C<Q.length;C++){G=u[Q[C]];D=G.add.vmsk;
H=Z.e.sJ(D.Z,q);if(H[0].length+H[1].length+H[2].length!=0)break}this.vr(p);for(var k=0;k<3;k++){for(var i=0;
i<H[k].length;i++){var m=H[k][i],w=D.Z[m];w=k==0?w.I:k==1?w.Gp:w.UL;p.K.$Z.push(p.K.xJ.length>>>1);p.K.xJ.push(w.x,w.y);
p.nw=!0}}}};r.OP.prototype.vr=function(p){if(p.K.xJ.length!=0){p.K.xJ=[];p.K.$Z=[];p.nw=!0}};r.OP.prototype.gi=function(p,d,K,A,x){var M=p.U.FT(x.x,x.y),G=this.GS,D=G?G.add.vmsk:null,P=G?G.add.vogk:null;
if(this.Uk!=-1){if(Date.now()-this.cC<300){var a=D.Z[this.Uk],e=this.oM,f=null;if(e==0){var N=a.Gp.GR(a.I),Y=a.UL.GR(a.I);
if(!N&&!Y){f="Anchor Type";if(a.type==1||a.type==4)a.type++;else{a.type--;a.UL=a.I.add(a.I.TS(a.Gp))}}else{f="Add Handles";
if(N&&Y){a.Gp.x-=30;a.UL.x+=30}else if(N)a.Gp=a.I.add(a.I.TS(a.UL));else if(Y)a.UL=a.I.add(a.I.TS(a.Gp))}}else{f="Remove Handle";
if(e==1)a.Gp.Yl(a.I);else a.UL.Yl(a.I)}this.vk(D,P);this.Rw(p,G._W,D,P);this.rp(p,f,G._W,this.__,D,null,this.xA,JSON.stringify(P))}else if(!this.fX.GR(M)){this.rp(p,"Drag Anchors",G._W,this.__,D,null,this.xA,JSON.stringify(P))}this.cC=Date.now()}else if(this.nH!=null){var l=this.nH,h=new R(l.x,l.y,M.x-l.x,M.y-l.y);
if(h.t<0)h.x+=h.t;if(h.D<0)h.y+=h.D;h.t=Math.abs(h.t);h.D=Math.abs(h.D);var s=Z.e.sJ(D.Z,h);D.HM=s[0];
p.K._H=null}this.GS=null;this.__=null;this.nH=null;this.Uk=this.oM=-1;this.na=null;p.nw=!0};r.OP.prototype.vk=function(p,d){for(var K=0;
K<p.HM.length;K++){var A=Z.e.PR(p.Z,p.HM[K]);Z.B$.hk(d,A)}};r.OP.prototype.AC=function(p,d,K,A){if(p==null)return;
var x=p.zu(),M=x[0],G=x[1];if(G.length==0)return;var D=M[G[0]],P=D.add.vmsk;if(P==null||P.HM.length==0)return;
var a=D.add.vogk,e=JSON.stringify(a),f=A.RQ();if(f.x!=0||f.y!=0){var N=P.clone(),Y=P.clone(),l=new QI(1,0,0,1,f.x,f.y);
Z.e.RF(Y.Z,l,null,Y.HM);this.vk(Y,a);this.Rw(p,D._W,Y,a);this.rp(p,"Move Anchors",p.Y[0],N,Y.clone(),!0,e,JSON.stringify(a))}if(A.Q(B.dF)||A.Q(B.dB)){var N=P.clone(),Y=P.clone();
Y.Z=Z.e.eqE(Y.Z,Y.HM,a);Y.HM=[];this.Rw(p,D._W,Y,a);this.rp(p,"Delete Anchors",D._W,N,Y.clone(),!0,e,JSON.stringify(a))}};
r.OP.prototype.rp=function(p,d,K,A,x,M,G,D){var P=p.ED();if(M&&P!=null&&P.O==this&&P.data.eId&&P.data.QT==K&&JSON.stringify(P.data.Nt.HM)==JSON.stringify(A.HM)){P.data.Mu=x;
P.data.Nm=D}else{var P=new QY(d,this);P.data={QT:K,Nt:A,Mu:x,eId:M,eRL:G,Nm:D};p.Gn(P)}};r.Rect=function(){r.aa.call(this,[10,32],r.DW,"tools/rect",!0)};
r.Rect.prototype=new r.aa;r.Rect.prototype.pN=function(p,d,K){var A=this.qi.crad,x=d.x-p.x,M=d.y-p.y;
return[Z.e.Ek.Rect(p.x,p.y,x,M,A),Z.B$.Nc("Rctn",[p.x,p.y,d.x,d.y],[A,A,A,A])]};r.Ao=function(){r.aa.call(this,[10,33],r.Hs,"tools/ellipse",!0)};
r.Ao.prototype=new r.aa;r.Ao.prototype.pN=function(p,d,K){var A=d.x-p.x,x=d.y-p.y;return[Z.e.Ek.Ao(p.x,p.y,A,x),Z.B$.Nc("Elps",[p.x,p.y,d.x,d.y])]};
r.EP=function(){r.aa.call(this,[10,34],r.Dx,"tools/pshape",!1)};r.EP.prototype=new r.aa;r.EP.prototype.pN=function(p,d,K){var A=this.qi.pshape,x=this.qi.crad,M=this.qi.irad/100,G=this.qi.sides,D=this.qi.width,P=this.qi.tsiz,a=this.qi.length,s;
d=d.clone();if(K){if(Math.abs(d.x-p.x)<Math.abs(d.y-p.y))d.x=p.x;else d.y=p.y}var e=p.x,f=p.y,N=d.x,Y=d.y,l=Math.sqrt((N-e)*(N-e)+(Y-f)*(Y-f)),h=Math.atan2(-Y+f,N-e);
if(A==0)s=Z.e.Ek.Ks(e,f,l,h,G,x);if(A==1)s=Z.e.Ek.ehP(e,f,l,h,G,x,M);if(A==2)s=Z.e.Ek.ehO(p.x,p.y,d.x,d.y,D,P/100);
if(A==3)s=Z.e.Ek.ehe(e,f,l,h,a);return[s,Z.B$.Nc("customShape",[p.x,p.y,d.x,d.y],null,null,null,"--")]};
r._G=function(){r.aa.call(this,[10,35],r.DA,"tools/line",!1)};r._G.prototype=new r.aa;r._G.prototype.pN=function(p,d,K){var A=this.qi.width;
d=d.clone();if(K){d=r.hT.kw(p,d)}return[Z.e.Ek._G(p.x,p.y,d.x,d.y,A),Z.B$.Nc("Ln",null,null,[p.x,p.y,d.x,d.y],A)]};
r.EM=function(){r.aa.call(this,[10,31],r.Hg,"tools/cshape",!0)};r.EM.prototype=new r.aa;r.EM.prototype.pN=function(p,d,K){var A=this.qi.shape,x=A.dC.t/A.dC.D,M=V.mK.el(A.Z);
d=d.clone();if(K){d.y=p.y+(d.x-p.x)/x}var G=d.x-p.x,D=d.y-p.y;Z.e.RF(M,new QI(G,0,0,D,p.x,p.y));return[M,Z.B$.Nc("customShape",[p.x,p.y,d.x,d.y],null,null,null,A.WX)]};
r.ge=function(p,d,K){r.IM.call(this,p,d,K);this.eg=0;this.L=null;this.xZ=null;this.gn=null;this.Np=1;
this.fk=!1;this.cursor=null;this.nA=null;this.ga=null;this.xd=!1;this.Ik=null;this.ezt=0;this.NV=null;
this.PK=0;this.W_=null;this.Wq=null;this.qW=null;this.N_=null;this.NR=null};r.ge.prototype=new r.IM;
r.ge.zx=function(p,d){var K={classID:"null",null:Pq.bt("Dcmn",!0)};if(p)K.Angl={t:"UntF",v:{type:"#Ang",val:d}};
else K.Axis={t:"enum",v:{Ornt:d}};return{LG:p?"rotateEventEnum":"flip",Qz:K}};r.ge.prototype.Tq=function(p,d,K,A,x){var M=new y(n.E.s,!0);
M.data={j:n.H.xV,O:this.id,np:x,cR:p,gn:K};d.n(M);this.yD=!1};r.ge.prototype.cQ=function(p){return this.Wq&&this.Wq.eBg()};
r.ge.prototype.Ch=function(p,d,K,A,x){this.gn=x;if(p.j=="again"&&this.NV==null)return;if(p.j=="doMouseDown"){if(this.Wq==null)return;
this.Fg(K,d,x,A,p.zg);return}if(!this.DF(K,x))return;if(this.Wq){this.eKv(p,this.Wq.RS());this.fO(K,x,0);
this.IN(K);return}this.eIW(K,p.o==null,p.o);this.ePC(K);this.eKv(p);this.xC(K,d,p.hH,!1)};r.ge.prototype.eKv=function(p,d){var K=this.W_;
if(d==null){var A=p.qL!=null?p.qL:4;d=this.Wq.et_()[A]}var x=d.x,M=d.y;if(p.j=="rot"&&p.S!=Math.PI&&(K.t+K.D&1)==1){x=Math.floor(x);
M=Math.floor(M)}var G=new QI;G.translate(-x,-M);if(p.j=="rot")G.rotate(p.S);if(p.j=="scl")G.scale(p.S.x,p.S.y);
if(p.j=="mat")G.concat(p.S);G.translate(x,M);if(p.j=="again")G=this.NV;var D=this.Wq.qh();Z._.u(D,G,D);
this.Wq.Ea(D)};r.ge.prototype.ZX=function(){return!0};r.ge.prototype.DF=function(p,d){if(p==null)return!1;
if(this.id==r.Db)return p.P!=null;var K=p.AP(!0,null,null,!0);for(var A=0;A<K.length;A++){var x=p.L[K[A]];
if(x.uF(2)||x.uF(31)){alert(Qc.get([6,57,0]));return!1}if(x.add.artb){alert("You can not transform the whole artboard");
return!1}if(x.add.TySh)if(!Mq.Ur(x.add.TySh,d.ET))return!1;if(x.add.SoLd){if(K.length==1&&!Z.Fl.Ab(x.add.SoLd.warp.v)&&(x.gW()&&x.gW().LQ||x.add.vmsk&&x.add.vmsk.LQ)){alert("Unlink masks before transforming Smart Object");
return!1}if(!p.euQ(x.add.SoLd.Idnt.v)){alert("Unsupported format of the smart object ("+p.za(x.add.SoLd.Idnt.v).QR+")");
return!1}}}if(p.P==null)return!0;if(!p.ux())return!1;return p.eH_()};r.ge.prototype.Fg=function(p,d,K,A,x){var M=p.U.FT(x.x,x.y);
if(this.PK==1){var G=Z.c.an(Z.c.cg(this.Wq.qh(),this.W_));M=Z.c.Ta(G,M)}var D=this.PK==0?this.Wq:this.qW;
this.fk=D.Fg(p,K,A,M);if(this.fk&&D.Mi(M)){if(Date.now()-this.ezt<250)this.xC(p,d,null,!0);this.ezt=Date.now()}};
r.ge.prototype.Rk=function(p){var d=new y(n.E.s,!0);d.data={j:n.H.Nn,$B:this.cursor};p.n(d)};r.ge.prototype.Yh=function(p,d,K,A,x){var M=p.U.FT(x.x,x.y);
if(this.PK==1){var G=Z.c.an(Z.c.cg(this.Wq.qh(),this.W_));M=Z.c.Ta(G,M)}var D=this.PK==0?this.Wq:this.qW;
if(!x.Fj){var P="default";if(D){var a=D.ae(M,p.U.v);if(a)P=a}if(P!=this.cursor){this.cursor=P;this.Rk(d)}}if(!this.fk)return;
D.Yh(p,K,A,M);this.fO(p,K,0);this.IN(p);this.zr(d)};r.ge.prototype.gi=function(p,d,K,A,x){var M=p.U.FT(x.x,x.y);
this.Wq.gi(p,K,A,M);this.fk=!1};r.ge.prototype.AC=function(p,d,K,A){if(A.Q(B.ut))this.xC(p,d,null,!0);
else if(A.Q(B.qo))this.Zy(p,d);else{var x=this.Wq.AC(p,K,A);if(x){this.fO(p,K,0);this.zr(d)}}};r.ge.prototype.kz=function(p,d,K,A){if(p.Ed=="commit")this.xC(K,d,null,!0);
else if(p.Ed=="cancel")this.Zy(K,d);else if(p.Ed=="switchWarp"){this.PK=1-this.PK;this.etP();this.IN(K);
this.zr(d)}else if(p.Ed=="wrp"){this.qW.eeb(p.TB);this.IN(K);this.fO(K,this.gn,0)}else if(p.Ed=="ctyp"){this.Wq.eQc(p.Nz);
this.IN(K);this.zr(d)}else if(p.Ed=="cen"){this.Wq.eQ$(p.ME);this.IN(K);this.fO(K,this.gn,0);this.zr(d)}else if(p.Ed=="trn"){var x=Z.c.H$(p.wC),M=this.W_,G=Z.c.cg(this.Wq.qh(),this.W_);
x[6]=G[6],x[7]=G[7];var D=[M.x,M.y,M.x+M.t,M.y,M.x+M.t,M.y+M.D,M.x,M.y+M.D];Z.c.apply(x,D);this.Np=p.Np;
this.Wq.Ea(D);this.IN(K);this.fO(K,this.gn,0)}};r.ge.prototype.IN=function(p){if(this.PK==0)this.Wq.bG(p,this.gn);
else{this.qW.bG(p);var d=Z.c.cg(this.Wq.qh(),this.W_);Z.c.apply(d,p.K._H.B);Z.c.apply(d,p.K.dd)}};r.ge.prototype.xC=function(p,d,K,A){this.fO(p,this.gn,this.Np);
var x=new QY(K?K:this.name,this);if(this.eg==0)x.data={type:this.eg,L:this.L,Ik:this.xZ,vf:r.ge.M_(p,this.L)};
else if(this.eg==1){var M=p.L[this.L[0]],G;if(M.qt.gq<=0){G=Z.p(M.qt.Cz.r());Z.$m(M.qt.AW,G,3)}else G=p.P.channel;
var D={rect:M.qt.Cz.clone(),channel:G};x.data={type:this.eg,o:this.L[0],ga:this.ga,PD:D,nA:this.nA,xd:this.xd,qt:M.qt,Ik:this.Ik,vf:{m:M.qt.Cz,Qd:M.qt.AW}}}else if(this.eg==2){x.data={type:this.eg,ga:this.ga,PD:{rect:p.P.rect.clone(),channel:Z.clone(p.P.channel)}}}p.Gn(x);
var P=this.W_,a=new QP(P.x+P.t/2,P.y+P.D/2),e=Z.c.cg(this.Wq.qh(),P),f=Z.c.a_(e),N=new QI;N.translate(a.x,a.y);
N.concat(f);N.translate(-a.x,-a.y);f=N.clone();var Y=-Math.atan2(-f.M,f.V),l=new QI;l.rotate(Y);f.concat(l);
function h(J,u){return{t:"UntF",v:{type:["#Pxl","#Prc","#Ang"][u],val:J}}}var s={classID:"null",null:Pq.bt("Lyr",!0),FTcs:{t:"enum",v:{QCSt:"Qcsa"}},Intr:{t:"enum",v:{Intp:"Bcbc"}},Ofst:{t:"Objc",v:{__name:"Offset",classID:"Ofst",Hrzn:h(N.ol,0),Vrtc:h(N.lF,0)}},Skew:{t:"Objc",v:{classID:"Pnt",Hrzn:h(Math.atan(f.$H)*180/Math.PI,2),Vrtc:h(0,2)}},Wdth:h(f.V*100,1),Hght:h(f.Wb*100,1),Angl:h(Y*180/Math.PI,2)};
this.td=d;this.track({LG:"transform",Qz:s});this.escape(p,d,A)};r.ge.prototype.Zy=function(p,d){if(this.eg==0)r.ge.MI(p,this.L,this.xZ);
else if(this.eg==1){var K=p.L[this.L[0]];p.P=this.ga;if(!this.xd){K.qt.Cz=this.Ik.m;K.qt.AW=this.Ik.Qd;
K.ik(p,0,0,p.P)}else{K.cX(p,this.nA)}p.i();p.ye=!0}else if(this.eg==2){p.P=this.ga;p.ye=!0}this.escape(p,d,!0)};
r.ge.prototype.escape=function(p,d,K){this.Wq.clear(p);this.Wq=null;this.qW=null;this.PK=0;if(K)this.oD(d,n.E.s,{j:n.H.L$})};
r.ge.prototype.Qv=function(p,d){if(p.type==0)r.ge.MI(d,p.L,p.vf);else{if(p.type==1){var K=d.L[p.o];if(p.xd){K.qt=p.qt}else{K.qt.Cz=p.vf.m;
K.qt.AW=p.vf.Qd}K.ik(d,0,0,d.P);d.i()}d.P={rect:p.PD.rect.clone(),channel:Z.clone(p.PD.channel)};d.ye=!0}};
r.ge.prototype.WY=function(p,d){if(p.type==0)r.ge.MI(d,p.L,p.Ik);else{if(p.type==1){var K=d.L[p.o];if(p.xd){K.cX(d,p.nA)}else{K.qt.Cz=p.Ik.m;
K.qt.AW=p.Ik.Qd;K.ik(d,0,0,d.P)}d.i()}d.P=p.ga;d.ye=!0}};r.ge.prototype.eIW=function(p,d,K){p.zu();var A=[];
if(K==null)for(var x=0;x<p.wV.length;x++)if(p.uE[p.wV[x]].add.vmsk.Z.length>2)A.push(-1-p.wV[x]);var M=[];
if(K!=null||A.length==0||p.BJ!=null&&p.BJ.length!=0)M=p.AP(d,K,null,!0);M=M.concat(A);this.L=M};r.ge.prototype.enable=function(p,d,K,A,x,M,G){if(this.cursor==null)this.cursor="default";
this.Rk(d);if(this.Wq)return;this.gn=K;this.eIW(p,!0);this.ePC(p,M&&M.aV==1?1:null,G);this.zr(d);this.IN(p);
if(M&&M.aV==2)this.kz({Ed:"switchWarp"},d,p,A)};r.ge.prototype.zr=function(p){var d={j:n.H.xV,O:this.id};
if(this.PK==0){var K=Z.c.cg(this.Wq.qh(),this.W_),A=Z.c.a_(K);d.wC={EI:A,Nz:this.Wq.eQK(),ME:this.Wq.RS(),m:this.W_.clone()}}else{d.TB=this.qW.EX()}d.eho=this.qW!=null;
this.oD(p,n.E.s,d)};r.ge.prototype.ePC=function(p,d,K){var A=this.id==r.Db,x=!0,M=this.L[0],G=p.L[M],a=null;
if(A){this.eg=2;this.ga=p.P}else if(p.P&&this.L.length==1&&M>=0&&!G.rect.kQ()){this.eg=1;this.ga=p.P;
this.nA=G.qt;this.xd=!1;if(!G.Nq(p,p.P)){this.xd=!0;G.cj(p,p.P,!1)}this.Ik={Qd:G.qt.AW,m:G.qt.Cz}}else{this.eg=0;
this.xZ=r.ge.M_(p,this.L,null,K);for(var D=0;D<this.xZ.length;D++)if(this.xZ[D][3]!=null)x=!1}var P=this.eg==1;
if(this.xZ&&this.xZ.length==1){var e=this.xZ[0];if(e[3]==null)P=!0;if(e[4]!=null){a=p.L[this.L[0]].add.SoLd;
if(e[1]||e[2])P=!1}}var f=A?p.P.rect.clone():r.ge.rl(p,this.L,K);this.W_=f;if(!A&&a){var N=r.ge.fQ(a.nonAffineTransform);
this.W_=Z._.JE(Z.Fl.aJ(a.warp.v));if(P)this.qW=new ny(a.warp.v);this.N_=Z.c.cg(N,this.W_);this.Wq=new eL(N,!0,!0,x,!1,!1,d)}else{if(P||A)this.qW=new ny(Z.Fl.p(this.W_));
this.N_=[1,0,0,0,1,0,0,0];this.Wq=new eL([f.x,f.y,f.x+f.t,f.y,f.x+f.t,f.y+f.D,f.x,f.y+f.D],!0,!0,x,!1,!1,d)}this.NR=[1,0,0,0,1,0,0,0]};
r.ge.rl=function(p,d,K){if(d==null)d=p.AP(!0,null,null,!0);var A=new R;if(p.P&&d.length==1&&d[0]>=0)A=p.P.rect.clone();
else for(var x=0;x<d.length;x++){var M=d[x],G=0<=M?p.L[M]:p.uE[-1-M],D=G.add.vmsk,P=0<=M?G.RC(p,d.length==1,!1,K):Z.e.Du(D.Z,d.length==1&&D.Y.length!=0?D.Y:null);
A=A.ck(P)}return A};r.ge.prototype.oD=function(p,d,K,A){var x=new y(d,!0);x.data=K;if(A)x.O=A;p.n(x)};
r.ge.M_=function(p,d,K,A){var x=[];for(var M=0;M<d.length;M++){var G=d[M],D,P;if(G>=0){D=p.L[G];P=D.Nd(p,K,A)}else{D=p.uE[-1-G];
P=[2]}var a=[];if(P.indexOf(0)!=-1){var e={Na:[Z.clone(D.buffer),D.rect.clone()]};a.push(e);if(D.fP()){var f=D.MT(p);
e.ehx=Z.clone(f.buffer);e.ehd=f.rect.clone()}}else a.push(null);if(P.indexOf(1)!=-1)a.push(D.gW().clone());
else a.push(null);if(P.indexOf(2)!=-1)a.push({pW:D.add.vmsk.clone(),Wh:D.add.vstk?JSON.parse(JSON.stringify(D.add.vstk)):null,dm:D.add.vstk?r.Zb.vW(p,G):null,B$:D.add.vogk?JSON.parse(JSON.stringify(D.add.vogk)):null});
else a.push(null);if(D.add.TySh&&a[0]){QM.Uy(D.add.TySh);a.push(D.add.TySh.u.clone())}else a.push(null);
if(D.add.SoLd&&a[0])a.push(JSON.parse(JSON.stringify(D.add.SoLd)));else a.push(null);if(P.indexOf(3)!=-1)a.push(D.MT(p).g.clone());
else a.push(null);if(D.add.lmfx)a.push(JSON.stringify(D.add.lmfx));else a.push(null);x.push(a)}return x};
r.ge.MI=function(p,d,K){for(var A=0;A<d.length;A++){var x=d[A],M=0<=x?p.L[x]:p.uE[-1-x],G=K[A];if(G[0]){M.rect=G[0].Na[1].clone();
M.buffer=Z.clone(G[0].Na[0]);if(M.fP()){var D=M.MT(p);D.buffer=Z.clone(G[0].ehx);D.rect=G[0].ehd.clone()}}if(G[1]){M.gW().channel=Z.clone(G[1].channel);
M.gW().rect=G[1].rect.clone();M.gW().dJ=!0}if(G[2]){M.add.vmsk=G[2].pW.clone();if(G[2].dm)r.Zb.JM(M,G[2].dm);
if(G[2].Wh)M.add.vstk=JSON.parse(JSON.stringify(G[2].Wh));if(G[2].B$)M.add.vogk=JSON.parse(JSON.stringify(G[2].B$))}if(G[3]){M.add.TySh.u=G[3].clone();
QM._l(M.add.TySh)}if(G[4]){M.add.SoLd=JSON.parse(JSON.stringify(G[4]))}if(G[5]){var P=M.MT(p).g;P.channel=Z.clone(G[5].channel);
P.rect=G[5].rect.clone()}if(G[6]){M.add.lmfx=JSON.parse(G[6])}if(0<=x){M.u_(p);M.i()}}p.i()};r.ge.st=function(p){var d=p.clone(),K=Math.atan2(-d.M,d.V),A=new QI;
A.rotate(-K);d.concat(A);return(Math.abs(d.V)+Math.abs(d.Wb))/2};r.ge.EB=function(p,d,K,A,x,M,G,D,P){var a=Z.c.a_(M),e=r.ge.st(a);
for(var f=0;f<K.length;f++){var N=K[f],Y=0<=N?p.L[N]:p.uE[-1-N],l=A[f];if(Y.add.lmfx&&D)QL.eau(Y.add.lmfx,e);
if(l[0]&&!l[3]&&!l[4]&&!l[5]){var h=l[0].Na;if(P){var s=P.clone(),J=Z.p(s.r()*4);Z.PE(h[0],h[1],J,s);
h=[J,s]}var u=r.ge.Ig(h,x,M,G,x==0?Y.buffer.buffer:null);if(u){Y.rect=u.rect;Y.buffer=u.buffer}}if(l[1])r.ge.eeu(p,l[1],Y.gW(),x,M,G);
if(l[2]){var Q=G&&!Z.Fl.Ab(G),W=l[2].pW.clone(),q=K.length==1&&W.Y.length!=0,H=K.length==1&&W.HM.length>1;
if(H)q=!1;var C=q?W.Y:null,k=H?W.HM:null;if(Q){var i=Z.Fl.aJ(G);Z.c.apply(M,i);Z.e.eaW(W.Z,i,C,k)}else Z.e.eao(W.Z,M,C,k);
if(Y.add.vstk&&D){Y.add.vstk.strokeStyleLineWidth.v.val=l[2].Wh.strokeStyleLineWidth.v.val*e;var m=l[2].dm;
if(m.rv==3){m=JSON.parse(JSON.stringify(m));var w=m.dm.phase.v;m.dm.Scl.v.val=Math.round(m.dm.Scl.v.val*e);
w.Hrzn.v=Math.round(w.Hrzn.v*e);w.Vrtc.v=Math.round(w.Vrtc.v*e);r.Zb.JM(Y,m)}}if(Y.add.vogk){Y.add.vogk=JSON.parse(JSON.stringify(l[2].B$));
if(Q||H)Z.B$.ecX(Y.add.vogk);else Z.B$.u(Y.add.vogk,M,K.length>1?[]:W.Y,D)}W.EU*=e;Y.add.vmsk=W;if(Y.add.vogk)Z.B$.sG(Y.add.vogk,Y.add.vmsk)}if(l[3]){var S=l[3].clone();
S.concat(a);Y.add.TySh.u=S;QM._l(Y.add.TySh);var o=new MB(Y.add.TySh.Nf,d.ET),O=Mq.ZM(o,Y.add.TySh);
Y.rect=O.m;Y.buffer=O.nM}if(l[4]){var t=Y.add.SoLd,c=r.ge.fQ(l[4].nonAffineTransform);Z.c.apply(M,c);
var g=Z._.rN(c);if(eL.Es(c)){if(G){var j=Z._.JE(Z.Fl.aJ(l[4].warp.v)),_=Z.c.cg(c,j),U=Z._.JE(Z.Fl.aJ(G));
c=[U.x,U.y,U.x+U.t,U.y,U.x+U.t,U.y+U.D,U.x,U.y+U.D];Z.c.apply(_,c);t.warp.v=G}var $=Z.c.cg(c),I=c;if(!Z.c.hv($)){$[6]=$[7]=0;
I=[0,0,1,0,1,1,0,1];Z.c.apply($,I)}t.Trnf=r.ge.oZ(I);t.nonAffineTransform=r.ge.oZ(c);Y.uc(p,x==0)}}if(l[5])r.ge.eeu(p,l[5],Y.MT(p).g,x,M,G);
if(0<=N){if(x!=0)Y.bB();Y.u_(p);Y.i()}}p.i()};r.ge._x=function(p,d,K,A,x,M){if(K==null)K=!1;return r.ge.Ig(p,K?0:1,Z.c.H$(d),null,A,x,M)};
r.ge.Ig=function(p,d,K,A,x,M,G){var D={},f=0;if(A&&!Z.Fl.Ab(A)){var P=Z.Fl.aJ(A);Z.c.apply(K,P);D.rect=Z._.rN(P);
D.buffer=Z.p(D.rect.r()*4);Z.tO.drawImage(P,p[0],p[1].t,p[1].D,D.buffer,D.rect,d==0);return D}Z.iW(p);
var a=p[0],e=p[1];while(f+3<p.length&&p[f+3].r()>16&&Z.c.hv(K)&&r.ge.st(Z.c.a_(K))<.3){f+=2;var N=p[f],Y=p[f+1],l=e.t/Y.t,h=e.D/Y.D;
K=Z.c.HN(K,[1,0,e.x,0,1,e.y,0,0]);K=Z.c.HN(K,[l,0,0,0,h,0,0,0]);K=Z.c.HN(K,[1,0,-e.x,0,1,-e.y,0,0]);
e=Y;a=N}var s=Z.c.HN(K,Z.c.H$(new QI(e.t,0,0,e.D,e.x,e.y))),J=[0,0,1,0,1,1,0,1];Z.c.apply(s,J);D.rect=Z._.rN(J);
if(G)D.rect=D.rect.pk(G);if(!eL.Es(J)||D.rect.t>1e5||D.rect.D>1e5||D.rect.r()>3e4*3e4)return null;var u=D.rect.r()*4;
if(x&&x.byteLength>=u&&u>=x.byteLength>>2){D.buffer=new Uint8Array(x)}else{D.buffer=Z.p(u)}Z.c.drawImage(s,a,e.t,e.D,D.buffer,D.rect,d==0,M);
if(d==2&&D.buffer){var Q=D.rect.t,W=D.rect.D,q;q=[0,-1,0,-1,16,-1,0,-1,0];q=Z.uP.$b(q);var H=D.buffer.slice(0);
Z.kU(H);Z.uP.JZ(H,D.buffer,Q,W,q,0);Z.fq(D.buffer);Z.km(D.buffer)}if(D.buffer)return D};r.ge.eeu=function(p,d,K,A,x,M){if(d.color==255)Z.an(d.channel);
var G=d.rect,D=Z.p(G.r()*4);Z.qF(d.channel,D,3);var P=r.ge.Ig([D,G],A,x,M);if(P){K.rect=P.rect;K.channel=Z.p(P.rect.r());
Z.$m(P.buffer,K.channel,3);K.dJ=!0}if(d.color==255){Z.an(d.channel);if(P)Z.an(K.channel)}};r.ge.fQ=function(p){var d=[],K=p.v.length;
for(var A=0;A<K;A++)d.push(p.v[A].v);return d};r.ge.oZ=function(p){var d={t:"VlLs",v:[]},K=p.length;
for(var A=0;A<K;A++)d.v.push({t:"doub",v:p[A]});return d};r.ge.prototype.etP=function(){var p=Z._.JE(Z.Fl.aJ(this.qW.EX())),d=Z.c.cg(this.Wq.qh(),this.W_),K=[p.x,p.y,p.x+p.t,p.y,p.x+p.t,p.y+p.D,p.x,p.y+p.D];
Z.c.apply(d,K);this.Wq.Ea(K);this.W_=p};r.ge.prototype.fO=function(p,d,K){var A=Z.c.cg(this.Wq.qh(),this.W_),D=1e-10,Y=!1,l=!1;
A=Z.c.HN(A,Z.c.an(this.N_));var x=Z.c.a_(A),M=this.NR,G=Z.c.a_(M);this.NR=A;var P=Math.abs,a=Math.round,e=A[2]-M[2],f=A[5]-M[5],N=P(A[0]-M[0])<D&&P(A[1]-M[1])<D&&P(A[3]-M[3])<D&&P(A[4]-M[4])<D&&P(A[6]-M[6])<D&&P(A[7]-M[7])<D&&P(e-a(e))<D&&P(f-a(f))<D;
if(this.eg==0&&this.L.length==1){var h=this.xZ[0][2];Y=h&&(h.pW.Y.length!=0||h.pW.HM.length>1)}for(var s=0;
s<this.L.length;s++)if(this.L[s]<0)l=!0;if(N&&this.eg==0&&K==0&&this.PK==0&&!Y&&!l){r.Zl.Ah(p,this.L,r.Zl.ePy(p,this.L),Math.round(-G.ol+x.ol),Math.round(-G.lF+x.lF));
return}var J=this.qW?this.qW.EX():null;if(this.eg==0){this.NV=Z.c.a_(A);r.ge.EB(p,d,this.L,this.xZ,K,A,J)}else if(this.eg==1){var u=p.L[this.L[0]],Q=this.Ik.m;
if(u.gq<=0){var W=this.Ik.Qd,q=this.ga;if(J&&!Z.Fl.Ab(J)&&!q.rect.GR(Q)){var H=Z.p(q.rect.r()*4);Z.PE(W,Q,H,q.rect);
W=H;Q=q.rect}var C=r.ge.Ig([W,Q],K,A,J);if(C){u.qt.AW=C.buffer;u.qt.Cz=C.rect;var k=Z.p(C.rect.r());
Z.$m(u.qt.AW,k,3);p.P={channel:k,rect:u.qt.Cz.clone()}}}else{var i=Z.p(Q.r()*4);Z.qF(this.Ik.Qd,i,3);
var C=r.ge.Ig([i,Q],K,A,J);if(C){u.qt.AW=Z.p(C.rect.r());Z.$m(C.buffer,u.qt.AW,3);u.qt.Cz=C.rect}this.eOP(p,K,A,J)}u.ik(p,0,0,p.P);
if(K!=0){u.bB();Z.bB(p.P)}p.ye=!0;p.i()}else if(this.eg==2)this.eOP(p,K,A,J)};r.ge.prototype.eOP=function(p,d,K,A){var x=this.ga.rect,M=Z.p(x.r()*4);
Z.qF(this.ga.channel,M,3);var G=r.ge.Ig([M,x],d,K,A),D=Z.p(G.rect.r());Z.$m(G.buffer,D,3);p.P={channel:D,rect:G.rect};
p.ye=!0};r.ge.prototype.disable=function(p,d,K,A){if(this.Wq)this.xC(p,d,null,!0)};r.e_l=function(){r.ge.call(this,[10,16],r.hc,"tools/transform")};
r.e_l.prototype=new r.ge;r.esx=function(){r.ge.call(this,[7,10],r.Db,"tools/transform")};r.esx.prototype=new r.ge;
r.gN=function(p,d,K){r.IM.call(this,[10,46],r.HX,"tools/transform");this.zG=[1,1,2,!0];this.vX="\0\0\x03\x82";
this.Ns=null;this.ezI=null;this.on=null;this.Ov=null;this.ev=null;this.Mf=null;this.gk=[]};r.gN.prototype=new r.IM;
r.gN.prototype.ZX=function(){return!0};r.gN.ePH=function(p){if(p==null)return!1;if(p.Y.length!=1)return!1;
var d=p.L[p.Y[0]];return d.add.SoLd||p.ux(!1)};r.gN.prototype.DF=function(p,d){return r.gN.ePH(p)};r.gN.prototype.enable=function(p,d,K,A,x,M,G){this.ezI=M.E$;
var D=M.E$,P,h=null;if(D){var a=p.L[D.o];if(a.add.SoLd.filterFX!=null){var e=a.add.SoLd.filterFX.v.filterFXList.v;
if(e[D.index])P=JSON.parse(JSON.stringify(e[D.index].v.Fltr.v))}}var f=P==null,a=p.L[p.Y[0]],N=a.buffer,Y=a.rect,l=a.add.SoLd;
if(l){var s=l.nonAffineTransform.v;h=[];for(var J=0;J<4;J++)h.push(s[J*2].v,s[J*2+1].v);if(f)this.Jp("edit",d);
var u=a.MT(p);N=u.buffer;Y=u.rect}this.Ns={buffer:N.slice(0),rect:Y.clone(),ehC:h};if(f)P=r.gN.e$Q(this.Ns,this.zG);
this.on=P;this.Ov=r.gN.EV(this.on,this.zG);this.Ev();this.vJ(p);if(f)this.nl(d);var Q=new y(n.E.s,!0);
Q.data={j:n.H.xV,O:this.id,gD:this.zG};d.n(Q);Q.data={j:n.H.Nn,$B:"default"};d.n(Q)};r.gN.prototype.disable=function(p,d,K,A){if(this.Ov)this.xC(p,d,!0)};
r.gN.prototype.Ev=function(p){var d=this.Ov;this.gk=[];for(var K=0;K<d.length;K++){var A=d[K];for(var x=0;
x<A.Y.length;x++)this.gk.push([K,A.Y[K]]);A.jP=Z._o.pA(A);if(p)Z._o.pD(A)}};r.gN.prototype.kz=function(p,d,K,A){if(p.Ed=="commit")this.xC(K,d,!0);
else if(p.Ed=="cancel")this.Zy(K,d,!0);else if(p.Ed=="prm"){var x=!1;for(var M=0;M<3;M++)if(this.zG[M]!=p.gD[M])x=!0;
this.zG=p.gD;if(x){this.on=r.gN.e$Q(this.Ns,this.zG,this.on);this.Ov=r.gN.EV(this.on,this.zG);this.Ev(!0);
this.nl(d)}this.vJ(K)}else if(p.Ed=="moveDepth"){var G=this.Ov;for(var D=0;D<G.length;D++){var P=G[D];
for(var M=0;M<P.Y.length;M++){var a=P.Y[M];P.ZO[a]+=p.ehg?1:-1}}this.nl(d)}};r.gN.prototype.gJ=function(p,d){return p==B.dF||p==B.dB};
r.gN.prototype.AC=function(p,d,K,A){var x=A.RQ();if(A.Q(B.ut))this.xC(p,d,!0);else if(A.Q(B.qo))this.Zy(p,d,!0);
else if(A.Q(B.dF)||A.Q(B.dB)){var M=this.Ov;for(var G=0;G<M.length;G++){var D=M[G];D.Y.sort(function(f,N){return N-f});
for(var P=0;P<D.Y.length;P++){var a=D.Y[P],e=a*2;D.ZO.splice(a,1);D.TO.splice(a,1);D.TU.splice(a,1);
D.aB.splice(a,1);D.My.splice(e,2);D.lj.splice(e,2)}D.Y=[];if(D.aB.length==0){D.AS=D.PJ.slice(0);D.MN=D.PJ.slice(0)}}this.Ev(!0);
this.nl(d);this.vJ(p)}else if(x.x!=0||x.y!=0){this.eVr(p,x.x,x.y,d);this.Mk=null}};r.gN.prototype.xC=function(p,d,K){this.Jp("confirm",d);
this.escape(p,d,K)};r.gN.prototype.Zy=function(p,d,K){this.Jp("cancel",d);this.escape(p,d,K)};r.gN.prototype.escape=function(p,d,K){p.K._H=null;
p.K.xJ=[];p.nw=!0;this.Ov=null;var A=new y(n.E.s,!0);A.data={j:n.H.L$};if(K)d.n(A)};r.gN.prototype.Fg=function(p,d,K,A,x){var M=p.U.FT(x.x,x.y),G=M.x,D=M.y,P=this.Ov,a=null,e=[0,2,4,1.2,1.2,1.2],f=-1,N=n.F()*5/p.U.v;
for(var Y=0;Y<P.length;Y++){var l=P[Y],h=Z._.sM(l.lj,G,D,N);if(h!=-1)a=[Y,h];if(f==-1&&Z._o.pY.eRH(l.MN,l.uT,G,D))f=Y}if(a==null&&f!=-1){var l=P[f];
r.gN.eKC(l,G,D,G,D,0);a=[f,l.aB.length-1];l.jP=Z._o.pA(l)}this.ev=M;if(a){var s=P[a[0]].Y.indexOf(a[1])!=-1;
if(A.Q(B.tS)&&!s){P[a[0]].Y.push(a[1]);this.gk.push(a)}else if(!s){P[a[0]].Y=[a[1]];this.gk=[a]}}this.vJ(p)};
r.gN.eKC=function(p,d,K,A,x,M){var G=Z._.sM(p.MN,d,K);p.aB.push(G);p.lj.push(A,x);p.My.push(p.MN[G*2]-d,p.MN[G*2+1]-K);
p.TU.push(0);p.TO.push(!1);p.ZO.push(M)};r.gN.prototype.Yh=function(p,d,K,A,x){var M=p.U.FT(x.x,x.y),G=this.ev;
if(G)this.eVr(p,M.x-G.x,M.y-G.y,d)};r.gN.prototype.eVr=function(p,d,K,A){var x={},M=this.gk,G=this.Ov;
if(this.Mk==null){this.Mk=[];for(var D=0;D<G.length;D++)this.Mk.push(G[D].lj.slice(0))}for(var D=0;D<M.length;
D++){var P=this.gk[D],a=P[0],e=G[P[0]],f=P[1]*2;e.lj[f+0]=this.Mk[a][f+0]+d;e.lj[f+1]=this.Mk[a][f+1]+K;
x[a]=a}for(var a in x)Z._o.pD(this.Ov[x[a]]);this.vJ(p);this.nl(A)};r.gN.prototype.Jp=function(p,d){var K=new y(n.E.q,!0);
K.O=r.qR;K.data={j:p,E$:this.ezI,vX:this.vX,jV:this.on};d.n(K)};r.gN.prototype.gi=function(p,d,K,A,x){this.ev=null;
this.Mk=null};r.gN.prototype.nl=function(p){r.gN.eMf(this.Ov,this.zG,this.on);this.Jp("edit",p)};r.gN.prototype.vJ=function(p){var d=this.Ov,K=this.on;
p.K._H={B:[],$:[]};p.K.xJ=[];p.K.$Z=[];for(var A=0;A<d.length;A++){var x=d[A];for(var M=0;M<x.Y.length;
M++)p.K.$Z.push((p.K.xJ.length>>>1)+x.Y[M]);p.K.xJ=p.K.xJ.concat(x.lj);if(this.zG[3])Z._.concat(p.K._H,Z._.e$Y(x.MN,x.uT))}p.nw=!0};
r.gN.e$Q=function(p,d,K){var A=p.buffer,x=p.rect,M=p.ehC,G=eq.Kj("\0\0\x03\x82");if(M)for(var D=0;D<4;
D++){G["PuX"+D].v=M[D*2];G["PuY"+D].v=M[D*2+1]}var P=G.puppetShapeList.v,a=Z._o.eBl(A,x.t,x.D,d[1],d[2]),e=[];
for(var f=0;f<a.length;f++){var N={classID:"puppetShape",rigidType:{t:"bool",v:!0},VrsM:{t:"long",v:1},VrsN:{t:"long",v:0},originalVertexArray:{t:"tdta",v:[]},deformedVertexArray:{t:"tdta",v:[]},indexArray:{t:"tdta",v:[]},pinOffsets:{t:"VlLs",v:[]},posFinalPins:{t:"VlLs",v:[]},pinVertexIndices:{t:"VlLs",v:[]},PinP:{t:"VlLs",v:[]},PnRt:{t:"VlLs",v:[]},PnOv:{t:"VlLs",v:[]},PnDp:{t:"VlLs",v:[]},meshQuality:{t:"long",v:2},meshExpansion:{t:"long",v:2},meshRigidity:{t:"long",v:2},imageResolution:{t:"doub",v:72},selectedPin:{t:"VlLs",v:[]}};
N.meshBoundaryPath={t:"Objc",v:{classID:"pathClass",pathComponents:{t:"VlLs",v:[{t:"Objc",v:{classID:"PaCm",shapeOperation:{t:"enum",v:{shapeOperation:"xor"}},SbpL:{t:"VlLs",v:[{t:"Objc",v:{classID:"Sbpl",Clsp:{t:"bool",v:!0},Pts:{t:"VlLs",v:[]}}}]}}}]}}};
var Y=a[f];P.push({t:"Objc",v:N});var l=Y.PJ.slice(0);Z._.u(l,new QI(1,0,0,1,x.x,x.y),l);var h=Y.uT;
for(var D=0;D<h.length;D+=3){var s=h[D+1];h[D+1]=h[D+2];h[D+2]=s}e.push({uT:h,PJ:l,AS:l,MN:l,aB:[],My:[],lj:[],jP:null,Y:[],TU:[],TO:[],ZO:[]})}if(K){var J=r.gN.EV(K,[]),u=e[0];
for(var D=0;D<J.length;D++){var Q=J[D];for(var W=0;W<Q.Y.length;W++)u.Y.push((u.lj.length>>>1)+Q.Y[W]);
for(var W=0;W<Q.aB.length;W++){var q=Q.aB[W]*2,H=Q.PJ[q]-Q.My[W*2],C=Q.PJ[q+1]-Q.My[W*2+1];r.gN.eKC(u,H,C,Q.lj[W*2],Q.lj[W*2+1],Q.ZO[W])}}}r.gN.eMf(e,d,G);
return G};r.gN.EV=function(p,d){function K(C){var k=[];for(var h=0;h<C.length;h++)k.push(C[h].v);return k}var A=p.puppetShapeList.v,x=[];
for(var M=0;M<A.length;M++){var G=A[M].v;d[0]=G.meshRigidity.v-1;d[1]=G.meshQuality.v-1;d[2]=G.meshExpansion.v;
var D=G.pinVertexIndices.v.length,P=G.meshBoundaryPath.v.pathComponents.v[0].v.SbpL.v[0].v.Pts;P.v=[];
var a=new Uint32Array(new Uint8Array(G.indexArray.v).buffer),e=new Float32Array(new Uint8Array(G.originalVertexArray.v).buffer),f=new Float32Array(new Uint8Array(G.deformedVertexArray.v).buffer),N=[],Y=[],l=[];
for(var h=0;h<a.length;h++)N.push(a[h]);for(var h=0;h<e.length;h++){Y.push(e[h]);l.push(f[h])}var s=K(G.pinVertexIndices.v),J=K(G.pinOffsets.v),u=K(G.posFinalPins.v),Q=K(G.PnRt.v),W=K(G.PnOv.v),q=K(G.PnDp.v),H=K(G.selectedPin.v);
x.push({uT:N,PJ:Y,AS:l.slice(0),MN:l,aB:s,My:J,lj:u,jP:null,TU:Q,TO:W,ZO:q,Y:H})}return x};r.gN.eMf=function(p,d,K){function A(Y,l){var h=[];
for(var e=0;e<Y.length;e++)h.push({t:l,v:Y[e]});return h}function x(Y,l,h){var s=new(h?Uint32Array:Float32Array)(Y),J=new Uint8Array(s.buffer);
for(var e=0;e<J.length;e++)l[e]=J[e]}var M=K.puppetShapeList.v;for(var G=0;G<M.length;G++){var D=p[G],P=M[G].v;
P.meshRigidity.v=d[0]+1;P.meshQuality.v=d[1]+1;P.meshExpansion.v=d[2];x(D.uT,P.indexArray.v,!0);x(D.PJ,P.originalVertexArray.v);
x(D.MN,P.deformedVertexArray.v);var a=[];for(var e=0;e<D.aB.length;e++){var f=D.aB[e]*2,N=e*2;a[N]=D.PJ[f]-D.My[N];
a[N+1]=D.PJ[f+1]-D.My[N+1]}P.PinP.v=A(a,"doub");P.pinVertexIndices.v=A(D.aB,"long");P.pinOffsets.v=A(D.My,"doub");
P.posFinalPins.v=A(D.lj,"doub");P.PnRt.v=A(D.TU,"long");P.PnOv.v=A(D.TO,"bool");P.PnDp.v=A(D.ZO,"doub");
P.selectedPin.v=A(D.Y,"long")}};r.GP=function(p,d,K){r.IM.call(this,p?p:[10,40],d?d:r.DI,K?K:"tools/slice");
this.WA=null;this.td=null;this.$r=null;this.ezr=null;this.ph=null;this.ic=null};r.GP.prototype=new r.IM;
r.GP.uD=function(p,d){var K=-1;for(var A=0;A<p.length;A++){var x=r.GP.Ua(p,A);if(x[0]<=d.x&&d.x<=x[2]&&x[1]<=d.y&&d.y<=x[3]){K=A;
break}}return K};r.GP.prototype.Ch=function(p,d,K,A,x){this.Tj(K);K.ey[K.WN[0]].v=p;K.nw=!0;this.zy(K)};
r.GP.prototype.enable=function(p,d,K,A,x,M){r.IM.prototype.enable.call(this,p,d,K,A,x,M);if(!K.mq.ey){var G=new y(n.E.s,!0);
G.data={j:n.H.aA,gD:Qn.Jj};d.n(G)}};r.GP.prototype.disable=function(){this.WA=null;this.td=null};r.GP.prototype.Tq=function(p,d,K,A,x){var M=p.U.FT(x.x,x.y),G=r.GP.uD(p.ey,M);
if(G==-1)return;this.WA=p;this.td=d;p.WN=[G];p.nw=!0;if(this.ic==null){this.ic=new p_([{name:[5,4]},{name:[8,11,1],us:!0}]);
this.ic.R("select",this.v$,this)}var D=this.ic;D.parent=d;D.l();D.update(p,K);var P=new y(n.E.s,!0);
P.data={j:n.H.uO,Fy:D,x:x.XW+2,y:x.hq+1};d.n(P)};r.GP.prototype.v$=function(p){var d=this.ic.iC()[0],K=this.WA;
if(d==0){this.Tj(K);K.ey.splice(K.WN[0],1);K.WN=[];K.nw=!0;this.zy(K)}if(d==1){var A=new y(n.E.s,!0);
A.data={j:n.H.Ae,$u:"soptions",S:K.ey[K.WN[0]].v};this.td.n(A)}};r.GP.prototype.Fg=function(p,d,K,A,x){if(p==null)return;
this.Tj(p);var M=p.U.FT(x.x,x.y);M=r.Zl.oe(p,M,K,[!0,null,!1]);M.x=Math.round(M.x);M.y=Math.round(M.y);
this.ph=M;p.ey.unshift(r.GP.eMT());p.WN=[0];r.GP.kM(p.ey,0,[M.x,M.y,M.x+20,M.y+20]);p.nw=!0};r.GP.prototype.Yh=function(p,d,K,A,x){if(this.$r==null)return;
var M=p.U.FT(x.x,x.y),G=this.ph;M=r.Zl.oe(p,M,K,[!0,null,!1]);M.x=Math.round(M.x);M.y=Math.round(M.y);
var D=[G.x,G.y,M.x,M.y];r.GP.eMm(D);r.GP.kM(p.ey,0,D);p.nw=!0};r.GP.prototype.gi=function(p,d,K,A,x){this.zy(p);
this.ph=null};r.GP.prototype.Tj=function(p){this.$r=JSON.stringify(p.ey);this.ezr=JSON.stringify(p.WN)};
r.GP.prototype.zy=function(p){var d=JSON.stringify(p.ey);if(d!=this.$r){var K=new QY(this.name,this);
K.data={Ik:this.$r,vf:d,ehj:this.ezr,ehX:JSON.stringify(p.WN)};p.Gn(K)}this.$r=null};r.GP.prototype.WY=function(p,d){d.ey=JSON.parse(p.Ik);
d.WN=JSON.parse(p.ehj);d.nw=!0};r.GP.prototype.Qv=function(p,d){d.ey=JSON.parse(p.vf);d.WN=JSON.parse(p.ehX);
d.nw=!0};r.GP.prototype.gJ=function(p,d){return d!=null&&d.WN.length!=0&&(p==B.dF||p==B.dB)};r.GP.prototype.AC=function(p,d,K,A){if(p==null)return;
this.Tj(p);var x=A.RQ();if(x.x!=0||x.y!=0)r.GP.rr(p,x);if(A.Q(B.dF)||A.Q(B.dB)){var M=p.ey.slice(0);
for(var G=0;G<p.WN.length;G++)p.ey.splice(p.ey.indexOf(M[p.WN[G]]),1);p.WN=[]}this.zy(p)};r.GP.prototype.kz=function(p,d,K,A,x){if(K==null||K.WN.length==0)return;
this.Tj(K);var M=K.ey,G=K.WN;G.sort(function(l,h){return l-h});console.log(G);var D=M.slice(0),P=[],a=[];
for(var e=0;e<G.length;e++){var f=G[e],N=M[f];a.push(N);D.splice(D.indexOf(N),1)}var Y=Math.max(0,Math.min(D.length,G[0]-p.dir));
for(var e=0;e<a.length;e++){D.splice(Y+e,0,a[e]);P.push(Y+e)}K.ey=D;K.WN=P;this.zy(K)};r.GP.etn=function(p,d,K,A){var x=new QP(-d.x,-d.y),M=d.t/K.t,G=d.D/K.D,D=[0,0,d.t,d.D];
for(var P=0;P<p.length;P++){var a=r.GP.Ua(p,P);if(A){a[0]=Math.round(a[0]*M);a[1]=Math.round(a[1]*G);
a[2]=Math.round(a[2]*M);a[3]=Math.round(a[3]*G)}else{r.GP.Ec(a,x);r.GP.etc(a,D)}if(a[0]>=a[2]||a[1]>=a[3]){p.splice(P,1);
P--;continue}r.GP.kM(p,P,a)}};r.GP.rr=function(p,d){var K=p.ey;for(var A=0;A<p.WN.length;A++){var x=r.GP.Ua(K,p.WN[A]);
r.GP.Ec(x,d);r.GP.kM(K,p.WN[A],x)}};r.GP.etc=function(p,d){if(p[0]<d[0])p[0]=d[0];if(p[1]<d[1])p[1]=d[1];
if(d[2]<p[2])p[2]=d[2];if(d[3]<p[3])p[3]=d[3]};r.GP.Ec=function(p,d){p[0]=Math.round(p[0]+d.x);p[2]=Math.round(p[2]+d.x);
p[1]=Math.round(p[1]+d.y);p[3]=Math.round(p[3]+d.y)};r.GP.kM=function(p,d,K){var A=p[d].v.bounds.v;A.Left.v=K[0];
A.Top.v=K[1];A.Rght.v=K[2];A.Btom.v=K[3]};r.GP.Ua=function(p,d){var K=p[d].v.bounds.v;return[K.Left.v,K.Top.v,K.Rght.v,K.Btom.v,d]};
r.GP.eMm=function(p){if(p[2]<p[0]){var d=p[0];p[0]=p[2];p[2]=d}if(p[2]==p[0])p[2]++;if(p[3]<p[1]){var d=p[1];
p[1]=p[3];p[3]=d}if(p[3]==p[1])p[3]++};r.GP.JE=function(p,d){var K=1e9,A=-1e9,x=1e9,M=-1e9;for(var G=0;
G<d.length;G++){var D=r.GP.Ua(p,d[G]);K=Math.min(K,D[0]);x=Math.min(x,D[1]);A=Math.max(A,D[2]);M=Math.max(M,D[3])}return[K,x,A,M]};
r.GP.eMT=function(){return{t:"Objc",v:{classID:"slice",sliceID:{t:"long",v:0},groupID:{t:"long",v:0},origin:{t:"enum",v:{ESliceOrigin:"userGenerated"}},Type:{t:"enum",v:{ESliceType:"Img"}},bounds:{t:"Objc",v:{classID:"Rct1",Top:{t:"long",v:0},Left:{t:"long",v:0},Btom:{t:"long",v:0},Rght:{t:"long",v:0}}},url:{t:"TEXT",v:""},null:{t:"TEXT",v:""},Msge:{t:"TEXT",v:""},altTag:{t:"TEXT",v:""},cellTextIsHTML:{t:"bool",v:!0},cellText:{t:"TEXT",v:""},horzAlign:{t:"enum",v:{ESliceHorzAlign:"default"}},vertAlign:{t:"enum",v:{ESliceVertAlign:"default"}},bgColorType:{t:"enum",v:{ESliceBGColorType:"None"}},topOutset:{t:"long",v:0},leftOutset:{t:"long",v:0},bottomOutset:{t:"long",v:0},rightOutset:{t:"long",v:0}}}};
r.IZ=function(){r.GP.call(this,[10,41],r.Hq,"tools/sselect");this.ph=null;this.Cm=null;this.F_=null;
this.Mf=null;this.Nx=!1};r.IZ.prototype=new r.GP;r.IZ.prototype.Fg=function(p,d,K,A,x){if(p==null)return;
var M=p.U.FT(x.x,x.y),G=r.IZ.eOi(M,4/p.U.v,p.ey,p.WN);G.pop();if(G.length!=0){this.ph=M;this.F_=G;this.Tj(p);
return}var D=p.ey,P=r.GP.uD(D,M);if(P==-1)p.WN=[];else{var a=p.WN.indexOf(P);if(A.Q(B.tS)){if(a==-1)p.WN.push(P);
else p.WN.splice(a,1)}else{p.WN.sort(function(s,J){return s-J});if(a==-1)p.WN=[P];this.ph=M;this.Tj(p);
this.Cm=r.GP.JE(D,p.WN);this.Mf=[];for(var e=0;e<p.WN.length;e++)this.Mf.push(r.GP.Ua(D,p.WN[e]));if(A.Q(B.Od)){var f=D.slice(0),N=p.WN,Y=[];
for(var e=0;e<N.length;e++){var P=N[e],l=f[P],h=D.indexOf(l);Y.push(h);D.splice(h,0,JSON.parse(JSON.stringify(l)))}p.WN=Y}}}p.nw=!0};
r.IZ.prototype.Yh=function(p,d,K,A,x){var M=p.U.FT(x.x,x.y);if(this.ph==null){var G=r.IZ.eOi(M,4/p.U.v,p.ey,p.WN),D=G.pop(),P=G.length==0?"default":["ew","nwse","ns","nesw"][D]+"-resize",a=new y(n.E.s,!0);
a.data={j:n.H.Nn,$B:P};d.n(a);return}if(!this.Nx&&M.GR(this.ph))return;this.Nx=!0;var e=p.ey,G=this.F_;
if(G){M=r.Zl.oe(p,M,K,[!0,null,!1]);var f=Math.round(M.x),N=Math.round(M.y);for(var Y=0;Y<G.length;Y+=2){var l=r.GP.Ua(e,G[Y]),h=G[Y+1];
l[h]=(h&1)==0?f:N;r.GP.eMm(l);r.GP.kM(e,G[Y],l)}}else{var s=M.TS(this.ph),J=this.Cm.slice(0);r.GP.Ec(J,s);
var u=new R(J[0],J[1],J[2]-J[0],J[3]-J[1]),Q=r.Zl.zo(p,u,K,[!0,null,!1],!0);r.Zl.zh(p,u,Q);s.x+=Q[0];
s.y+=Q[1];for(var Y=0;Y<p.WN.length;Y++)r.GP.kM(e,p.WN[Y],this.Mf[Y]);r.GP.rr(p,s)}p.nw=!0};r.IZ.prototype.gi=function(p,d,K,A,x){if(this.ph==null)return;
this.zy(p);p.K.ny=null;p.nw=!0;this.ph=null;this.F_=null;this.Mf=null;this.Nx=!1};r.IZ.eOi=function(p,d,K,A){var x=p.x,M=p.y,G=[],D=-1,P=[];
for(var a=0;a<A.length;a++){var e=A[a],f=r.GP.Ua(K,e),N=f[0],Y=f[1],l=f[2],h=f[3];if(x<N-d||l+d<x||M<Y-d||h+d<M)continue;
var s=[x<N+d,M<Y+d,l-d<x,h-d<M],J=-1;for(var u=0;u<4;u++){if(s[u]&&s[u+1&3])J=1+2*(u&1);if(s[u])G.push(e,u)}if(J==-1){if(s[0]||s[2])J=0;
if(s[1]||s[3])J=2}if(J!=-1){D=J;P.push(e)}}var Q=G.length;for(var a=0;a<Q;a+=2){var e=G[a],W=G[a+1],q=r.GP.Ua(K,e)[W];
for(var u=0;u<A.length;u++){var H=A[u];if(P.indexOf(H)!=-1)continue;var f=r.GP.Ua(K,H);if(f[W&1]==q)G.push(H,W&1);
if(f[2+(W&1)]==q)G.push(H,2+(W&1))}}G.push(D);return G};r.kI=function(){r.wJ.call(this,[10,44],r.ehy,"tools/oselect");
this.nU="crosshair";this.eaz=0};r.kI.prototype=new r.wJ;r.kI.prototype.ro=function(p,d,K,A){if(Math.random()<1/(1+this.eaz)){alert("The cross should be fully inside the object.",3500);
this.eaz++}};r.kI.prototype.oB=function(p,d,K,A){r.uM.eFx(p,r.wJ.dc,this.td);if(!A.Fj||!this.tr)return;
var x=this.rl(p,K,!1),M=x.t,G=x.D,D=x.x,P=x.y,a=x.x+M,e=x.y+G,f=D+M/2,N=P+G/2,Y=r.kI.eUC;p.K._H={B:[D,P,a,P,a,e,D,e,f-M*Y,N,f+M*Y,N,f,N-G*Y,f,N+G*Y],$:"M L L L Z M L M L".split(" ")};
p.nw=!0};r.kI.eUC=.12;r.kI.prototype.zZ=function(p,d,K,A){p.K._H=null;p.nw=!0;this.finish(p,d,K,A)};
r.kI.prototype.getSelection=function(p,d,K,A){if(this.gr.GR(this.Pv)||!this.tr)return null;var x=this.rl(p,K,!1),M=p.L[p.Y[0]];
if(x.kQ()||!x.Xs(M.rect))return null;return r.wJ.vS("ObSl",x)};r.uM=function(){r.Ef.call(this,[10,37],r.Tg,"tools/qselect");
this.$K="qselect"};r.uM.prototype=new r.Ef;r.uM.prototype.Fg=function(p,d,K,A,x){this.Fz(p,K,A,x,1);
if(this.Zm==null)return;this.fo(p)};r.uM.prototype.Yh=function(p,d,K,A,x){this._S(p,d,K);r.uM.eFx(p,r.wJ.dc,d);
if(this.pM)this.$d(p,K,x);if(this.Zm==null)return;if(!x.Fj)return;var M=this._v(p,K,A,x);if(M!=1)this.fo(p)};
r.uM.eFx=function(p,d,K){if(p&&d.key!=r.uM.EF(p)){d.key=r.uM.EF(p);var A=p.L[p.Y[0]].rect.r(),M="Image Analysis ...";
if(A==0)return;var x=A>1e6,G=new y(n.E.s,!0);G.data={j:n.H.LL,oU:M};if(x)K.n(G);setTimeout(function(){var D=r.uM.eMZ(p);
for(var P in D)d[P]=D[P];var G=new y(n.E.s,!0);G.data={j:n.H.L_,oU:M};if(x)K.n(G)},30)}};r.uM.EF=function(p){var d=p.Y[0],K=p.L[d],A=K.rect,x=A.t,M=A.D,G=x*M,D=K.buffer;
return[d,A.x,A.y,x,M,D[0],D[1],D[2],D[3]].join(",")};r.uM.eMZ=function(p){var d=p.Y[0],K=p.L[d],A=K.rect,x=A.t,M=A.D,G=x*M,D=K.buffer,P=Date.now(),a=Z.p(G);
a.fill(128);var e=Z.IK.BO(D,x,M);console.log(Date.now()-P);var f={key:r.uM.EF(p),Dd:D,rect:A.clone(),dv:x,Ri:M,ql:12,eiK:!1,qc:a,NX:e,P:Z.p(G),cb:null,Tv:null,TE:null};
r.uM.JB(f);return f};r.uM.JB=function(p,d){var K=p.dv,A=p.Ri,x=0,M=0,G=Date.now(),D=p.cb!=null&&Z.IK.evv(p.NX.uT,p.cb.uT,p.cb.Ix,p.qc);
x=Date.now()-G;G=Date.now();if(!D&&!p.eiK){p.cb=Z.IK.Ki(p.NX,K,A,p.qc,p.ql);if(!Z.IK.evv(p.NX.uT,p.cb.uT,p.cb.Ix,p.qc)){p.eiK=!0;
console.log("conflict")}p.Tv=Z.IK.eRW(p.Dd,K,A,p.cb.uT,p.cb.Ix);p.TE=[p.Tv[0].slice(0),[]];M=Date.now()-G;
G=Date.now()}var G=Date.now();if(d){p.TE[0].set(p.Tv[0]);var P=p.Tv[1],a=p.TE[1];for(var e=0;e<P.length;
e++)a[e]=P[e].slice(0);Z.IK.eRf(p.cb.uT,K,A,p.cb.Ix,p.qc,p.P,p.TE)}};function eL(p,d,K,A,x,M,G){this.C_=null;
this.K_=p?p.slice(0):null;this.nF=4;this.Pv=null;this.Zi=null;this.TL=null;this.fb=-1;this.EY=null;this.eqw=!1;
this.eqT=[];for(var D=0;D<8;D++)this.eqT.push(QH.eWQ(0,PIMG.rotate,-.5,-.5,-45-D*45));this.eqk=d;this.ehT=K;
this.ese=A;this.esQ=x;this.ehp=M;this.aV=G}eL.prototype.eBg=function(){return this.fb!=-1};eL.prototype.qh=function(){return this.K_.slice(0)};
eL.prototype.Ea=function(p){this.K_=p};eL.prototype.et_=function(){return this.en(this.K_)};eL.prototype.eQK=function(){return this.nF};
eL.prototype.eQc=function(p){this.nF=p};eL.prototype.RS=function(p){if(p==null)p=this.K_;if(this.nF==9)return this.Pv;
else return this.en(p)[this.nF]};eL.prototype.eQ$=function(p){if(this.nF==9)this.Pv=p.clone();else{var d=this.RS(),K=new QI(1,0,0,1,p.x-d.x,p.y-d.y);
Z._.u(this.K_,K,this.K_)}};eL.prototype.ae=function(p,d,K){var A=this.Mq(p,d),x;if(A==9)return"default";
if(A==10){if(K)return null;return!this.eqk?"move":null}if(A==-1||A==4)return null;if(A==11){var M=this.RS().TS(p);
x=90-Math.atan2(M.y,M.x)*180/Math.PI;var G=Math.round(8*(x/360));G=(G+8)%8;return this.eqT[G]}else{var D=this.at(p,this.K_);
x=[135,90,45,180,0,0,225,270,315][A];var P=Z.c.cg(this.K_);x+=Math.atan2(-P[3],P[0])*180/Math.PI;var a="ew nesw ns nwse ew nesw ns nwse".split(" "),G=Math.round(8*(x/360));
G=(G+8)%8;return a[G]+"-resize"}};eL.prototype.at=function(p,d){var K=Z.c.an(Z.c.cg(d)),A=new Float64Array(2);
Z.c.OA(p.x,p.y,K,A);return new QP(A[0],A[1])};eL.prototype.Mi=function(p){var d=this.at(p,this.K_);return 0<=d.x&&d.x<=1&&0<=d.y&&d.y<=1};
eL.prototype.Fg=function(p,d,K,A,x,M){this.eqw=M;this.EY=A;var G=p.U.v,D;if(this.K_==null)A=r.Zl.oe(p,A,d);
this.TL=A.clone();if(this.K_==null){this.TL.offset(1,1);var P=x==null?1:1/x;this.K_=[A.x,A.y,A.x+1,A.y,A.x+1,A.y+P,A.x,A.y+P];
D=8}else{D=this.Mq(A,G);if(0<=D&&D<=8)this.TL=this.en(this.K_)[D]}this.C_=this.K_.slice(0);this.fb=D;
this.bG(p,d);this.Zi=this.RS();return D!=-1};eL.prototype.Mq=function(p,d){var K=-1,A=this.en(),x=6*n.F()/d;
if(K==-1)if(QP.gG(this.RS(),p)<x)K=9;if(K==-1)for(var M=0;M<A.length;M++)if(M!=4&&QP.gG(A[M],p)<x)K=M;
if(K==-1){if(this.Mi(p)){if(this.eqk)K=10}else{var G=this.at(p,this.K_),D=new R(0,0,1,1);D.WJ(.2,.2);
K=D.Bf(G)?11:10}}return K};eL.prototype.Yh=function(p,d,K,A){if(this.fb==-1)return;this.EY=A;var x=K.Q(B.tS),M=K.Q(B.Od),G=K.Q(B.DV),D=p.U.v,P=this.TL,a=this.fb,e=this.en(),f=r.Zl.oe(p,P,d),N=r.Zl.oe(p,A,d),Y,l;
if(a==9){var e=this.en(),h=-1;for(var s=0;s<e.length;s++)if(QP.gG(e[s],N)*D<10)h=s;this.nF=h==-1?9:h;
this.Pv=x?r.hT.kw(f,N):N.clone()}else if(a==10){l=Z._.JE(this.C_);var J=l.x,u=l.y;l.offset(A.x-P.x,A.y-P.y);
if(this.e_a()){l.x=Math.round(l.x);l.y=Math.round(l.y)}Y=r.Zl.zo(p,l,d);var Q=new QI(1,0,0,1,l.x-J+Y[0],l.y-u+Y[1]);
Z._.u(this.C_,Q,this.K_)}else if(a==11){var W=this.RS(this.C_),q=W.TS(A),H=W.TS(P),C=Math.atan2(q.y,q.x),k=Math.atan2(H.y,H.x),Q=new QI(1,0,0,1,-W.x,-W.y),i=Math.PI/12;
if(x)Q.rotate(Math.round((k-C)/ i)*i);else Q.rotate(k-C);Q.translate(W.x,W.y);Z._.u(this.C_,Q,this.K_)}else{var m,w=this.C_,S=a==0||a==2||a==6||a==8;
if(this.aV==1){if(S)x=M=G=!0}else if(this.aV==2&&S&&this.eqw!=!0)G=!0;if(this.ese&&S&&G){var s=[0,0,2,0,0,0,6,0,4,0][a],o=-1,O=N.x,t=N.y;
if(x){var c=s+6&7,g=s+10&7,j=eL.eUT(w[s],w[s+1],w[c],w[c+1],N.x,N.y),_=eL.eUT(w[s],w[s+1],w[g],w[g+1],N.x,N.y),U=j[2]<_[2]?j:_;
O=U[0];t=U[1];if(M)o=j[2]<_[2]?c:g}else if(M)o=s+4&7;m=w.slice(0);if(o!=-1){var $=w[o],I=w[o+1],E=(w[s]+$)/2,b=(w[s+1]+I)/2;
m[o]=E-(O-E);m[o+1]=b-(t-b)}m[s]=O;m[s+1]=t}else if(S&&M){var W=this.Zi,z=W.x,QS=W.y,QQ=f.x-z,Qe=f.y-QS,QB=1,QU=1;
if(Math.abs(QQ)>=1)QB=(N.x-z)/QQ;if(Math.abs(Qe)>=1)QU=(N.y-QS)/Qe;if(x)QB=QU=(QB+QU)/2;var Qt=new QI;
Qt.translate(-z,-QS);Qt.scale(QB,QU);Qt.translate(z,QS);m=w.slice(0);Z._.u(m,Qt,m)}else{if(this.e_a()){N.x=Math.round(N.x);
N.y=Math.round(N.y)}var F=[0,1,2,5,8,7,6,3],L=F[(F.indexOf(a)+4)%8],Qu=[];for(var s=0;s<3;s++)for(var o=0;
o<3;o++)Qu.push(new QP(o/2,s/2));var W=this.Zi,QK=this.at(N,w),Qm=this.at(P,w),ei=M&&(this.nF==4||this.nF==9)?this.at(W,w):Qu[L],Qp=new QI,QO=new QI,QB=(QK.x-ei.x)/(Qm.x-ei.x);
if(QB==0)QB=1e-4;var QU=(QK.y-ei.y)/(Qm.y-ei.y);if(QU==0)QU=1e-4;if(this.esQ){QB=Math.max(QB,0);QU=Math.max(QU,0)}if(a==0||a==2||a==6||a==8){if(x||this.ehp)Qp.scale(QB,QB);
else Qp.scale(QB,QU)}if(a==1||a==3||a==5||a==7){var QE=this.ehp;if(a==1||a==7)Qp.scale(QE?QU:1,QU);else Qp.scale(QB,QE?QB:1);
if(this.ehT&&G){if(a==1||a==7)QO.$H=(QK.x-ei.x)/(QK.y-ei.y);else QO.M=(QK.y-ei.y)/(QK.x-ei.x)}}var Qt=new QI;
Qt.translate(-ei.x,-ei.y);Qt.concat(Qp);Qt.concat(QO);Qt.translate(ei.x,ei.y);m=[0,0,1,0,1,1,0,1];Z._.u(m,Qt,m);
var U=Z.c.cg(w);Z.c.apply(U,m)}if(eL.Es(m))this.K_=m}this.bG(p,d);if(Y)r.Zl.zh(p,l,Y)};eL.eUT=function(p,d,K,A,x,M){var G=K-p,D=A-d,P=x-p,a=M-d,e=G*G+D*D,f=P*G+a*D,N=f/e,Y=p+N*G,l=d+N*D,h=x-Y,s=M-l;
return[Y,l,Math.sqrt(h*h+s*s)]};eL.prototype.e_a=function(){var p=this.K_;return Math.abs(p[1]-p[3])<1e-6&&Math.abs(p[2]-p[4])<1e-6||Math.abs(p[0]-p[2])<1e-6&&Math.abs(p[3]-p[5])<1e-6};
eL.Es=function(p){return Z._.kH(p)||Z._.kH([p[6],p[7],p[4],p[5],p[2],p[3],p[0],p[1]])};eL.prototype.gi=function(p,d,K,A){this.fb=-1;
this.EY=null;p.K.ny=null;p.K.nt=[];p.nw=!0};eL.prototype.AC=function(p,d,K){var A=K.RQ();if(A.x||A.y){var x=new QI(1,0,0,1,A.x,A.y);
Z._.u(this.K_,x,this.K_);this.bG(p,d);return!0}return!1};eL.prototype.en=function(p){if(p==null)p=this.K_;
var d=p[6]-p[0],K=p[7]-p[1],A=p[4]-p[2],x=p[5]-p[3],M=[p[0],p[1],p[2],p[3],p[0]+d/2,p[1]+K/2,p[2]+A/2,p[3]+x/2,p[6],p[7],p[4],p[5]],G=[];
for(var D=0;D<3;D++){var P=D*4,a=M[P+0],e=M[P+1],f=M[P+2],N=M[P+3];G.push(new QP(a,e));G.push(new QP(a+(f-a)/2,e+(N-e)/2));
G.push(new QP(f,N))}return G};eL.prototype.bG=function(p,d,K){if(K==null)K=!1;var A=this.en(),x=A[0],M=A[2],G=A[6],D=A[8];
p.K._H={$:[],B:[]};p.K._H.$.push("M","L","L","L","Z");p.K._H.B.push(x.x,x.y,M.x,M.y,D.x,D.y,G.x,G.y);
if(this.aV==2){var P=M.TS(x),a=G.TS(x),e=D.TS(M),f=D.TS(G);for(var N=0;N<3;N++){p.K._H.$.push("M","L","M","L");
var Y=(N+1)*.25;p.K._H.B.push(x.x+P.x*Y,x.y+P.y*Y,G.x+f.x*Y,G.y+f.y*Y);p.K._H.B.push(x.x+a.x*Y,x.y+a.y*Y,M.x+e.x*Y,M.y+e.y*Y)}}p.U.yg=new R(0,0,QP.gG(A[0],A[2]),QP.gG(A[0],A[6]));
if(this.fb!=-1&&this.fb<9&&this.EY){var l=p.U.RI(this.EY.x,this.EY.y);r.IM.tf(l.x+10,l.y-10,p.U.yg,p,d)}if(!K){p.K.dd=[];
for(var N=0;N<A.length;N++)if(N!=4)p.K.dd.push(A[N].x,A[N].y);var h=this.RS();p.K.dd.push(h.x,h.y)}p.nw=!0};
eL.prototype.clear=function(p){p.U.yg=null;p.K.ny=null;p.K._H=null;p.K.dd=[];p.nw=!0};function ny(p,d){this.Fl=null;
this.fb=-1;this.eeb(p)}ny.prototype.EX=function(){return JSON.parse(JSON.stringify(this.Fl))};ny.prototype.eeb=function(p){this.Fl=JSON.parse(JSON.stringify(p))};
ny.prototype.Mi=function(p){return!0};ny.prototype.ae=function(p,d){var K=this.Mq(p,d);if(K==-1)return"default";
return"pointer"};ny.prototype.Fg=function(p,d,K,A){this.fb=this.Mq(A,p.U.v);return this.fb!=-1};ny.prototype.Mq=function(p,d){var K=-1,A=20*n.F(),x=this.ecl();
for(var M=0;M<x.length;M++)if(QP.gG(x[M],p)*d<A)K=M;return K};ny.prototype.Yh=function(p,d,K,A){if(this.fb==-1)return;
var x=p.U.v,M=this.fb,G=Z.Fl.aJ(this.Fl);G[M*2]=A.x;G[M*2+1]=A.y;Z.Fl.Gt(G,this.Fl)};ny.prototype.gi=function(p,d,K,A){this.fb=-1;
p.nw=!0};ny.prototype.AC=function(p,d,K){var A=K.RQ();if(A.x||A.y){var x=new QI(1,0,0,1,A.x,A.y);Z._.u(this.K_,x,this.K_);
this.bG(p)}};ny.prototype.ecl=function(p){var d=Z.Fl.aJ(this.Fl),K=[];for(var A=0;A<d.length;A+=2)K.push(new QP(d[A],d[A+1]));
return K};ny.prototype.bG=function(p){var d=this.ecl();p.K._H={$:[],B:[]};p.K._H.$.push("M","C","C","C","C");
var K=[0,1,2,3,7,11,15,14,13,12,8,4,0];for(var A=0;A<K.length;A++)p.K._H.B.push(d[K[A]].x,d[K[A]].y);
p.K._H.$.push("M","L","L","M","L","L","M","L","L","M","L","L");K=[4,0,1,2,3,7,11,15,14,13,12,8];for(var A=0;
A<K.length;A++)p.K._H.B.push(d[K[A]].x,d[K[A]].y);p.K.dd=[];for(var A=0;A<d.length;A++)p.K.dd.push(d[A].x,d[A].y);
p.nw=!0};ny.prototype.clear=function(p){p.K._H=null;p.K.dd=[];p.nw=!0};var Qv={};Qv.DH=function(p){this.id=p;
this.td=null};Qv.DH.prototype.Ch=function(p,d,K,A,x){};Qv.DH.prototype.Qv=function(p,d){};Qv.DH.prototype.WY=function(p,d){};
Qv.DH.prototype.track=function(p){var d=new y(n.E.Iz,!0);d.data=p;p.VP=!0;this.td.n(d)};Qv.History=function(){Qv.DH.call(this,r.Ze);
this.ZC=!0;this.es$=0};Qv.History.prototype=new Qv.DH;Qv.History.prototype.Ch=function(p,d,K,A){if(p.j=="h_itemchange"){if(p.index<K.PO)for(var x=K.PO;
x>p.index;x--)this.we(K);if(p.index>K.PO)for(var x=K.PO;x<p.index;x++)this.wt(K)}if(p.j=="h_stepfwd")this.wt(K);
if(p.j=="h_stepbck")this.we(K);if(p.j=="h_undoredo"){var M=this.ZC||this.es$!=K.PO;if(M){this.we(K);
M=!1}else{this.wt(K);M=!0}this.ZC=M;this.es$=K.PO}else this.ZC=!0};Qv.History.prototype.we=function(p){if(p.PO==0)return;
var d=p.history[p.PO];d.O.WY(d.data,p);p.PO--};Qv.History.prototype.wt=function(p){if(p.PO==p.history.length-1)return;
var d=p.history[p.PO+1];d.O.Qv(d.data,p);p.PO++};Qv.Ys=function(){Qv.DH.call(this,r.aW);this.td=null};
Qv.Ys.prototype=new Qv.DH;Qv.Ys.prototype.Ch=function(p,d,K,A,x){this.td=d;var M=p.j,G=p.o!=null?p.o:K.Y.length!=0?K.Y[0]:K.L.length-1,D=K.L[G];
if(M==V.Pz&&K.P==null)M=V.RY;if(M==V.G_){var P=new QY([6,33],this),a=D.Ba()?["pass"].concat(eE.ok):eE.ok,e=p.o!=null?[p.o]:K.Y,f=JSON.stringify(e),N=[];
for(var Y=0;Y<e.length;Y++)N.push(K.L[e[Y]].yk);P.data={j:M,gO:f,ZS:N,dx:a[p.dx]};K.Gn(P);this.Qv(P.data,K);
this.track(Pq.wT("Md",{t:"enum",v:{BlnM:eE.Uh[p.dx]}}))}if(M==V.Gz){var P,l=K.ED(),e=p.o!=null?[p.o]:K.Y,f=JSON.stringify(e);
if(l&&l.data&&l.data.j==M&&l.data.gO==f)P=l;else{var h=Pq.wT("Opct",{t:"UntF",v:{type:"#Prc",val:0}});
this.track(h);var N=[];for(var Y=0;Y<e.length;Y++)N.push(K.L[e[Y]].opacity);P=new QY([6,32],this);P.data={j:M,gO:f,ZS:N,dx:p.dx,ZZ:h.Qz};
K.Gn(P)}P.data.dx=p.dx;P.data.ZZ.T.v.Opct.v.val=Math.round(p.dx*100/255);this.Qv(P.data,K)}if(M==V.Br){if(D.add.iOpa==null)D.add.iOpa=255;
var P,l=K.ED();if(l&&l.data&&l.data.j==M&&l.data.o==G)P=l;else{P=new QY("Fill Opacity Change",this);
P.data={j:M,o:G,ZS:D.add.iOpa,dx:p.dx};K.Gn(P)}P.data.dx=p.dx;this.Qv(P.data,K)}if(M==V.qY){if(D.add.lspf==null)D.add.lspf=0;
var N=D.add.lspf,s=N,J=p.dx,P;for(var Y=0;Y<J[0].length;Y++){var u=J[1][Y],Q=1<<u;if((s&Q)==0&&J[0][Y])s^=Q;
else if((s&Q)!=0&&!J[0][Y])s^=Q}var l=K.ED();if(l&&l.data&&l.data.j==M&&l.data.o==G)P=l;else{var P=new QY([6,57,1],this);
P.data={j:M,o:G,ZS:N,dx:s};K.Gn(P)}P.data.dx=s;this.Qv(P.data,K)}if(M==V.Nk){var W="----",q=p.TR,s=null;
for(var Y=0;Y<Pi.KF.KE.length;Y++)if(D.add[Pi.KF.KE[Y]])W=Pi.KF.KE[Y];var H=D.add[W];if(q=="TySh")s=QM.av(50,50,x.uW);
var P=new QY("Layer Type",this);P.data={j:M,o:G,eon:[W,H],TR:[q,s]};K.Gn(P);this.Qv(P.data,K)}if(M==V.zQ){var C=[];
if(A.Q(B.Od)){var k=K.ED(),i=k?k.data:null;if(k!=null&&k.O==this&&i.j==V.zQ&&i.gO.length!=1){var m=new y(n.E.q);
m.O=r.Ze;m.data={j:"h_stepbck"};d.n(m);if(i.o==G)return}var w=K.root.AX(G),S=K.AP(null,G);while(w.parent!=K.root){S.push(w.parent.index);
w=w.parent}for(var Y=0;Y<K.L.length;Y++){var o=K.L[Y],O=o.Ml(),t=S.indexOf(Y)!=-1;if(!t&&O)C.push(Y);
if(Y==G&&!O)C.push(Y)}}else{C.push(G);var O=K.L[G].Ml(),h={LG:O?"hide":"show",Qz:{classID:O?"Hd":"Shw",null:{t:"VlLs",v:[Pq.bt("Lyr",!0)]}}};
this.track(h)}var P=new QY("Layer visibility",this,!0);P.data={j:M,gO:C,o:G};K.Gn(P);this.Qv(P.data,K)}if(M==V.GJ){var h={LG:"select",Qz:{classID:"null",MkVs:{t:"bool",v:!1}}},c,escape=!1;
if(K.U.GU.join("")!="111"){K.U.GU=[1,1,1];K.nw=!0}if(A.Q(B.DV)||p.eWS==0){var g=K.Y.indexOf(G);if(g==-1)K.Y.push(G);
else if(K.Y.length>1)K.Y.splice(g,1);K.Y.sort(function(P,Gu){return P-Gu});h.Qz.selectionModifier={t:"enum",v:{selectionModifierType:"addToSelection"}};
c=G}else if(A.Q(B.tS)&&!A.Q(B.Od)&&p.Pj>0){M=p.Pj==1?V.PA:p.Pj==2?V.qU:V.nk;escape=!0}else if((A.Q(B.tS)||p.eWS==1)&&K.Y.length>0){var j=Math.min(G,K.Y[0]),_=Math.max(G,K.Y[K.Y.length-1]);
K.Y=[];for(var Y=j;Y<=_;Y++)if(K.L[Y].add.lsct!=ew.RX)K.Y.push(Y);h.Qz.selectionModifier={t:"enum",v:{selectionModifierType:"addToSelectionContinuous"}};
c=G}else{c=G;var o=K.L[G];if(o.Ba()&&p.esV)o.add.lsct=ew.rK;else if(K.Y.length==1&&K.Y[0]==G&&p.Pj==o.gq){return}K.Y=[G];
K.$a()}if(c!=null){h.Qz.null={t:"obj ",v:[{t:"name",v:{classID:"Lyr",val:K.L[c].getName()}}]},this.track(h)}if(!escape){if(K.Y.length==1){var U=K.Y[0];
for(var Y=0;Y<K.L.length;Y++){if(Y==U)continue;var $=K.L[Y];$.gq=0;$.BC=!1}var D=K.L[U];if(p.Pj==2)D.BC=!D.BC;
else{D.gq=p.Pj<=0?0:p.Pj;if(p.Pj==1||p.Pj==3){var I=p.Pj==3?D.MT(K).g:D.gW();I.hW=!1}}}else for(var Y=0;
Y<K.L.length;Y++){var $=K.L[Y];$.gq=0;$.BC=!1}K.BJ=null;K.TH=!0}}if(M==V.PA||M==V.nk){var E=M==V.PA,I=E?D.gW():D.MT(K).g;
if(I==null)return;var P=new QY(I.isEnabled?E?[6,15]:[6,42]:E?[6,14]:[6,41],this);P.data={j:M,o:G};K.Gn(P);
this.Qv(P.data,K)}if(M==V.qU){var I=D.add.vmsk;if(I==null)return;var P=new QY(I.isEnabled?[6,17]:[6,16],this);
P.data={j:M,o:G};K.Gn(P);this.Qv(P.data,K)}if(M==V.eEM){if(D.add.lsct==ew.rK)D.add.lsct=ew.Wy;else D.add.lsct=ew.rK;
K.TH=!0}if(M==V.PL){if(!K.gf(G))return;var P=new QY(D.wr?[6,19]:[6,18],this);P.data={j:M,o:G};K.Gn(P);
if(p.dx==null||p.dx!=D.wr)this.Qv(P.data,K);this.track({LG:"groupEvent",Qz:{classID:"GrpL",null:{t:"obj ",v:[Pq.bt("Lyr",!0)]}}})}if(M==V.eVH){if(D.nV())D.Wm-=32;
else D.Wm+=32;K.TH=!0}if(M==V.BY||M==V.OR){var P;if(M==V.BY)P=new QY(D.add.lmfx.masterFXSwitch.v?[6,30]:[6,29],this);
if(M==V.OR)P=new QY(D.add.SoLd.filterFX.v.enab.v?[6,44]:[6,43],this);P.data={j:M,o:G};K.Gn(P);this.Qv(P.data,K)}if(M==V.Bl||M==V.OY){var U=p.index,P;
if(M==V.Bl)P=new QY(D.add.lmfx[QG.mV[U[0]]].v[U[1]].v.enab.v?[6,30]:[6,29],this);if(M==V.OY)P=new QY(D.add.SoLd.filterFX.v.filterFXList.v[U].v.enab.v?[6,44]:[6,43],this);
P.data={j:M,o:G,index:p.index};K.Gn(P);this.Qv(P.data,K)}if(M==V.gw){if(p.src==p.Cw)return;var b=K.L[p.src],z=K.L[p.Cw],QS=b.add.lmfx?JSON.stringify(b.add.lmfx):"",QQ=z.add.lmfx?JSON.stringify(z.add.lmfx):"";
if(z.add.lmfx==null){z.add.lmfx=JSON.parse(QG.default);for(var Y=0;Y<QG.order.length;Y++)z.add.lmfx[QG.mV[Y]]={t:"VlLs",v:[]}}if(p.gU==null){z.add.lmfx=JSON.parse(QS);
if(!p.xr)delete b.add.lmfx}else{var Qe=p.gU[0],QB=QG.mV[Qe];if(QG.ePK.indexOf(QG.order[Qe])==-1)z.add.lmfx[QB].v=[];
z.add.lmfx[QB].v.push(b.add.lmfx[QB].v[p.gU[1]]);if(!p.xr)b.add.lmfx[QB].v.splice(p.gU[1],1)}var QU=b.add.lmfx?JSON.stringify(b.add.lmfx):"",Qt=z.add.lmfx?JSON.stringify(z.add.lmfx):"";
if(!z.nV())z.Wm+=32;var P=new QY("Move Layer Styles",this);P.data={j:M,eGe:p.src,eGI:p.Cw,es_:QS,esi:QQ,esq:QU,ess:Qt};
K.Gn(P);this.Qv(P.data,K)}if(M==V.eMk){var $=K.L[p.src],F=JSON.stringify($.add.SoLd),L=JSON.parse(F),Qu=L.filterFX.v.filterFXList.v;
Qu.splice(p.gU,1);var P=new QY([6,53],this);P.data={j:V.Ol,Uf:[{QT:p.src,oc:[F,JSON.stringify(L)]}]};
K.Gn(P);this.Qv(P.data,K)}if(M==V.eGU){var b=K.L[p.src],z=K.L[p.Cw],QK=[];if(b!=z&&z.add.SoLd==null){alert("Target layer is not a smart object!");
return}if(b==z&&!p.xr&&(p.gU==p.Ts||p.gU==-1))return;var Qm=b.MT(K),F=JSON.stringify(b.add.SoLd),L=JSON.parse(F),Qu=L.filterFX.v.filterFXList.v;
if(b==z){Qu.splice(p.Ts,0,Qu[p.gU]);if(!p.xr)Qu.splice(p.gU+(p.gU<p.Ts?0:1),1);QK.push({QT:p.src,oc:[F,JSON.stringify(L)]})}else if(p.gU==-1){var ei=L.filterFX;
if(!p.xr){delete L.filterFX;QK.push({QT:p.src,oc:[F,JSON.stringify(L)],U_:[Qm,null]})}var Qp=z.fP()?z.MT(K):null,QO=QZ.eIG(Qm),QE=JSON.stringify(z.add.SoLd),Qi=JSON.parse(QE);
Qi.placed.v=QO.id;Qi.filterFX=ei;QK.push({QT:p.Cw,oc:[QE,JSON.stringify(Qi)],U_:[Qp,QO]})}else{var QV=Qu[p.gU];
if(!p.xr){Qu.splice(p.gU,1);QK.push({QT:p.src,oc:[F,JSON.stringify(L)]})}var QE=JSON.stringify(z.add.SoLd),Qi=JSON.parse(QE);
if(Qi.filterFX==null)Qi.filterFX=eq.NU();var Q$=Qi.filterFX.v.filterFXList.v;Q$.splice(p.Ts,0,QV);var eS={QT:p.Cw,oc:[QE,JSON.stringify(Qi)]};
if(!z.fP()){var QO=QZ.eeQ(z.add.SoLd.placed.v);eS.U_=[null,QO]}QK.push(eS)}var P=new QY([6,52],this);
P.data={j:V.Ol,Uf:QK};K.Gn(P);this.Qv(P.data,K)}if(M==V.Bu){var I=D.gW(),P=new QY(I.LQ?[6,26]:[6,25],this);
P.data={j:M,o:G};K.Gn(P);this.Qv(P.data,K);this.track({LG:"set",Qz:{classID:"setd",null:{t:"obj ",v:[Pq.bt("Lyr",!0)]},T:{t:"Objc",v:{classID:"Lyr",Usrs:{t:"bool",v:I.LQ}}}}})}if(M==V.NZ){var I=D.add.vmsk,P=new QY(I.LQ?[6,28]:[6,27],this);
P.data={j:M,o:G};K.Gn(P);this.Qv(P.data,K)}if(M==V.Nr){var Qs=[],P;for(var Y=0;Y<K.Y.length;Y++){var Qw=K.Y[Y],o=K.L[Qw];
if(o.add.vogk)Qs.push(Qw,JSON.stringify(o.add.vogk))}for(var Y=0;Y<K.wV.length;Y++){var Qw=K.wV[Y],o=K.uE[Qw];
if(o.add.vogk)Qs.push(-1-Qw,JSON.stringify(o.add.vogk))}Z.B$.e$t(K,p.dC,p.esg);var Q_=[];for(var Y=0;
Y<K.Y.length;Y++){var Qw=K.Y[Y],o=K.L[Qw];if(o.add.vogk)Q_.push(Qw,JSON.stringify(o.add.vogk))}for(var Y=0;
Y<K.wV.length;Y++){var Qw=K.wV[Y],o=K.uE[Qw];if(o.add.vogk)Q_.push(-1-Qw,JSON.stringify(o.add.vogk))}var l=K.ED();
if(l&&l.data&&l.data.j==M){var QN=!0;for(var Y=0;Y<Qs.length;Y+=2)if(Qs[Y]!=l.data.TZ[Y])QN=!1;if(QN){P=l;
P.data.nO=Q_}}if(P==null){var P=new QY([12,91,1],this);P.data={j:M,TZ:Qs,nO:Q_};K.Gn(P)}this.Qv(P.data,K)}if(M==V.Nl){var P,l=K.ED();
if(l&&l.data&&l.data.j==M&&l.data.o==G){P=l;P.data.$Y=JSON.stringify(p.$Y)}if(P==null){var P=new QY("Editing Artboard",this);
P.data={j:M,o:G,esZ:JSON.stringify(D.add.artb),$Y:JSON.stringify(p.$Y)};K.Gn(P)}this.Qv(P.data,K)}if(M==V.Gw){var Q_=K.$O.slice(0),eK=K.Mv.slice(0),Qz=K.P,eQ=K.P;
if(p.hE=="fromAction"){var Qd=p.S.LG,Qj=p.S.Qz;if(Qd=="make"||Qd=="duplicate"){var QD=Q_.length,et=!1,QC=!1;
if(K.Eu())QD--;var Qq=new V.dK;Qq.name="Alpha "+(QD+1);if(Qd=="make"){var Qf=Qj.Nw.v;Qq.color=255;eK=[QD];
Qq.hW=!0;Qq.Eo=Qf.Opct.v;if(Qf.Nm)Qq.name=Qf.Nm.v;if(Qf.classID=="SCch"){et=!0;eQ=null;Qq.Rd=1}}else{var QA=Qj.null.v[0].v;
if(QA.keyID=="fsel")et=!0;else{var Qb=r.wJ.eey(K);eQ=r.wJ.eet(K,Qb);Qq.color=0;Qq.rect=eQ.rect;Qq.channel=eQ.channel}}if(et){Qq.color=0;
if(K.P){Qq.rect=K.P.rect.clone();Qq.channel=K.P.channel.slice(0)}if(QC){Qq.color=255-Qq.color;Z.an(Qq.channel)}}Q_.splice(QD,0,Qq)}else if(Qd=="delete"){var S=K.Mv;
S.sort(function(P,Gu){return Gu-P});if(S.length==0)return;for(var Y=0;Y<S.length;Y++)Q_.splice(S[Y],1);
eK=[]}else if(Qd=="hide"){Q_[eK[0]]=Q_[eK[0]].clone();Q_[eK[0]].hW=!1}}if(p.hE=="rnm"){Q_[p._W]=Q_[p._W].clone();
Q_[p._W].name=p.name}var P=new QY("Channel Edit",this);P.data={j:M,TZ:K.$O.slice(0),NP:K.Mv.slice(0),nO:Q_,NG:eK,ga:Qz,PD:eQ};
this.Qv(P.data,K);K.Gn(P)}if(M==V.CE){var P=new QY(p.hH,this);P.data={j:V.CE,ZB:K.L.slice(0),uv:p.uv,gs:K.Y.slice(0),gY:p.PD};
K.Gn(P);this.Qv(P.data,K)}if(M==V.Ry){var MS=K.AP(null,p.o),eG=1e10;if(MS.length==0)return;if(K.L.length==MS.length){alert("Project must have at least 1 layer");
return}var QR=[];for(var Y=0;Y<K.L.length;Y++)if(MS.indexOf(Y)==-1)QR.push(K.L[Y]);for(var Y=0;Y<MS.length;
Y++)eG=Math.min(eG,MS[Y]);eG=Math.max(eG-1,0);while(QR[eG].name=="</Layer group>")eG++;this.track({LG:"delete",Qz:{classID:"Dlt",null:Pq.bt("Lyr",!0)}});
var P=new QY([6,31],this);P.data={j:V.CE,ZB:K.L.slice(0),uv:QR,gs:K.Y.slice(0),gY:[eG]};K.Gn(P);this.Qv(P.data,K)}if(M==V.qn){var S=p.eGg?p.eGg:K.Y,MG=0,Mu=!1;
if(S.length==0)return;if(S.length==1&&K.L[S[0]].yQ==0){alert(Qc.get([15,7,5]));return}var MM=[];for(var Y=0;
Y<K.L.length;Y++){var MP=K.L[Y].yQ;MM.push(MP);MG=Math.max(MG,MP)}var Mm=-1,Mw=-1;for(var Y=0;Y<S.length;
Y++){var MP=K.L[S[Y]].yQ;if(MP==0)Mu=!0;else if(Mm==-1||Mm==MP)Mm=MP;else Mw=MP}if(!Mu)for(var Y=0;Y<S.length;
Y++)K.L[S[Y]].yQ=0;else if(Mm!=-1&&Mw==-1)for(var Y=0;Y<S.length;Y++)K.L[S[Y]].yQ=Mm;else for(var Y=0;
Y<S.length;Y++)K.L[S[Y]].yQ=MG+1;var MU=[];for(var Y=0;Y<K.L.length;Y++){var MP=K.L[Y].yQ;if(MU[MP]==null)MU[MP]=0;
MU[MP]++}for(var Y=0;Y<K.L.length;Y++){var MP=K.L[Y].yQ;if(MU[MP]==1)K.L[Y].yQ=0}var Pp=MM;MM=[];for(var Y=0;
Y<K.L.length;Y++){var MP=K.L[Y].yQ;MM.push(MP);MG=Math.max(MG,MP)}var P=new QY(Mu?[6,54,0]:[6,54,1],this);
P.data={j:V.qn,esy:Pp,esf:MM};K.Gn(P);this.Qv(P.data,K)}if(M==V.RY&&(p.o!=null||K.Y.length!=0)||M==V.$e){var Ma=K.Un(M==V.RY?p.o:G,null,p.ehM);
if(M==V.$e){var $=Ma[0],Qd=$.add.SoLd.Idnt.v,MQ=K.za(Qd).clone();$.add.SoLd.Idnt.v=MQ.Ak=QZ.Ex()+Qd.slice(8);
K.add.lnk2.push(MQ)}if(M==V.RY){var P$={LG:"duplicate",Qz:{classID:"null",null:Pq.bt("Lyr",!0)}};if(p.GY){Ma[0].Hv(p.GY);
P$.Nm={t:"TEXT",v:p.GY}}this.track(P$);p.eGZ=p.o}M=V.Bj;p.L=Ma;p.KS=K;p.Tk=K}if(M==V.Bj){var pU,pP,Mr=p.KS,eM=p.Tk;
if(Mr!=eM){console.log("ADDLAYERS different projs");var pU=new R(0,0,Mr.t,Mr.D),pP=new R(0,0,eM.t,eM.D),pS=[],eN=[];
for(var Y=0;Y<p.L.length;Y++){var $=p.L[Y];if($.add.SoLd==null)continue;var Qd=$.add.SoLd.Idnt.v;if(pS.indexOf(Qd)==-1){pS.push(Qd);
eN.push(QZ.Ex()+Qd.slice(8))}$.add.SoLd.Idnt.v=eN[pS.indexOf(Qd)];var Qm=$.MT(Mr);if(Qm){Mr.$z(Qm);eM.tP(Qm)}}if(pS.length>0){if(eM.add.lnk2==null)eM.add.lnk2=[];
for(var Y=0;Y<pS.length;Y++){var Mk=Mr.za(pS[Y]),MQ=Mk.clone();MQ.Ak=eN[Y];eM.add.lnk2.push(MQ)}}}var Qz=eM.Y.slice(0);
Qz.sort(function(P,Gu){return P-Gu});var QR=eM.L.slice(0),eQ=[],MI=-1;for(var Y=0;Y<Qz.length;Y++)MI=Math.max(MI,Qz[Y]);
if(p.eGZ!=null)MI=p.eGZ;MI++;for(var Y=0;Y<p.L.length;Y++){var o=p.L[Y];QR.splice(MI,0,o);eQ.push(MI);
MI++}if(p.L[p.L.length-1].Ba())eQ=[MI-1];var P=new QY([6,0],this);P.data={j:V.CE,ZB:eM.L.slice(0),uv:QR,gs:Qz,gY:eQ};
eM.Gn(P);this.Qv(P.data,eM)}if(M==V.eHp){var ez=p.o!=null?[p.o]:K.AP(),QR=K.L.slice(0);for(var Y=0;Y<ez.length;
Y++){var o=K.L[ez[Y]].clone();o.eBV(K);QR.splice(ez[Y],1,o)}var P=new QY([6,8],this);P.data={j:V.CE,ZB:K.L.slice(0),uv:QR,gs:K.Y.slice(0),gY:K.Y.slice(0)};
K.Gn(P);this.Qv(P.data,K)}if(M==V.eGm){var QR=K.L.slice(0),o=QR[K.Y[0]]=QR[K.Y[0]].clone(),PK=o.add.lmfx,pp=0;
delete o.add.lmfx;var eZ=Z.p(o.rect.r());Z.$m(o.buffer,eZ,3);var eu=QL.$o(PK,null,eZ,o.rect,K,o.rect).type;
for(var Y=0;Y<QG.order.length;Y++){var GB=QG.order[Y],MH=eu[GB],Gi=Y>7;for(var e$=0;e$<MH.length;e$++){var Mx=MH[e$],e=K.sP();
e.yk=Mx.vN;e.opacity=Math.round(255*Mx.sb);e.wr=!Gi;e.buffer=Mx.nM;e.rect=Mx.Yy;e.rect.offset(o.rect.x,o.rect.y);
e.Hv(o.getName()+"'s "+Qc.get(QG.names[Y]));QR.splice(K.Y[0]+(Gi?0:1),0,e);if(Gi)pp++}}var P=new QY("Styles to Layers",this);
P.data={j:V.CE,ZB:K.L.slice(0),uv:QR,gs:K.Y.slice(0),gY:[K.Y[0]+pp]};K.Gn(P);this.Qv(P.data,K)}if(M==V.$G){var ez=K.AP(),QR=K.L.slice(0),em=new R(0,0,K.t,K.D);
for(var Y=0;Y<ez.length;Y++){var pe=K.L[ez[Y]],eU=pe.Ml();pe.qJ(!0);var MZ=K.root.AX(ez[Y]);if(pe.Ba())continue;
if(MZ==null)continue;var o=pe.clone();o.eBV(K);var ep=MZ.rl(K,!0),tN=K.L;K.Wz([o]);K.i();K.gm();o.buffer=Z.p(ep.r()*4);
Z.PE(K.zi(),em,o.buffer,ep);o.rect=ep;o.opacity=255;o.add.iOpa=255;o.yk="norm";o.i();o.T.t_=!0;K.Wz(tN);
if(o.add.lmfx)delete o.add.lmfx;o.g=o.Eb=null;QR.splice(ez[Y],1,o);o.qJ(eU);pe.qJ(eU)}var P=new QY([6,34],this);
P.data={j:V.CE,ZB:K.L.slice(0),uv:QR,gs:K.Y.slice(0),gY:K.Y.slice(0)};K.Gn(P);this.Qv(P.data,K)}if(M==V.ePF){var ez=K.AP(),QR=K.L.slice(0);
for(var Y=0;Y<ez.length;Y++){var o=K.L[ez[Y]],pM=o.add.TySh;if(pM==null)continue;var $=new MB(pM.Nf,x.ET),BS=Z._.Ui(Mq.rx($,pM));
for(var Pc in BS){var tZ=BS[Pc],Qy=o.clone();delete Qy.add.TySh;Qy.Wm=Qy.Wm|1<<4;Qy.add.SoCo=JSON.parse(JSON.stringify(QG.Pr[0]));
var na=Qy.add.SoCo.Clr.v;na.Rd.v=parseInt(Pc.slice(1,3),16);na.Grn.v=parseInt(Pc.slice(3,5),16);na.Bl.v=parseInt(Pc.slice(5,7),16);
var pC=new V.mK;pC.Z=Z._.Li(tZ,!1);if(Qy.add.vmsk!=null){Qy.add.vmsk.em$();pC.concat(Qy.add.vmsk)}Qy.add.vmsk=pC;
Qy.add.vstk=JSON.parse(JSON.stringify(QG.Wh.default));Qy.oK();Qy.u_(K);QR.splice(QR.indexOf(o),0,Qy)}QR.splice(QR.indexOf(o),1)}var P=new QY([6,40],this);
P.data={j:V.CE,ZB:K.L.slice(0),uv:QR,gs:K.Y.slice(0),gY:K.Y.slice(0)};K.Gn(P);this.Qv(P.data,K)}if(M==V.eP_){var eW=K.Y.length;
if(eW<2)return;if(!K.Zp())return;var Qy=K.L[K.Y[0]].clone(),QR=[];for(var Y=0;Y<K.L.length;Y++)if(K.Y.indexOf(Y)==-1)QR.push(K.L[Y]);
QR.splice(K.Y[0],0,Qy);for(var Y=1;Y<eW;Y++){var o=K.L[K.Y[Y]],MC=o.rect.clone();MC.WJ(1,1);var Gu=Z.p(MC.r()*4);
Z.PE(o.buffer,o.rect,Gu,MC);Qy.extend(MC);var Gt=Z.p(MC.r()*4);Z.PE(Qy.buffer,Qy.rect,Gt,MC);var P=Z.p(MC.r());
Z.$m(Gu,P,3);Z.round(P,200);Z.qF(P,Gu,3);Z.h.gQ("norm",Gu,MC,Gt,MC,MC,1);Z.sO.eK(Gt,P,MC);Z.PE(Gt,MC,Qy.buffer,Qy.rect)}var P=new QY([2,10],this);
P.data={j:V.CE,ZB:K.L.slice(0),uv:QR,gs:K.Y.slice(0),gY:[K.Y[0]]};K.Gn(P);this.Qv(P.data,K)}if(M==V.$c){var QR=K.L.slice(0),eK=K.Y.slice(0);
for(var Y=0;Y<QR.length;Y++){var o=QR[Y],GN=o.add.vmsk;if(o.ti()&&GN&&o.add.vstk.strokeEnabled.v&&!o.add.vstk.fillEnabled.v){var PI=GN.Z,t_=0,Ge=-1;
for(var e$=0;e$<PI.length;e$++){if((PI[e$].type==0||PI[e$].type==3)&&PI[e$].Ez!=-1){t_++;if(PI[e$].type==3&&Ge==-1){PI[e$].LC=PI[e$].Ez=1;
Ge=e$}}}if(t_>1&&Ge!=-1){console.log("separating an open path into a new layer");o=o.clone();GN=o.add.vmsk;
PI=GN.Z;var e=PI[Ge].length,Pa=o.clone();Pa.add.lyid=K.gT();GN.Z=PI.slice(0,2).concat(PI.slice(Ge,Ge+e+1));
GN.Y=[];o.u_(K);o.i();var Go=Pa.add.vmsk.Z;Pa.add.vmsk.Z=Go.slice(0,Ge).concat(Go.slice(Ge+e+1,Go.length));
Pa.add.vmsk.Y=[];Pa.u_(K);QR[Y]=o;QR.splice(Y+1,0,Pa);for(var e$=0;e$<eK.length;e$++)if(eK[e$]>Y)eK[e$]++;
var M_=eK.indexOf(Y);if(M_!=-1){eK.splice(M_+1,0,Y+1)}}}}if(QR.length!=K.L.length){var P=new QY("Splitting open paths",this);
P.data={j:V.CE,ZB:K.L.slice(0),uv:QR,gs:K.Y.slice(0),gY:eK};K.Gn(P);this.Qv(P.data,K)}}if(M==V.eKH){this.Ch({j:V.$c},d,K,A,x);
var Qz=K.Y.slice(0),tN=K.L.slice(0),ez=K.AP();if(ez.length==0)return;K.eoK(ez);var P=new QY([6,36,0],this);
P.data={j:V.CE,ZB:tN,uv:K.L.slice(),gs:Qz,gY:K.Y.slice(0)};K.Gn(P);this.Qv(P.data,K)}if(M==V.nJ){var Mk=p._b.za(p.id),MQ=Mk.clone();
MQ.raw=p.data;MQ.Ji="8BIM";MQ.rv="8BPB";MQ.QR=MQ.QR+".psd";MQ.zi(!1);Mk.zi(!1);var P=new QY([6,36,1],this);
P.data={j:V.nJ,id:p.id,kS:Mk,ku:MQ};p._b.Gn(P);this.Qv(P.data,p._b)}if(M==V.euD){var nN,PA;if(p.Zv){nN=p._b;
PA=p.Zv}else{p._b.ao();p._b.ZF();p._b.i();p._b.gm();p._b.zi();nN=QH.PSD._B(p._b,0,0,[!0,!0]);PA=p._b.name}if(!(nN instanceof ArrayBuffer))throw"e";
nN=new Uint8Array(nN);var g=p.nW!=null?p.nW:K.Y[K.Y.length-1]+1,pv=K.tQ(nN,PA,0,0,!0),QR=K.L.slice(0);
QR.splice(g,0,pv);var P=new QY([6,36,2],this);P.data={j:V.CE,ZB:K.L.slice(),uv:QR,gs:K.Y.slice(0),gY:[QR.indexOf(pv)]};
K.Gn(P);this.Qv(P.data,K)}if(M==V.eGJ){var nz=[],pi=[],ex=0;for(var Y=0;Y<K.Y.length;Y++){var Qw=K.Y[Y],o=K.L[Qw];
if(o.Ba()&&nz.indexOf(Qw)==-1){nz.push(Qw);pi.push(o.getName())}}if(nz.length!=2){nz=[];pi=[];for(var Y=0;
Y<K.L.length;Y++){var Qw=Y,o=K.L[Qw];if(o.Ba()&&nz.indexOf(Qw)==-1){nz.push(Qw);pi.push(o.getName())}}}if(nz.length<2){alert("We need at least two folders of layers");
return}var MH=[];for(var pa=0;pa<nz.length;pa++){var w=K.root.AX(nz[pa]),eS=[[],[],0,pa];MH.push(eS);
if(w.children.length==0){alert("There is a folder \""+w.o.getName()+"\" without any layers.");return}for(var Y=0;
Y<w.children.length;Y++){var Qw=w.children[Y].index,o=w.children[Y].o,Qq=o.getName(),GM=20;if(!Qq.startsWith("_a_")){alert("Name of every frame should start with \"_a_\"");
return}var pc=Qq.split(",");if(pc.length>1){var Pm=parseInt(pc.pop());if(!isNaN(Pm)&&Pm!=0)GM=Pm}eS[0].push(o);
eS[1].push(GM);eS[2]+=GM}}MH.sort(function(P,Gu){return Gu[2]-P[2]});var Bq=MH[0],po=Bq[2];for(var GA=1;
GA<MH.length;GA++){var eS=MH[GA],GW=1,pw=eS[1].slice(0),tM=0;while((GW+1)*eS[2]<=Bq[2]){GW++;pw=pw.concat(eS[1])}eS[1]=pw;
eS[2]*=GW;var Ml=Bq[2]/eS[2];for(var Y=0;Y<eS[1].length;Y++){var MJ=Math.floor(eS[1][Y]*Ml);eS[1][Y]=MJ;
tM+=MJ}while(tM<po){tM++;eS[1][eS[1].length-1]++}eS[2]=tM}var ef=[],tA=[],MJ=[];for(var Y=0;Y<MH.length;
Y++){ef.push(0);tA.push(0)}while(ex<po){var PJ=1e9,QD=-1;for(var Y=0;Y<MH.length;Y++){var Gm=MH[Y][1],PP=ef[Y];
if(PP!=Gm.length&&tA[Y]+Gm[PP]<ex+PJ){QD=Y;PJ=tA[Y]+Gm[PP]-ex}}tA[QD]+=MH[QD][1][ef[QD]];ef[QD]++;if(PJ!=0){MJ.push(PJ);
ex+=PJ}}for(var Y=0;Y<MJ.length;Y++){var GO=MJ[Y],pD=GO>>>1;if(GO<17){var Qw=MJ.length-1;if(Y==0)MJ[1]+=GO;
else if(Y==MJ.length-1)MJ[Qw-1]+=GO;else{MJ[Y-1]+=pD;MJ[Y+1]+=GO-pD}MJ.splice(Y,1);Y--}}var tj=K.Y.slice(0);
K.Y=nz;var MS=K.AP();MS.sort(function(P,Gu){return P-Gu});var QR=[];for(var Y=0;Y<K.L.length;Y++){if(MS.indexOf(Y)==-1)QR.push(K.L[Y])}MH.sort(function(P,Gu){return P[3]-Gu[3]});
function PG(Gm,BE){var Y=0,B_=0;while(B_+Gm[Y]<=BE){B_+=Gm[Y];Y++}return Y}ex=0;QR.splice(MS[0],0,K.dN());
for(var pH=0;pH<MJ.length;pH++){var C=[],Pr=new R;for(var Y=0;Y<MH.length;Y++){var PP=PG(MH[Y][1],ex)%MH[Y][0].length,o=MH[Y][0][PP];
C.push(o);Pr=Pr.ck(o.rect)}var o=K.sP();o.rect=Pr;o.buffer=Z.p(Pr.r()*4);for(var Y=0;Y<MH.length;Y++){var eP=C[Y],PE=eP.opacity/255*(K.L[nz[Y]].opacity/255);
Z.h.gQ("norm",eP.buffer,eP.rect,o.buffer,Pr,Pr,PE)}o.qJ(pH==0);o.Hv("_a_frm"+pH+","+MJ[pH]);QR.splice(MS[0]+1+pH,0,o);
ex+=MJ[pH]}var o=K.sP();o.Hv(pi.join(" + "));o.yk="pass";o.add.lsct=ew.Wy;o.Wm=24;QR.splice(MS[0]+1+MJ.length,0,o);
var P=new QY([6,12,0],this);P.data={j:V.CE,ZB:K.L,uv:QR,gs:tj,gY:[MS[0]+1+MJ.length]};K.Gn(P);this.Qv(P.data,K)}if(M==V.Pi||M==V.nN||M==V.nZ){var tN=K.L.slice(0),Qz=K.Y.slice(0),PM=!0,pv,eQ;
if(M==V.Pi)K.Y=[K.Y[0],K.Y[0]-1];if(M==V.nZ){K.Y=[];for(var Y=0;Y<K.L.length;Y++)if(K.L[Y].Ml())K.Y.push(Y)}var ez=K.AP();
ez.sort(function(P,Gu){return P-Gu});var tf=new R,em=new R(0,0,K.t,K.D);for(var Y=0;Y<ez.length;Y++){var Qw=ez[Y],o=K.L[Qw];
PM=PM&&o.ti()&&o.add.vmsk!=null;tf=tf.ck(K.root.AX(Qw).rl(K,!0))}if(PM){pv=K.L[ez[0]].clone();var GN=pv.add.vmsk;
for(var Y=1;Y<ez.length;Y++){var e=K.L[ez[Y]],Go=V.mK.el(e.add.vmsk.Z);GN.Z=GN.Z.concat(Go.slice(2));
pv.add.vogk=pv.add.vogk.concat(JSON.parse(JSON.stringify(e.add.vogk)))}pv.add.vmsk.dJ=!0;pv.u_(K)}else if(em.iV(tf)){pv=K.sP();
pv.Hv(K.L[ez[ez.length-1]].getName());pv.rect=tf;pv.buffer=Z.p(tf.r()*4);var nM=K.zi(ez);Z.PE(nM,em,pv.buffer,tf);
pv.i()}else{K.eoK(ez,!0);pv=K.L[K.Y[0]];K.L.splice(K.Y[0],1);var np=K.za(pv.add.SoLd.Idnt.v);K.add.lnk2.splice(K.add.lnk2.indexOf(np),1);
delete pv.add.SoLd}var GQ=A.Q(B.Od),PH=-1;if(p.Qz&&p.Qz.Dplc&&p.Qz.Dplc.v)GQ=!0;if(GQ&&M==V.nZ&&K.L[Qz[0]].Rr()&&K.L[Qz[0]].rect.kQ()){PH=Qz[0];
pv.Hv(K.L[PH].getName())}var QR=[];for(var Y=0;Y<K.L.length;Y++)if(GQ||ez.indexOf(Y)==-1)if(Y!=PH)QR.push(K.L[Y]);
var pF=ez[ez.length-1],nU=pF==K.L.length-1?null:K.L[pF+1],nK=nU?QR.indexOf(nU):QR.length;QR.splice(nK,0,pv);
eQ=[nK];var P=new QY([6,12,0],this);P.data={j:V.CE,ZB:tN,uv:QR,gs:Qz,gY:eQ};K.Gn(P);this.Qv(P.data,K)}if(M==V.$t){var Qy=K.sP();
Qy.rect=new R(0,0,K.t,K.D);Qy.buffer=Z.p(Qy.rect.r()*4);Z.Pk(Qy.buffer,4294967295);Z.h.gQ("norm",K.zi(),Qy.rect,Qy.buffer,Qy.rect,Qy.rect,1);
Qy.Hv("Background");Qy.add.lspf=1<<2;var P=new QY([6,12,1],this);P.data={j:V.CE,ZB:K.L.slice(),uv:[Qy],gs:K.Y.slice(0),gY:[0]};
K.Gn(P);this.Qv(P.data,K)}if(M==V.zH||M==V.BT||M==V.zE||M==V.Op||M==V.Pz){var o=M==V.Pz?K.L[K.Y[0]].clone():K.sP(),PX=Qc.get([0,3]),tl=p.GY,ni=!1,pm,nq;
if(M==V.zE)PX=Qc.get([12,76,1]);if(M==V.Pz){var pe=K.L[K.Y[0]],Bj=pe.eON(K,K.P);if(Bj==null){alert("Copied area is empty");
return}o.rect=Bj.rect,o.buffer=Bj.Qd}if(M==V.Op){o.rect=Qv.Ys.eVQ(p.Gi,K);o.buffer=Z.clone(p.Gi.buffer)}if(M==V.zH){this.track({LG:"make",Qz:{classID:"Mk",null:Pq.bt("Lyr")}})}if(M==V.BT){o.Wm|=16;
var pE=p.Qz.Usng.v,eY=pE.Type.v,PZ=QW.NB[eY.classID];PX=Qc.get(QW.names[PZ]);if(pE.Nm)tl=pE.Nm.v;o.add[PZ]=eq.Kj(PZ);
for(var ty in eY)o.add[PZ][ty]=JSON.parse(JSON.stringify(eY[ty]));o.g=Qv.Ys.eMx(K)}if(M==V.zE){o.Wm|=16;
var Qj=p.Qz,pE=Qj.Usng.v,nP=pE.Type.v,Pv=pE.Shp;if(Pv==null)o.g=Qv.Ys.eMx(K);else{console.log(pE);o.add.vmsk=new V.mK;
o.add.vstk=JSON.parse(JSON.stringify(pE.strokeStyle?pE.strokeStyle.v:QG.Wh.default));o.add.vogk=[];if(Pv){var pR=Z.B$.kp(Pv);
if(pR){o.add.vogk=[pR];o.add.vmsk.Z.push({type:0,Ez:1,length:0});Z.B$.sG(o.add.vogk,o.add.vmsk)}else{Pv=Pv.v;
var pl=Pv.classID;if(pl=="Plgn"){var nt=Pv.Cntr.v,pJ=Pv.corner.v;nt=new QP(nt.Hrzn.v.val,nt.Vrtc.v.val);
pJ=new QP(pJ.Hrzn.v.val,pJ.Vrtc.v.val);o.add.vmsk.Z=Z.e.Ek.Ks(nt.x,nt.y,Math.sqrt(pJ.x*pJ.x+pJ.y*pJ.y),Math.atan2(pJ.y,pJ.x),Pv.sides.v,0)}else if(pl=="customShape"){var BH=Z.B$.Uw(Pv),pf=BH[2]-BH[0],pL=BH[3]-BH[1],nh=x.$w,PN,Px;
for(var Y=0;Y<nh.length;Y++)if(nh[Y].WX==Pv.Nm.v)PN=nh[Y];if(PN){Px=V.mK.el(PN.Z);Z.e.RF(Px,new QI(pf,0,0,pL,BH[0],BH[1]))}else Px=Z.e.Ek.Rect(BH[0],BH[1],pf,pL,0);
o.add.vmsk.Z=Px}o.oK()}}}var pA={solidColorLayer:0,gradientLayer:1,patternLayer:2}[nP.classID],pN=["SoCo","GdFl","PtFl"][pA];
o.add[pN]=JSON.parse(JSON.stringify(QG.Pr[pA]));Qv.Ys.Mh(nP,o.add[pN],pA);if(Pv==null)PX=Qc.get([6,48,0,pA]);
if(pN=="PtFl")K.zI(QL.xc(o.add[pN].Ptrn.v,x.ps));o.u_(K)}var eW=Qv.Ys.eQX(K,PX+" ");o.Hv(PX+" "+(eW+1));
if(tl)o.Hv(tl);var Gc=K.Y.length==0?K.L.length-1:K.Y[K.Y.length-1],pY=K.L[Gc];if(M==V.zE&&pY.Rr()&&pY.rect.kQ()){ni=!0;
o.Hv(pY.getName());pm=Gc}else{pm=Gc+1;if(pY.add.lsct==ew.rK)pm--}var QR=K.L.slice(0);QR.splice(pm,ni?1:0,o);
var pg=[5,2];if(M==V.zH)pg=[6,13];if(M==V.BT)pg=[6,1];if(M==V.zE){pg=[6,48,1];var Pv=p.Qz.Usng.v.Shp;
if(Pv){var nW={Rctn:[10,32],Ln:[10,35],Elps:[10,33],Plgn:[12,93,0],customShape:[10,31]}[Pv.v.classID];
if(nW)pg=nW}}if(M==V.Pz){pg=[6,49]}if(M==V.Pz||M==V.zE||M==V.Op)if(K.P)nq=[K.P,null];var P=new QY(pg,this);
P.data={j:V.CE,ZB:K.L.slice(0),uv:QR,gs:K.Y.slice(0),gY:[pm],Kg:nq};K.Gn(P);this.Qv(P.data,K);if(M==V.zE&&Pv==null&&pA!=0||M==V.BT){var tn=new y(n.E.s);
tn.data={j:n.H.Ko,$u:QJ.dh.Yc};d.n(tn)}}if(M==V.gp){var o=K.sP();o.Hv(Qc.get([0,4])+" "+K.L.length);
o.yk="pass";o.add.lsct=ew.rK;o.Wm=24;var nj=K.dN(),Gc=G,pm=Gc+1,QR=K.L.slice(0);QR.splice(pm,0,nj,o);
var P=new QY([6,20],this);P.data={j:V.CE,ZB:K.L.slice(0),uv:QR,gs:K.Y.slice(0),gY:[pm+1]};K.Gn(P);this.Qv(P.data,K)}if(M==V.hQ||M==V.Gl){var tc=M==V.hQ?p.source:K.Y[0],pu,ph,nT=K.Y.indexOf(tc)!=-1,ne=A.Q(B.Od)|p.esT,pz;
if(nT)pz=K.AP();else pz=K.Uu(tc);pz.sort(function(P,Gu){return P-Gu});if(M==V.hQ){pu=p.target;ph=p.rS>.5}else if(p.target!=null){pu=p.target;
ph=!0;K.NA=!0}else{var pI=p.hE;ph=pI>1;if(pI==0){pu=K.L.length-1}if(pI==1){pu=pz[pz.length-1]+1;var e=K.Uu(pu);
if(e.indexOf(tc)==-1)pu+=e.length-1}if(pI==2){pu=pz[0]-1;var e=K.Uu(pu);if(e.indexOf(tc)==-1)pu-=e.length-1}if(pI==3){pu=0}if(pu<0||pu>K.L.length-1)return;
K.NA=!0}if(pz.indexOf(pu)!=-1)return;var nJ=K.L[pu],QR=[];if(ne)QR=K.L.slice(0);else for(var Y=0;Y<K.L.length;
Y++)if(pz.indexOf(Y)==-1)QR.push(K.L[Y]);var BP=QR.indexOf(nJ);if(M==V.hQ&&nJ.Ba()&&nJ.add.lsct==ew.Wy&&p.rS>.8)BP-=K.Uu(pu).length-1;
var py=[],pd=ne?K.Un(nT?null:tc):null;for(var Y=0;Y<pz.length;Y++){var BG=BP+(ph?0:1)+Y,$=ne?pd[Y]:K.L[pz[Y]];
QR.splice(BG,0,$);py.push(BG)}var P=new QY(ne?[6,0]:[6,35],this);P.data={j:V.CE,ZB:K.L.slice(0),uv:QR,gs:K.Y.slice(0),gY:py};
K.Gn(P);this.Qv(P.data,K);var Qj={classID:"move",null:Pq.bt("Lyr",!0),T:{t:"obj ",v:[{t:"indx",v:{classID:"Lyr",val:BP+(ph?0:1)}}]},Adjs:{t:"bool",v:!1},Vrsn:{t:"long",v:5},Dplc:{t:"long",v:ne}};
this.track({LG:"move",Qz:Qj})}if(M==V.OO){var o=K.sP(),Bn=Qc.get([0,4])+" ";o.Hv(Bn+(Qv.Ys.eQX(K,Bn)+1));
o.yk="pass";if(p.GY)o.Hv(p.GY);o.add.lsct=K.Y.length==1?ew.rK:ew.Wy;o.Wm=24;var nj=K.dN(),pz=K.AP();
if(pz.length==0)return;pz.sort(function(P,Gu){return P-Gu});var QR=[];for(var Y=0;Y<K.L.length;Y++)if(pz.indexOf(Y)==-1)QR.push(K.L[Y]);
var Gc=K.Y[K.Y.length-1]-pz.length;QR.splice(Gc+1,0,nj);for(var Y=0;Y<pz.length;Y++)QR.splice(Gc+2+Y,0,K.L[pz[Y]]);
QR.splice(Gc+2+pz.length,0,o);var P=new QY([6,9],this);P.data={j:V.CE,ZB:K.L.slice(0),uv:QR,gs:K.Y.slice(0),gY:[QR.indexOf(o)]};
K.Gn(P);this.Qv(P.data,K);var h={LG:"make",VP:!0};h.Qz={classID:"Mk",null:Pq.bt("layerSection"),From:Pq.bt("Lyr",!0),Usng:{t:"Objc",v:{classID:"layerSection",Nm:{t:"TEXT",v:o.getName()}}}};
this.track(h)}if(M==V.emi){if(K.Y.length!=1)return;var g=K.Y[0],BB=A.Q(B.Od);if(K.L[g].gW()==null){M=V.v_;
p.aV=K.P?!BB?"RvlS":"HdSl":!BB?"RvlA":"HdAl"}else M=V.PX}if(M==V.v_){if(K.Y.length!=1)return;var g=K.Y[0],o=K.L[g],BO=o.gW();
if(BO==null||p.eoe){var P=new QY([6,21],this),tJ=new V.dK,Pf=p.aV,nn=Pf=="RvlS"||Pf=="HdSl";if(Pf=="RvlS"||Pf=="HdAl"||Pf=="Trns")tJ.color=0;
if(nn){tJ.channel=Z.clone(K.P.channel);tJ.rect=K.P.rect.clone();if(Pf=="HdSl")Z.an(tJ.channel)}if(Pf=="Trns"){tJ.rect=o.rect.clone();
tJ.channel=Z.p(o.rect.r());Z.$m(o.buffer,tJ.channel,3)}P.data={j:M,o:g,g:tJ,re:BO,Kg:nn?[K.P,null]:null};
K.Gn(P);this.Qv(P.data,K);K.L[g].gq=1;this.track({LG:"make",Qz:{__name:"Make",classID:"Mk",Nw:{t:"type",v:{classID:"Chnl"}},At:{t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:"Msk"}}]},Usng:{t:"enum",v:{UsrM:Pf}}}})}}else if(M==V.NN){var b=K.L[p.src],z=K.L[p.Cw];
if(z.gW())return;var P=new QY([6,21],this),tJ=b.gW();if(p.xr){P.data={j:V.v_,o:p.Cw,g:tJ.clone()}}else{P.data={j:M,src:p.src,Cw:p.Cw,g:tJ}}K.Gn(P);
this.Qv(P.data,K)}if(M==V.qK){if(K.Y.length!=1)return;var g=G;if(K.L[g].gW()!=null){var P=new QY([6,22],this);
P.data={j:M,o:g,g:K.L[g].gW()};K.Gn(P);this.Qv(P.data,K)}}if(M==V.$p){var tN=K.L.slice(0),Qy=D.clone(),Bu=Qy.gW();
Z.HG(Bu.eI(Qy.rect),Qy.rect,Qy.buffer,Qy.rect);Qv.Ys.aQ(K,Qy);K.L[K.Y[0]]=Qy;var P=new QY([5,8],this);
P.data={j:V.CE,ZB:tN,uv:K.L.slice(),gs:K.Y.slice(0),gY:K.Y.slice(0)};K.Gn(P);this.Qv(P.data,K)}if(M==V.go){if(K.Y.length!=1)return;
var g=K.Y[0];if(K.L[g].MT(K).g==null){var P=new QY([6,45],this);P.data={j:M,o:g,g:new V.dK};K.Gn(P);
this.Qv(P.data,K)}}if(M==V.gA){if(K.Y.length!=1)return;var g=K.Y[0];if(K.L[g].MT(K).g!=null){var P=new QY([6,46],this);
P.data={j:M,o:g,g:K.L[g].MT(K).g};K.Gn(P);this.Qv(P.data,K)}}if(M==V.$n){if(p.o==null&&K.Y.length!=1)return;
if(K.L[G].fP()){var P=new QY([6,47],this),F=JSON.stringify(K.L[G].add.SoLd),L=JSON.parse(F);delete L.filterFX;
P.data={j:V.Ol,Uf:[{QT:G,oc:[F,JSON.stringify(L)],U_:[K.L[G].MT(K),null]}]};K.Gn(P);this.Qv(P.data,K)}}if(M==V.PX){if(K.Y.length!=1)return;
if(D.add.vmsk==null){var P=new QY([6,23],this),tJ=new V.mK;tJ.Z[1].all=p.eIy?0:1;P.data={j:M,o:G,rP:!0,g:tJ,B$:"[]",Wh:null};
if(D.ti()){P.data.Wh=JSON.stringify(QG.Wh.default)}K.Gn(P);this.Qv(P.data,K)}}if(M==V.Ng){var b=K.L[p.src],z=K.L[p.Cw];
if(z.add.vmsk)return;var P=new QY([6,23],this),GN=b.add.vmsk;P.data={o:p.Cw,rP:b.BC,g:GN.clone(),B$:JSON.stringify(b.add.vogk),Wh:b.add.vstk?JSON.stringify(b.add.vstk):null};
if(p.xr){P.data.j=V.PX}else{P.data.j=M;P.data.src=p.src;P.data.Cw=p.Cw}K.Gn(P);this.Qv(P.data,K)}if(M==V.qw){if(K.Y.length!=1)return;
var o=K.L[G],GN=o.add.vmsk;if(GN!=null){var P=new QY([6,24],this);P.data={j:M,o:G,rP:o.BC,g:GN,B$:JSON.stringify(o.add.vogk),Wh:o.add.vstk?JSON.stringify(o.add.vstk):null};
K.Gn(P);this.Qv(P.data,K)}}if(M==V.gV){var P=new QY("Metadata",this);P.data={j:M,Ik:JSON.stringify(K.ZD),vf:JSON.stringify(p.vf)};
K.Gn(P);this.Qv(P.data,K)}if(M==V.Oc){var PW=p.Cw?p.Cw:K,nO=PW.name,tl=p.S+".psd";if(nO==tl)return;var P=new QY([6,37],this);
P.data={j:M,rG:nO,GY:tl};if(p.eoH!=!0)PW.Gn(P);this.Qv(P.data,PW)}if(M==V.hJ){var nO=D.getName(),tl=p.name.substring(0,255);
if(nO==tl)return;var P=new QY([6,37],this);P.data={j:M,o:G,rG:nO,GY:tl,etu:D.add.lnsr,etH:null};K.Gn(P);
this.Qv(P.data,K);this.track(Pq.wT("Nm",{t:"TEXT",v:tl}))}if(M==V.hl){var nY=K.AP(),nX=[],BQ=[];for(var Y=0;
Y<nY.length;Y++){nX.push(K.L[nY[Y]].add.lclr);BQ.push(p.eQu)}var P=new QY([6,38],this);P.data={j:M,L:nY,eoV:nX,eo$:BQ};
K.Gn(P);this.Qv(P.data,K)}if(M==V.gb){var P=K.history[K.PO];if(P!=null&&P.O==this&&P.data.j==M&&P.data.o==p.rt&&P.data.dx.ZE==p.FB.ZE)P.data.dx=p.FB;
else{P=new QY("Mask Density / Feather",this);P.data={j:M,o:p.rt,xl:K.L[p.rt].eBW(p.FB.ZE),dx:p.FB};K.Gn(P)}this.Qv(P.data,K)}if(M==V.sW){var Bp=JSON.stringify(p.S),pZ=JSON.parse(Bp),P=K.history[K.PO];
if(P!=null&&P.O==this&&P.data.j==M&&P.data.qs==p.qs&&P.data.gO.join(",")==p.gO.join(",")){for(var Y=0;
Y<p.gO.length;Y++)P.data.rO[Y]=pZ;if(P.data.Qz&&pZ.rv!=0)Qv.Ys.Mh(pZ.dm,P.data.Qz.T.v,pZ.rv-1)}else{P=new QY([11,6],this);
P.data={j:M,gO:p.gO,qs:p.qs,eQZ:[],rO:[]};var Bc=!1;for(var Y=0;Y<p.gO.length;Y++){var Qw=p.gO[Y],o=K.L[Qw],nx=p.qs?r.Zb.vW(K,Qw):JSON.parse(JSON.stringify(o.add.vstk));
P.data.eQZ.push(nx);P.data.rO.push(pZ);if(JSON.stringify(nx)!=Bp)Bc=!0}if(!Bc)return;K.Gn(P);if(p.qs&&pZ.rv>0){var Qj=P.data.Qz={classID:"setd",null:Pq.bt("contentLayer",!0),T:{t:"Objc",v:{}}},pN=["SoCo","GdFl","PtFl"][pZ.rv-1];
Qv.Ys.Mh(pZ.dm,Qj.T.v,pZ.rv-1);this.track({LG:"set",Qz:Qj})}}if(p.qs&&pZ.rv==3)K.zI(QL.xc(pZ.dm.Ptrn.v,x.ps));
if(!p.qs){var BF=pZ.strokeStyleContent.v;if(BF.classID==QG.Wh.XJ[2])K.zI(QL.xc(BF.Ptrn.v,x.ps))}this.Qv(P.data,K)}};
Qv.Ys.Mh=function(p,d,K){var A=[QG.Za,QG.xM,QG.xU][K];if(d.classID==null)d.classID=["solidColorLayer","gradientLayer","patternLayer"][K];
for(var x=0;x<A.length;x++)if(p[A[x]])d[A[x]]=JSON.parse(JSON.stringify(p[A[x]]))};Qv.Ys.eMx=function(p){var d=new V.dK;
if(p.P!=null){d.color=0;d.channel=Z.clone(p.P.channel);d.rect=p.P.rect.clone()}return d};Qv.Ys.eca=function(p,d,K,A){var x=A.t/K.t,M=A.D/K.D,G=A.t/2,D=A.D/2,P=Z._.MF(A).B;
for(var a=0;a<p.L.length;a++){var e=p.L[a],f=e.add.SoLd;if(f==null||f.Idnt.v!=d)continue;if(x!=1||M!=1){var N=r.ge.fQ(f.nonAffineTransform),Y=Z.c.cg(N,A),l=new QI;
l.translate(-G,-D);l.scale(x,M);l.translate(G,D);var h=Z.c.HN(Y,Z.c.H$(l)),s=P.slice(0);Z.c.apply(h,s);
f.Trnf=r.ge.oZ(s);f.nonAffineTransform=r.ge.oZ(s)}e.uc(p)}p.i()};Qv.Ys.eqL=function(p,d,K){d.color=255-d.color;
Z.an(d.channel);d.dJ=!0;p.u_(K);K.i()};Qv.Ys.prototype.WY=function(p,d){var K=p.j,A=d.L[p.o];if(K==V.nJ){d.add.lnk2.splice(d.add.lnk2.indexOf(p.ku),1,p.kS);
Qv.Ys.eca(d,p.id,p.ku._f[1],p.kS._f[1])}if(K==V.G_){var x=JSON.parse(p.gO);for(var M=0;M<x.length;M++)d.L[x[M]].yk=p.ZS[M];
d.i()}if(K==V.Gz){var x=JSON.parse(p.gO);for(var M=0;M<x.length;M++)d.L[x[M]].opacity=p.ZS[M];d.i()}if(K==V.qY){A.add.lspf=p.ZS}if(K==V.Nk){var G=p.TR,D=p.eon;
delete A.add[G[0]];if(D[0]!="----")A.add[D[0]]=D[1]}if(K==V.Br){A.add.iOpa=p.ZS;d.i()}if(K==V.zQ){for(var M=0;
M<p.gO.length;M++){var P=d.L[p.gO[M]];P.qJ(!P.Ml())}d.i()}if(K==V.PA){var a=A.gW();a.isEnabled=!a.isEnabled;
A.u_(d);d.i()}if(K==V.nk){var a=A.MT(d).g;a.isEnabled=!a.isEnabled;A.i();d.i()}if(K==V.qU){var a=A.add.vmsk;
a.isEnabled=!a.isEnabled;if(!a.isEnabled){if(A.Eb){A.g=A.Eb;A.Eb=null}else A.g=null}else if(A.g){A.Eb=A.g;
A.g=null}A.u_(d);d.i()}if(K==V.PL){A.wr=!A.wr;d.i()}if(K==V.BY){A.add.lmfx.masterFXSwitch.v=!A.add.lmfx.masterFXSwitch.v;
A.T.t_=!0;d.i()}if(K==V.OR){A.add.SoLd.filterFX.v.enab.v=!A.add.SoLd.filterFX.v.enab.v;A.em(d);d.i()}if(K==V.Bl){var e=p.index,f=A.add.lmfx[QG.mV[e[0]]].v[e[1]].v;
f.enab.v=!f.enab.v;A.T.t_=!0;d.i()}if(K==V.gw){var N=d.L[p.eGe],Y=d.L[p.eGI],l=p.es_,h=p.esi;if(l=="")delete N.add.lmfx;
else N.add.lmfx=JSON.parse(l);if(h=="")delete Y.add.lmfx;else Y.add.lmfx=JSON.parse(h);N.T.t_=!0;Y.T.t_=!0;
d.i()}if(K==V.OY){var s=A.add.SoLd.filterFX.v.filterFXList.v[p.index].v;s.enab.v=!s.enab.v;A.em(d);d.i()}if(K==V.eOR){A.add.SoLd.filterFX.v=JSON.parse(JSON.stringify(p.evc));
A.em(d);d.i()}if(K==V.Bu){var a=A.gW();a.LQ=!a.LQ}if(K==V.NZ){var a=A.add.vmsk;a.LQ=!a.LQ}if(K==V.Nr){var J=p.TZ;
for(var M=0;M<J.length;M+=2){var u=J[M],P=u>=0?d.L[u]:d.uE[-1-u];P.add.vogk=JSON.parse(J[M+1]);Z.B$.sG(P.add.vogk,P.add.vmsk);
if(u>=0)P.u_(d)}d.i()}if(K==V.Nl){A.add.artb=JSON.parse(p.esZ);d.i()}if(K==V.Gw){d.P=p.ga;d.$O=p.TZ.slice(0);
d.Mv=p.NP.slice(0);d.nw=d.Yi=!0}if(K==V.qn){var Q=p.esy;for(var M=0;M<Q.length;M++)d.L[M].yQ=Q[M]}if(K==V.CE){if(p.gs)d.Y=p.gs;
if(p.Kg)d.P=p.Kg[0];d.BJ=null;d.i();d.Wz(p.ZB)}if(K==V.v_){Qv.Ys.aQ(d,A);if(p.re)Qv.Ys.Mb(d,A,p.re);
if(p.Kg){var W=p.Kg[0];if(W==null)delete d.P;else d.P=W}}if(K==V.NN){Qv.Ys.aQ(d,d.L[p.Cw]);Qv.Ys.Mb(d,d.L[p.src],p.g)}if(K==V.qK){Qv.Ys.Mb(d,A,p.g)}if(K==V.go){A.MT(d).g=null;
A.i();d.i()}if(K==V.gA){A.MT(d).g=p.g;A.i();d.i()}if(K==V.Ol){Qv.Ys.epp(d,p.Uf,0)}if(K==V.PX){Qv.Ys.JO(d,A,!0)}if(K==V.Ng){Qv.Ys.JO(d,d.L[p.Cw],p.g.isEnabled);
Qv.Ys.JU(d,d.L[p.src],p)}if(K==V.qw){Qv.Ys.JU(d,A,p)}if(K==V.gV){d.ZD=JSON.parse(p.Ik)}if(K==V.Oc){d.name=p.rG}if(K==V.hJ){A.Hv(p.rG);
if(p.etu)A.add.lnsr=p.etu;else delete A.add.lnsr}if(K==V.hl){for(var M=0;M<p.L.length;M++)d.L[p.L[M]].add.lclr=p.eoV[M]}if(K==V.sW){var q=p.eQZ;
for(var M=0;M<p.gO.length;M++){var P=d.L[p.gO[M]],H=q[M];if(!p.qs)P.add.vstk=JSON.parse(JSON.stringify(H));
else r.Zb.JM(P,JSON.parse(JSON.stringify(H)));P.NL(d)}d.i()}if(K==V.gb){A.eUk(p.xl);A.u_(d);d.i()}d.TH=!0};
Qv.Ys.prototype.Qv=function(p,d){var K=p.j,A=d.L[p.o];if(K==V.nJ){d.add.lnk2.splice(d.add.lnk2.indexOf(p.kS),1,p.ku);
Qv.Ys.eca(d,p.id,p.kS._f[1],p.ku._f[1])}if(K==V.G_){var x=JSON.parse(p.gO);for(var M=0;M<x.length;M++)d.L[x[M]].yk=p.dx;
d.i()}if(K==V.Gz){var x=JSON.parse(p.gO);for(var M=0;M<x.length;M++)d.L[x[M]].opacity=p.dx;d.i()}if(K==V.qY){A.add.lspf=p.dx}if(K==V.Nk){var G=p.eon,D=p.TR;
delete A.add[G[0]];if(D[0]!="----")A.add[D[0]]=D[1]}if(K==V.Br){A.add.iOpa=p.dx;d.i()}if(K==V.zQ){for(var M=0;
M<p.gO.length;M++){var P=d.L[p.gO[M]];P.qJ(!P.Ml())}d.i()}if(K==V.PA){var a=A.gW();a.isEnabled=!a.isEnabled;
A.u_(d);d.i()}if(K==V.nk){var a=A.MT(d).g;a.isEnabled=!a.isEnabled;A.i();d.i()}if(K==V.qU){var a=A.add.vmsk;
a.isEnabled=!a.isEnabled;if(!a.isEnabled){if(A.Eb){A.g=A.Eb;A.Eb=null}else A.g=null}else if(A.g){A.Eb=A.g;
A.g=null}A.u_(d);d.i()}if(K==V.PL){A.wr=!A.wr;d.i()}if(K==V.BY){A.add.lmfx.masterFXSwitch.v=!A.add.lmfx.masterFXSwitch.v;
A.T.t_=!0;d.i()}if(K==V.OR){A.add.SoLd.filterFX.v.enab.v=!A.add.SoLd.filterFX.v.enab.v;A.em(d);d.i()}if(K==V.Bl){var e=p.index,f=A.add.lmfx[QG.mV[e[0]]].v[e[1]].v;
f.enab.v=!f.enab.v;A.T.t_=!0;d.i()}if(K==V.gw){var N=d.L[p.eGe],Y=d.L[p.eGI],l=p.esq,h=p.ess;if(l=="")delete N.add.lmfx;
else N.add.lmfx=JSON.parse(l);if(h=="")delete Y.add.lmfx;else Y.add.lmfx=JSON.parse(h);N.T.t_=!0;Y.T.t_=!0;
d.i()}if(K==V.OY){var s=A.add.SoLd.filterFX.v.filterFXList.v[p.index].v;s.enab.v=!s.enab.v;A.em(d);d.i()}if(K==V.eOR){A.add.SoLd.filterFX.v=JSON.parse(JSON.stringify(p.ev$));
A.em(d);d.i()}if(K==V.Bu){var a=A.gW();a.LQ=!a.LQ}if(K==V.NZ){var a=A.add.vmsk;a.LQ=!a.LQ}if(K==V.Nr){var J=p.nO;
for(var M=0;M<J.length;M+=2){var u=J[M],P=u>=0?d.L[u]:d.uE[-1-u];P.add.vogk=JSON.parse(J[M+1]);Z.B$.sG(P.add.vogk,P.add.vmsk);
if(u>=0)P.u_(d)}d.i()}if(K==V.Nl){A.add.artb=JSON.parse(p.$Y);d.i()}if(K==V.Gw){d.P=p.PD;d.$O=p.nO.slice(0);
d.Mv=p.NG.slice(0);d.nw=d.Yi=!0}if(K==V.qn){var Q=p.esf;for(var M=0;M<Q.length;M++)d.L[M].yQ=Q[M]}if(K==V.CE){var W=p.uv,q=0,H;
for(var M=0;M<W.length;M++){var P=W[M],C=P.add.lsct;if(C==ew.RX)q++;else if(C==ew.rK||C==ew.Wy)q--;if(P.add.artb&&q!=0)H="Artboards can not be inside folders."}if(H){d.history.pop();
d.PO--;alert(H);return}if(p.gY)d.Y=p.gY;if(p.Kg)d.P=p.Kg[1];d.BJ=null;d.i();d.Wz(p.uv)}if(K==V.v_){if(p.re)Qv.Ys.aQ(d,A);
Qv.Ys.Mb(d,A,p.g);if(p.Kg){var k=p.Kg[1];if(k==null)delete d.P;else d.P=k}}if(K==V.NN){Qv.Ys.aQ(d,d.L[p.src]);
Qv.Ys.Mb(d,d.L[p.Cw],p.g)}if(K==V.qK){Qv.Ys.aQ(d,A)}if(K==V.go){A.MT(d).g=p.g;A.gq=0;A.i();d.i()}if(K==V.gA){A.MT(d).g=null;
A.gq=0;A.i();d.i()}if(K==V.Ol){Qv.Ys.epp(d,p.Uf,1)}if(K==V.PX){Qv.Ys.JU(d,A,p)}if(K==V.Ng){Qv.Ys.JO(d,d.L[p.src],p.g.isEnabled);
Qv.Ys.JU(d,d.L[p.Cw],p)}if(K==V.qw){Qv.Ys.JO(d,A,p.g.isEnabled)}if(K==V.gV){d.ZD=JSON.parse(p.vf)}if(K==V.Oc){d.name=p.GY}if(K==V.hJ){A.Hv(p.GY);
if(p.etH)A.add.lnsr=p.etH;else delete A.add.lnsr}if(K==V.hl){for(var M=0;M<p.L.length;M++)d.L[p.L[M]].add.lclr=p.eo$[M]}if(K==V.sW){var i=p.rO;
for(var M=0;M<p.gO.length;M++){var P=d.L[p.gO[M]],m=i[M];if(!p.qs)P.add.vstk=JSON.parse(JSON.stringify(m));
else r.Zb.JM(P,JSON.parse(JSON.stringify(m)));P.NL(d)}d.i()}if(K==V.gb){A.eUk(p.dx);A.u_(d);d.i()}d.TH=!0};
Qv.Ys.eQX=function(p,d){var K=0;for(var A=0;A<p.L.length;A++){var x=p.L[A].getName();if(x.startsWith(d)){var M=x.slice(d.length).trim(),G=parseInt(M);
if(!isNaN(G)&&G+""==M)K=G}}return K};Qv.Ys.epp=function(p,d,K){for(var A=0;A<d.length;A++){var x=d[A],M=p.L[x.QT];
if(x.oc){M.add.SoLd=JSON.parse(x.oc[K])}if(x.U_){if(x.U_[1-K]!=null)p.$z(x.U_[1-K]);if(x.U_[K]!=null)p.tP(x.U_[K]);
else M.gq=0}M.uc(p)}};Qv.Ys.eVQ=function(p,d){var K=p.BI,A=p.rect.clone();if(K!=null&&(K.x!=d.t||K.y!=d.D)){A.x=Math.floor((d.t-A.t)/2);
A.y=Math.floor((d.D-A.D)/2)}return A};Qv.Ys.aQ=function(p,d){if(d.Eb)d.Eb=null;else d.g=null;d.u_(p);
p.i();d.gq=0};Qv.Ys.Mb=function(p,d,K){if(d.g)d.Eb=K;else d.g=K;d.u_(p);p.i()};Qv.Ys.JO=function(p,d,K){if(d.Eb&&K){d.g=d.Eb;
d.Eb=null}else if(d.g&&K){d.g=null}delete d.add.vogk;delete d.add.vstk;delete d.add.vmsk;d.u_(p);d.BC=!1;
p.i()};Qv.Ys.JU=function(p,d,K){d.add.vogk=JSON.parse(K.B$);if(K.Wh)d.add.vstk=JSON.parse(K.Wh);else delete d.add.vstk;
d.add.vmsk=K.g.clone();if(d.g&&d.add.vmsk.isEnabled)d.Eb=d.g;d.u_(p);d.BC=K.rP;p.i()};Qv.AQ=function(){Qv.DH.call(this,r.Ic);
this.nh=null;this.qx=null;this.mb=null;this.oA=[];this.kv=null};Qv.AQ.prototype=new Qv.DH;Qv.AQ.prototype.Ch=function(p,d,K,A,x){var M=K.L[p.o],G=p._W,P=null;
if(this.nh==null){this.mb=Qv.AQ.kA(K,M);this.nh=JSON.stringify(this.mb);if(M.add.lmfx)this.qx=JSON.stringify(M.add.lmfx)}if(M.add.lmfx==null){M.add.lmfx=JSON.parse(QG.default);
for(var D=0;D<QG.order.length;D++)M.add.lmfx[QG.mV[D]]={t:"VlLs",v:[]}}if(p.j=="changeprop"){if(G!=0){var a=this.oA[G[0]];
if(a==null)a=QG.oA[G[0]];a=JSON.parse(a);var e=M.add.lmfx[QG.mV[G[0]]].v;if(e[G[1]]==null)e[G[1]]={t:"Objc",v:a};
P=e[G[1]].v;for(var f in a)if(P[f]==null)P[f]=a[f]}if(p.j=="changeprop"){if(G==0){this.mb[p.wS].v=p.S;
Qv.AQ.MY(K,M,this.mb)}else if(p.wS=="lagl"){if(P.uglg&&P.uglg.v){K.OX(p.S.val);this.mb.enG=K.zz()}else P[p.wS].v=p.S}else if(p.wS=="Lald"){if(P.uglg.v){K.Zn(p.S.val);
this.mb.enM=K.UM()}else P[p.wS].v=p.S}else if((G[0]==3||G[0]==8)&&(p.wS=="Clr"||p.wS=="Grad")){if(p.wS=="Clr"){P.Clr={t:"Objc",v:p.S};
delete P.Grad}if(p.wS=="Grad"){P.Grad={t:"Objc",v:p.S};delete P.Clr}}else{P[p.wS].v=p.S}if(G!=0)this.oA[G[0]]=JSON.stringify(P)}if(G!=0)if(P.Ptrn)K.zI(QL.xc(P.Ptrn.v,x.ps))}else if(p.j=="setstl"){var N=p.S.Lefx;
if(N)QL.eUR(N,K,x.ps);QL.eKV(p.S,M);this.mb=Qv.AQ.kA(K,M)}else if(p.j=="st_dupsingle"){var Y=M.add.lmfx[QG.mV[p.Lt[0]]].v;
if(Y[p.Lt[1]]==null)return;var l=JSON.parse(JSON.stringify(Y[p.Lt[1]]));Y.splice(p.Lt[1],0,l)}else if(p.j=="st_movsingle"){var h=p.Lt[1],Y=M.add.lmfx[QG.mV[p.Lt[0]]].v;
if(Y[p.Lt[1]]==null)return;var s=Math.max(0,Math.min(Y.length-1,h+p.enp)),J=Y[s];Y[s]=Y[h];Y[h]=J}else if(p.j=="cancel"){if(this.qx==null)delete M.add.lmfx;
else M.add.lmfx=JSON.parse(this.qx);Qv.AQ.MY(K,M,JSON.parse(this.nh));this.nh=null;this.qx=null}else if(p.j=="confirm"){var u=new QY([11,6],this);
u.data={L:[p.o],ru:[this.qx],r_:[JSON.stringify(M.add.lmfx)],ra:[this.nh],rD:[JSON.stringify(this.mb)]};
K.Gn(u);this.nh=null;this.qx=null}else if(p.j=="st_copy"){this.kv=[this.nh,this.qx];this.nh=null;this.qx=null}else if(p.j=="st_paste"||p.j=="st_clear"){if(p.j=="st_paste"&&this.kv==null)return;
var Q=K.Y.indexOf(p.o)==-1?[p.o]:K.Y.slice(0),W=[],q=[],H=[],C=[];for(var D=0;D<Q.length;D++){var M=K.L[Q[D]],k=Qv.AQ.kA(K,M);
W.push(M.add.lmfx?JSON.stringify(M.add.lmfx):null);H.push(JSON.stringify(k));if(p.j=="st_paste"){q.push(this.kv[1]);
C.push(this.kv[0])}else{q.push(null);k.lrMd.v=0;k.Opct.v.val=100;k.iOpa.v.val=100;k.blIf={v:[]};for(var i=0;
i<10;i++)k.blIf.v.push(0,0,255,255);C.push(JSON.stringify(k))}}var u=new QY([11,6],this);u.data={L:Q,ru:W,r_:q,ra:H,rD:C};
this.Qv(u.data,K);K.Gn(u);this.nh=null;this.qx=null}else{var m=this.mb,w=null;if(p.j=="st_delsingle"){w=JSON.parse(this.qx);
w[QG.mV[p.Lt[0]]].v.splice(p.Lt[1],1);w=JSON.stringify(w)}if(w==null)delete M.add.lmfx;else M.add.lmfx=JSON.parse(w);
if(m!=null)Qv.AQ.MY(K,M,m);var u=new QY([11,6],this);u.data={L:[p.o],ru:[this.qx],r_:[w],ra:[this.nh],rD:[JSON.stringify(m)]};
K.Gn(u);this.nh=null;this.qx=null}M.T.t_=!0;K.i()};Qv.AQ.kA=function(p,d){if(d.add.iOpa==null)d.add.iOpa=255;
var K=d.Ba()?["pass"].concat(eE.ok):eE.ok;return{lrMd:{v:K.indexOf(d.yk)},Opct:{v:{type:"#Prc",val:Math.round(d.opacity*100/255)},t:"UntF"},iOpa:{v:{type:"#Prc",val:Math.round(d.add.iOpa*100/255)},t:"UntF"},blIf:{v:d.e_.slice(0)},enG:p.zz(),enM:p.UM(),Ba:d.Ba()}};
Qv.AQ.MY=function(p,d,K){var A=d.Ba()?["pass"].concat(eE.ok):eE.ok;d.yk=A[K.lrMd.v];d.opacity=Math.round(K.Opct.v.val*255/100);
d.add.iOpa=Math.round(K.iOpa.v.val*255/100);d.e_=K.blIf.v.slice(0);p.OX(K.enG);p.Zn(K.enM)};Qv.AQ.prototype.WY=function(p,d){for(var K=0;
K<p.L.length;K++){var A=d.L[p.L[K]],x=p.ru[K];if(x==null)delete A.add.lmfx;else A.add.lmfx=JSON.parse(x);
Qv.AQ.MY(d,A,JSON.parse(p.ra[K]));A.T.t_=!0}d.i()};Qv.AQ.prototype.Qv=function(p,d){for(var K=0;K<p.L.length;
K++){var A=d.L[p.L[K]],x=p.r_[K];if(x==null)delete A.add.lmfx;else A.add.lmfx=JSON.parse(x);Qv.AQ.MY(d,A,JSON.parse(p.rD[K]));
A.T.t_=!0}d.i()};Qv.om=function(){Qv.DH.call(this,r.DY)};Qv.om.prototype=new Qv.DH;Qv.om.prototype.Ch=function(p,d,K,A){var x=JSON.parse(JSON.stringify(K.LV)),M=JSON.parse(JSON.stringify(K.LV)),G=null,D=null,P=null,a=-1,e=!1;
if(p.j=="delLC"){var f=Qv.om.JH(K.LV,p._W),N=K.LV.lastAppliedComp?K.LV.lastAppliedComp.v:0;M.list.v.splice(f,1);
if(N==p._W)delete M.lastAppliedComp;G="Delete Layer Comp"}if(p.j=="editLC"){var f=Qv.om.JH(K.LV,p._W),Y=M.list.v[f].v;
if(p.GY!=null)Y.Nm.v=p.GY;if(p.eBk!=null){var l=p.eBk,h=Y.capturedInfo.v,s=h&(1<<l)-1;h=h>>l;if((h&1)==1)h--;
else h++;Y.capturedInfo.v=(h<<l)+s}G="Layer Comp properties"}if(p.j=="setLC"){Qv.om.JK(K);if(p._W==0)delete M.lastAppliedComp;
else M.lastAppliedComp={t:"long",v:p._W};G="Switch Layer Comp";e=!0}if(p.j=="updLC"){Qv.om.JK(K);D=Qv.om.eQL(K,p._W);
P=Qv.om.wm(K,p._W);M.lastAppliedComp={t:"long",v:p._W};G="Update Layer Comp";a=p._W;e=!0}if(p.j=="addLC"){Qv.om.JK(K);
var J=1;for(var u=0;u<M.list.v.length;u++)J=Math.max(J,M.list.v[u].v.compID.v)+1;J+=Math.floor(Math.random()*1e4);
var Q={t:"Objc",v:{classID:"Comp",Nm:{t:"TEXT",v:"New Comp "+(M.list.v.length+1)},compID:{t:"long",v:J},capturedInfo:{t:"long",v:7}}};
M.list.v.push(Q);M.lastAppliedComp={t:"long",v:J};G="New Layer Comp";var W=Qv.om.wm(K,J);Qv.om.JV(K,W,J)}var q=new QY(G,this);
q.data={eoL:x,eoI:M,eUY:D,emS:P,_W:a,gx:e};this.Qv(q.data,K);K.Gn(q)};Qv.om.prototype.Qv=function(p,d){d.LV=p.eoI;
d.Yi=!0;if(p.emS)Qv.om.JV(d,p.emS,p._W);if(p.gx){var K=d.LV.lastAppliedComp?d.LV.lastAppliedComp.v:0,A=Qv.om.JH(d.LV,K),x=A==-1?null:d.LV.list.v[A].v,M=x?x.capturedInfo.v:7;
Qv.om.Jv(d,K,M);d.i()}};Qv.om.prototype.WY=function(p,d){d.LV=p.eoL;d.Yi=!0;if(p.eUY)Qv.om.JV(d,p.eUY,p._W);
if(p.gx){var K=d.LV.lastAppliedComp?d.LV.lastAppliedComp.v:0,A=Qv.om.JH(d.LV,K),x=A==-1?null:d.LV.list.v[A].v,M=x?x.capturedInfo.v:7;
Qv.om.Jv(d,K,M);d.i()}};Qv.om.JK=function(p){if(p.LV.lastAppliedComp!=null||!p.rg)return;var d=Qv.om.wm(p,0);
Qv.om.JV(p,d,0);p.rg=!1};Qv.om.Ju=function(p,d,K){p.v.Hrzn.v+=d;p.v.Vrtc.v+=K};Qv.om.JH=function(p,d){var K=p.list.v;
for(var A=0;A<K.length;A++)if(K[A].v.compID.v==d)return A;return-1};Qv.om.eQF=function(p){var d=p.layerSettings.v,x=null;
if(d.length==0)return;var K="compList enab Ofst blendOptions Lefx FXRefPoint imageMask vectorMask layerSpecific".split(" "),A=d[0].v;
if(A.enab==null)A.enab={t:"bool",v:!0};if(A.Ofst==null)A.Ofst={t:"Objc",v:{classID:"null",Hrzn:{t:"long",v:0},Vrtc:{t:"long",v:0}}};
for(var M=0;M<d.length;M++){var G=d[M].v;if(x==null)x=JSON.parse(JSON.stringify(G));else for(var D=0;
D<K.length;D++){var P=K[D];if(G[P])x[P]=JSON.parse(JSON.stringify(G[P]))}d[M].v=JSON.parse(JSON.stringify(x))}};
Qv.om.eUM=function(p,d){var K=p.add.shmd.cmls,A=K.layerSettings.v;for(var x=0;x<A.length;x++){var M=A[x].v,G=M.compList.v[0].v;
if(G==d)return x}return-1};Qv.om.euZ=function(p,d){var K=Qv.om.eUM(p,d);return K==-1?null:p.add.shmd.cmls.layerSettings.v[K].v};
Qv.om.Jv=function(p,d,K){for(var A=0;A<p.L.length;A++){var x=p.L[A],M=x.add.shmd.cmls;if(M==null)continue;
var G=M.layerSettings.v,D=Qv.om.euZ(x,d);if(D==null){x.qJ(!1);continue}if((K&1)!=0){if(D.enab)x.qJ(D.enab.v);
else x.qJ(!0)}if((K&2)!=0){if(D.Ofst){var P=D.Ofst.v,a=x.RC(p),e=Math.round(P.Hrzn.v-a.x),f=Math.round(P.Vrtc.v-a.y);
if(e!=0||f!=0)r.Zl.Ah(p,[A],null,e,f)}}if((K&4)!=0){if(D.Lefx){var N=JSON.parse(JSON.stringify(D.Lefx.v));
t$.Wp(N);if(JSON.stringify(N)!=JSON.stringify(x.add.lmfx)){x.add.lmfx=N;x.T.t_=!0}}else delete x.add.lmfx;
if(D.blendOptions){var Y=D.blendOptions.v;if(Y.Opct)x.opacity=Math.round(255*Y.Opct.v.val/100);if(Y.Md)x.yk=x.add.lsct==ew.RX?"norm":eE.UW(Y.Md.v.BlnM)}else{x.opacity=255;
x.yk=x.Ba()?"pass":"norm"}}}};Qv.om.eQL=function(p,d){var K={};for(var A=0;A<p.L.length;A++){var x=p.L[A];
if(x.add.shmd==null||x.add.shmd.cmls==null)continue;K["l"+x.add.lyid]=JSON.parse(JSON.stringify(Qv.om.euZ(x,d)))}return K};
Qv.om.wm=function(p,d){var K={};for(var A=0;A<p.L.length;A++){var x=p.L[A],M=x.add.lyid;K["l"+M]=Qv.om.ePL(p,x,d)}return K};
Qv.om.ePL=function(p,d,K){var A=d.add.shmd?d.add.shmd.cmls:null,x={classID:"null"},M=d.RC(p),G={t:"Objc",v:{classID:"null",Hrzn:{t:"long",v:M.x},Vrtc:{t:"long",v:M.y}}};
x.compList={t:"VlLs",v:[{t:"long",v:K}]};x.enab={t:"bool",v:d.Ml()};x.Ofst=JSON.parse(JSON.stringify(G));
x.FXRefPoint=JSON.parse(JSON.stringify(A&&A.origFXRefPoint?A.origFXRefPoint:G));x.blendOptions={t:"Objc",v:{classID:"null",Md:{t:"enum",v:{BlnM:eE.iR(d.yk)}},Opct:{t:"UntF",v:{type:"#Prc",val:100*d.opacity/255}}}};
if(d.add.vmsk){x.vectorMask={t:"Objc",v:{classID:"null"}};x.vectorMask.v.Ofst=JSON.parse(JSON.stringify(G))}if(d.add.lmfx){x.Lefx={t:"Objc",v:JSON.parse(JSON.stringify(d.add.lmfx))};
t$.mu(x.Lefx.v)}return x};Qv.om.eQI=function(p,d){var K=d.add.lyid;if(d.add.shmd==null)d.add.shmd={};
if(d.add.shmd.cmls==null){d.add.shmd.cmls={classID:"null",LyrI:{t:"long",v:K},layerSettings:{t:"VlLs",v:[{t:"Objc",v:Qv.om.ePL(p,d,0)}]}}}};
Qv.om.JV=function(p,d,K){for(var A=0;A<p.L.length;A++){var x=p.L[A],M=x.add.lyid;Qv.om.eQI(p,x);var G=x.add.shmd.cmls,D=G.layerSettings.v,P=d["l"+M];
if(P!=null)P={t:"Objc",v:JSON.parse(JSON.stringify(P))};var a=Qv.om.eUM(x,K);if(a==-1){if(P==null)continue;
else D.push(P)}else{if(P==null)D.splice(a,1);else D[a]=P}}};Qv.om.wE=function(p,d){for(var K=0;K<p.L.length;
K++){var A=p.L[K],x=A.add.lyid;if(A.add.shmd==null||A.add.shmd.cmls==null)continue;var M=A.RC(p),G=Math.round(M.x),D=Math.round(M.y);
if(!d){G=-G;D=-D}var P=A.add.shmd.cmls,a=P.layerSettings.v;if(P.origFXRefPoint)Qv.om.Ju(P.origFXRefPoint,-G,-D);
for(var e=0;e<a.length;e++){var f=a[e].v;Qv.om.Ju(f.Ofst,G,D);var N=f.imageMask,Y=f.vectorMask;if(N&&N.v.Ofst)Qv.om.Ju(N.v.Ofst,G,D);
if(Y&&Y.v.Ofst)Qv.om.Ju(Y.v.Ofst,G,D)}}};Qv.Kq=function(){Qv.DH.call(this,r.kt);this.vf=null;this.hX=null};
Qv.Kq.prototype=new Qv.DH;Qv.Kq.J$=function(p,d,K,A){if(A)d/=4;var x=0,M=0,G=255,D=0,P=0,a=255;while(M+p[x]<d){M+=p[x];
x++}while(D+p[G]<d){D+=p[G];G--}if(A){x-=Math.round(p[x]/(K/32));G+=Math.round(p[G]/(K/32));if(x<0)P=Math.round(-x*255/(G-x));
if(G>255)a=255-Math.round((G-255)*255/(G-x))}return[Math.max(x,0),Math.min(G,255),P,a,100]};Qv.Kq.prototype.Ch=function(p,d,K,A,x){var M=p.j;
if(M=="auto"){var G=p.rZ,D=Qv.Kq.getData(K);for(var P=0;P<D.length;P++){var a=D[P],e;if(G<3){}else{var f=eq.Kj("hue2");
Ph.gB(f,0,[0,-100,0]);e=QW.eh("hue2",f)}QW.sg(e,a.Qd,a.uQ,a.m)}Qv.Kq.wL(K,D);Qv.Kq.wF(K,D,G<3?[4,16,G]:[19,7,0],this);
K.i()}if(M=="edit_layer")this.eQz(p,d,K,A);if(M=="edit"||M=="confirm"||M=="cancel")this.w$(p,d,K,x,!0);
if(M=="start"){if(K.Y.length==0)return;var N=K.L[K.Y[0]];if(N.add.SoLd&&N.gq<=0){var Y=new y(n.E.q,!0);
Y.O=r.qR;Y.data={j:"start",vX:p.Xg};d.n(Y);return}if(!K.Zp())return;if(T[p.Xg]&&p.jV==null){if(K.Y.length!=1)alert("Will be applied to "+K.Y.length+" layers.");
var Y=new y(n.E.s,!0);Y.data={j:n.H.Ae,$u:"afw_"+p.Xg};d.n(Y)}else{this.w$({j:"edit",jV:p.jV,vX:p.Xg},d,K,x);
this.w$({j:"confirm",vX:p.Xg},d,K,x)}}};Qv.Kq.prototype.eQz=function(p,d,K,A){var x=p.j,M=K.Y[0],G=K.L[M],D=K.history[K.PO],P;
if(D&&D.O==this&&D.data.xl!=null&&D.data.o==M)P=D;else{var a=new y(n.E.Iz,!0),e={classID:"setd",null:Pq.bt("AdjL",!0),T:{t:"Objc",v:p.S}};
a.data={VP:!0,LG:"set",Qz:e};d.n(a);var P=new QY([6,39],this),f=QW.get(G.add);P.data={o:M,xl:G.add[f],dx:p.S,ZZ:e};
K.Gn(P)}P.data.dx=p.S;P.data.ZZ.T.v=p.S;this.Qv(P.data,K)};Qv.Kq.getData=function(p,d,K){var A=[],x=new R(0,0,p.t,p.D),M=p.Mv.length!=0?[-1-p.Mv[0]]:p.Y;
for(var G=0;G<M.length;G++){var D=M[G],P=D<0?null:p.L[D],a={o:D,xn:D<0?1:P.gq};A.push(a);var e=p.$O[-1-D];
if(0<=D)e=P.gq<=0?null:P.gq==1?P.gW():P.MT(p).g;var f=e?e.rect:P.rect;if(p.P)a.m=e!=null?p.P.rect.pk(x):p.P.rect.pk(f);
else a.m=d||e!=null?f.ck(x):f.clone();if(K)a.m=K[G].m.clone();var N=a.m.r();a.Qd=Z.p(N*4);if(e)r.Ef.Xc(e.channel,e.rect,e.color,a.Qd,a.m);
else Z.PE(P.buffer,f,a.Qd,a.m);a.uQ=a.Qd.slice(0);if(p.P){a.Z$=Z.p(N);Z.Qj(p.P.channel,p.P.rect,a.Z$,a.m)}}return A};
Qv.Kq.eQJ=function(p,d,K){if(d==null)return d;var A=QW.wk(p,d),M;if(A==-1)return d;var x=K.length>>>2,G=Z.$P(K),D=.001*x;
if(A==0||A==2)M=[[0,255,0,255,100],Qv.Kq.J$(G[1],D,x,A==2),Qv.Kq.J$(G[2],D,x,A==2),Qv.Kq.J$(G[3],D,x,A==2)];
if(A==1)M=[Qv.Kq.J$(G[0],D*.33,x,!1),[0,255,0,255,100],[0,255,0,255,100],[0,255,0,255,100]];var P=eq.Kj("levl");
for(var a=0;a<4;a++)MW.gB(P,a,M[a]);return P};Qv.Kq.prototype.w$=function(p,d,K,A){if(this.vf==null)this.vf=Qv.Kq.getData(K,null,p.vX=="fade"?K.ED().data:null);
if(p.j=="edit"){this.hX=[p.vX,p.jV];var x=this.vf[0],M=Qv.Kq.eQJ(p.vX,p.jV,x.Qd),G=QW.eh(p.vX,M);if(p.vX=="fade")G=p.jV;
if(G!=null){for(var D=0;D<this.vf.length;D++){var P=this.vf[D];if(p.Nj)Z.tM(P.Qd,P.uQ);else if(p.vX=="fade"){var a=eE.UW(p.jV.Md.v.BlnM),e=p.jV.Opct.v.val/100,f=K.ED().data[D];
Z.tM(f.Qd,P.uQ);if(a=="norm")Z.h.OL(P.Qd,P.m,P.uQ,P.m,null,null,null,P.m,e);else{var N=QL.sY();N.qy=!0;
for(var D=0;D<f.Qd.length;D+=4)if(f.Qd[D+3]!=P.Qd[D+3]){N=null;break}Z.h.gQ(a,P.Qd,P.m,P.uQ,P.m,P.m,e,N)}}else QW.sg(G,P.Qd,P.uQ,P.m)}Qv.Kq.wL(K,this.vf)}}if(p.j=="cancel"){Qv.Kq.ecG(K,this.vf);
this.vf=null}if(p.j=="confirm"){var Y=p.vX=="fade"?[2,11]:QW.names[p.vX],l=QW.wk(p.vX,this.hX[1]);if(l!=-1)Y=[4,16,l];
Qv.Kq.wF(K,this.vf,Y,this);this.vf=null;if(l==-1)Qv.Kq.eGD(d,this.hX)}K.i()};Qv.Kq.eGD=function(p,d){var K=d[0],A=d[1],x,M;
if(QW.un[K]){x=QW.un[K];if(T[K])M=A}if(eq.un[K]){x=eq.un[K];if(T[K])M=A}if(x==null)return;var G=new y(n.E.Iz,!0);
G.data={VP:!0,LG:x};if(M){M=JSON.parse(JSON.stringify(M));M.classID="null";delete M.__name;G.data.Qz=M}p.n(G)};
Qv.Kq.ecG=function(p,d){Qv.Kq.aM(p,d)};Qv.Kq.wF=function(p,d,K,A){for(var x=0;x<d.length;x++){var M=d[x],G=p.L[M.o],D=M.o<0?p.$O[-1-M.o]:M.xn<=0?null:M.xn==1?G.gW():G.MT(p).g;
if(D){D.bB();D.dJ=!0;if(G)G.u_(p)}else{G.bB();G.i()}delete M.uQ;delete M.Z$}var P=new QY(K,A);P.data=d;
p.Gn(P)};Qv.Kq.wL=function(p,d,K){for(var A=0;A<d.length;A++){var x=d[A],M=p.L[x.o],G=K?x.Qd:x.uQ,D=x.m;
if(x.xn==0){M.extend(D);if(x.Z$){Z.PE(x.Qd,D,M.buffer,M.rect);Z.h.OL(G,D,M.buffer,M.rect,x.Z$,D,0,D,1)}else Z.PE(G,D,M.buffer,M.rect)}else{var P=x.o<0?p.$O[-1-x.o]:x.xn==1?M.gW():M.MT(p).g;
P.extend(D);if(x.Z$){var a=Z.p(D.r()*4);Z.tM(x.Qd,a);Z.h.OL(G,D,a,D,x.Z$,D,0,D,1);r.Ef.dt(a,D,P)}else r.Ef.dt(G,D,P);
P.dJ=!0;if(M)M.u_(p)}if(M)M.i()}if(!K)Qv.Kq.e_P(p,d)};Qv.Kq.aM=function(p,d){for(var K=0;K<d.length;
K++){var A=d[K],x=p.L[A.o],M=A.m,G=Z.p(M.r()*4);if(A.xn==0){Z.PE(x.buffer,x.rect,G,M);x.extend(M);Z.PE(A.Qd,M,x.buffer,x.rect);
x.bB()}else{var D=A.o<0?p.$O[-1-A.o]:A.xn==1?x.gW():x.MT(p).g;r.Ef.Xc(D.channel,D.rect,D.color,G,M);
D.extend(M);r.Ef.dt(A.Qd,M,D);D.bB();D.dJ=!0;if(x)x.u_(p)}A.Qd=G;if(x)x.i()}};Qv.Kq.e_P=function(p,d){var K=Qv.Kq.ee$(p),A=~K;
if(K==16777215)return;for(var x=0;x<d.length;x++){var M=d[x],G=p.L[M.o],D=M.m;if(M.xn!=0)continue;G.extend(D);
var P=D.x-G.rect.x,a=D.y-G.rect.y,e=G.rect.t,f=new Uint32Array(M.Qd.buffer),N=new Uint32Array(G.buffer.buffer);
for(var Y=0;Y<D.D;Y++)for(var l=0;l<D.t;l++){var h=Y*D.t+l,s=(Y+a)*e+(l+P);N[s]=N[s]&K|f[h]&A}G.bB();
G.i()}p.i()};Qv.Kq.ee$=function(p){var d=p.U.GU;return d[2]*16711680|d[1]*65280|d[0]*255};Qv.Kq.prototype.WY=function(p,d){var K=d.L[p.o];
if(p.xl!=null)K.add[QW.get(K.add)]=p.xl;else Qv.Kq.aM(d,p);d.i()};Qv.Kq.prototype.Qv=function(p,d){var K=d.L[p.o];
if(p.xl!=null)K.add[QW.get(K.add)]=p.dx;else Qv.Kq.aM(d,p);d.i()};Qv.UX=function(){Qv.DH.call(this,r.qR);
this.vf=null;this.ka=null;this.j=null;this.hX=null};Qv.UX.prototype=new Qv.DH;Qv.UX.prototype.Ch=function(p,d,K,A,x){if(p.j=="start"){if(K.Y.length==0)return;
var M=K.L[K.Y[0]];if(M.add.SoLd&&M.gq<=0){}else if(!K.Zp())return;var G=p.vX;if((T[G]||eq.Bq[G])&&p.jV==null){if(K.Y.length!=1)alert("Will be applied to "+K.Y.length+" layers.");
var D=new y(n.E.s,!0);D.data=Qv.UX.emt(G,this.w_(K,G));d.n(D)}else{var P={j:"edit",vX:G,jV:p.jV,E$:this.w_(K)};
this.Ch(P,d,K,A,x);P.j="confirm";delete P.jV;this.Ch(P,d,K,A,x)}}if(p.j=="edit"||p.j=="cancel"||p.j=="confirm"){if(p.j=="edit")this.hX=[p.vX,p.jV];
if(p.E$)this.eQj(p,K,x);else this.eQT(p,d,K,x)}if(p.j=="applylast"&&this.hX!=null){var P={j:"edit",vX:this.hX[0],jV:this.hX[1],E$:this.w_(K)};
this.Ch(P,d,K,A,x);P.j="confirm";delete P.jV;this.Ch(P,d,K,A,x)}};Qv.UX.emt=function(p,d){var K=eq.Bq[p];
if(K)return{j:n.H.ZA,O:K,cq:{E$:d}};else return{j:n.H.Ae,$u:"afw_"+p,E$:d}};Qv.UX.prototype.w_=function(p,d){var K=p.L[p.Y[0]],A;
if(K.add.SoLd&&K.gq<=0){A={o:p.Y[0],index:0};if(K.add.SoLd.filterFX!=null){var x=K.add.SoLd.filterFX.v.filterFXList.v;
A.index=x.length;for(var M=0;M<x.length;M++)if(v.Ws(x[M].v.filterID.v)==d&&eq.Bq[d])A.index=M}}return A};
Qv.UX.prototype.eQj=function(p,d,K){var A=d.L[p.E$.o],x=p.vX;if(p.j=="edit"){if(this.j==null){var M=eq.names[x];
if(M==null)M=QW.names[x];this.j=new QY(M,this);this.j.data={E$:p.E$,eoR:JSON.parse(JSON.stringify(A.add.SoLd))}}if(!A.fP()){A.add.SoLd.filterFX=eq.NU();
this.j.data.U_=QZ.eeQ(A.add.SoLd.placed.v);d.tP(this.j.data.U_);A.uc(d)}var G=A.add.SoLd.filterFX.v.filterFXList.v;
if(G[p.E$.index]==null){G.push(eq.i$(x,K))}if(p.jV){G[p.E$.index].v.enab.v=p.Nj!=!0;G[p.E$.index].v.Fltr.v=p.jV}this.j.data.eoa=JSON.parse(JSON.stringify(A.add.SoLd));
this.Qv(this.j.data,d)}if(p.j=="cancel"){if(this.j)this.WY(this.j.data,d);this.j=null}if(p.j=="confirm"){if(this.j)d.Gn(this.j);
this.j=null}};Qv.UX.prototype.ap=function(p){return{N:p>>>16,w:p>>>8&255,M:p&255}};Qv.UX.prototype.eQT=function(p,d,K,A){if(this.vf==null){var x=eq.euq(p.vX,p.jV);
this.vf=Qv.Kq.getData(K,x.x!=0||x.y!=0)}if(p.j=="edit"){var M=JSON.stringify(p.jV);if((p.jV==null||M!=this.ka)&&p.Nj!=!0)for(var G=0;
G<this.vf.length;G++){var D=this.vf[G],P={rect:D.m,buffer:D.Qd},a={rect:D.m,buffer:D.uQ};eq.sg(p.vX,P,p.jV,this.ap(A.ou),this.ap(A.Le),a,K.add.lnk2?K.add.lnk2:[]);
this.ka=M}Qv.Kq.wL(K,this.vf,p.Nj)}if(p.j=="cancel"){Qv.Kq.ecG(K,this.vf);this.vf=null;this.ka=null}if(p.j=="confirm"){Qv.Kq.wF(K,this.vf,eq.names[p.vX],this);
this.vf=null;this.ka=null;Qv.Kq.eGD(d,this.hX)}K.i()};Qv.UX.prototype.WY=function(p,d){if(p.E$){var K=d.L[p.E$.o];
if(p.U_)d.$z(p.U_);K.add.SoLd=JSON.parse(JSON.stringify(p.eoR));if(K.fP())K.em(d);else{K.uc(d);K.gq=0}}else Qv.Kq.aM(d,p);
d.i()};Qv.UX.prototype.Qv=function(p,d){if(p.E$){var K=d.L[p.E$.o];if(p.U_)d.tP(p.U_);K.add.SoLd=JSON.parse(JSON.stringify(p.eoa));
if(K.fP())K.em(d);else K.uc(d);if(!K.nV())K.Wm+=32}else Qv.Kq.aM(d,p);d.i()};var Qn={ff:"0",hK:"1",aE:"2",Mj:"3",_X:"4",eO:"5",eU:"6",aq:"7",q:"8",bF:"8.5",eu:"8.8",aD:"9",ec:"10",ar:"11",ie:"12",pS:"13",ee:"14",pG:"15",Py:"21",JW:"22",eR:"23",pF:"23.0",pa:"23.1",Jg:"23.2",iM:"23.3",wh:"23.4",Jj:"23.5",Jf:"23.6",emD:"30",pg:"31",Cn:"40",pl:"41",pT:"42"};
Qn.Wv={};Qn.Wv[Qn.hK]=["abr","brushes",eR,[9,3]];Qn.Wv[Qn.aE]=["grd","gradients",Gq,[12,37]];Qn.Wv[Qn.Mj]=["shc","contours",ps,[12,21]];
Qn.Wv[Qn._X]=["asl","styles",nd,[12,22]];Qn.Wv[Qn.eO]=["pat","patterns",nV,[12,62]];Qn.Wv[Qn.eU]=["csh","shapes",Pd,[12,77]];
Qn.Wv[Qn.aq]=["aco","swatches",nE,[9,8]];Qn.Wv[Qn.q]=["atn","actions",Gx,[9,9]];Qn.Wv[Qn.bF]=["tpl","tpresets",Bh,[9,12]];
Qn.Wv[Qn.eu]=["icc","profiles",er,"ICCs"];function B(){this.nj={};this.ki=0}B.prototype.reset=function(){this.nj={};
this.ki=0};B.prototype.eMO=function(p){this.ki++;this.nj[p]=!0};B.prototype.eMz=function(p){this.ki--;
delete this.nj[p];if(this.ki<=0||B.ov(p,B.eVx))this.reset()};B.prototype.Q=function(p){for(var d=0;d<p.hm.length;
d++)if(this.nj[p.hm[d]])return!0;return!1};B.prototype.RQ=function(){var p=this,d=p.Q(B.tS)?10:1,K=0,A=0;
if(p.Q(B.eFo))K=-d;if(p.Q(B.eSm))K=d;if(p.Q(B.nG))A=-d;if(p.Q(B.nm))A=d;return new QP(K,A)};B.prototype.wl=function(){var p=this,d=B.CC;
for(var K=0;K<10;K++)if(p.Q(d[K]))return K;return-1};B.ov=function(p,d){return d.hm.indexOf(p)!=-1};
B.ecO=function(p){var d=p.code,x=!1;if(d=="")return!1;var K=B.ov,A=B.CC.concat([B.nv,B.CR,B.Ca,B.wy]);
for(var M=0;M<A.length;M++)if(K(d,A[M]))x=!0;if(p.altKey&&!p.shiftKey&&!p.ctrlKey&&x)return!1;return B.eGc.indexOf(d)==-1||p.shiftKey&&(d=="F5"||d=="F6")};
B.eqq=function(p){var d=p.code;return d!=""&&(B.eGc.indexOf(d)==-1||p.shiftKey&&(d=="F5"||d=="F6"))};
B.eMa=function(p){if(p==null)return"";var d=[];for(var K=0;K<p.length;K++)d.push(p[K].Mu);return d.join(" + ")};
B.eGc="ZoomToggle BrightnessDown BrightnessUp AudioVolumeMute AudioVolumeDown AudioVolumeUp LaunchApplication1 F1 F2 F3 F4 F5 F6 F7 F8 F9 F10 F11 F12 Enter Shift Escape KeyV".split(" ");
B.eMg=function(p){var d=p.code,K=p.key.toLowerCase(),A=K.charCodeAt(0);if(K.length==1&&97<=A&&A<=122&&d.startsWith("Key")&&d.toLowerCase().charCodeAt(3)!=A){var x="Key"+K.toUpperCase();
d=x}return d};B.ut={Mu:"Enter",hm:["Enter","NumpadEnter"]};B.tS={Mu:"Shift",hm:["ShiftLeft","ShiftRight"]};
B.eVx={Mu:"Meta",hm:["MetaLeft","MetaRight","OSLeft","OSRight"]};B.DV={Mu:"Ctrl",hm:"ControlLeft ControlRight MetaLeft MetaRight OSLeft OSRight".split(" ")};
B.Od={Mu:"Alt",hm:["AltLeft","AltRight"]};B.eMN={Mu:"CtrlOrAlt",hm:B.DV.hm.concat(B.Od.hm)};B.qo={Mu:"Escape",hm:["Escape"]};
B.Rv={Mu:"Space",hm:["Space"]};B.C$={Mu:"Tab",hm:["Tab"]};B.epw={Mu:"Home",hm:["Home"]};B.epV={Mu:"End",hm:["End"]};
B.eFo={Mu:"Left",hm:["ArrowLeft"]};B.nG={Mu:"Up",hm:["ArrowUp"]};B.eSm={Mu:"Right",hm:["ArrowRight"]};
B.nm={Mu:"Down",hm:["ArrowDown"]};B.nv={Mu:"+",hm:["NumpadAdd","Equal"]};B.CR={Mu:"-",hm:["NumpadSubtract","Minus","Slash"]};
B.epc={Mu:";",hm:["Semicolon"]};B.eqs={Mu:"Dead",hm:["Dead"]};B.ep$={Mu:"=",hm:["Equal"]};B.dB={Mu:"Backspace",hm:["Backspace"]};
B.dF={Mu:"Delete",hm:["Delete"]};B.epx={Mu:"Backslash",hm:["Backslash","IntlBackslash"]};B.epD={Mu:"Backquote",hm:["Backquote"]};
B.Ca={Mu:"[",hm:["BracketLeft"]};B.wy={Mu:"]",hm:["BracketRight"]};B.epg={Mu:".",hm:["Period"]};B.enU={Mu:",",hm:["Comma"]};
B.enm={Mu:"'",hm:["Quote"]};B.H={Mu:"A",hm:["KeyA"]};B.epS={Mu:"B",hm:["KeyB"]};B.ap={Mu:"C",hm:["KeyC"]};
B.FN={Mu:"D",hm:["KeyD"]};B.E={Mu:"E",hm:["KeyE"]};B.wN={Mu:"F",hm:["KeyF"]};B.eUV={Mu:"G",hm:["KeyG"]};
B.ecK={Mu:"H",hm:["KeyH"]};B.wf={Mu:"I",hm:["KeyI"]};B.eOf={Mu:"J",hm:["KeyJ"]};B.Ix={Mu:"K",hm:["KeyK"]};
B.Gs={Mu:"L",hm:["KeyL"]};B.Ir={Mu:"M",hm:["KeyM"]};B.qN={Mu:"N",hm:["KeyN"]};B.emI={Mu:"O",hm:["KeyO"]};
B.iw={Mu:"P",hm:["KeyP"]};B.en$={Mu:"Q",hm:["KeyQ"]};B.dh={Mu:"R",hm:["KeyR"]};B.evb={Mu:"S",hm:["KeyS"]};
B.T={Mu:"T",hm:["KeyT"]};B.du={Mu:"U",hm:["KeyU"]};B.eLk={Mu:"V",hm:["KeyV"]};B.eop={Mu:"W",hm:["KeyW"]};
B.Cx={Mu:"X",hm:["KeyX"]};B.enz={Mu:"Y",hm:["KeyY"]};B.CA={Mu:"Z",hm:["KeyZ"]};B.eQk={Mu:"0",hm:["Numpad0","Digit0"]};
B.en_={Mu:"1",hm:["Numpad1","Digit1"]};B.eni={Mu:"2",hm:["Numpad2","Digit2"]};B.enq={Mu:"3",hm:["Numpad3","Digit3"]};
B.enN={Mu:"4",hm:["Numpad4","Digit4"]};B.eBD={Mu:"5",hm:["Numpad5","Digit5"]};B.eBd={Mu:"6",hm:["Numpad6","Digit6"]};
B.eOH={Mu:"7",hm:["Numpad7","Digit7"]};B.eOE={Mu:"8",hm:["Numpad8","Digit8"]};B.eOz={Mu:"9",hm:["Numpad9","Digit9"]};
B.CC=[B.eQk,B.en_,B.eni,B.enq,B.enN,B.eBD,B.eBd,B.eOH,B.eOE,B.eOz];B.ehF={Mu:"F1",hm:["F1"]};B.ehI={Mu:"F2",hm:["F2"]};
B.ehR={Mu:"F3",hm:["F3"]};B.ehz={Mu:"FF",hm:["F4"]};B.eOs={Mu:"F5",hm:["F5"]};B.eUt={Mu:"F6",hm:["F6"]};
B.ehA={Mu:"F7",hm:["F7"]};B.ehY={Mu:"F8",hm:["F8"]};B.ehf={Mu:"F9",hm:["F9"]};B.ehk={Mu:"F10",hm:["F10"]};
B.esS={Mu:"F11",hm:["F11"]};B.esP={Mu:"F12",hm:["F12"]};function QY(p,d,K){if(K==null)K=!1;this.name=p;
this.O=d;this.rj=K;this.data=null}var Pq={};Pq.bt=function(p,d){var K={t:"Clss",v:{classID:p}};if(d)K={t:"Enmr",v:{classID:p,typeID:"Ordn",enum:"Trgt"}};
return{t:"obj ",v:[K]}};Pq.wT=function(p,d){var K={classID:"Lyr"};K[p]=d;return{LG:"set",Qz:{classID:"null",null:Pq.bt("Lyr",!0),T:{t:"Objc",v:K}}}};
Pq.eUv=function(p,d,K,A,x){var M=new y(n.E.Iz,!0),G=[],D=0,P=Pq.eED(d,K,A,G);while(G.length!=0){var a=G.pop();
D++;if(!a.C)continue;if(a.LG=="conditional"){var e=p.L[p.Y[0]],f=a.Qz.null.v.Cndt,N=!1;if(f=="Bckg")N=!1;
else if(f=="Pxel"&&p.ux(!1))N=!0;else if(f=="Adjs"&&QW.get(e.add))N=!0;else if(f=="Shp"&&e.add.vogk)N=!0;
else if(f=="Grup"&&e.Ba())N=!0;var Y=a.Qz.then.v;if(N)Pq.eED(d,Y[0].v.val,Y[1].v.val,G)}else if(a.LG=="stop"){alert(a.Qz.Msge.v);
break}else{M.data={LG:a.LG,Qz:a.Qz};x.n(M)}}};Pq.eED=function(p,d,K,A){var x;for(var M=0;M<p.length;
M++){if(p[M].hH!=K)continue;var G=p[M].W;for(var D=0;D<G.length;D++){if(G[D].hH!=d)continue;x=G[D].W}}var P=x.length;
for(var M=0;M<P;M++)A.push(x[P-1-M])};Pq.eU$=function(p){var d=p.LG,K=p.Qz,A,G,D,P,a,e;if(K&&K.null)A=K.null.v[0];
if(K&&A==null&&K.At)A=K.At.v[0];if(A&&A.t=="obj ")A=A.v[0];var x=A?A.v.classID:null,M=["purge"];if(M.indexOf(d)!=-1)return d[0].toUpperCase()+d.slice(1);
e=QW.un;for(G in e)if(e[G]==d)D=G;e=eq.un;for(G in e)if(e[G]==d)P=G;e=MF.un;for(G in e)if(e[G]==d)a=G;
if(D){var f=QW.wk(D,K);if(f!=-1)return[4,16,f];return QW.names[D]}if(P)return eq.names[P];if(a)return MF.names[a];
var N=Pq.eeG;if(d=="make"){if(A){if(x=="AdjL")return[6,1];else if(x=="layerSection")return[6,9];else if(x=="Lyr")return[6,13];
else if(x=="Chnl"&&A.v.enum=="Msk")return[6,2];else if(x=="contentLayer")return[6,48,1];else if(x=="BckL")return"Make Background Layer"}if(K.Nw){x=K.Nw.v.classID;
if(x=="Dcmn")return[11,7];else if(x=="Chnl"||x=="SCch")return"New Channel"}}else if(d=="select"){if(x=="Chnl")return"Select "+(A.v.enum=="Msk"?"Mask ":"")+"Channel";
else if(x=="Mn")return"Select Panel \""+A.v.enum+"\"";else if(x=="Lyr")return"Select Layer \""+A.v.val+"\""}else if(N[d]&&x=="Chnl"){var Y=A.v.keyID=="fsel";
return N[d]+" "+(Y?"Selection":"Channel")}else if(d=="set"){if(x=="Lyr")return"Set Current Layer";else if(x=="AdjL")return[6,39];
else if(x=="contentLayer")return[6,48,2];else if(x=="Prpr")return[11,6];else if(x=="Clr")return"Set "+(A.v.keyID=="FrgC"?"Foreground":"Background")+" color";
else console.log(x)}else if(d=="move"){if(x=="Lyr")return"Move Layer"}else if(d=="show"||d=="hide"){var l="";
if(x=="Lyr")+"Layer";if(x=="Chnl")+"Channel";return(d=="show"?"Show":"Hide")+" "+l}else if(d=="reset"){if(x=="Clr")return"Reset Colors"}else if(d=="exchange"){if(x=="Clr")return[22,7,0]}else if(d=="rotateEventEnum")return[2,5];
else if(d=="flip"){var h=K.Axis.v.Ornt=="Hrzn";return[2,6,[22,4,h?2:3]]}if(x=="Chnl"){if(d=="duplicate"){if(A.v.keyID=="fsel")return"Selection to Channel";
else return"Duplicate Channel"}if(d=="delete")return"Delete Channel"}var s={cut:[5,0],copyEvent:[5,1],copyToLayer:[6,49],copyMerged:[5,7],paste:[5,2],close:[1,12],groupEvent:[6,18],duplicate:[6,0],mergeLayersNew:[6,12,0],mergeVisible:"Merge Visible",flattenImage:[6,12,1],updatePlacedLayer:[6,36,1],fill:[2,3],colorRange:[7,8],desaturate:[19,7,0],transform:[10,16],delete:K?[6,31]:[2,2],align:[20,4,0],placedLayerEditContents:"Edit Contents",newPlacedLayer:[6,7],canvasSize:[11,3],imageSize:[11,10],rasterizeLayer:[6,8],revealAll:[11,12,2],conditional:"If"},J=s[d];
if(J==null)J=Pq.eIk[d];if(J)return J;console.log(d,K);return d};Pq.eIk={border:[7,9],smoothness:[19,3,0],expand:[7,4],contract:[7,5],feather:[7,6],inverse:[7,2]};
Pq.eeG={set:"Set",add:"Add Transparency",addTo:"Add To",subtract:"Subtract Transparency",subtractFrom:"Subtract From",interfaceIconFrameDimmed:"Intersect Transparency",interfaceWhite:"Intersect With"};
Pq.eUi=function(p,d,K,A){var x=p.LG,M=p.Qz,G=new y(n.E.q,!0),a,e,f,N,Y,J;G.O=r.aW;var D=new y(n.E.s,!0),P=["purge","updatePlacedLayer"];
if(P.indexOf(x)!=-1)return;Y=QW.un;for(a in Y)if(Y[a]==x)e=a;Y=eq.un;for(a in Y)if(Y[a]==x)f=a;Y=MF.un;
for(a in Y)if(Y[a]==x)N=a;if(e){G.O=r.kt;G.data={j:"start",Xg:e,jV:M}}else if(f){G.O=r.qR;G.data={j:"start",vX:f,jV:M}}else if(N){G.O=r.qR;
G.data={j:"start",vX:"GEfc",jV:M}}else if(x=="imageSize"||x=="canvasSize"||x=="revealAll"||x=="trim"){G.O=r.RJ;
G.data={j:"fromAction",Cs:p}}else if(x=="fill"||x=="delete"&&M==null){G.O=r.hK;G.data={j:"fromAction",Cs:p}}else if(x=="colorRange"){var l=M.Mnm.v,h=M.Mxm.v;
G.O=r.$$;G.data={j:"crange",pV:{Gs:l.Lmnc.v,V:l.A.v,M:l.B.v},p$:{Gs:h.Lmnc.v,V:h.A.v,M:h.B.v},ql:M.Fzns.v/200}}else if(Pq.eIk[x]||Pq.eeG[x]&&(!1||M.With&&M.With.v[0].v.keyID=="fsel"||M.From&&M.From.v[0].v.keyID=="fsel"||M.null&&M.null.v[0].v.keyID=="fsel"||M.T.v[0]&&M.T.v[0].v.keyID=="fsel")){G.O=r.$$;
G.data={j:"fromAction",Cs:p}}var s={copyToLayer:V.Pz,mergeLayersNew:A&&A.Y.length==1?V.Pi:V.nN,rasterizeLayer:V.eHp,mergeVisible:V.nZ,flattenImage:V.$t,newPlacedLayer:V.eKH};
if(s[x])G.data={j:s[x],Qz:M};if(G.data){d.n(G);return}if(x=="desaturate"){G.O=r.kt;G.data={j:"auto",rZ:3};
d.n(G);return}if(x=="close"){if(M.Svng.v.YsN=="Ys"){D.data={j:n.H.Qe};d.n(D)}D.data={j:n.H.LR,qb:A};
d.n(D);return}var s={placedLayerEditContents:n.H.eRw,copyEvent:n.H.Qn,paste:n.H.oq};if(s[x])D.data={j:s[x]};
if(D.data){d.n(D);return}if(M.null||M.At)J=(M.null?M.null:M.At).v;else J=[{t:"----",v:M}];if(J[0].t=="obj "){if(J.length!=1)throw"e";
J=J[0].v}for(var u=0;u<J.length;u++){var Q=J[u],W=Q.v.classID;G.data=null;if(x=="make"){if(M.null==null&&M.Nw)W=M.Nw.v.classID;
if(W=="AdjL"){G.data={j:V.BT,Qz:M}}else if(W=="layerSection"){G.data={j:V.OO};if(M.Usng)G.data.GY=M.Usng.v.Nm.v}else if(W=="Lyr"){if(M.Usng&&M.Usng.v.length==2)G.data={j:V.eGm};
else{G.data={j:V.zH};if(M.Usng)G.data.GY=M.Usng.v.Nm.v}}else if(W=="Chnl"&&Q.v.enum=="Msk"){G.data={j:V.v_,aV:M.Usng.v.UsrM}}else if(W=="Chnl"||W=="SCch"){G.data={j:V.Gw,hE:"fromAction",S:p}}else if(W=="contentLayer"){G.data={j:V.zE,Qz:M}}else if(W=="BckL"){A.L[A.Y[0]].emM();
continue}else if(W=="Dcmn"){var q=M.Nw.v;D.data={j:n.H.iA,_b:QZ.euM(q,K)}}else if(W=="Ptrn")D.data={j:n.H.Kl,gD:0};
else{console.log(x,M);throw"e"}}else if(x=="select"){if(W=="Lyr"){var H=M.selectionModifier,C=H?H.v.selectionModifierType:null,k=Pq.eG(A,Q);
G.data={j:V.GJ,o:k,eWS:C?["addToSelection","addToSelectionContinuous"].indexOf(C):null,Pj:0,esV:!0}}else if(W=="Chnl"){G.data={j:V.GJ,o:k,Pj:1}}}else if((x=="set"||x=="reset"||x=="exchange")&&W=="Clr"){D.data={j:n.H.aA,gD:Qn.Py,hE:x=="reset"?3:2};
if(x=="set"){D.data.hE=Q.v.keyID=="FrgC"?0:1;var i=Z.k.iz(M.T.v);D.data.S=i.N<<16|i.w<<8|i.M}}else if(x=="set"){if(W=="AdjL"){var m=M.T.v.classID;
m=QW.NB[m];G.O=r.kt;if(m)G.data={j:"edit_layer",S:M.T.v}}else if(W=="Lyr"){var w=M.T.v,k=Pq.eG(A,Q);
if(w.Nm)G.data={j:V.hJ,name:w.Nm.v};else if(w.Opct)G.data={j:V.Gz,dx:Math.round(w.Opct.v.val*255/100)};
else if(w.fillOpacity)G.data={j:V.Br,dx:Math.round(w.fillOpacity.v.val*255/100)};else if(w.Md)G.data={j:V.G_,dx:eE.Uh.indexOf(w.Md.v.BlnM)};
else if(w.Usrs)G.data={j:V.Bu,o:k};else if(w.Blnd){G.O=r.Ic;G.data={j:"setstl",o:k,S:{blendOptions:{t:"objc",v:w}}};
d.n(G);G.data={j:"confirm",o:k}}else if(w.Clr){var S={Ylw:3}[w.Clr.v.Clr];if(S==null)throw"e";G.data={j:V.hl,eQu:S}}else if(J[0].t=="prop")continue;
else{console.log(M);throw"e"}var o=A.L[k];o.emv()}else if(W=="Prpr"){var w=JSON.parse(JSON.stringify(M.T.v));
if(Q.v.keyID=="TxtS"){var k=Pq.eG(A,M.null.v[1]),o=A.L[k],O=o.add.TySh,t=JSON.parse(JSON.stringify(O.Nf)),c=QM.WD(t),g=QM.fy(t,0,c.length-2);
if(w.Undl&&w.Undl.v.Undl=="underlineOnLeftInVertical")g.K$.Underline=!0;QM.gh(t,0,c.length-1,g);G.O=r.jY;
G.data={j:"newED",OB:k,Cg:t};u=1e9}else{for(var j in w)if(w[j].v){if(j=="Scl")w[j].v.val=100;if(w[j].v.TrnS&&w[j].v.TrnS.v.Crv==null){w[j].v.TrnS=JSON.parse(QG.oA[9]).TrnS}}t$.Wp(w);
if(w.masterFXSwitch==null)w.masterFXSwitch={t:"bool",v:!0};var k=Pq.eG(A,M.null.v[1]);G.O=r.Ic;G.data={j:"setstl",o:k,S:{Lefx:{t:"objc",v:w}}};
d.n(G);G.data={j:"confirm",o:k}}}else if(W=="contentLayer"){var k=Pq.eG(A,Q),w=M.T.v;if(w.classID=="shapeStyle")w=w.FlCn.v;
var _={solidColorLayer:0,gradientLayer:1,patternLayer:2}[w.classID],f=JSON.parse(JSON.stringify(QG.Pr[_]));
Qv.Ys.Mh(w,f,_);G.data={j:V.sW,gO:[k],qs:!0,S:{rv:_+1,dm:f}}}else{console.log(Q,M);throw W}}else if(x=="move"){if(W=="Lyr"){var w=M.T.v;
if(w.classID=="Ofst"){G.data={j:"trsl",e$V:w.Hrzn.v.val,eFQ:w.Vrtc.v.val};G.O=r.cz}else{var U,$;if(w[0].t=="Enmr"){if(w[0].v.enum=="Frnt")$=0;
else if(w[0].v.enum=="Prvs")$=2;else if(w[0].v.enum=="Back")$=3;else throw"e"}else U=w[0].v.val;G.data={j:V.Gl,target:U,hE:$,esT:M.Dplc?M.Dplc.v:!1}}}}else if(x=="groupEvent")G.data={j:V.PL};
else if(x=="show"||x=="hide"){if(W=="Lyr"){var k=Pq.eG(A,Q);if(k==-1)continue;var I=A.L[k].Ml();if(x=="show"&&I||x=="hide"&&!I)continue;
G.data={j:V.zQ,o:k}}else if(W=="Chnl"){G.data={j:V.Gw,hE:"fromAction",S:p}}}else if(x=="rotateEventEnum"){G.O=r.RJ;
var E=M.Angl.v.val;G.data={j:"rot",hH:[2,5],S:-E*Math.PI/180}}else if(x=="flip"){G.O=r.RJ;var b=M.Axis.v.Ornt=="Hrzn",z=b?new QP(-1,1):new QP(1,-1);
G.data={j:"scl",hH:[2,6,[22,4,b?2:3]],S:z}}else if(x=="transform"){var QS=1,QQ=1,Qe=0,QB=0,QU=0,Qt=0,F=0;
if(M.Wdth)QS=M.Wdth.v.val/100;if(M.Hght)QQ=M.Hght.v.val/100;if(M.Skew){var L=M.Skew.v;Qe=L.Hrzn.v.val;
QB=L.Vrtc.v.val}if(M.Ofst){var Qu=M.Ofst.v;Qt=Qu.Hrzn.v.val;F=Qu.Vrtc.v.val}if(M.Angl)QU=M.Angl.v.val;
var QK=new QI;QK.concat(new QI(QS,QS*Math.tan(QB*Math.PI/180),QQ*Math.tan(Qe*Math.PI/180),QQ,0,0));QK.rotate(-QU*Math.PI/180);
QK.translate(Qt,F);var Qm={Qcsa:4,Qcs0:0,Qcs1:2,Qcs2:8,Qcs3:6,Qcs4:1,Qcs5:5,Qcs6:7,Qcs7:3}[M.FTcs.v.QCSt];
if(Qm==null)throw M.FTcs.v.QCSt;var k=M.null?Pq.eG(A,Q):null;G.O=r.hc;G.data={j:"mat",qL:Qm,S:QK,o:k}}else if(W=="Chnl"){G.data={j:V.Gw,hE:"fromAction",S:p}}else if(x=="duplicate")G.data={j:V.RY,GY:M.Nm?M.Nm.v:null};
else if(x=="delete")G.data={j:V.Ry};else if(x=="align"){G.O=r.cz;var e={AdLf:0}[M.Usng.v.ADSt];if(e==null)throw"e";
G.data={j:"algn",S:e}}if(G.data)d.n(G);else if(D.data)d.n(D);else{console.log(p);alert("Unknown action \""+x+"\"");
throw"e"}}};Pq.eG=function(p,d){var K=d.t,A=-1;if(K=="name"){var x=d.v.val,A=-1;for(var M=0;M<p.L.length;
M++)if(p.L[M].getName()==x){A=M;break}}if(K=="Enmr"&&p.Y.length!=0)A=p.Y[0];if(K=="Enmr"&&d.v.enum=="Frwr")A=p.Y[0]-1;
if(K=="prop"){if(d.v.keyID=="Bckg")A=0}return A};var QW={};QW.get=function(p){for(var d in QW.names)if(p[d]!=null)return d;
return null};QW.eh=function(p,d){var K=QW.VG,A;if(p=="brit"){var x=d.Brgh?d.Brgh.v:0,M=d.Cntr?d.Cntr.v:0,G=d.useLegacy?d.useLegacy.v:!1;
if(G){var D=x/255,P=1+M/100;if(P>1)P=1+Math.tan(Math.PI/2*M/101);var a=(1-P)/2,e=Z.EI.eH(D,D,D),f=[P,0,0,a,0,P,0,a,0,0,P,a,0,0,0,1],N=Z.EI.multiply(e,f),Y=new Z.dY(256);
for(var l=0;l<256;l++)Y.N[l]=l;Z.EI.transform(Y,Y,N);A={type:K.dR,tK:Y.N,Xm:Y.N,vN:Y.N,am:!1,aC:!1}}else{var h=1024,s=-30+60*(M+100)/200,J=[];
for(var l=0;l<4;l++)J.push(Z.uX.gS(l/3*255,l/3*255,!0));J[1].v.Hrzn.v=64;J[1].v.Vrtc.v=64-s;J[2].v.Hrzn.v=128+64;
J[2].v.Vrtc.v=128+64+s;J.sort(function(MC,Gu){return MC.v.Hrzn.v-Gu.v.Hrzn.v});var u=Z.uX.eC(J,h);function Q(MC,h){var J=[],Gu=3;
for(var l=0;l<Gu+1;l++)J.push(Z.uX.gS(l/Gu*255,l/Gu*255,!0));J[1].v.Hrzn.v=130-MC*26;J[1].v.Vrtc.v=130+MC*51;
J[2].v.Hrzn.v=233-MC*48;J[2].v.Vrtc.v=233+MC*10;return Z.uX.eC(J,h)}var W=Q(Math.abs(x)/100,h);if(x<0){var q=[],H=1/h;
for(var l=0;l<h;l++){var C=l*H,k=l;while(W[k]>C&&k>1)k--;q[l]=k*H}W=q}var i=new Uint8Array(h);for(var l=0;
l<h;l++){var m=Math.round((h-1)*W[l]);i[l]=Math.round(255*u[m])}A={type:K.dR,tK:i,Xm:i,vN:i,am:!1,aC:!1}}}if(p=="levl"){var w=[],S,o,e,O,t,c;
for(var l=0;l<4;l++)w.push(MW.lG(d,l));S=-w[0][0]/255;o=1/(w[0][1]/255-w[0][0]/255);e=Z.EI.multiply(Z.EI.eE(o,o,o),Z.EI.eH(S,S,S));
O=Z.EI.eE(1/(w[1][1]/255-w[1][0]/255),1/(w[2][1]/255-w[2][0]/255),1/(w[3][1]/255-w[3][0]/255));t=Z.EI.eH(-w[1][0]/255,-w[2][0]/255,-w[3][0]/255);
c=Z.EI.multiply(O,t);var i=new Z.dY(256);for(var l=0;l<256;l++)i.N[l]=i.w[l]=i.M[l]=l;var g=1/(w[0][4]/100),j=1/(w[1][4]/100),_=1/(w[2][4]/100),U=1/(w[3][4]/100);
Z.EI.transform(i,i,c);for(var l=0;l<256;l++){i.N[l]=Math.round(Math.max(0,Math.min(255,255*Math.pow(i.N[l]/255,j))));
i.w[l]=Math.round(Math.max(0,Math.min(255,255*Math.pow(i.w[l]/255,_))));i.M[l]=Math.round(Math.max(0,Math.min(255,255*Math.pow(i.M[l]/255,U))))}Z.EI.transform(i,i,e);
for(var l=0;l<256;l++){i.N[l]=Math.round(Math.max(0,Math.min(255,255*Math.pow(i.N[l]/255,g))));i.w[l]=Math.round(Math.max(0,Math.min(255,255*Math.pow(i.w[l]/255,g))));
i.M[l]=Math.round(Math.max(0,Math.min(255,255*Math.pow(i.M[l]/255,g))))}S=w[0][2]/255;o=w[0][3]/255-w[0][2]/255;
e=Z.EI.multiply(Z.EI.eH(S,S,S),Z.EI.eE(o,o,o));O=Z.EI.eE(w[1][3]/255-w[1][2]/255,w[2][3]/255-w[2][2]/255,w[3][3]/255-w[3][2]/255);
t=Z.EI.eH(w[1][2]/255,w[2][2]/255,w[3][2]/255);c=Z.EI.multiply(t,O);Z.EI.transform(i,i,Z.EI.multiply(e,c));
A={type:K.dR,tK:i.N,Xm:i.w,vN:i.M,am:!1,aC:!1}}if(p=="curv"){var $=MD.lG(d,0).length==256?1:0,I=[];if($==0){var E=Z.uX.Lq(MD.lG(d,0),256);
for(var l=1;l<4;l++){var b=Z.uX.Lq(MD.lG(d,l),256);I.push(Z.uX.kD(b,E))}}else{var z=[];for(var l=0;l<4;
l++){var QS=new Uint8Array(256);z.push(QS);var QQ=MD.lG(d,l);for(var k=0;k<256;k++)QS[k]=QQ[k]}for(var l=1;
l<4;l++)I.push(Z.uX.kD(z[l],z[0]))}A={type:K.dR,tK:I[0],Xm:I[1],vN:I[2],am:!1,aC:!1}}if(p=="expA"){var Qe=d.Exps.v,QB=d.Ofst.v,QU=d.gammaCorrection.v,i=new Uint8Array(256);
for(var l=0;l<256;l++){var d=l/255,Qt=Math.pow(Math.abs(QB),1/(Math.PI/2));if(QB>0){d=Math.max(QB/Math.E,d);
d=d*Math.exp(QB/1.75+Qe/Math.PI);d=(1-Qt)*d+Qt*1}else{d=d*Math.exp(-QB*1.75+Qe/Math.PI);d=d+-Qt*1.14}d=Math.pow(d,1/QU);
d=Math.max(0,Math.min(1,d));i[l]=Math.round(d*255)}A={type:K.dR,tK:i,Xm:i,vN:i,am:!1,aC:!1}}if(p=="vibA"){A={type:K.VQ,gD:[d.vibrance?d.vibrance.v:0,d.Strt?d.Strt.v:0]}}if(p=="hue2"){var F=[],L=[],Qu=[],QK=d.Clrz?d.Clrz.v:!1;
for(var l=0;l<256;l++){F[l]=l/255;L[l]=0;Qu[l]=0}var Qm=Ph.lG(d,0),ei=QW.VA(Qm[1]/100);if(QK){var Qp=Qm[0]/360;
for(var l=0;l<256;l++){F[l]=Qp;L[l]=ei}}else{for(var l=0;l<256;l++){var QO=F[l],QE=L[l];F[l]+=Qm[0]/360;
for(var k=0;k<6;k++){var Qi=Ph.lG(d,k+1),QV=Qi.Rx,Q$=Qi.iK,Qt=0;for(var eS=1;eS<4;eS++)if(Q$[eS]<Q$[0])Q$[eS]+=360;
var Qs=Q$[0],Qw=Q$[1],Q_=Q$[2],QN=Q$[3],eK=QO*360;if(eK<Q$[0])eK+=360;var Qz=(eK-Qs)/(Qw-Qs),eQ=(eK-Q_)/(QN-Q_);
if(Qz<0)Qt=0;else if(Qz<1)Qt=Qz;else if(eQ<0)Qt=1;else if(eQ<1)Qt=1-eQ;else Qt=0;var P=QW.VA(QV[1]/100);
F[l]+=Qt*QV[0]/360;L[l]+=Qt*P;Qu[l]+=Qt*QV[2]/100}}for(var l=0;l<256;l++){L[l]=(1+L[l])*(1+ei)-1;Qu[l]=Math.max(-1,Math.min(1,Qu[l]))}}var Qd=new Uint8Array(256),Qj=new Uint8Array(256),QD=new Uint8Array(256);
for(var l=0;l<256;l++){var Qq=F[l],et=L[l],QC=Qu[l];if(Qq>1)Qq--;if(Qq<0)Qq++;et=QW.eUq(et);et=(1+et)*.5;
QC=(1+QC)*.5;Qd[l]=Math.round(255*Qq);Qj[l]=Math.round(255*et);QD[l]=Math.round(255*QC)}var Qf=Qm[2]/100,QA=Qf<0?-Qf:Qf,Qb=Qf<0?0:1;
A={type:K.Vt,ec$:Qd,JS:Qj,e$M:QD,eFn:QA*Qb,JP:1-QA,evX:Qm[2]/100,eFi:QK?1:0}}if(p=="nvrt"){var i=new Uint8Array(256);
for(var l=0;l<256;l++)i[l]=255-l;A={type:K.dR,tK:i,Xm:i,vN:i,am:!1,aC:!1}}if(p=="post"){var MS=d.Lvls.v,i=new Uint8Array(256),Qt=MS/255.001,QR=255/(MS-1);
for(var l=0;l<256;l++)i[l]=Math.floor(l*Qt)*QR;A={type:K.dR,tK:i,Xm:i,vN:i,am:!1,aC:!1}}if(p=="grdm"){var eG=d.Grad.v,MG=d.Rvrs,MM=Z.k.hI(eG.Clrs.v,0,0),h=1024,MP=Z.k.TA(eG,MM,h,MG?MG.v:!1),Mu=Z.p(h),Mm=Z.p(h),Mw=Z.p(h);
Z.$m(MP,Mu,0);Z.$m(MP,Mm,1);Z.$m(MP,Mw,2);A={type:K.dR,tK:Mu,Xm:Mm,vN:Mw,am:!0,aC:!1}}if(p=="selc"){var MU=new Float32Array(9*3*2),Pp=d.JL,Ma=d.Mthd?d.Mthd.v.CrcM=="Absl":!1;
for(var k=0;k<9;k++){var MQ=k*6,P$=Po.lG(d,k),pU=P$[0]/100,pP=P$[1]/100,Mr=P$[2]/100,eM=P$[3]/100;if(Ma){MU[MQ]=MU[MQ+1]=MU[MQ+2]=1;
MU[MQ+3]=pU*(1+eM)+eM;MU[MQ+4]=pP*(1+eM)+eM;MU[MQ+5]=Mr*(1+eM)+eM}else{MU[MQ+0]=(1+pU)*(1+eM);MU[MQ+1]=(1+pP)*(1+eM);
MU[MQ+2]=(1+Mr)*(1+eM)}}A={type:K.Vn,$E:MU}}if(p=="blwh"){var pS="Rd Yllw Grn Cyn Bl Mgnt".split(" "),A=[],PK=0,eZ=0;
for(var l=0;l<6;l++)A.push(d[pS[l]].v);A.push(d.useTint.v,d.tintColor.v);var eN=[];for(var l=0;l<6;l++)eN.push((A[l]-50)/50);
var Mk=Z.k.iz(A[7]);Mk.N/=255;Mk.w/=255;Mk.M/=255;var MI=Z.FE(Mk.N,Mk.w,Mk.M),QC=Z.OE(Z.dX(MI.Ri,1,.5)),ez=MI.mQ*MI.jV;
if(QC==.5)PK=eZ=.5;else{PK=ez*(.5-QC)/(.5/QC-1);eZ=1-ez*(.5-QC)-1/(2*(1-QC));eZ/=1-1/(2*(1-QC))}A={type:K.VB,eRi:eN,jS:A[6]?1:0,eLc:MI.Ri,OE:QC,e_s:ez,vD:PK,e_x:eZ}}if(p=="blnc"){var w=[],eu=["ShdL","MdtL","HghL"];
for(var l=0;l<3;l++){var MS=d[eu[l]].v,pp=MS[0].v/100,GB=MS[1].v/100,MH=MS[2].v/100,Gi=d.PrsL.v?Gi=(Math.min(pp,GB,MH)+Math.max(pp,GB,MH))/2:0;
w[l]=[pp-Gi,GB-Gi,MH-Gi]}var I=[Z.p(256),Z.p(256),Z.p(256)];for(var k=0;k<3;k++)for(var l=0;l<256;l++){var C=l*(1/255),e$=0,s=0,Mx=0;
s=w[2][k];Mx=Math.abs(s);if(s<0)e$=Math.pow(C,Math.SQRT2);else e$=1.63*(Math.pow(C+.04,.5)-.2);C=Mx*e$+(1-Mx)*C;
s=w[1][k];Mx=Math.abs(s);if(s<0)e$=Math.pow(C,2);else e$=Math.min(2.35*(Math.pow(C+.09,.5)-.3),Math.pow(C,1/2));
C=Mx*e$+(1-Mx)*C;s=w[0][k];Mx=Math.abs(s);if(s<0)e$=C<.4?0:Math.pow((C-.4)/.6,Math.SQRT2);else e$=Math.pow(C,Math.SQRT2/2);
C=Mx*e$+(1-Mx)*C;C=Math.max(0,Math.min(1,C));I[k][l]=Math.round(C*255)}A={type:K.dR,tK:I[0],Xm:I[1],vN:I[2],am:!1,aC:!1}}if(p=="phfl"){var em=Z.k.iz(d.Clr.v),pe=[em.N/255,em.w/255,em.M/255],eU=d.Dnst.v/100,I=[Z.p(256),Z.p(256),Z.p(256)];
for(var k=0;k<3;k++)for(var l=0;l<256;l++){var C=l*(1/255),MZ=C*pe[k];MZ=Math.max(0,Math.min(1,MZ));
C=eU*MZ+(1-eU)*C;I[k][l]=Math.round(C*255)}A={type:K.dR,tK:I[0],Xm:I[1],vN:I[2],am:!1,aC:d.PrsL.v}}if(p=="thrs"){var i=Z.p(256);
for(var l=d.Lvl.v;l<256;l++)i[l]=255;A={type:K.dR,tK:i,Xm:i,vN:i,am:!0,aC:!1}}if(p=="mixr"){var ep=QW.NO(d),N=[];
for(var l=0;l<ep.S.length;l++)if(l%5!=3)N.push(ep.S[l]/100);if(ep.ER){for(var tN=1;tN<3;tN++)for(var C=0;
C<4;C++)N[tN*4+C]=N[C]}A={type:K.Vm,EI:N}}if(p=="rplc"){var BS=d.Mnm.v,Pc=d.Mxm.v;A={type:K.VR,pV:[BS.Lmnc.v,BS.A.v,BS.B.v],p$:[Pc.Lmnc.v,Pc.A.v,Pc.B.v],shift:[d.H.v/360,d.Strt.v/100,d.Lght.v/100],ql:d.Fzns.v/200}}if(p=="clrL"&&d.profile){var tZ=new Uint8Array(d.profile.v),Qy=ICC.R(tZ.buffer),na=[],pC=0,eW=Qy.tags.A2B0;
pC=eW&&eW.gpnum?eW.gpnum[0]:0;pC=pC>8?pC:17;var na=ICC.U.sampleLUT(Qy,pC);A={type:K.CX,Qd:ICC.U.rgba8LUT(na,pC),eoW:na,qN:pC}}return A};
QW.wk=function(p,d){var K=-1;if(p!="levl"||d==null)K=-1;else if(d.Auto)K=0;else if(d.AuCo)K=1;else if(d.autoBlackWhite)K=2;
return K};QW.VG={dR:0,Vt:1,VQ:2,Vn:3,VB:4,Vm:5,VR:6,CX:7};QW.VA=function(p){if(p<0)return p;return Math.pow(Math.tan(Math.PI/2*p),1.3)};
QW.eUq=function(p){if(p<0)return p;p=Math.pow(p,1/1.3);return Math.atan2(p,1)/(Math.PI/2)};QW.sg=function(p,d,K,A){var x=QW.VG,M=Date.now();
if(X.Ug&&A.r()>300*300&&p.type!=x.dR&&p.type!=x.CX){A=A.clone();A.x=A.y=0;var G=X.PV(0,A.t,A.D);G.set(d);
X.El(G,A);G.YA(A);QW.ww(p,G.Yz,A);G.get(K);return}if(p.type==x.CX){var D=p.eoW,P=p.qN,N=3;function a(MS,QR,QU,eG,MG,MM){var MP=1-eG;
MM[MG+0]=MP*QU[MS]+eG*QU[QR];MM[MG+1]=MP*QU[MS+1]+eG*QU[QR+1];MM[MG+2]=MP*QU[MS+2]+eG*QU[QR+2]}var e=[0,0,0,0,0,0,0,0,0,0,0,0],f=(P-1.000001)/255;
for(var Y=0;Y<d.length;Y+=4){var A=f*d[Y],l=f*d[Y+1],h=f*d[Y+2],s=~~A,J=~~l,u=~~h;a(N*(u+P*J+P*P*s),N*(u+1+P*J+P*P*s),D,h-u,0,e);
a(N*(u+P*(J+1)+P*P*s),N*(u+1+P*(J+1)+P*P*s),D,h-u,3,e);a(0,3,e,l-J,6,e);a(N*(u+P*J+P*P*(s+1)),N*(u+1+P*J+P*P*(s+1)),D,h-u,0,e);
a(N*(u+P*(J+1)+P*P*(s+1)),N*(u+1+P*(J+1)+P*P*(s+1)),D,h-u,3,e);a(0,3,e,l-J,9,e);a(6,9,e,A-s,0,e);K[Y]=~~(.5+e[0]*255);
K[Y+1]=~~(.5+e[1]*255);K[Y+2]=~~(.5+e[2]*255)}}if(p.type==x.Vm)Z.EI.US(d,K,p.EI);if(p.type==x.VB){var Q=p.e_s,W=p.OE,q=p.vD,H=p.e_x,C=d.length;
for(var Y=0;Y<C;Y+=4){var A=d[Y]*(1/255),l=d[Y+1]*(1/255),h=d[Y+2]*(1/255),k=Z.Qy(A,l,h),i=0;for(var m=0;
m<6;m++)i+=Math.min(1,1.7*(1-k.Ln))*k.mQ*p.eRi[m]*QW.etV(k.Ri,m*(1/6));var w=Math.max(0,Math.min(1,k.Ln*(1+i)));
if(p.jS==1){var S=0;if(w<q)S=w*(.5/W);else if(w<H)S=w+Q*(.5-W);else S=1-(1-w)*.5/(1-W);k.Ri=p.eLc;k.mQ=Math.min(1,Q+3*Q*Math.abs(w-.5*(q+H)));
k.Ln=S}else{k.Ri=0;k.mQ=0;k.Ln=w}var o=Z.dX(k.Ri,k.mQ,k.Ln);K[Y]=Math.round(o.N*255);K[Y+1]=Math.round(o.w*255);
K[Y+2]=Math.round(o.M*255)}}if(p.type==x.Vn){var O=p.$E,C=d.length,t=1/255;for(var Y=0;Y<C;Y+=4){var A=d[Y]*t,l=d[Y+1]*t,h=d[Y+2]*t,k=Z.Qy(A,l,h),c=Math.max(A,Math.max(l,h)),g=Math.min(A,Math.min(l,h)),j=1-A,_=1-l,U=1-h,$=0,I=0,E=0;
for(var m=0;m<9;m++){var b=m*6,Qe=0;if(O[b]==1&&O[b+1]==1&&O[b+2]==1&&O[b+3]==0&&O[b+4]==0&&O[b+5]==0)continue;
var z=j*O[b]+O[b+3],QS=_*O[b+1]+O[b+4],QQ=U*O[b+2]+O[b+5];if(m<6)Qe=QW.etV(k.Ri,m*(1/6))*k.mQ*2*Math.min(k.Ln,1-k.Ln);
else if(m==6)Qe=Math.max(0,g-.5)*2;else if(m==7)Qe=1-(Math.abs(c-.5)+Math.abs(g-.5));else Qe=Math.max(0,.5-c)*2;
$+=(Math.max(0,Math.min(1,z))-j)*Qe;I+=(Math.max(0,Math.min(1,QS))-_)*Qe;E+=(Math.max(0,Math.min(1,QQ))-U)*Qe}j=Math.max(0,Math.min(1,j+$));
_=Math.max(0,Math.min(1,_+I));U=Math.max(0,Math.min(1,U+E));A=1-j;l=1-_;h=1-U;K[Y]=Math.round(A*255);
K[Y+1]=Math.round(l*255);K[Y+2]=Math.round(h*255)}}if(p.type==x.dR){Z.eMl(d,K,p.tK,p.Xm,p.vN,p.am,p.aC)}if(p.type==x.Vt){var QB=new Uint32Array(d.buffer),QU=new Uint32Array(K.buffer),C=QB.length;
if(QW.rX==null){QW.rX=new Float64Array(256);for(var Y=0;Y<256;Y++)QW.rX[Y]=QW.VA(-1+2*Y/255)}var Qt=QW.rX;
for(var Y=0;Y<C;Y++){var F=QB[Y],A=(F&255)*(1/255),l=(F>>>8&255)*(1/255),h=(F>>>16&255)*(1/255),L=F>>>24,Qu=Math.min(A,l,h),QK=Math.max(A,l,h),Qm=0,ei=0,Qp=0;
if(QK!=Qu){var QO=QK-Qu;switch(QK){case A:Qm=(l-h)/QO+(l<h?6:0);break;case l:Qm=(h-A)/QO+2;break;case h:Qm=(A-l)/QO+4;
break}Qm=Qm*(1/6)}var QE=~~(Qm*255+.5),Qi=p.ec$[QE]*(1/255),QV=p.JS[QE]*(1/255)*2-1,Q$=p.e$M[QE]*(1/255)*2-1,i=-Q$,eS=Qu;
if(0<Q$){i=Q$;eS=QK}var Qs=p.eFn+p.JP*i*eS,Qw=p.JP*(1-i);A=Qs+Qw*A;l=Qs+Qw*l;h=Qs+Qw*h;QK=Math.max(A,l,h);
Qu=Math.min(A,l,h);Qp=(QK+Qu)*.5;if(QK!=Qu){var QO=QK-Qu;ei=Qp>.5?QO/(2-(QK+Qu)):QO/(QK+Qu)}var Q_=QV;
if(p.eFi==0){QV=Qt[Math.floor((1+QV)*127.5)];Q_=Math.min(ei*(1+QV),1)}Qm=Qi;ei=Q_;if(ei==0)A=l=h=Qp;
else{var QN=Qp<.5?Qp*(1+ei):Qp+ei-Qp*ei,eK=2*Qp-QN;A=Z.AF(eK,QN,Qm+1/3);l=Z.AF(eK,QN,Qm);h=Z.AF(eK,QN,Qm-1/3)}QU[Y]=L<<24|h*255<<16|l*255<<8|A*255}}if(p.type==x.VR){Z.tM(d,K);
var QB=new Uint32Array(d.buffer),QU=new Uint32Array(K.buffer),C=QB.length,Qz=p.ql,eQ=1/Qz,Qd={Gs:p.pV[0],V:p.pV[1],M:p.pV[2]},Qj={Gs:p.p$[0],V:p.p$[1],M:p.p$[2]};
for(var Y=0;Y<C;Y++){var F=QB[Y],s=F&255,J=F>>>8&255,u=F>>>16&255,A=s*(1/255),l=J*(1/255),h=u*(1/255),L=F>>>24,QD=Z.Jt(s,J,u),Qq=Z.fB(QD,Qd,Qj,Qz,eQ);
if(Qq==0)continue;var k=Z.Qy(A,l,h),Qi=2+k.Ri+Qq*p.shift[0];k.Ri=Qi-~~Qi;k.mQ=Math.max(0,Math.min(1,k.mQ+Qq*p.shift[1]));
k.Ln=Math.max(0,Math.min(1,k.Ln+Qq*p.shift[2]));var o=Z.dX(k.Ri,k.mQ,k.Ln);A=o.N;l=o.w;h=o.M;QU[Y]=L<<24|h*255<<16|l*255<<8|A*255}}if(p.type==x.VQ){var QB=new Uint32Array(d.buffer),QU=new Uint32Array(K.buffer),C=QB.length,et=p.gD[0]/100,QC=p.gD[1]/100;
for(var Y=0;Y<C;Y++){var F=QB[Y],A=(F&255)*(1/255),l=(F>>>8&255)*(1/255),h=(F>>>16&255)*(1/255),L=F>>>24,k=Z.FE(A,l,h),Qm=k.Ri,ei=k.mQ,Qp=k.jV,Qf=0,QA=45/360,Qb=Qm<QA?Math.cos(Math.PI/2*(Qm-QA/2)/(QA/2)):0;
ei=ei+.2*(1-.4*Qb)*et*Math.max(0,Math.sin(ei*Math.PI));ei=ei*(1+QC);ei=Math.max(0,Math.min(1,ei));var o=Z.uK(Qm,ei,Qp);
A=o.N;l=o.w;h=o.M;QU[Y]=L<<24|h*255<<16|l*255<<8|A*255}}};QW.ww=function(p,d,K){X.Xg.ww(p,d)};QW.etV=function(p,d){var K=Z.iq(d,p)*6;
return Math.max(0,Math.min(1,K<0?1+K:1-K))};QW.names={brit:[4,0],levl:[4,1],curv:[4,2],expA:[4,3],vibA:[4,4],hue2:[4,5],blnc:[4,6],blwh:[4,7],phfl:[4,8],mixr:[4,9],clrL:[4,10],nvrt:[4,11],post:[4,12],thrs:[4,13],grdm:[4,14],selc:[4,15],rplc:[4,17]};
QW.eQq=["expA","clrL","selc"];QW.cG=[[13,1,1],[13,1,3],[13,1,4],[13,1,11],[13,1,5],[13,1,12]];QW.eUd=[[13,1,11],[13,1,12],[13,1,3],[13,1,10]];
QW.NS=[[13,1,1],[13,1,4],[13,1,5]];QW.eZ={BrgC:"brit",Lvls:"levl",Crvs:"curv",Exps:"expA","\0\0\0\xDE":"vibA",HStr:"hue2",ClrB:"blnc",BanW:"blwh","\0\0\0\xDD":"phfl",Invr:"nvrt",Pstr:"post",Thrs:"thrs",GrMp:"grdm",SlcC:"selc",ChnM:"mixr","\0\0\0\xDF":"clrL",rplc:"rplc"};
QW.NB=function(){var p=JSON.parse(JSON.stringify(QW.eZ));delete p["\0\0\0\xDE"];delete p["\0\0\0\xDD"];
delete p.GrMp;p.vibrance="vibA";p.photoFilter="phfl";p.GdMp="grdm";return p}();QW.un={brit:"brightnessEvent",levl:"levels",curv:"curves",expA:"exposure",vibA:"vibrance",hue2:"hueSaturation",blnc:"colorBalance",blwh:"blackAndWhite",phfl:"photoFilter",mixr:"channelMixer",clrL:"colorLookup",nvrt:"invert",post:"posterization",thrs:"thresholdClassEvent",grdm:"gradientMapEvent",selc:"selectiveColor",rplc:"replaceColor"};
QW.keys={levl:[B.DV,B.Gs],curv:[B.DV,B.Ir],hue2:[B.DV,B.du],nvrt:[B.DV,B.wf],blnc:[B.DV,B.epS]};QW.eMi=function(p){var d=eq.Kj("mixr");
d.Mnch={t:"bool",v:p.ER};function K(A,x){var M={classID:"ChMx"},G={Rd:0,Grn:1,Bl:2,Cnst:4};for(var D in G)M[D]={t:"UntF",v:{type:"#Prc",val:A[x+G[D]]}};
return{t:"Objc",v:M}}if(p.ER)d.Gry=K(p.S,0);else{d.Rd=K(p.S,0);d.Grn=K(p.S,5);d.Bl=K(p.S,10)}return d};
QW.NO=function(p){function d(A,x,M){var G={Rd:0,Grn:1,Bl:2,Cnst:4};for(var D in G)if(A[D])x[M+G[D]]=A[D].v.val}var K={ER:!1,S:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]};
if(p.Mnch&&p.Mnch.v)K.ER=!0;if(K.ER)d(p.Gry.v,K.S,0);else{d(p.Rd.v,K.S,0);d(p.Grn.v,K.S,5);d(p.Bl.v,K.S,10)}return K};
var eq={};eq.ek=[{dm:"GEfc"},{dm:"LnCr"},{dm:"LqFy",uu:!0},{WR:"3D",op:["\0\0\x03^"]},{WR:[24,2],op:"Avrg,Blr ,BlrM,\0\0\x02\xB1,GsnB,MtnB,RdlB,\0\0\x02\xB5".split(",")},{WR:[24,4],op:"Dspl,Pnch,Plr ,Rple,Shr ,Sphr,Twrl,Wave".split(",")},{WR:[24,6],op:["AdNs","DstS","Mdn "]},{WR:[24,8],op:["ClrH","Crst","Mztn","Msc ","Pntl"]},{WR:[24,10],op:["Clds","DfrC","LnsF"]},{WR:[24,12],op:["Shrp","ShrM","\0\0\x03\xE8","UnsM"]},{WR:[24,14],op:["FndE","\0\0\x03\xFD"]},{WR:[24,16],op:["HghP","Mxm ","Mnm ","Ofst","Rept"]},{WR:"Fourier",op:["dDFT","iDFT"]}];
eq.un={LqFy:"LqFy",Avrg:"Avrg","Blr ":"blurEvent",BlrM:"blurMethod","\0\0\x02\xB1":"boxblur",GsnB:"gaussianBlur",MtnB:"motionBlur",RdlB:"radialBlur","\0\0\x02\xB5":"surfaceBlur","\0\0\x03^":"lightFilterGradient",Pnch:"pinch","Plr ":"polar",Rple:"ripple","Shr ":"shear",Sphr:"spherize",Twrl:"twirl",Wave:"wave",AdNs:"addNoise",DstS:"dustAndScratches","Mdn ":"median",ClrH:"colorHalftone",Crst:"",Mztn:"mezzotint","Msc ":"mosaic",Pntl:"",Clds:"clouds",DfrC:"differenceClouds",LnsF:"LnsF",Shrp:"sharpen",ShrM:"sharpenMore","\0\0\x03\xE8":"smartSharpen",UnsM:"unsharpMask",FndE:"findEdges","\0\0\x03\xFD":"oilPaint",HghP:"highPass","Mxm ":"maximum","Mnm ":"minimum",Ofst:"offset"};
eq.Bq={"\0\0\x03\x82":r.HX};eq.names={"\0\0\x03^":"Normal Map","\0\0\x03\x82":[10,46],LnCr:[24,1,1,0],LqFy:[24,1,0,0],GEfc:[24,0],Avrg:[24,3,0],"Blr ":[24,3,1],BlrM:[24,3,2],"\0\0\x02\xB1":[24,3,3],GsnB:[24,3,4],MtnB:[24,3,6],RdlB:[24,3,7],"\0\0\x02\xB5":[24,3,10],Dspl:[24,5,0],Pnch:[24,5,1],"Plr ":[24,5,2],Rple:[24,5,3],"Shr ":[24,5,4],Sphr:[24,5,5],Twrl:[24,1,0,1,3],Wave:[24,5,6],AdNs:[24,7,0],DstS:[24,7,2],"Mdn ":[24,7,3],ClrH:[24,9,0],Crst:[24,9,1],Mztn:[24,9,4],"Msc ":[24,9,5],Pntl:[24,9,6],Clds:[24,11,0],DfrC:[24,11,1],LnsF:[24,11,2],Shrp:[24,13,0],ShrM:[24,13,2],"\0\0\x03\xE8":[24,13,3],UnsM:[24,13,4],FndE:[24,15,3],"\0\0\x03\xFD":[24,15,4],HghP:[24,17,1],"Mxm ":[24,17,2],"Mnm ":[24,17,3],Ofst:[24,17,4],Rept:[24,17,5],dDFT:"Fourier Transform",iDFT:"Inverse Fourier Transform"};
eq.Kj=function(p){var d=null;if(p=="GEfc")d=MF.Kj("GlwE");if(p=="LqFy"){var K={dv:50,Ri:50,map:new Float32Array(50*50*2)},A=new Uint8Array(nA.cF(K)),x=[];
for(var M=0;M<A.length;M++)x.push(A[M]);d={__name:"Liquify",classID:"LqFy",LqMe:{t:"tdta",v:x}}}if(p=="\0\0\x03\x82"){d={__name:"Puppet Warp",classID:"rigidTransform",null:{t:"obj ",v:[{t:"Enmr",v:{classID:"Lyr",typeID:"Ordn",enum:"Trgt"}}]},rigidType:{t:"bool",v:!0},puppetShapeList:{t:"VlLs",v:[]},PuX0:{t:"doub",v:0},PuX1:{t:"doub",v:1e3},PuX2:{t:"doub",v:1e3},PuX3:{t:"doub",v:0},PuY0:{t:"doub",v:0},PuY1:{t:"doub",v:0},PuY2:{t:"doub",v:1e3},PuY3:{t:"doub",v:1e3}}}if(p=="LnCr")d={__name:"Lens Correction",classID:"LnCr",LnAg:{t:"bool",v:!0},LnAc:{t:"bool",v:!1},LnAv:{t:"bool",v:!1},LnAs:{t:"bool",v:!1},LnIp:{t:"bool",v:!1},LnFo:{t:"doub",v:0},LnPr:{t:"TEXT",v:""},LnIa:{t:"doub",v:0},LnI0:{t:"doub",v:0},LnI1:{t:"doub",v:0},LnI2:{t:"doub",v:0},LnI3:{t:"doub",v:1},LnRa:{t:"doub",v:0},LnVp:{t:"doub",v:0},LnHp:{t:"doub",v:0},LnSi:{t:"doub",v:100},LnFt:{t:"long",v:2},LnSb:{t:"doub",v:0},LnSt:{t:"long",v:50},LnRc:{t:"doub",v:0},LnGm:{t:"doub",v:0},LnBy:{t:"doub",v:0},LnNa:{t:"long",v:64},LnIh:{t:"long",v:0},LnIv:{t:"long",v:0},LnIs:{t:"Objc",v:{classID:"RGBC",Rd:{t:"doub",v:127},Grn:{t:"doub",v:127},Bl:{t:"doub",v:127}}},LnNm:{t:"bool",v:!1}};
if(p=="\0\0\x03\xFD")d={__name:"Oil Paint",classID:"oilPaint",lightingOn:{t:"bool",v:!0},stylization:{t:"doub",v:3},brushScale:{t:"doub",v:1},microBrush:{t:"doub",v:0},LghD:{t:"long",v:45},specularity:{t:"doub",v:1},cleanliness:{t:"doub",v:2}};
if(p=="\0\0\x03^")d={__name:"Generate Normals",classID:"lightFilterGradient",blur:{t:"doub",v:0},textureScale:{t:"doub",v:1},Scl:{t:"doub",v:1},Dtl:{t:"VlLs",v:[{t:"doub",v:1},{t:"doub",v:1},{t:"doub",v:1}]}};
if(p=="\0\0\x02\xB1")d={__name:"Box Blur",classID:"boxblur",Rds:{t:"UntF",v:{type:"#Pxl",val:15}}};if(p=="GsnB")d={__name:"Gaussian Blur",classID:"GsnB",Rds:{t:"UntF",v:{type:"#Pxl",val:7.2}}};
if(p=="MtnB")d={__name:"Motion Blur",classID:"MtnB",Angl:{t:"long",v:0},Dstn:{t:"UntF",v:{type:"#Pxl",val:4}}};
if(p=="RdlB")d={__name:"Radial Blur",classID:"RdlB",Amnt:{t:"long",v:10},BlrM:{t:"enum",v:{BlrM:"Spn"}},BlrQ:{t:"enum",v:{BlrQ:"Gd"}},Cntr:{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:.5},Vrtc:{t:"doub",v:.5}}}};
if(p=="\0\0\x02\xB5")d={__name:"Surface Blur",classID:"surfaceBlur",Rds:{t:"UntF",v:{type:"#Pxl",val:15}},Thsh:{t:"long",v:15}};
if(p=="Dspl")d={__name:"Displace",classID:"Dspl",HrzS:{t:"long",v:10},VrtS:{t:"long",v:10},DspM:{t:"enum",v:{DspM:"StrF"}},UndA:{t:"enum",v:{UndA:"RptE"}},DspF:{t:"Pth ",v:{sig:"txtu",pth:"file.psd\0"}}};
if(p=="Pnch")d={__name:"Pinch",classID:"Pnch",Amnt:{t:"long",v:-100}};if(p=="Plr ")d={__name:"Polar Coordinates",classID:"Plr",Cnvr:{t:"enum",v:{Cnvr:"RctP"}}};
if(p=="Rple")d={__name:"Ripple",classID:"Rple",Amnt:{t:"long",v:999},RplS:{t:"enum",v:{RplS:"Mdm"}}};
if(p=="Shr ")d={__name:"Shear",classID:"Shr",ShrP:{t:"VlLs",v:[{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:0},Vrtc:{t:"doub",v:1}}},{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:0},Vrtc:{t:"doub",v:128}}}]},UndA:{t:"enum",v:{UndA:"WrpA"}},ShrS:{t:"long",v:0},ShrE:{t:"long",v:1}};
if(p=="Sphr")d={__name:"Spherize",classID:"Sphr",Amnt:{t:"long",v:100},SphM:{t:"enum",v:{SphM:"Nrml"}}};
if(p=="Twrl")d={__name:"Twirl",classID:"Twrl",Angl:{t:"long",v:90}};if(p=="Wave")d={__name:"Wave",classID:"Wave",Wvtp:{t:"enum",v:{Wvtp:"WvSn"}},NmbG:{t:"long",v:1},WLMn:{t:"long",v:101},WLMx:{t:"long",v:102},AmMn:{t:"long",v:36},AmMx:{t:"long",v:37},SclH:{t:"long",v:100},SclV:{t:"long",v:100},UndA:{t:"enum",v:{UndA:"WrpA"}},RndS:{t:"long",v:743887}};
if(p=="AdNs")d={__name:"Add Noise",classID:"AdNs",Dstr:{t:"enum",v:{Dstr:"Unfr"}},Nose:{t:"UntF",v:{type:"#Prc",val:20}},Mnch:{t:"bool",v:!1},FlRs:{t:"long",v:100691320}};
if(p=="DstS")d={__name:"Dust & Scratches",classID:"DstS",Rds:{t:"long",v:2},Thsh:{t:"long",v:26}};if(p=="Mdn ")d={__name:"Median",classID:"Mdn",Rds:{t:"UntF",v:{type:"#Pxl",val:7}}};
if(p=="ClrH")d={__name:"Color Halftone",classID:"ClrH",Rds:{t:"long",v:8},Ang1:{t:"long",v:10},Ang2:{t:"long",v:40},Ang3:{t:"long",v:70},Ang4:{t:"long",v:80}};
if(p=="Crst")d={__name:"Crystallize",classID:"Crst",ClSz:{t:"long",v:10},FlRs:{t:"long",v:1554929224}};
if(p=="Mztn")d={__name:"Mezzotint",classID:"Mztn",MztT:{t:"enum",v:{MztT:"FnDt"}},FlRs:{t:"long",v:204994187}};
if(p=="Msc ")d={__name:"Mosaic",classID:"Msc",ClSz:{t:"UntF",v:{type:"#Pxl",val:12}}};if(p=="Pntl")d={__name:"Pointillize",classID:"Pntl",ClSz:{t:"long",v:10},FlRs:{t:"long",v:1554929236}};
if(p=="LnsF")d={__name:"Lens Flare",classID:"LnsF",Brgh:{t:"long",v:100},FlrC:{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:.19140625},Vrtc:{t:"doub",v:.185628741979599}}},Lns:{t:"enum",v:{Lns:"Zm"}}};
if(p=="\0\0\x03\xE8")d={__name:"Smart Sharpen",classID:"smartSharpen",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},useLegacy:{t:"bool",v:!1},Amnt:{t:"UntF",v:{type:"#Prc",val:150}},Rds:{t:"UntF",v:{type:"#Pxl",val:1}},noiseReduction:{t:"UntF",v:{type:"#Prc",val:0}},blur:{t:"enum",v:{blurType:"GsnB"}}};
if(p=="UnsM")d={__name:"Unsharp Mask",classID:"UnsM",Amnt:{t:"UntF",v:{type:"#Prc",val:142}},Rds:{t:"UntF",v:{type:"#Pxl",val:4.5}},Thsh:{t:"long",v:0}};
if(p=="HghP")d={__name:"High Pass",classID:"HghP",Rds:{t:"UntF",v:{type:"#Pxl",val:3}}};if(p=="Mxm ")d={__name:"Maximum",classID:"Mxm",Rds:{t:"UntF",v:{type:"#Pxl",val:9}}};
if(p=="Mnm ")d={__name:"Minimum",classID:"Mnm",Rds:{t:"UntF",v:{type:"#Pxl",val:14}}};if(p=="Ofst")d={__name:"Offset",classID:"Ofst",Hrzn:{t:"long",v:144},Vrtc:{t:"long",v:278},Fl:{t:"enum",v:{FlMd:"Wrp"}}};
if(p=="Rept")d={__name:"Repeat",classID:"Rept",Scl:{v:{type:"#Prc",val:100},t:"UntF"},Rsft:{v:{type:"#Prc",val:0},t:"UntF"},SpcX:{v:{type:"#Prc",val:0},t:"UntF"},SpcY:{v:{type:"#Prc",val:0},t:"UntF"},SpcC:{t:"bool",v:!1},Angl:{t:"long",v:0}};
if(p=="brit")d={__name:"Brightness/Contrast",classID:"BrgC",Brgh:{t:"long",v:0},Cntr:{t:"long",v:0},useLegacy:{t:"bool",v:!1}};
if(p=="levl")d={__name:"Levels",classID:"Lvls",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},Adjs:{t:"VlLs",v:[]}};
if(p=="curv")d={__name:"Curves",classID:"Crvs",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},Adjs:{t:"VlLs",v:[]}};
if(p=="expA")d={__name:"Exposure",classID:"Exps",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},Exps:{t:"doub",v:0},Ofst:{t:"doub",v:0},gammaCorrection:{t:"doub",v:1}};
if(p=="vibA")d={__name:"Vibrance",classID:"vibrance",vibrance:{t:"long",v:0},Strt:{t:"long",v:0}};if(p=="hue2")d={__name:"Hue/Saturation",classID:"HStr",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},Clrz:{t:"bool",v:!1},Adjs:{t:"VlLs",v:[]}};
if(p=="blnc")d={__name:"Color Balance",classID:"ClrB",ShdL:{t:"VlLs",v:[{t:"long",v:0},{t:"long",v:0},{t:"long",v:0}]},MdtL:{t:"VlLs",v:[{t:"long",v:0},{t:"long",v:0},{t:"long",v:0}]},HghL:{t:"VlLs",v:[{t:"long",v:0},{t:"long",v:0},{t:"long",v:0}]},PrsL:{t:"bool",v:!0}};
if(p=="blwh")d={__name:"Black & White",classID:"BanW",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},Rd:{t:"long",v:40},Yllw:{t:"long",v:85},Grn:{t:"long",v:204},Cyn:{t:"long",v:60},Bl:{t:"long",v:20},Mgnt:{t:"long",v:80},useTint:{t:"bool",v:!0},tintColor:{t:"Objc",v:{classID:"RGBC",Rd:{t:"doub",v:0},Grn:{t:"doub",v:0},Bl:{t:"doub",v:0}}}};
if(p=="phfl")d={__name:"Photo Filter",classID:"photoFilter",Clr:{t:"Objc",v:{classID:"LbCl",Lmnc:{t:"doub",v:67.06},A:{t:"doub",v:32},B:{t:"doub",v:120}}},Dnst:{t:"long",v:80},PrsL:{t:"bool",v:!0}};
if(p=="grdm")d={__name:"Gradient Map",classID:"GrMp",Rvrs:{t:"bool",v:!1},Grad:JSON.parse(QG.oA[6]).Grad};
if(p=="selc")d={__name:"Selective Color",classID:"SlcC",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},Mthd:{t:"enum",v:{CrcM:"Rltv"}},ClrC:{t:"VlLs",v:[]}};
if(p=="thrs")d={__name:"Threshold",classID:"Thrs",Lvl:{t:"long",v:128}};if(p=="mixr")d={__name:"Channel Mixer",classID:"ChnM",presetKind:{t:"enum",v:{presetKindType:"presetKindDefault"}},Rd:{t:"Objc",v:{classID:"ChMx",Rd:{t:"UntF",v:{type:"#Prc",val:100}}}},Grn:{t:"Objc",v:{classID:"ChMx",Grn:{t:"UntF",v:{type:"#Prc",val:100}}}},Bl:{t:"Objc",v:{classID:"ChMx",Bl:{t:"UntF",v:{type:"#Prc",val:100}}}}};
if(p=="clrL")d={__name:"Color Lookup",classID:"colorLookup"};if(p=="nvrt")d={};if(p=="post")d={__name:"Posterize",classID:"Pstr",Lvls:{t:"long",v:3}};
if(p=="rplc")d={__name:"Replace Color",classID:"RplC",Fzns:{t:"long",v:55},Mnm:{t:"Objc",v:{classID:"LbCl",Lmnc:{t:"doub",v:73.1},A:{t:"doub",v:23.95},B:{t:"doub",v:8.03}}},Mxm:{t:"Objc",v:{classID:"LbCl",Lmnc:{t:"doub",v:73},A:{t:"doub",v:23},B:{t:"doub",v:8}}},H:{t:"long",v:-22},Strt:{t:"long",v:100},Lght:{t:"long",v:2}};
if(p=="fade")d={__name:"Fade",classID:"fade",Md:{v:{BlnM:"Nrml"},t:"enum"},Opct:{v:{type:"#Prc",val:100},t:"UntF"}};
return d};eq.eUJ=function(p){var d=new QP(0,0);if(p.enab.v==!1)return d;var K=p.filterFXList.v;for(var A=0;
A<K.length;A++){var x=K[A].v;if(x.enab.v==!1)continue;var M=v.Ws(x.filterID.v),G=eq.euq(M,x.Fltr.v);
if(G.x>d.x)d.x=G.x;if(G.y>d.y)d.y=G.y}return d};eq.euq=function(p,d){var K=0,A=0;if(["GsnB","\0\0\x02\xB1","\0\0\x03\xE8","UnsM","HghP"].indexOf(p)!=-1){var x=d.Rds.v.val;
K=A=x*2.57}if(p=="MtnB")K=A=d.Dstn.v.val;if("Ofst,Rept,LqFy,Dspl,Pnch,Rple,Shr ,Sphr,Twrl,Wave,RdlB,Clds,DfrC,Plr ,LnCr,\0\0\x03^,\0\0\x03\x82".split(",").indexOf(p)!=-1){K=A=1e4}if(p=="GEfc")K=A=1e4;
return new QP(Math.ceil(K),Math.ceil(A))};eq.NU=function(){return{t:"Objc",v:{classID:"filterFXStyle",enab:{t:"bool",v:!0},validAtPosition:{t:"bool",v:!0},filterMaskEnable:{t:"bool",v:!0},filterMaskLinked:{t:"bool",v:!0},filterMaskExtendWithWhite:{t:"bool",v:!0},filterFXList:{t:"VlLs",v:[]}}}};
eq.i$=function(p,d){var K={N:d.ou>>16,w:d.ou>>8&255,M:d.ou&255},A={N:d.Le>>16,w:d.Le>>8&255,M:d.Le&255},x=eq.names[p];
if(x==null)x=QW.names[p];var M=p;for(var G in QW.eZ)if(QW.eZ[G]==p)M=G;var D={t:"Objc",v:{classID:"filterFX",Nm:{t:"TEXT",v:Qc.get(x)},blendOptions:{t:"Objc",v:{classID:"blendOptions",Opct:{t:"UntF",v:{type:"#Prc",val:100}},Md:{t:"enum",v:{BlnM:"Nrml"}}}},enab:{t:"bool",v:!0},hasoptions:{t:"bool",v:!0},FrgC:{t:"Objc",v:Z.k.wI(K)},BckC:{t:"Objc",v:Z.k.wI(A)},filterID:{t:"long",v:v.ecx(M)}}},P=eq.Kj(p);
if(P)D.v.Fltr={t:"Objc",v:P};return D};eq.eeD=function(p,d,K,A){var x=Z.p(p.length);Z.uP.JZ(p,d,K,A,[-1,0,1,-2,0,2,-1,0,1],0,!0);
Z.uP.JZ(p,x,K,A,[1,2,1,0,0,0,-1,-2,-1],0,!0);for(var M=0;M<x.length;M+=4){var G=d[M],D=d[M+1],P=d[M+2],a=d[M+3],e=x[M],f=x[M+1],N=x[M+2],Y=x[M+3];
d[M]=255-Math.max(0,Math.min(255,Math.sqrt(G*G+e*e)));d[M+1]=255-Math.max(0,Math.min(255,Math.sqrt(D*D+f*f)));
d[M+2]=255-Math.max(0,Math.min(255,Math.sqrt(P*P+N*N)))}};eq.iI=function(p,d,K,A,x,M,G,D){var P=Date.now(),a=new Z.dY(K*A);
Z.ul(p,a);var e=new Z.dY(K*A);Z.uP.FP(a.N,e.N,K,A,x,M,G);Z.uP.FP(a.w,e.w,K,A,x,M,G);Z.uP.FP(a.M,e.M,K,A,x,M,G);
if(D==0)Z.uP.FP(a.V,e.V,K,A,x,M);else if(D==1){Z.an(a.V);Z.uP.FP(a.V,e.V,K,A,x,M);Z.an(e.V)}else Z.tM(a.V,e.V);
Z.AR(e,d)};eq.Nw=function(p,d,K,A){Z.kU(K);if(p<1){var x=Math.round(p*5),M=[1,2,1,2,[40,26,13,6,4,2][x],2,1,2,1];
M=Z.uP.$b(M);var G=K.slice(0);Z.uP.JZ(G,K,A.t,A.D,M,255)}else d(K,A,p);Z.km(K)};eq.eUy=function(p,d,K,A){for(var x=0;
x<p.length;x++){K[x]=p[x]*(1/255);A[x]=0}FFT.fft2d(K,A);var M=d>>>1,G=16384,D=128,a=100;while(D<d){D<<=1;
G<<=2}var P=255/Math.log(G),e=-100;for(var f=0;f<d;f++)for(var N=0;N<M;N++){var Y=d+M+f&d-1,l=K[Y*d+N],h=A[Y*d+N],s=Math.sqrt(l*l+h*h),J=Math.atan2(h,l);
p[f*d+N]=Math.round(P*Math.log(s+1));p[f*d+M+N]=Math.round((Math.PI+J)*(255*.5/Math.PI))}};eq.eKG=function(p,d,K,A){K.fill(0);
A.fill(0);var x=d>>>1,M=16384,G=128;while(G<d){G<<=1;M<<=2}var D=255/Math.log(M),P=[],a=[],e=[];for(var f=0;
f<256;f++){P[f]=Math.exp(f/D)-1;var N=f*(2*Math.PI/255)-Math.PI;a[f]=Math.sin(N);e[f]=Math.cos(N)}for(var Y=0;
Y<d;Y++)for(var l=0;l<x;l++){var h=d+x+Y&d-1,s=P[p[Y*d+l]],N=p[Y*d+x+l],J=s*e[N],u=s*a[N];K[h*d+l]=J;
A[h*d+l]=u;if(l!=0){var Q=h==0?h*d+d-l:(d-h)*d+(d-l);K[Q]=J;A[Q]=-u}}FFT.ifft2d(K,A);for(var f=0;f<p.length;
f++){p[f]=Math.max(0,Math.min(255,~~(.5+255*K[f])))}};eq.etl=new ArrayBuffer(512);eq.eKQ=function(p){var d=eq.etl,K=p.length;
if(d.byteLength<K)eq.etl=d=new ArrayBuffer(K);var A=new Uint8Array(d);for(var x=0;x<K;x+=4){A[x]=p[x];
A[x+1]=p[x+1];A[x+2]=p[x+2];A[x+3]=p[x+3]}return d};eq.sg=function(p,d,K,A,x,M,G){if(M==null)M={buffer:Z.p(d.buffer.length),rect:d.rect.clone()};
Z.tM(d.buffer,M.buffer);if(p=="GEfc")MF.sg(p,d,K,A,x,M,G);if(p=="\0\0\x03\x82"){var D=Date.now(),P=eq.eKQ,a=d.buffer.slice(0),J=0,u=0;
Z.kU(a);Z.Pk(M.buffer,0);var e=d.rect.t,f=d.rect.D,N=K.puppetShapeList.v,Y=[],l=[],h=[],s=[];for(var Q=0;
Q<N.length;Q++){var W=N[Q].v,q=J*2,H=u*3,C=W.originalVertexArray.v.length>>>2,k=W.indexArray.v.length>>>2,i=new Float32Array(P(W.originalVertexArray.v));
for(var m=0;m<C;m++)Y[q+m]=i[m];var w=new Float32Array(P(W.deformedVertexArray.v));for(var m=0;m<C;m++)l[q+m]=w[m];
var S=new Uint32Array(P(W.indexArray.v));for(var m=0;m<k;m++)h[H+m]=J+S[m];var o=[],O=[],t=W.PnDp.v;
for(var m=0;m<t.length;m++){o.push(W.pinVertexIndices.v[m].v);O.push(t[m].v)}var c=Z._o.eOK(i,S,o,O);
for(var m=0;m<c.length;m++)s[J+m]=c[m];J+=C>>>1;u+=~~(k/3)}Z._o.ZM(a,M.buffer,d.rect,Y,l,s,h);Z.km(M.buffer)}if(p=="\0\0\x03^"){function g(eS){var pV=1/Math.sqrt(eS[0]*eS[0]+eS[1]*eS[1]+eS[2]*eS[2]);
eS[0]*=pV;eS[1]*=pV;eS[2]*=pV}var e=d.rect.t,f=d.rect.D,j=e*f,D=Date.now(),_=Z.p(j),Qu=.3,QK=.7;Z.gC(M.buffer,_);
var U=Z.p(j);Z.blur.Zt(_,U,M.rect,16);var $=Z.p(j);Z.blur.Zt(_,$,M.rect,8);var I=_,E=new Float32Array(j),b=K.Dtl.v,z=b[2].v,QS=b[1].v,QQ=b[0].v,Qe=K.Scl.v*40*K.textureScale.v/(z+QS+QQ);
z*=Qe;QS*=Qe;QQ*=Qe;for(var m=0;m<j;m++){var QB=U[m]*(1/255),QU=$[m]*(1/255),Qt=I[m]*(1/255);Qt=Qt*Qt;
E[m]=z*QB+QS*QU+QQ*Qt}var F=K.blur.v;if(F!=0){var L=E.slice(0);Z.blur.Fr(L,E,M.rect,F)}var Qm=e-1,ei=f-1;
for(var Qp=1;Qp<ei;Qp++)for(var QO=1;QO<Qm;QO++){var m=Qp*e+QO,QE=m*4,Qi=E[m],QV=Qu*(E[m+1]-Qi)+QK*(Qi-E[m-1]),Q$=Qu*(E[m+e]-Qi)+QK*(Qi-E[m-e]),eS=[1,0,QV],Qs=[0,1,Q$];
g(eS);g(Qs);var Qw=eS[0],Q_=eS[2],QN=Qs[1],eK=Qs[2],Qz=-Q_*QN,eQ=-Qw*eK,Qd=Qw*QN;M.buffer[QE]=~~(127.5+Qz*127.5);
M.buffer[QE+1]=~~(127.5+eQ*127.5);M.buffer[QE+2]=~~(127.5+Qd*127.5)}}if(p=="dDFT"||p=="iDFT"){function Qj(pV){if(pV==0)return 1;
pV--;pV|=pV>>1;pV|=pV>>2;pV|=pV>>4;pV|=pV>>8;pV|=pV>>16;return pV+1}var e=d.rect.t,f=d.rect.D,QD=Qj(Math.max(e,f)),Qq=QD>>>1,et=new R(0,0,QD,QD),QC=new R(0,0,e,f);
QC.y=QD-f>>>1;var Qf=e>>>1,QA=new R(0,QC.y,Qf,f),Qb=new Z.dY(e*f);Z.ul(d.buffer,Qb);var MS=new Float64Array(QD*QD),QR=new Float64Array(QD*QD),eG=Z.p(QD*QD);
FFT.init(QD);var MG=[Qb.N,Qb.w,Qb.M];for(var m=0;m<3;m++){var MM=MG[m];eG.fill(0);if(p=="dDFT"){Z.Qj(MM,QC,eG,et);
eq.eUy(eG,QD,MS,QR);Z.Qj(eG,et,MM,QC,QA);QA.x+=Qf;et.x-=Qq-Qf;Z.Qj(eG,et,MM,QC,QA);QA.x-=Qf;et.x+=Qq-Qf}else{Z.Qj(MM,QC,eG,et,QA);
QA.x+=Qq;QC.x+=Qq-Qf;Z.Qj(MM,QC,eG,et,QA);QA.x-=Qq;QC.x-=Qq-Qf;eq.eKG(eG,QD,MS,QR);Z.Qj(eG,et,MM,QC)}}Z.AR(Qb,M.buffer)}if(p=="Avrg"){var MP=0,Mu=0,Mm=0,Mw=0,MU=1;
for(var m=0;m<d.buffer.length;m+=4){var Pp=d.buffer[m+3];Mm+=d.buffer[m]*Pp;Mu+=d.buffer[m+1]*Pp;MP+=d.buffer[m+2]*Pp;
Mw+=Pp}var Ma=1/Mw;MP=Math.round(MU*(MP*Ma)+(1-MU)*255);Mu=Math.round(MU*(Mu*Ma)+(1-MU)*255);Mm=Math.round(MU*(Mm*Ma)+(1-MU)*255);
Z.Pk(M.buffer,MP<<16|Mu<<8|Mm,4278190080)}if(["GsnB","\0\0\x02\xB1","\0\0\x03\xE8","UnsM","HghP"].indexOf(p)!=-1){var MQ=K.Rds.v.val,P$=p=="\0\0\x02\xB1"?Z.blur.Te:Z.blur.eUD;
eq.Nw(MQ,P$,M.buffer,M.rect);if(p=="UnsM"||p=="\0\0\x03\xE8"){var pU=K.Amnt.v.val/100,pP=0;if(p=="UnsM")pP=K.Thsh.v;
else pU*=.75;for(var m=0;m<d.buffer.length;m++){if((m&3)==3){M.buffer[m]=d.buffer[m];continue}var Mr=d.buffer[m],eM=M.buffer[m],pS=pU*(Mr-eM);
if(pS>0)pS=Math.max(0,pS-pP);else pS=Math.min(0,pS+pP);M.buffer[m]=Math.max(0,Math.min(255,Mr+pS))}}if(p=="HghP")for(var m=0;
m<d.buffer.length;m++){if((m&3)==3){M.buffer[m]=d.buffer[m];continue}var Mr=d.buffer[m],eM=M.buffer[m];
M.buffer[m]=Math.max(0,Math.min(255,128+Mr-eM))}}if(p=="\0\0\x02\xB5"){var eN=K.Rds.v.val,Mk=K.Thsh.v,e=d.rect.t,f=d.rect.D;
eq.iI(d.buffer,M.buffer,e,f,eN,Z.uP.TF,[Mk],2)}if(p=="AdNs"){var MI=new Uint8ClampedArray(M.buffer.buffer),ez=255*K.Nose.v.val/100,PK;
if(K.Dstr.v.Dstr=="Gsn")PK=function(){return(Math.random()+Math.random()+Math.random()+Math.random()-2)*2};
else PK=function(){return Math.random()*2-1};for(var m=0;m<MI.length;m+=4){var eN=MI[m],eZ=MI[m+1],eu=MI[m+2],pp,GB,MH;
if(K.Mnch.v){pp=GB=MH=PK()}else{pp=PK();GB=PK();MH=PK()}eN+=ez*pp;eZ+=ez*GB;eu+=ez*MH;MI[m]=eN;MI[m+1]=eZ;
MI[m+2]=eu}}if(p=="Mdn "||p=="DstS"||p=="Mxm "||p=="Mnm "){var eN=0;if(p=="Mdn "||p=="Mxm "||p=="Mnm ")eN=K.Rds.v.val;
if(p=="DstS")eN=K.Rds.v;Z.uP.hU=.5;var P$=Z.uP.Oh;if(p=="Mxm ")P$=Z.uP.Tc;if(p=="Mnm ")P$=Z.uP.T$;var e=d.rect.t,f=d.rect.D,Gi={"Mdn ":0,"Mxm ":1,"Mnm ":1,DstS:2}[p];
eq.iI(d.buffer,M.buffer,e,f,eN,P$,[],Gi);if(p=="DstS"){var Mk=K.Thsh.v;for(var m=0;m<e*f*4;m++){var e$=Math.abs(d.buffer[m]-M.buffer[m]);
if(e$<=Mk)M.buffer[m]=d.buffer[m]}}}if(p=="ClrH"){var QA=d.rect.clone();QA.x=QA.y=0;var eN=K.Rds.v;eN=Math.round(eN*Math.sqrt(2));
var e=QA.t,f=QA.D,Qb=new Z.dY(e*f);Z.ul(d.buffer,Qb);Z.an(Qb.N);Z.an(Qb.w);Z.an(Qb.M);var Mx=n.b("canvas","");
Mx.width=e;Mx.height=f;var em=Mx.getContext("2d"),pe=Z.p(e*f*4);for(var eU=0;eU<3;eU++){var eG=eU==0?Qb.N:eU==1?Qb.w:Qb.M,MZ=Math.PI*K["Ang"+(eU+1)].v/180,ep=new QI(1/eN,0,0,1/eN,0,0);
ep.rotate(MZ);Z.qF(eG,pe,3);var tN=r.ge._x([pe,QA],ep,!0),QC=tN.rect;em.clearRect(0,0,e,f);var pM=Math.sin(MZ),BS=Math.cos(MZ);
for(var m=0;m<QC.D;m++)for(var Pc=0;Pc<QC.t;Pc++){var QO=(Pc+QC.x+.5)*eN,Qp=(m+QC.y+.5)*eN,tZ=QO,Qy=Qp;
QO=BS*tZ-pM*Qy;Qp=pM*tZ+BS*Qy;var j=tN.buffer[(m*QC.t+Pc<<2)+3]*(1/255),MQ=eN*Math.sqrt(j*(1/Math.PI));
em.beginPath();em.arc(QO,Qp,MQ,0,2*Math.PI);em.fill()}var na=em.getImageData(0,0,e,f);Z.$m(na.data,eG,3)}Z.an(Qb.N);
Z.an(Qb.w);Z.an(Qb.M);Z.AR(Qb,M.buffer)}if(p=="Crst"||p=="Pntl"){var e=d.rect.t,f=d.rect.D,P$=p=="Crst"?Z.zB.eUU:Z.zB.eUO;
P$(d.buffer,e,f,M.buffer,K.ClSz.v,[Math.round(x.N),Math.round(x.w),Math.round(x.M)])}if(p=="Mztn"){var e=d.rect.t,f=d.rect.D,j=e*f,Qb=new Z.dY(j),pC=[Qb.N,Qb.w,Qb.M];
Z.ul(d.buffer,Qb);var eW=K.MztT.v.MztT,MC={FnDt:[.1,0,.3,1.4],MdmD:[.9,0,.1,1.4],GrnD:[3,0,.2,1.4],CrsD:[7,0,.1,1.4],ShrL:[0,10,.16,3],MdmL:[0,22,.06,3],LngL:[0,25,.01,4.5],ShSt:[3,10,.05,4.4],MdmS:[4,25,.15,4],LngS:[4,30,.05,4]}[eW],D=Date.now(),Gu=[];
for(var m=0;m<j;m++){Gu[m]=Math.random()}var j=e*f,Gt=Math.round(j*MC[0]),GN=j-e-1;for(var m=0;m<Gt;
m++){var PI=Math.random(),t_=1;if(PI<.5){t_=e;PI*=2}else PI=2*(PI-.5);var Ge=Math.floor(PI*GN),Pa=Ge+t_;
Gu[Ge]=Gu[Pa]}var Go=Math.round(e*MC[1]);for(var Qp=0;Qp<f;Qp++)for(var m=0;m<Go;m++){var PI=Z.h.ZP(Qp*j+m),Ge=Qp*e+Math.floor(PI*(e-1));
Gu[Ge]=Gu[Ge+1]}var M_=new Float64Array(256);for(var m=0;m<256;m++){var nN=m/255,PA=2*(nN<.5?nN:1-nN);
PA=MC[2]+Math.pow(PA,MC[3])*(1-MC[2]);nN=nN<.5?PA*.5:1-PA*.5;M_[m]=nN}for(var pv=0;pv<3;pv++){var eG=pC[pv];
for(var Qp=0;Qp<f;Qp++){for(var QO=0;QO<e;QO++){var m=Qp*e+QO,nz=eG[m],nN=M_[nz],PI=Gu[m];eG[m]=PI>nN?0:255}}}Z.AR(Qb,M.buffer)}if(p=="Msc "){var pa=K.ClSz.v.val,e=d.rect.t,f=d.rect.D,GM=Math.ceil(e/pa),BR=Math.ceil(f/pa),pc=Z.p(GM*BR*4);
Z.scale.La(d.buffer,e,f,pc,GM,BR,1/pa);Z.scale.La(pc,GM,BR,M.buffer,e,f,pa)}if(p=="Clds"||p=="DfrC"){if(p=="Clds")Z.Pk(M.buffer,4278190080);
var Pm=Z.p(256*4);for(var m=0;m<256;m++){var QE=m<<2,Bq=m/255,S=1-Bq;Pm[QE]=Math.round(Bq*A.N+S*x.N);
Pm[QE+1]=Math.round(Bq*A.w+S*x.w);Pm[QE+2]=Math.round(Bq*A.M+S*x.M)}var e=M.rect.t,f=M.rect.D,j=e*f,po=Z.p(j);
noise.seed(Math.random());for(var Qp=0;Qp<f;Qp++)for(var QO=0;QO<e;QO++){var Qe=0,GA=1,GW=1;for(var m=0;
m<8;m++){var pw=GW*(1/170);Qe+=noise.perlin2(QO*pw,Qp*pw)*GA;GA*=.5;GW=GW<<1}po[Qp*e+QO]=Math.round(Math.max(0,255*Math.min(1,.5+.7*Qe*.5)))}var Ml=M.buffer;
for(var m=0;m<j;m++){var QE=m<<2,pv=po[m]<<2,eN=Pm[pv],eZ=Pm[pv+1],eu=Pm[pv+2];if(p=="Clds"){Ml[QE]=eN;
Ml[QE+1]=eZ;Ml[QE+2]=eu}else{Ml[QE]=Math.abs(Ml[4*m]-eN);Ml[QE+1]=Math.abs(Ml[4*m+1]-eZ);Ml[QE+2]=Math.abs(Ml[4*m+2]-eu)}}}if(p=="LnsF"){var e=d.rect.t,f=d.rect.D,eW=["Zm","Nkn","Nkn1","PnVs"].indexOf(K.Lns.v.Lns),tM=K.FlrC.v,MJ=[Math.min(eW,2),K.Brgh.v/100,tM.Hrzn.v,tM.Vrtc.v],D=Date.now();
Z.eVk(d.buffer,e,f,M.buffer,MJ)}if(p=="Blr "||p=="BlrM"||p=="Shrp"||p=="ShrM"){var e=d.rect.t,f=d.rect.D,ex;
if(p=="Blr ")ex=[1,2,1,2,16,2,1,2,1];else if(p=="BlrM")ex=[1,2,1,2,4,2,1,2,1];else if(p=="Shrp")ex=[0,-1,0,-1,8,-1,0,-1,0];
else ex=[-.7,-1,-.7,-1,10,-1,-.7,-1,-.7];ex=Z.uP.$b(ex);var pr=d.buffer.slice(0);Z.kU(pr);Z.uP.JZ(pr,M.buffer,e,f,ex,p=="Shrp"||p=="ShrM"?0:255);
if(p=="Shrp"||p=="ShrM")Z.fq(M.buffer);Z.km(M.buffer)}if(p=="MtnB"){var ef=-K.Angl.v*Math.PI/180,tA=K.Dstn.v.val/2,D=Date.now(),e=d.rect.t,f=d.rect.D,PJ=d.rect;
if(X.Ug){var D=Date.now(),Gm=M.buffer;Gm.set(d.buffer);Z.kU(Gm);var PP=X.PV(0,e,f);PP.set(Gm);var GO=Z.p(4);
GO[0]=Math.round(128+127*Math.cos(ef));GO[1]=Math.round(128+127*Math.sin(ef));new Uint32Array(Gm.buffer).fill(new Uint32Array(GO.buffer)[0]);
var pD=X.PV(1,e,f);pD.set(Gm);X.El(PP,PJ);PP.YA(PJ);X.filter.ww({type:X.filter.PM,df:pD.Ni,Jn:new Float32Array([1/e,1/f]),eKj:tA/2,emT:1},PP.Yz);
PP.get(Gm);Z.km(Gm)}else{var ep=new QI;ep.rotate(ef);var tN=r.ge._x([d.buffer,d.rect],ep,!1,null,!0);
eq.Nw(tA,Z.blur.TP,tN.buffer,tN.rect);ep.an();tN=r.ge._x([tN.buffer,tN.rect],ep,!1,M.buffer.buffer,!0,M.rect)}console.log(Date.now()-D)}if(p=="RdlB"){var e=d.rect.t,f=d.rect.D,pU=K.Amnt.v,tj=K.BlrM.v.BlrM=="Zm",eU=K.Cntr.v,PG=eU.Hrzn.v,pH=eU.Vrtc.v,QV=Math.max(PG,1-PG)*e,Q$=Math.max(pH,1-pH)*f,MQ=Math.sqrt(QV*QV+Q$*Q$),Pr=2*Math.PI*MQ*1.5,eP=Math.round(Pr),PE=Math.round(MQ),QA=new R(0,0,eP,PE),PM=Z.p(eP*PE*4),tf=tj?4:1,nM=tj?.6:8*((e+f)/2)/1400,np=.1,pw=1,GQ=1;
Z.c.Tx(d.buffer,e,f,PM,eP,PE,PG,pH,tf,np,pw,GQ);var PH=tj?Z.p(eP*PE*4):null;if(tj){Z.c.HF(PM,PH,eP,PE);
var pF=PH;PH=PM;PM=pF;QA.t=PE;QA.D=eP}eq.Nw(nM*pU,Z.blur.TP,PM,QA);if(tj){Z.c.HF(PM,PH,PE,eP);var pF=PH;
PH=PM;PM=pF;QA.t=eP;QA.D=PE}Z.c.TD(PM,eP,PE,M.buffer,e,f,PG,pH,tf,np,pw,GQ)}if(p=="Plr "){var e=d.rect.t,f=d.rect.D;
if(K.Cnvr.v.Cnvr=="RctP")Z.c.TD(d.buffer,e,f,M.buffer,e,f,.5,.5,1,0,2,e/f);else Z.c.Tx(d.buffer,e,f,M.buffer,e,f,.5,.5,1,0,2,e/f)}if(p=="FndE"){var e=d.rect.t,f=d.rect.D;
eq.eeD(d.buffer,M.buffer,e,f)}if(p=="\0\0\x03\xFD"){var MZ=K.LghD.v*Math.PI/180,nU=[Math.cos(MZ),Math.sin(MZ),.001],nK=[K.stylization.v,K.cleanliness.v,K.brushScale.v,K.microBrush.v,K.lightingOn.v,K.specularity.v,nU];
Z.dS.filter(d.buffer,d.rect,M.buffer,nK)}if(p=="Ofst"){var e=d.rect.t,f=d.rect.D,n_=new Uint32Array(d.buffer.buffer),PX=new Uint32Array(M.buffer.buffer),tZ=K.Hrzn.v,Qy=K.Vrtc.v,tl=K.Fl.v.FlMd;
Z.Pk(PX,0);if(tl=="Bckg"||tl=="Rpt"){var QA=d.rect.clone();QA.offset(tZ,Qy);Z.PE(n_,QA,PX,M.rect)}if(tl=="Rpt"){var Bj,eY,PZ,ty,nP;
tZ=Math.max(-e,Math.min(e,tZ));Qy=Math.max(-f,Math.min(f,Qy));Bj=tZ>0?tZ:0;PZ=tZ>0?e:e+tZ;eY=Qy>0?0:Qy+f;
ty=Qy>0?Qy:f;nP=Qy>0?0:e*(f-1);for(var Qp=eY;Qp<ty;Qp++)for(var QO=Bj;QO<PZ;QO++)PX[Qp*e+QO]=n_[nP+QO-tZ];
Bj=tZ>0?0:e+tZ;PZ=tZ>0?tZ:e;eY=Qy>0?Qy:0;ty=Qy>0?f:f+Qy;nP=tZ>0?0:e-1;for(var Qp=eY;Qp<ty;Qp++)for(var QO=Bj;
QO<PZ;QO++)PX[Qp*e+QO]=n_[nP+e*(Qp-Qy)];if(tZ>=0&&Qy>=0){Bj=0;PZ=tZ;eY=0;ty=Qy;nP=0}if(tZ>=0&&Qy<0){Bj=0;
PZ=tZ;eY=f+Qy;ty=f;nP=e*(f-1)}if(tZ<0&&Qy>=0){Bj=e+tZ;PZ=e;eY=0;ty=Qy;nP=e-1}if(tZ<0&&Qy<0){Bj=e+tZ;
PZ=e;eY=f+Qy;ty=f;nP=e*f-1}for(var Qp=eY;Qp<ty;Qp++)for(var QO=Bj;QO<PZ;QO++)PX[Qp*e+QO]=n_[nP]}if(tl=="Wrp"){tZ=(tZ+100*e)%e;
Qy=(Qy+100*f)%f;var QA=new R(tZ-e,Qy-f,e,f);Z.PE(n_,QA,PX,M.rect);QA.offset(e,0);Z.PE(n_,QA,PX,M.rect);
QA.offset(0,f);Z.PE(n_,QA,PX,M.rect);QA.offset(-e,0);Z.PE(n_,QA,PX,M.rect)}}if(p=="Rept"){var Pv=K.Rsft.v.val/100,pR=K.SpcX.v.val/100;
pR=Math.max(pR,-.99);var pl=K.SpcY.v.val/100;pl=Math.max(pl,-.99);var pw=K.Scl.v.val/100,ep=new QI;ep.rotate(K.Angl.v*Math.PI/180);
ep.scale(pw,pw);var nt={buffer:d.buffer,rect:d.rect};Z.qS(nt);if(nt.rect.kQ()){nt.buffer=d.buffer;nt.rect=d.rect}var Ml=nt.buffer,QA=nt.rect,pJ=Z.BZ(Ml,QA,0),BH=new Uint32Array(Ml.buffer)[0];
if(!pJ.kQ()&&!pJ.GR(QA)){var pf=Z.p(pJ.r()*4);Z.PE(Ml,QA,pf,pJ);Ml=pf;QA=pJ}QA.x=QA.y=0;BH=pR==0&&pl==0||K.SpcC.v?BH:0;
function pL(QO){return QO<0?Math.ceil(QO):Math.floor(QO)}var PN=ep.zK(new QP(QA.t,0));PN.x=pL(PN.x);
PN.y=pL(PN.y);var Px=ep.zK(new QP(0,QA.D));Px.x=pL(Px.x);Px.y=pL(Px.y);var tN=r.ge._x([Ml,QA],ep,!1),QC=tN.rect,pA=tN.buffer,pN=Math.round(QC.x),Gc=Math.round(QC.y),Bw=Math.max(M.rect.t,M.rect.D)/Math.min(QA.t*pw*(1+pR),QA.D*pw*(1+pl));
Bw=Math.ceil(Bw*1.7);Z.Pk(M.buffer,BH);for(var Qp=-Bw;Qp<Bw;Qp++){for(var QO=-Bw;QO<Bw;QO++){var pY=(QO+Qp*Pv)*(1+pR),ni=Qp*(1+pl);
QC.x=pN+Math.round(pY*PN.x+ni*Px.x);QC.y=Gc+Math.round(pY*PN.y+ni*Px.y);if(QC.Xs(M.rect))Z.h.gQ("norm",pA,QC,M.buffer,M.rect,QC,1)}}}if("LqFy,Dspl,Pnch,Sphr,Twrl,Rple,Shr ,Wave,LnCr".split(",").indexOf(p)!=-1){var e=d.rect.t,f=d.rect.D,M_,pm=0;
if(p=="LqFy")M_=nA.RL(new Uint8Array(K.LqMe.v).buffer);else{var pg=p=="Dspl"?1:3;M_={dv:Math.floor(e/pg),Ri:Math.floor(f/pg)};
M_.map=new Float32Array(M_.dv*M_.Ri*2);if(p=="LnCr"){var PG=.5*(M_.dv-1),pH=.5*(M_.Ri-1),nq=Math.max(Math.abs(0-PG),Math.abs(1-PG)),nW=Math.max(Math.abs(0-pH),Math.abs(1-pH)),tn=Math.sqrt(nq*nq+nW*nW),nl=0,nj=0,tc=-1,pu=2,pw=K.LnSi.v/100,tj=1/pw,ph=K.LnIa.v/100,nT=ph==0?1e-6:ph*4.6,ne=tj/tn;
for(var Qp=0;Qp<M_.Ri;Qp++){for(var QO=0;QO<M_.dv;QO++){var QV=(QO-PG)*ne,Q$=(Qp-pH)*ne,eN=Math.sqrt(QV*QV+Q$*Q$)*nT,pz=Math.atan(eN),pI=ph>0?pz/eN:eN/pz,GQ=PG+tn*pI*QV,nJ=pH+tn*pI*Q$,m=Qp*M_.dv+QO<<1;
M_.map[m]=GQ-QO;M_.map[m+1]=nJ-Qp}}}else if(p=="Dspl"&&G.length!=0){pm=K.UndA.v.UndA=="WrpA"?2:1;var BP=K.DspF.v.pth,py;
for(var m=0;m<G.length;m++)if(G[m].Ak==BP)py=G[m];if(py==null)py=G[0];py.zi();var pd=py._f[1],BG=Z.p(pd.r());
Z.gC(py._f[0],BG);var Bn=pd.t,BB=2*K.HrzS.v/pg,BO=2*K.VrtS.v/pg;for(var Qp=0;Qp<M_.Ri;Qp++){for(var QO=0;
QO<M_.dv;QO++){var nq=Math.floor(pd.t*QO/M_.dv),nW=Math.floor(pd.D*Qp/M_.Ri),QV=Q$=-.5+BG[nW*Bn+nq]/255,m=Qp*M_.dv+QO<<1;
M_.map[m]=QV*BB;M_.map[m+1]=Q$*BO}}}else if(p=="Pnch"||p=="Twrl"||p=="Sphr"){var pU=1,ef=Math.PI,tJ=0,eU=3,pa=1.53,pI=1;
if(p=="Pnch"||p=="Sphr")pU=K.Amnt.v/100;if(p=="Twrl")ef=K.Angl.v*Math.PI/180;if(p=="Sphr")tJ=["Nrml","HrzO","VrtO"].indexOf(K.SphM.v.SphM);
function P$(QO){QO=Math.pow(QO,1-QO*.3-QO*QO*(QO*QO)*.5);return-.225*Math.sin(QO*Math.PI)}function Pf(f,pV,eN,Bj,eY,PZ,ty,pI){var QV=PZ-Bj,Q$=ty-eY,nI=Bj-f,BX=eY-pV,Bq=QV*QV+Q$*Q$,eu=2*(QV*nI+Q$*BX),eU=nI*nI+BX*BX-eN*eN,By=Math.sqrt(eu*eu-4*Bq*eU),Bf=pI/(2*Bq),BT=(-eu+By)*Bf,Bk=(-eu-By)*Bf;
return pI*Math.min(BT,Bk)}var GM=M_.dv,BR=M_.Ri,nn=M_.dv/2,ei=M_.Ri/2,Bu=1/nn,eN=Math.sqrt(eU*eU+1)/eU,MM=eU+Math.sqrt(1/(eU*eU));
if(pU<0){eU=1.72;eN=1;MM=eU;pa=-1;pI=-1}for(var Qp=0;Qp<BR;Qp++){var Q$=(Qp-ei)/ei;for(var QO=0;QO<GM;
QO++){var QV=(QO-nn)*Bu;if(tJ==1)Q$=0;else if(tJ==2)QV=0;var PW=Math.sqrt(QV*QV+Q$*Q$);if(PW<1&&PW!=0){var m=Qp*M_.dv+QO<<1;
if(p=="Pnch"){var nO=-pU*P$(PW)/PW;M_.map[m]=QV*nO*nn;M_.map[m+1]=Q$*nO*ei}else if(p=="Sphr"){var pF=Pf(0,MM,eN,0,0,PW,eU,pI),nY=pa*pU*(pF-1);
M_.map[m]=QV*nY*nn;M_.map[m+1]=Q$*nY*ei}else if(p=="Twrl"){var MZ=Math.atan2(Q$,QV)-ef*(1-PW)*(1-PW),nX=Math.cos(MZ),BQ=Math.sin(MZ);
M_.map[m]=(PW*nX-QV)*nn;M_.map[m+1]=(PW*BQ-Q$)*ei}}}}}else if(p=="Shr "){var Bp=JSON.parse(JSON.stringify(K.ShrP.v));
Z.uX.u(Bp,new QI(0,255/127,255/127,0,-2,0));var pZ=Z.uX.eC(Bp,M_.Ri,!0);pm=K.UndA.v.UndA=="WrpA"?2:1;
for(var Qp=0;Qp<M_.Ri;Qp++){var QV=-pZ[Qp]*M_.dv;for(var QO=0;QO<M_.dv;QO++){var m=Qp*M_.dv+QO<<1;M_.map[m]=QV}}}else if(p=="Wave"){var Bc=K.NmbG.v,nx=K.WLMn.v,BF=K.WLMx.v,BE=K.AmMn.v*(Math.PI/4),B_=K.AmMx.v*(Math.PI/4),Bz=K.SclH.v/100,Ba=K.SclV.v/100,eW=K.Wvtp.v.Wvtp,Bi=Math.sin;
if(eW=="WvTr")Bi=function(QO){QO*=2/Math.PI;return-.5+Math.abs(QO%2-1)};if(eW=="WvSq")Bi=function(QO){QO*=2/Math.PI;
return 1+2*Math.floor(QO%2-1)};var eh=[],BV=new Z.h.OQ(K.RndS.v);for(var m=0;m<Bc;m++){eh.push(BV.get()*10);
eh.push(Math.PI*pg/(nx+BV.get()*(BF-nx)));eh.push(Bz*(BE+BV.get()*(B_-BE))/pg);eh.push(BV.get()*10);
eh.push(Math.PI*pg/(nx+BV.get()*(BF-nx)));eh.push(Ba*(BE+BV.get()*(B_-BE))/pg)}var Bs=[],Bo=[],BW=Math.max(M_.dv,M_.Ri);
for(var m=0;m<BW;m++){var QV=0,Q$=0;for(var Pc=0;Pc<Bc;Pc++){var BI=Pc*6;QV+=eh[BI+2]*Bi(eh[BI]+m*eh[BI+1]);
Q$+=eh[BI+5]*Bi(eh[BI+3]+m*eh[BI+4])}Bs[m]=Q$;Bo[m]=QV}for(var Qp=0;Qp<M_.Ri;Qp++){for(var QO=0;QO<M_.dv;
QO++){var m=Qp*M_.dv+QO<<1;M_.map[m]=Bo[Qp];M_.map[m+1]=Bs[QO]}}pm=K.UndA.v.UndA=="WrpA"?2:1}else if(p=="Rple"){pm=1;
var pU=K.Amnt.v/100,BD=4,Bd=[0,-.19,-.29,-.32,.92,.37,.93,.54,-.54,.42,-.29,-.58,-.67,.85,0,.64],BA=1,BJ=1,nI=0,BN=["Sml","Mdm","Lrg"].indexOf(K.RplS.v.RplS);
if(BN==0){BA=1;BJ=.2;nI=3}if(BN==2){BA=1;BJ=2;nI=-1;Bd=Bd.reverse()}var Bg=function(QO,Qp){var eU=Math.cos,Qe=0;
for(var m=0;m<BD;m++)for(var Pc=0;Pc<BD;Pc++)Qe+=Bd[m*BD+Pc]*eU(QO*(m+nI)-Qp*(Pc+nI));return Qe},GP=Math.floor(50/pg),Br=new Float32Array(GP*GP*2),Bb=BJ*pU*.5/pg;
for(var Qp=0;Qp<GP;Qp++)for(var QO=0;QO<GP;QO++){var PG=BA*QO*2*Math.PI/GP,pH=BA*Qp*2*Math.PI/GP,BY=Bg(PG,pH),QV=(Bg(PG+.01,pH)-BY)*100,Q$=(Bg(PG,pH+.01)-BY)*100,m=(Qp*GP+QO)*2;
Br[m]=QV*Bb;Br[m+1]=Q$*Bb}for(var Qp=0;Qp<M_.Ri;Qp++)for(var QO=0;QO<M_.dv;QO++){var BQ=Qp%GP,nX=QO%GP,m=Qp*M_.dv+QO<<1,Bl=BQ*GP+nX<<1;
M_.map[m]=Br[Bl];M_.map[m+1]=Br[Bl+1]}}}Z.qI.Ob(d.buffer,M.buffer,e,f,null,M_.map,M_.dv,M_.Ri,pm)}return M};
var MF={};MF.e_I="BrSm BrsL BrDR BrsW BrbW BrSp".split(" ");MF.cK="LDBt LDBL LDLf LDTL LDTp LDTR LDRg LDBR".split(" ");
MF.cm=["ScrC","ScrD","ScrL"];MF.cu=["SDRD","SDHz","SDLD","SDVt"];MF.un={PntD:"paintDaubs"};MF.names={PntD:"Paint Daubs",Spt:"Spatter",SprS:"Sprayed Strokes",BsRl:"Bas Relief",HlfS:"Halftone Pattern",GlwE:"Glowing Edges",StnG:"Stained Glass"};
MF.Kj=function(p){var d;if(p=="PntD")d={Sz:{t:"long",v:10},Shrp:{t:"long",v:10},BrsT:{t:"enum",v:{BrsT:"BrSm"}}};
if(p=="Spt")d={SprR:{t:"long",v:10},Smth:{t:"long",v:5},FlRs:{t:"long",v:10738420}};if(p=="SprS")d={StrL:{t:"long",v:12},SprR:{t:"long",v:7},SDir:{t:"enum",v:{StrD:"SDRD"}},FlRs:{t:"long",v:893120664}};
if(p=="BsRl")d={Dtl:{t:"long",v:11},Smth:{t:"long",v:7},LghD:{t:"enum",v:{LghD:"LDBt"}}};if(p=="HlfS")d={HlSz:{t:"long",v:1},Cntr:{t:"long",v:5},ScrT:{t:"enum",v:{ScrT:"ScrD"}}};
if(p=="GlwE")d={EdgW:{t:"long",v:1},EdgB:{t:"long",v:10},Smth:{t:"long",v:1}};if(p=="StnG")d={ClSz:{t:"long",v:10},BrdT:{t:"long",v:4},LghI:{t:"long",v:0},FlRs:{t:"long",v:319935998}};
d.__name="Filter Gallery";d.classID="GEfc";d.GEfk={t:"enum",v:{GEft:p}};return d};MF.sg=function(p,d,K,A,x,M,G){p=K.GEfk.v.GEft;
var D=d.rect.t,P=d.rect.D;if(p=="Spt"||p=="SprS"){var D=d.rect.t,P=d.rect.D,a,e=1,f=1;a={dv:Math.floor(D/f),Ri:Math.floor(P/f)};
a.map=new Float32Array(a.dv*a.Ri*2);var N=new Z.h.OQ(K.FlRs.v),Y=new Float32Array(8192),l=K.SprR.v,h=l<20?.018*l:.36+(l-20)*.128;
if(p=="SprS"){h=.07+[0,.02,.04,.06,.08,.1,.12,.14,.16,.18,.2,.22,.24,.26,.28,.3,.34,.38,.5,.65,.75,.85,1,1.5,2.2,3][l]}for(var s=0;
s<8192;s++)Y[s]=(-1+2*N.get())*h*70;for(var J=0;J<P;J++)for(var u=0;u<D;u++){var Q=J*D+u<<1;a.map[Q]=Y[Q%7919];
a.map[Q+1]=Y[(Q+1)%7919]}var W=a.map.slice(0),q=p=="Spt"?K.Smth.v-1:1;if(p=="Spt"&&q!=0){MF.eVO(a.map,W,D,P,q);
MF.ecM(W,a.map,D,P,q)}if(p=="SprS"){var H=K.StrL.v>>>1,C=H==0?2:1;MF.eVO(a.map,W,D,P,C);MF.ecM(W,a.map,D,P,C);
if(H!=0){var k=MF.cu.indexOf(K.SDir.v.StrD),i=[1,1,1,0][k],m=[-1,0,1,1][k],w=2*H+1,S=1/w;for(var J=0;
J<P;J++)for(var u=0;u<D;u++){var Q=J*D+u<<1,o=0,O=0;for(var s=0;s<w;s++){var t=Math.max(0,Math.min(D-1,u-(H+s)*i)),c=Math.max(0,Math.min(P-1,J-(H+s)*m)),g=c*D+t<<1;
o+=a.map[g];O+=a.map[g+1]}W[Q]=o*S;W[Q+1]=O*S}a.map=W}}Z.qI.Ob(d.buffer,M.buffer,D,P,null,a.map,a.dv,a.Ri,e)}if(p=="BsRl"){var j=d.rect.r(),_=Z.p(j),U=_.slice(0);
Z.gC(d.buffer,_);var $=K.Dtl.v,I=K.Smth.v;if($!=15){Z.blur.Zt(_,U,d.rect,Math.round((15-$)*.5));Z.tM(U,_)}var E=2/D,b=2/P,z=(2+MF.cK.indexOf(K.LghD.v.LghD))*Math.PI*.25,o=Math.cos(z);
if(Math.abs(o)<.1)o=0;o=Math.sign(o);var O=Math.sin(z);if(Math.abs(O)<.1)O=0;O=Math.sign(O);var QS=1/(o*o+O*O);
for(var J=0;J<P;J++)for(var u=0;u<D;u++){var s=J*D+u,i=u==D-1?_[s]-_[s-1]:_[s+1]-_[s],m=J==P-1?_[s]-_[s-D]:_[s+D]-_[s],QQ=u*E-1,Qe=J*b-1,QB=i==0?QQ:i*.4;
QB=Math.max(-1,Math.min(1,o*QB));var QU=m==0?Qe:m*.4;QU=Math.max(-1,Math.min(1,O*QU));U[s]=128+127*(QB+QU)*QS}if(I!=1){Z.blur.Zt(U,_,d.rect,Math.round((I-1)*.5));
Z.tM(_,U)}Z.Bz(U,M.buffer)}if(p=="PlsW__"){var j=d.rect.r(),_=Z.p(j),U=_.slice(0);Z.gC(d.buffer,_);var $=K.Dtl.v,I=K.Smth.v;
if($!=15){Z.blur.Zt(_,U,d.rect,Math.round((15-$)*.5));Z.tM(U,_)}for(var J=0;J<P;J++)for(var u=0;u<D;
u++){var s=J*D+u,i=u==D-1?_[s]-_[s-1]:_[s+1]-_[s],m=J==P-1?_[s]-_[s-D]:_[s+D]-_[s],Qt=i*i+m*m;U[s]=Math.max(0,255-Qt*190)}var F=new Float32Array(j);
for(var s=0;s<j;s++)F[s]=U[s];if(I!=1){Z.blur.Fr(F.slice(0),F,d.rect,Math.round((I-1)*.2))}for(var J=0;
J<P;J++)for(var u=0;u<D;u++){var s=J*D+u,L=s<<2,Qu=F[s],QK=M.buffer[L],Qm=M.buffer[L+1],ei=M.buffer[L+2],i=u==D-1?Qu-F[s-1]:F[s+1]-Qu,m=J==P-1?Qu-F[s-D]:F[s+D]-Qu,Qp=-1,QO=1,QE=0,Qi=i,QV=0,Q$=1,eS=m,Qz=1;
i=QE*eS-Qi*Q$;m=Qi*QV-QO*eS;Qp=QO*Q$-QE*QV;var Qs=1/Math.sqrt(i*i+m*m+Qp*Qp);i*=Qs;m*=Qs;Qp*=Qs;var Qw=u-D/2,Q_=J-P/2,QN=D*.3,Qs=1/Math.sqrt(Qw*Qw+Q_*Q_+QN*QN);
Qw*=Qs;Q_*=Qs;QN*=Qs;var eK=Math.max(0,Qw*i+Q_*m+QN*Qp);if(eK>1)throw eK;var eQ=eK*255;M.buffer[L]=Qz*eQ+(1-Qz)*QK;
M.buffer[L+1]=Qz*eQ+(1-Qz)*Qm;M.buffer[L+2]=Qz*eQ+(1-Qz)*ei}}if(p=="PntD"){var Qd=K.Shrp.v*.4,Qj=K.BrsT.v.BrsT,QD={BrSm:[.75],BrsL:[.85],BrDR:[.68],BrsW:[.75],BrbW:[.78],BrSp:[.62]}[Qj],Qq=Math.round(K.Sz.v*.5);
Z.uP.hU=QD[0];var et=Z.uP.Oh;eq.iI(d.buffer,M.buffer,D,P,Qq,et,[],0);var QC=[-.7,-1,-.7,-1,10,-1,-.7,-1,-.7];
QC=Z.uP.$b(QC);var Qf=M.buffer.slice(0);Z.uP.JZ(Qf,M.buffer,D,P,QC,0);for(var s=0;s<d.buffer.length;
s++){var QA=M.buffer[s]-Qf[s];M.buffer[s]=Math.max(0,Math.min(255,Qf[s]+Qd*QA))}}if(p=="GlwE"){var Qb=M.buffer.slice(0);
Z.uP.hU=.5;var et=Z.uP.Oh;eq.iI(d.buffer,Qb,D,P,K.Smth.v>>>1,et,[],0);eq.eeD(Qb,M.buffer,D,P);Z.tM(M.buffer,Qb);
Z.an(Qb);Z.Pk(Qb,4278190080,16777215);eq.iI(Qb,M.buffer,D,P,K.EdgW.v>>>1,Z.uP.Tc,[],0);var Qz=K.EdgB.v/10;
for(var s=0;s<Qb.length;s++){if((s&3)==3)continue;var MS=M.buffer[s];M.buffer[s]=Math.max(0,Math.min(255,MS*Qz))}}if(p=="StnG"){var D=d.rect.t,P=d.rect.D;
Z.zB.eUE(d.buffer,D,P,M.buffer,K.ClSz.v,[Math.round(A.N),Math.round(A.w),Math.round(A.M)],K.BrdT.v)}if(p=="HlfS"){var QR=K.HlSz.v,eG=QR*2+1,MG=K.Cntr.v,MM=MF.cm.indexOf(K.ScrT.v.ScrT),j=D*P,MP=j*4,Mu=Z.p(j),Mm=d.buffer,P$=0,pU=0;
for(var s=0;s<MP;s+=4)Mu[s>>>2]=~~(.5+(Mm[s]+Mm[s+1]+Mm[s+2])*(1/3));var Mw=Mu.slice(0);Z.blur.fl(Mw,Mu,d.rect,QR);
var MU=Math.PI/eG,Pp=new Float64Array(D),o=new Float64Array(D),Ma=new Float64Array(2*D);for(var u=0;
u<D;u++){var MQ=(u-(D>>>1))*MU;Pp[u]=MQ*MQ;o[u]=Math.cos(MQ);var i=u<<1;Ma[i]=Math.sin(i*(1/4.5));Ma[i+1]=Math.sin((i+1)*(1/4.5))}for(var J=0;
J<P;J++){var pP=(J-(P>>>1))*MU,O=Math.cos(pP),Mr=pP*pP;for(var u=0;u<D;u++){var eM=O;if(MM==0){var pS=.5+Math.sqrt(Pp[u]+Mr)*4.5;
eM=Ma[~~pS]}else if(MM==1){eM=o[u]*O}var s=J*D+u,eQ=Mu[s]*(.75+.25*eM),eN=Mm[(s<<2)+3]*(1/255),Mk=Math.max(0,Math.min(255,~~eQ));
P$+=Mk*eN,pU+=eN;Mu[s]=Mk}}P$/=pU;var MI=128+1.26*(P$-128),Qz=.08+.25*Math.abs((128-P$)/128),ez=1+Qz*MG;
for(var s=0;s<j;s++){var eQ=MI+(Mu[s]-MI)*ez;Mu[s]=Math.max(0,Math.min(255,~~eQ))}if(MG>46)Z.round(Mu);
Z.Bz(Mu,M.buffer)}for(var s=0;s<d.buffer.length;s+=4)M.buffer[s+3]=d.buffer[s+3]};MF.eKY=function(p){var d=[0,0,0,0,0,0,0,0,0,0,0,0,0],K=[0,.6,.7,.8,1,1.2,1.4,1.6,1.8,2,2.2,2.6,3,4,5][p];
for(var A=0;A<13;A++){var x=A-6;d[A]=1/(K*Math.sqrt(2*Math.PI))*Math.exp(-.5*(x/K)*(x/K))}return d};
MF.eVO=function(p,d,K,A,x){var M=MF.eKY(x),G=6,D=13;for(var P=0;P<A;P++)for(var a=0;a<K;a++){var e=P*K+a<<1,f=0,N=0;
for(var Y=0;Y<D;Y++){var l=a+Y-G,h=l<0?0:l>=K?K-1:l,s=(P*K+h)*2,J=M[Y];f+=J*p[s];N+=J*p[s+1]}d[e]=f;
d[e+1]=N}};MF.ecM=function(p,d,K,A,x){var M=MF.eKY(x),G=6,D=13;for(var P=0;P<A;P++)for(var a=0;a<K;a++){var e=P*K+a<<1,f=0,N=0;
for(var Y=0;Y<D;Y++){var l=P+Y-G,h=l<0?0:l>=A?A-1:l,s=(h*K+a)*2,J=M[Y];f+=J*p[s];N+=J*p[s+1]}d[e]=f;
d[e+1]=N}};function eE(){}eE.IX=[2,5,5,7,4,4];eE.ok="norm,diss,dark,mul ,idiv,lbrn,dkCl,lite,scrn,div ,lddg,lgCl,over,sLit,hLit,vLit,lLit,pLit,hMix,diff,smud,fsub,fdiv,hue ,sat ,colr,lum ".split(",");
eE.Uh="Nrml Dslv Drkn Mltp CBrn linearBurn darkerColor Lghn Scrn CDdg linearDodge lighterColor Ovrl SftL HrdL vividLight linearLight pinLight hardMix Dfrn Xclu blendSubtraction blendDivide H Strt Clr Lmns".split(" ");
eE.Wt=[[15,10,0],[15,10,1],[15,10,2],[15,10,3],[15,10,4],[15,10,5],[15,10,6],[15,10,7],[15,10,8],[15,10,9],[15,10,10],[15,10,11],[15,10,12],[15,10,13],[15,10,14],[15,10,15],[15,10,16],[15,10,17],[15,10,18],[15,10,19],[15,10,20],[15,10,21],[15,10,22],[15,10,23],[15,10,24],[15,10,25],[15,10,26]];
eE.ecp=["normal",null,"darken","multiply","color-burn",null,null,"lighten","screen","color-dodge",null,null,"overlay","soft-light","hard-light",null,null,null,null,"difference","exclusion",null,null,"hue","saturation","color","luminosity"];
eE.UW=function(p){if(p=="passThrough")return"pass";return eE.ok[eE.Uh.indexOf(p)]};eE.iR=function(p){if(p=="pass")return"passThrough";
return eE.Uh[eE.ok.indexOf(p)]};eE.getName=function(p){return eE.Wt[eE.ok.indexOf(p)]};function V(){this.rect=null;
this.yk="norm";this.opacity=255;this.wr=!1;this.Wm=0;this.yQ=0;this.e_=[];for(var p=0;p<10;p++)this.e_.push(0,0,255,255);
this.name=null;this.add={};this.buffer=null;this.EO=null;this.JI=null;this.g=null;this.Eb=null;this.eme=30;
this.sS=V.RK();this.emK=V.RK();this.emH=V.RK();this.euB=V.RK();this.gq=0;this.BC=!1;this.qt=null;this.T=new V.cV}V.RK=function(){var p=n.b("canvas");
p.width=p.height=30;return p.getContext("2d")};V.cV=function(){this.ZL=!0;this.t_=!0;this.ry=Z.p(0);
this.euo=Z.p(0);this.g_=null;this.Qk={};this.euT=null;this.rf=null;this.kq=null;this.o$=null;this.u$=null;
this.no=null;this.xf=null;this.Bx=null;this.nf=null;this.kZ=null;this.Z_=null;this.rk=null;this.ur=!1};
V.cV.prototype.e_S=function(){this.ZL=!1;this.t_=!1;this.g_=null;this.ur=X.Ug};V.cV.prototype.eK_=function(){QL.ePZ(this.Qk);
this.ry=Z.p(0);this.euo=Z.p(0);if(this.o$)this.o$.delete();if(this.u$)this.u$.delete();this.o$=null;
this.u$=null;var p=[this.no,this.xf,this.Bx,this.nf,this.kZ,this.Z_];for(var d=0;d<6;d++)if(p[d]!=null&&p[d]instanceof X.dY)p[d].delete();
this.no=null;this.xf=null;this.Bx=null;this.nf=null;this.kZ=null;this.Z_=null};V.prototype.i=function(p){if(p==null)p=this.rect.clone();
if(this.T.g_==null)this.T.g_=p;else this.T.g_=this.T.g_.ck(p)};V.prototype.Ba=function(){return this.add.lsct==ew.rK||this.add.lsct==ew.Wy};
V.prototype.ti=function(){var p=this.add;return p.SoCo!=null||p.GdFl!=null||p.PtFl!=null};V.prototype.eMB=function(){var p=this.add.lmfx;
if(p==null)return;var d=["GrFl","patternFill"];for(var K=0;K<d.length;K++){var A=QG.mV[QG.order.indexOf(d[K])],x=p[A].v;
if(x.length==0)continue;for(var M=0;M<x.length;M++){var G=x[M].v;if(G.enab.v&&(G.Algn==null||!G.Algn.v))this.T.t_=!0}}};
V.prototype.eBA=function(){var p=this.g;if(this.ti())p=this.gW();if(!X.Ug)return p.qG();if(this.T.u$==null||this.T.ZL||X.Ug!=this.T.ur){if(this.T.u$)this.T.u$.delete();
this.T.u$=new X._d(p.rl().t,p.rl().D);this.T.u$.set(p.qG())}return this.T.u$};V.prototype.eOa=function(p){var d=this.rect,K=this.buffer;
if(!X.Ug){var A=this.ca(p,K,d);if(A){K=A.nM;d=A.rect}return K}if(this.T.g_!=null||X.Ug!=this.T.ur){var A=this.ca(p,K,d);
if(A){K=A.nM;d=A.rect}var x=d;if(X.Ug!=this.T.ur||this.T.o$==null||this.T.o$.t!=x.t||this.T.o$.D!=x.D){if(this.T.o$)this.T.o$.delete();
this.T.o$=new X.dY(x.t,x.D);this.T.o$.set(K)}else{var M=this.T.g_.clone();M.offset(-d.x,-d.y);this.T.o$.set(K,M)}}return this.T.o$};
V.prototype.uV=function(){var p=this.g;if(this.ti())p=this.gW();return p!=null&&p.isEnabled&&(p.iz()==0||p.iz()!=0&&!p.rect.kQ())};
V.prototype.ca=function(p,d,K){if(this.fP()){var A=this.MT(p);if(A.g&&A.g.isEnabled&&(!A.g.rect.kQ()||A.g.color==0)){var x=this.add.SoLd.filterFX.v;
A.g.HW=x.filterMaskDensity?x.filterMaskDensity.v:255;A.g.EU=x.filterMaskFeather?x.filterMaskFeather.v:0;
var M=A.buffer,G=A.g.eI(K);Z.an(G);d=Z.clone(d);Z.h.OL(M,A.rect,d,K,G,K,0,K,1);return{nM:d,rect:K}}}};
V.prototype.emQ=function(){var p={ZI:!1,ZR:!1,bS:0,be:0};if(this.add.vmsk&&this.add.vmsk.isEnabled)p.ZR=!0;
if(this.gW()&&this.gW().isEnabled)p.ZI=!0;if(p.ZI&&p.ZR){p.bS=this.gW().rect.x-this.add.vmsk.gW().rect.x;
p.be=this.gW().rect.y-this.add.vmsk.gW().rect.y}return p};V.prototype.u_=function(p){if(this.add.lsct==ew.RX)return;
var d=this,K=this.gW()!=null&&this.gW().dJ,A=this.add.vmsk!=null&&this.add.vmsk.dJ,x=this.emQ(),M=JSON.stringify(x)!=this.T.euT||x.ZI&&K||x.ZR&&A;
if(M){if(x.ZR){var G=this.add.vmsk.gW();if(x.ZI){this.g=this.gW().HN(G);this.T.rf=new QP(this.g.rect.x-this.gW().rect.x,this.g.rect.y-this.gW().rect.y)}else this.g=G}if(this.g)this.T.ZL=!0;
if(this.g)this.T.kq=new QP(this.rect.x-this.g.rect.x,this.rect.y-this.g.rect.y);if(x.ZI)this.gW().dJ=!1;
if(x.ZR)this.add.vmsk.dJ=!1;this.i()}else{if(x.ZI&&x.ZR){this.g.rect.x=this.gW().rect.x+this.T.rf.x;
this.g.rect.y=this.gW().rect.y+this.T.rf.y}}if(d.ti()){this.NL(p)}if(d.Rr()){var D;if(this.g)D=new QP(this.rect.x-this.g.rect.x,this.rect.y-this.g.rect.y);
if(this.g&&this.g.isEnabled&&(this.T.kq==null||!D.GR(this.T.kq))){this.T.kq=D;this.i();this.T.ZL=!0}}if(QW.get(d.add)!=null)this.T.ZL=!0;
this.T.euT=JSON.stringify(x)};V.prototype.NL=function(p){var d=this,K=d.add.vstk,A,x=d.add.vmsk?this.add.vmsk.gW():null,D=!0;
if(x&&x.isEnabled&&x.iz()==0)A=x.rl().clone();else A=new R(0,0,p.t,p.D);var M=d.gW();if(M&&M.isEnabled&&M.iz()==0)A=A.pk(d.g.rl());
var G=x&&K;if(K&&(!K.strokeEnabled.v||K.strokeStyleLineWidth.v.val==0))G=!1;if(K&&!K.fillEnabled.v&&G)D=!1;
var P=Z.p(A.r()*4);if(D){if(d.add.SoCo)QL.xI(P,d.add.SoCo.Clr.v);if(d.add.GdFl)QL.sl(d.add.GdFl,P,A,p,null,x&&x.color==0?x.rect:null);
if(d.add.PtFl)QL.YP(d.add.PtFl,P,A,p,d.add.fxrp)}if(x){var a=x.HW;if(G)x.HW=255;var e=Z.p(A.r());if(x.iz()!=0)Z.set(e,Math.round(x.iz()));
if(x&&x.isEnabled){var f=x.rl(),N=x.qG();if(f.GR(A))Z.tM(N,e);else Z.Qj(N,f,e,A)}if(d.add.SoCo&&D){Z.qF(e,P,3)}else Z.HG(e,A,P,A);
if(G)x.HW=a}d.buffer=P;d.rect=A;if(G){var Y=QG.Wh.zW.indexOf(K.strokeStyleLineAlignment.v.strokeStyleLineAlignment),l=K.strokeStyleContent.v,h=QG.Wh.XJ.indexOf(l.classID),s=this.add.vmsk.gW(K);
if(d.rect.GR(new R(0,0,p.t,p.D)))d.rect=d.rect;else if(Y!=0){var J=d.rect.ck(s.rl()),u=Z.p(J.r()*4);
Z.PE(d.buffer,d.rect,u,J);d.buffer=u;d.rect=J}var a=s.HW;s.HW=255;var Q=s.eI(d.rect);s.HW=a;if(s.color==255)Z.an(Q);
var W=Z.p(d.rect.r()*4);if(h==0)QL.xI(W,l.Clr.v);if(h==1)QL.sl(l,W,d.rect,p,null,x.color==0?x.rect:null);
if(h==2)QL.YP(l,W,d.rect,p,d.add.fxrp);var q=K.strokeStyleOpacity.v.val/100;if(q!=1)Z.iX(Q,q);Z.qF(Q,W,3);
if(s.color==255)Y=2-Y;if(Y==0){Z.h.gQ("norm",W,d.rect,d.buffer,d.rect,d.rect,1);Z.HG(e,d.rect,d.buffer,d.rect)}if(Y==1){Z.h.gQ("norm",W,d.rect,d.buffer,d.rect,d.rect,1)}if(Y==2){Z.an(e);
Z.h.OL(W,d.rect,d.buffer,d.rect,e,A,255,d.rect,1,!1);Z.an(e)}if(s.HW!=255){var H=Z.clone(W);Z.Pk(H,4278190080,16777215);
Z.h.gQ("norm",H,d.rect,d.buffer,d.rect,d.rect,1-s.HW/255)}a=x.HW;x.HW=255;this.euo=x.eI(d.rect);x.HW=a}this.i()};
V.prototype.uc=function(p,d){var K=this,A=K.add.SoLd.Idnt.v,x=K.add.SoLd,M=p.ZH(A,x.Crop?x.Crop.v:null);
if(M==null)return;var G=M._f;x.Sz.v.Wdth.v=G[1].t;x.Sz.v.Hght.v=G[1].D;var D=x.warp.v,P=r.ge.fQ(x.nonAffineTransform),a=Z.c.cg(P,G[1]);
if(D&&!Z.Fl.Ab(D)){var e=Z._.JE(Z.Fl.aJ(D)),f=e.x,N=e.y,Y=1/e.t,l=1/e.D;a=Z.c.cg(P);a=Z.c.HN(a,[Y,0,-f*Y,0,l,-N*l,0,0])}var h=r.ge.Ig(G,d?0:1,a,D);
if(h==null){K.buffer=Z.p();K.rect=new R}else if(K.fP()){var s=K.MT(p);s.buffer=h.buffer;s.rect=h.rect.clone();
this.em(p,d)}else{K.buffer=h.buffer;K.rect=h.rect}K.u_(p);K.i();p.i()};V.prototype.em=function(p,d){if(d==null)d=!1;
var K=this.MT(p),A=this.add.SoLd.filterFX.v,x=eq.eUJ(A),M=new R(0,0,p.t,p.D),G=K.rect.ck(M),D=K.rect.clone();
D.WJ(x.x,x.y);var P={buffer:null,rect:G.pk(D)};P.buffer=Z.p(P.rect.r()*4);Z.PE(K.buffer,K.rect,P.buffer,P.rect);
if(A.enab.v&&d==!1){var a=A.filterFXList.v;for(var e=0;e<a.length;e++){var f=a[e].v;if(f.enab.v==!1)continue;
var N=Z.k.iz(f.FrgC.v),Y=Z.k.iz(f.BckC.v),l=v.Ws(f.filterID.v),h=f.Fltr?f.Fltr.v:null;if(QW.eZ[l]!=null){var s=QW.eZ[l],J=QW.eh(s,h);
if(J)QW.sg(J,P.buffer,P.buffer,P.rect)}else P=eq.sg(l,P,h,N,Y,null,p.add.lnk2?p.add.lnk2:[])}}this.rect=P.rect;
this.buffer=P.buffer;this.bB();this.i();p.i()};V.prototype.cj=function(p,d,K){this.qt=this.emn(p,d,K)};
V.prototype.eON=function(p,d){var K=this.emn(p,d,!0);if(K==null)return null;var A={Pj:K.gq,Qd:K.AW,rect:K.Cz};
if(A.Pj==1||A.Pj==3){var x=A.rect,M=Z.p(x.t*x.D*4);Z.qF(A.Qd,M,0);Z.qF(A.Qd,M,1);Z.qF(A.Qd,M,2);Z.fw(p.P.channel,p.P.rect,M,x);
A.Qd=M}return A};V.prototype.emn=function(p,d,K){var A,x,M,G,D,P,a;if(this.gq<=0){var e=Z.p(this.rect.r());
Z.$m(this.buffer,e,3);A=Z.af.UY(d,{channel:e,rect:this.rect},"intersection");if(A==null)return null;
var f=Z.gg(A.channel,A.rect);G=A.rect.clone();D=this.rect.clone();x=Z.p(G.r()*4);Z.PE(this.buffer,D,x,G);
Z.qF(A.channel,x,3);M=Z.clone(this.buffer);if(!K){var N=Z.clone(d.channel);Z.an(N);Z.HG(N,d.rect,M,D)}P=Z.clone(this.buffer);
a=this.rect.clone()}if(this.gq==1||this.gq==3){var Y=this.gq==1?this.gW():this.MT(p).g;G=d.rect.clone();
D=Y.rect.clone();x=Y.eKB(G);var M=Z.clone(Y.channel);if(!K)Z.h.$U(Y.color==255?Z.Bb(G.r()):Z.MS(G.r()),G,M,D,d.channel,G,1);
P=Z.clone(Y.channel);a=Y.rect.clone()}return{gq:this.gq,AW:x,Cz:G,dC:M,ne:D,bn:P,bO:a}};V.prototype.cX=function(p,d){var K=this.qt;
if(K.gq==0){this.rect=K.bO;this.buffer=K.bn;this.i()}if(K.gq==1||K.gq==3){var A=K.gq==1?this.gW():this.MT(p).g;
A.channel=K.bn;A.rect=K.bO;if(this.gq==1){A.dJ=!0;this.u_(p)}if(this.gq==3)this.i()}this.qt=d};V.prototype.Nq=function(p,d){if(this.gq<=0&&d.rect.GR(this.rect)){var K=Z.p(this.rect.r());
Z.$m(this.buffer,K,3);if(Z.GR(p.P.channel,K)){var A=this.rect,x=this.buffer;this.qt={gq:this.gq,AW:x.slice(0),Cz:A.clone(),dC:Z.p(0),ne:new R,bn:Z.p(0),bO:new R};
return!0}}var M=this.qt;if(M==null)return!1;if(M.gq!=this.gq)return!1;if(!d.rect.GR(M.Cz))return!1;var G=M.ne.ck(M.Cz);
if(M.gq<=0){if(!G.GR(this.rect))return!1;var D=Z.p(M.AW.length>>2);Z.$m(M.AW,D,3);if(!Z.GR(d.channel,D))return!1;
var P=Z.p(G.t*G.D*4);Z.PE(M.dC,M.ne,P,G);Z.h.gQ("norm",M.AW,M.Cz,P,G,G,1);return Z.GR(P,this.buffer)}if(M.gq==1||M.gq==3){var a=M.gq==1?this.gW():this.MT(p).g;
if(!G.GR(a.rect))return!1;var e=Z.p(G.r());Z.set(e,a.color);Z.Qj(M.dC,M.ne,e,G);Z.h.$U(M.AW,M.Cz,e,G,d.channel,G,1);
return Z.GR(e,a.channel)}};V.prototype.ik=function(p,d,K,A){var x=this.qt;x.Cz.offset(d,K);var M=x.ne.ck(x.Cz);
if(x.gq<=0){var G=Z.p(M.r()*4);Z.PE(x.dC,x.ne,G,M);Z.h.gQ("norm",x.AW,x.Cz,G,M,M,1);this.buffer=G;this.rect=M;
this.i()}else{var D=this.gq==1?this.gW():this.MT(p).g,P=Z.p(M.r());Z.set(P,D.color);Z.Qj(x.dC,x.ne,P,M);
Z.h.$U(x.AW,x.Cz,P,M,A.channel,M,1);D.channel=P;D.rect=M.clone();if(this.gq==1){D.dJ=!0;this.u_(p)}if(this.gq==3)this.i()}};
V.prototype.eSN=function(){var p=[-1,0,1,2];if(this.g)p.push(-2);if(this.Eb)p.push(-3);return p};V.prototype.getName=function(){return this.add.luni?this.add.luni:this.name};
V.prototype.Hv=function(p){this.add.luni=this.name=p};V.prototype.cy=function(p){var d=this.add.lnsr,K=this.add.TySh;
if(d=="rend"&&K)this.Hv(QM.WD(K.Nf).replace(/(?:\r\n|\r|\n)/g," ").slice(0,32))};V.prototype.Ml=function(){return(this.Wm&1<<1)==0};
V.prototype.Rr=function(){return(this.Wm&1<<4)==0};V.prototype.nV=function(){return(this.Wm&1<<5)!=0};
V.prototype.emM=function(){var p=this;if(p.add.lnsr!="bgnd"){p.add.lnsr="bgnd";p.Hv("Background");p.add.lspf=1<<2}};
V.prototype.emv=function(){var p=this;if(p.add.lnsr=="bgnd"){delete p.add.lnsr;p.Hv("Layer 0");p.add.lspf=0}};
V.prototype.uF=function(p){var d=this.add.lspf;return d==null?!1:(d>>p&1)!=0};V.prototype.qJ=function(p){if(p&&!this.Ml())this.Wm-=2;
if(!p&&this.Ml())this.Wm+=2};V.prototype.Nh=function(){var p=this.add.lmfx;if(p==null)return!1;for(var d in p){if(d=="masterFXSwitch")continue;
if(d=="Scl")continue;if(d=="classID")continue;if(p[d].v.length>0)return!0}return!1};V.prototype.fP=function(){return this.add.SoLd!=null&&this.add.SoLd.filterFX!=null};
V.prototype.AO=function(){var p=this.add.lmfx;if(p==null)return!1;if(!p.masterFXSwitch.v)return!1;for(var d in p){if(d=="masterFXSwitch")continue;
if(d=="Scl")continue;if(d=="classID")continue;var K=p[d].v;for(var A=0;A<K.length;A++)if(K[A].v.enab.v)return!0}return!1};
V.prototype.RC=function(p,d,K,A){var x=new R,M=this.Nd(p,K,A);if(M.indexOf(0)!=-1)x=x.ck(this.rect);
if(M.indexOf(1)!=-1)x=x.ck(this.gW().rl());if(M.indexOf(2)!=-1){var G=this.add.vmsk,D;if(d){if(G.HM.length>1){var P=Z.e.gK(G.Z,null,G.HM);
D=Z._.JE(P)}else D=Z.e.Du(G.Z,G.Y.length!=0?G.Y:null)}else D=Z.e.Du(G.Z);x=x.ck(D)}if(M.indexOf(3)!=-1)x=x.ck(this.MT(p).g.rl());
if(M.length==0&&this.ti())x=new R(0,0,p.t,p.D);return x};V.prototype.Rb=function(){var p=this.add.artb.artboardRect.v,d=p.Btom.v,K=p.Left.v,A=p.Rght.v,top=p.Top.v;
return new R(K,top,A-K,d-top)};V.prototype.Pw=function(p){var d=V.etB(p);if(this.add.artb==null)this.add.artb={classID:"artboard",artboardRect:{t:"Objc",v:null},artboardBackgroundType:{t:"long",v:1}};
this.add.artb.artboardRect.v=d};V.etB=function(p){var d={classID:"classFloatRect",Top:{t:"doub",v:0},Left:{t:"doub",v:0},Btom:{t:"doub",v:0},Rght:{t:"doub",v:0}};
d.Btom.v=p.y+p.D;d.Left.v=p.x;d.Rght.v=p.x+p.t;d.Top.v=p.y;return d};V.prototype.Nd=function(p,d,K){var A=[],x=this,M=this.BC;
if(!d&&x.BC&&K){A.push(2)}else if(x.gq<=0||d){if(x.Rr())if(!this.rect.kQ())A.push(0);if(x.gW()&&!x.gW().rect.kQ())if(x.gW().LQ||d)A.push(1);
if(x.add.vmsk)if(x.add.vmsk.LQ||d)A.push(2);if(x.fP()&&x.MT(p).g&&!x.MT(p).g.rect.kQ())A.push(3)}else if(x.gq==1){A.push(1);
if(x.gW().LQ&&!x.gW().rect.kQ()){if(x.Rr())if(!this.rect.kQ())A.push(0);if(x.add.vmsk)if(x.add.vmsk.LQ)A.push(2)}}else if(x.gq==3&&!x.MT(p).g.rect.kQ())A.push(3);
if(x.add.artb&&A.indexOf(0)==-1)A.push(0);A.sort();return A};V.prototype.gW=function(){var p=this;return p.Eb?p.Eb:p.add.vmsk&&p.add.vmsk.isEnabled?null:p.g};
V.prototype.MT=function(p){var d=this.add.SoLd.placed.v,K=p.add.FEid;if(K==null)return null;for(var A=0;
A<K.length;A++)if(K[A].id==d)return K[A];return null};V.prototype.extend=function(p){Z.epG(this,p)};
V.prototype.eMS=function(p,d){var K=p.clone();if(this.AO()){var A=this.add.lmfx,x=d.root.AX(d.L.indexOf(this)),M=A.gradientFillMulti.v,G=!1;
for(var D=0;D<M.length;D++)if(M[D].v.enab.v&&M[D].v.Algn.v)G=!0;if(G)K=K.ck(x.rl(d,!1));var P=QL.euh(this,d);
K.offset(P.x,P.y);K.t+=P.t;K.D+=P.D}return K};V.prototype.bB=function(){if(this.Rr())Z.qS(this);var p=this.gW();
if(p)p.bB()};V.prototype.clone=function(){var p=new V;p.rect=this.rect.clone();p.buffer=Z.clone(this.buffer);
p.yk=this.yk;p.opacity=this.opacity;p.wr=this.wr;p.Wm=this.Wm;p.name=this.name;p.e_=this.e_.slice(0);
if(this.g)p.g=this.g.clone();if(this.Eb)p.Eb=this.Eb.clone();for(var d in this.add)p.add[d]=t$.clone(d,this.add[d]);
return p};V.prototype.eBV=function(p){var d=this;if(d.add.TySh)delete d.add.TySh;if(d.add.SoLd){var K=this.ca(p,this.buffer,this.rect);
if(K){this.buffer=K.nM;this.rect=K.rect;this.i()}delete d.add.SoLd}if(d.add.SoCo||d.add.GdFl||d.add.PtFl){if(d.add.vogk)delete d.add.vogk;
if(d.add.SoCo)delete d.add.SoCo;if(d.add.GdFl)delete d.add.GdFl;if(d.add.PtFl)delete d.add.PtFl;if(d.add.vmsk){console.log(d.Eb,d.g);
delete d.add.vmsk;if(d.Eb==null&&d.g)delete d.g;else if(d.Eb!=null&&d.g!=null){d.g=d.Eb;delete d.Eb}}}if(!d.Ba()&&QW.get(d.add)==null&&!this.Rr())this.Wm-=16};
V.prototype.eBW=function(p){var d=255,K=0;if(p==2){var A=this.add.SoLd.filterFX.v;if(A.filterMaskDensity)d=A.filterMaskDensity.v;
if(A.filterMaskFeather)K=A.filterMaskFeather.v}else{var x=p==0?this.gW():this.add.vmsk;d=x.HW;K=x.EU}return{ZE:p,fY:d,eB:K}};
V.prototype.eUk=function(p){if(p.ZE==2){var d=this.add.SoLd.filterFX.v;if(p.fY==255)delete d.filterMaskDensity;
else d.filterMaskDensity={t:"long",v:p.fY};if(p.eB==0)delete d.filterMaskFeather;else d.filterMaskFeather={t:"doub",v:p.eB};
this.i()}else{var K=p.ZE==0?this.gW():this.add.vmsk;K.HW=p.fY;K.EU=p.eB;K.dJ=!0}};V.prototype.oK=function(){var p=this,d=p.add.vmsk;
if(d==null)return;p.add.vogk=V.oK(d.Z)};V.oK=function(p){var d=[],K=Z.e.vB(p);for(var A=0;A<K;A++)d.push(Z.B$.MS());
return d};var ew={$S:0,rK:1,Wy:2,RX:3};V.dK=function(){this.name="Mask";this.hW=!1;this.es={N:255,w:0,M:0};
this.Eo=50;this.Rd=0;this.color=255;this.LQ=!0;this.isEnabled=!0;this.pi=!1;this.HW=255;this.EU=0;this.rect=new R;
this.channel=Z.p(0);this.eEa=null;this.eEi=null;this.dJ=!0};V.dK.prototype.HN=function(p){if(!this.isEnabled)return p;
var d=new V.dK;d.color=Math.round(this.iz()*p.iz()/255);if(this.iz()==0&&p.iz()==0)d.rect=this.rl().pk(p.rl());
else if(p.iz()==0)d.rect=p.rl().clone();else if(this.iz()==0)d.rect=this.rl().clone();else d.rect=this.rl().ck(p.rl());
d.channel=this.eI(d.rect);d.HW=255;d.EU=0;var K=p.eI(d.rect);Z.eMd(K,d.rect,d.channel,d.rect);return d};
V.dK.prototype.rl=function(){if(this.EU==0)return this.rect;var p=Math.ceil(this.EU*2.2),d=this.rect.clone();
d.WJ(p,p);return d};V.dK.prototype.qG=function(){if(this.EU==0&&this.HW==255)return this.channel;if(this.EU==0){var p=Z.clone(this.channel);
Z.an(p);Z.iX(p,this.HW/255);Z.an(p);return p}var d=this.rl(),K=this.eKB(d),p=Z.p(d.r());Z.blur.Zt(K,p,d,this.EU);
if(this.HW!=255){Z.an(p);Z.iX(p,this.HW/255);Z.an(p)}return p};V.dK.prototype.iz=function(){return Math.round(255-(255-this.color)*(this.HW/255))};
V.dK.prototype.extend=function(p){Z.extend(this,p,this.color)};V.dK.prototype.bB=function(){if(this.color==255)Z.an(this.channel);
Z.bB(this);if(this.color==255)Z.an(this.channel)};V.dK.prototype.clone=function(){var p=new V.dK;p.name=this.name;
p.hW=this.hW;p.es=this.es;p.Eo=this.Eo;p.Rd=this.Rd;p.color=this.color;p.LQ=this.LQ;p.isEnabled=this.isEnabled;
p.pi=this.pi;p.HW=this.HW;p.EU=this.EU;p.rect=this.rect.clone();p.channel=Z.clone(this.channel);return p};
V.dK.prototype.eKB=function(p,d){if(d==null)d=Z.p(p.r());Z.set(d,this.color);Z.Qj(this.channel,this.rect,d,p);
return d};V.dK.prototype.eI=function(p,d){var K=this.rl(),A=this.qG();if(d==null)d=Z.p(p.r());Z.set(d,this.iz());
Z.Qj(A,K,d,p);return d};V.mK=function(){this.LQ=!0;this.isEnabled=!0;this.HW=255;this.EU=0;this.Z=[{type:6},{type:8,all:0}];
this.K_=[-3,-3];this.nI=!1;this.Eb=null;this.dJ=!0;this.Y=[];this.HM=[]};V.mK.prototype.offset=function(p,d){this.Eb=this.gW();
Z.e.RF(this.Z,new QI(1,0,0,1,p,d));this.Eb.rect.offset(p,d)};V.mK.prototype.gW=function(p){if(!this.dJ&&this.Eb&&p==null){this.Eb.isEnabled=this.isEnabled;
return this.Eb}var d=Z.e.Du(this.Z);if(d.r()>3e4*3e4)d=new R(0,0,100,100);if(p){var K=Math.ceil(p.strokeStyleLineWidth.v.val);
d.WJ(K,K)}d=Z._.ND(d);var A=new V.dK;A.color=Z.e.PG(this.Z)?0:255;A.LQ=this.LQ;A.isEnabled=this.isEnabled;
A.pi=!0;A.rect=d;A.HW=this.HW;A.EU=this.EU;A.channel=Z.p(A.rect.r());if(!d.kQ())Z.e.eqh(this.Z,A.channel,A.rect,p);
if(p==null){this.Eb=A;this.dJ=!1}return A};V.mK.prototype.clone=function(){var p=new V.mK;p.LQ=this.LQ;
p.isEnabled=this.isEnabled;p.HW=this.HW;p.EU=this.EU;p.Z=V.mK.el(this.Z);p.K_=this.K_.slice(0);p.nI=this.nI;
p.Y=this.Y.slice(0);p.HM=this.HM.slice(0);return p};V.mK.prototype.concat=function(p){var d=p.Z.slice(2);
if(d.length==0)return;d[0].Ez=3;this.Z=this.Z.concat(d)};V.mK.el=function(p){var d=[];for(var K=0;K<p.length;
K++){var A=p[K];if(A.type>5||A.type==0||A.type==3)d.push(JSON.parse(JSON.stringify(A)));else d.push({type:A.type,Gp:A.Gp.clone(),I:A.I.clone(),UL:A.UL.clone()})}return d};
V.mK.emE=function(p,d,K){if(p.length!=d.length)return!1;for(var A=2;A<p.length;A++){var x=p[A],M=d[A];
if(x.type!=M.type)return!1;if(x.type==0||x.type==3){if(x.length!=M.length||!K&&x.Ez!=M.Ez)return!1}else if(!x.Gp.GR(M.Gp)||!x.I.GR(M.I)||!x.UL.GR(M.UL))return!1}return!0};
V.mK.prototype.em$=function(){var p=this.Z;for(var d=3;d<p.length;d++)if(p[d].type==0||p[d].type==3)p[d].Ez=-1};
V.nz=function(){this.type=null;this.Ep=2;this.Ak=null;this.QR="";this.rv="";this.Ji="";this.open=0;this.raw=null;
this._f=null};V.nz.prototype.clone=function(){var p=new V.nz;p.type=this.type;p.Ep=this.Ep;p.Ak=this.Ak;
p.QR=this.QR;p.rv=this.rv;p.Ji=this.Ji;p.open=this.open;p.raw=new Uint8Array(this.raw.buffer.slice(0));
return p};V.nz.prototype.zi=function(p){var d=this;if(d._f)return;var K=QH.BU(d.raw.buffer);if(K!="svg"&&K!="pdf")p=0;
if(K==null){alert("Unsupported format: "+v.Ms(d.raw,0,4));return null}var A=QH.If(K);if(A.aw){var x=new QZ(name+(K=="psd"?"":"-"+K)+".psd");
A.W$(d.raw.buffer,x);for(var M=0;M<x.L.length;M++)if(x.L[M].ti())x.L[M].u_(x);x.ao();x.i();x.gm();d._f=[x.zi(),new R(0,0,x.t,x.D)]}else if(A){var G=A.W$(d.raw.buffer)[0];
d._f=[new Uint8Array(G.data),G.Uo]}if(d._f){if(p==1){var D=d._f[0],P=d._f[1],a=Z.p(P.r());Z.$m(D,a,3);
var e=Z.gg(a,P),f=Z.p(e.r()*4);Z.PE(D,P,f,e);d._f=[f,e]}Z.iW(d._f)}};V.RY="0";V.Ry="2";V.qn="2.5";V.eKH="3";
V.nJ="4";V.euD="5";V.$e="5.5";V.eHp="6";V.$G="7";V.eGm="7.5";V.Pi="8";V.nN="9";V.nZ="9.3";V.$t="9.5";
V.eGJ="9.6";V.PA="10";V.qU="11";V.nk="12";V.qK="13";V.NN="13.5";V.$p="13.7";V.qw="14";V.Ng="14.5";V.v_="15";
V.PX="16";V.Bu="17";V.NZ="18";V.emi="19";V.Nr="19.5";V.Gw="19.6";V.Nl="19.7";V.G_="20";V.Gz="21";V.qY="21.5";
V.Br="22";V.Nk="22.5";V.zQ="23";V.esu="24";V.GJ="25";V.eEM="26";V.eVH="27";V.BY="28";V.Bl="29";V.Bj="30";
V.PL="31";V.zH="32";V.gp="33";V.BT="34";V.Op="35";V.hQ="36";V.gw="36.5";V.OO="37";V.Gl="37.5";V.esH="37.6";
V.hJ="38";V.Oc="38.5";V.gV="38.6";V.CE="39";V.hl="40";V.ePF="41";V.eP_="42";V.OR="50";V.OY="51";V.go="52";
V.gA="53";V.$n="54";V.eGU="54.5";V.eMk="54.6";V.eOR="54.7";V.Ol="54.8";V.sW="55";V.zE="56";V.Pz="57";
V.gb="58";V.$c="59";function Mb(){this.depth=0;this.index=-1;this.o=null;this.eox=null;this.bU=-1;this.children=null;
this.parent=null;this.bK=null}Mb.prototype.em_=function(){var p=0;if(this.o.Ba()){for(var d=0;d<this.children.length;
d++)p+=this.children[d].em_()}else if(this.o.buffer)p+=this.o.buffer.length;return p};Mb.prototype.AX=function(p){var d=this.bK[p];
return this.bK[p]};Mb.prototype.eRQ=function(p,d){var K=this.o;if(!K.Ml()||K.uF(2)||K.uF(31))return null;
if(K.uV()){var A=K.g.rect.Xs(p);if(!A&&K.g.color==0)return}if(K.Ba()){for(var x=0;x<this.children.length;
x++){var M=this.children[x];M.eRQ(p,d)}}else if(K.rect.Xs(p))d.push(this.index)};Mb.prototype.uD=function(p,d){var K=this.o;
if(!K.Ml()||K.uF(2)||K.uF(31))return null;if(K.uV()){if(K.g.rect.Bf(p)){if(!Z.uD(p,K.g.channel,K.g.rect))return null}else if(K.g.color==0)return null}if(K.Ba()){for(var A=this.children.length-1;
A>=0;A--){var x=this.children[A],M=x.uD(p,d);if(M&&d==null)return M}return null}else if(K.add.TySh&&K.rect.Bf(p)||Z.ept(p,K.buffer,K.rect)){if(d==null)return this;
else d.push(this.index)}return null};Mb.prototype.emo=function(p){var d=this.o;if(!d.Ml()||d.uF(2)||d.uF(31))return null;
var K=d.add.vmsk;if(K&&K.isEnabled){var A=Z.e.uD(K.Z,p)._W;if(A!=-1)return{eEo:this,eEW:A}}if(d.Ba()){for(var x=this.children.length-1;
x>=0;x--){var M=this.children[x],G=M.emo(p);if(G)return G}return null}return null};Mb.prototype.eew=function(p,d){p.push(this.index);
if(this.o.Ba()){p.push(this.bU);if(d)if(this.o.gq==1&&this.o.gW().LQ==!1)return;for(var K=0;K<this.children.length;
K++)this.children[K].eew(p)}};Mb.prototype.XN=function(p,d,K){var A=this.o,x,M;if(A.Ba()&&A.add.artb!=null)d=A.Rb();
if(d.t>d.D){x=K;M=Math.floor(K*(d.D/d.t))}else{x=Math.floor(K*(d.t/d.D));M=K}if(A.ti()&&A.add.vmsk==null||A.add.TySh)x=M=Math.max(M,16);
var G=M,D=A.ti()&&A.add.vmsk;if(D){var P=A.rect.clone(),f,N;if(P.kQ())P=new R(0,0,20,20);var a=P.t,e=P.D;
if(a>e){f=K;N=Math.floor(K*(e/a))}else{f=Math.floor(K*(a/e));N=K}if(f*N==0)f=N=16;Z.Bn.ej(A.sS,f,N,P,A.buffer,A.rect,!1);
Z.Bn.ezJ(A.sS,f,N);G=N}else if(A.add.TySh){Z.Bn.ezT(A.sS,G,G,A.add.TySh)}else if(A.add.SoCo){G=Math.max(16,Math.min(x,M));
Z.Bn.ezy(A.sS,G,G,A.add.SoCo)}else if(A.add.GdFl){Z.Bn.eah(A.sS,G,G,A.add.GdFl)}else if(A.add.PtFl){Z.Bn.eas(A.sS,G,G,A.add.PtFl,p)}else if(QW.get(A.add)!=null){Z.Bn.eaq(A.sS,G,G,A.add)}else if(A.add.SoLd){Z.Bn.ej(A.sS,x,M,d,A.buffer,A.rect,!1);
Z.Bn.ezA(A.sS,x,M,A.add.SoLd)}else if(A.Ba()){G=16}else{if(A.Rr())Z.Bn.ej(A.sS,x,M,d,A.buffer,A.rect,!1);
else{Z.Bn.eai(A.sS,G,G)}}var Y=A.gW();if(Y)Z.Bn.er(A.emK,x,M,d,Y);if(A.fP()&&A.MT(p)&&A.MT(p).g){var l=A.MT(p).g;
Z.Bn.er(A.euB,x,M,d,l)}if(!D&&A.add.vmsk){Z.Bn.er(A.emH,x,M,d,A.add.vmsk.gW(),!0)}if(A.add.vmsk||Y)G=Math.max(G,M);
A.eme=Math.max(G,16);if(A.Ba()&&A.add.lsct==ew.rK)for(var h=0;h<this.children.length;h++)this.children[h].XN(p,d,K)};
Mb.prototype.epM=function(p,d,K,A){this.depth=K;var x=p[d];if(A==null)A=[];this.bK=A;if(x.add.lsct==ew.RX){this.eox=x;
this.bU=d-1;this.children=[];var M=d+1;while(!0){var G=p[M];if(G==null)console.log(M,p.length);if(G.add.lsct==ew.rK||G.add.lsct==ew.Wy){if(x.add.lyid==G.add.lyid)x.add.lyid+=16777215;
this.o=G;this.index=M-1;A[this.index]=this;A[d-1]=this;break}var D=new Mb;D.parent=this;M=D.epM(p,M,K+1,A);
this.children.push(D)}return M+1}else{this.o=x;this.index=d-1;A[this.index]=this;return d+1}};Mb.prototype.$_=function(p,d,K){var A=this.AX(K),x=p;
while(A.parent!=null){x=A.o.eMS(x,d);A=A.parent}return x};Mb.prototype.rl=function(p,d){var K=this.o,A=new R;
if(!K.Ml())return A;var x=K.gW();if(K.Ba())for(var M=0;M<this.children.length;M++){var G=this.children[M].rl(p,!0);
A=A.ck(G)}else if(QW.get(K.add)!=null)A=K.uV()&&K.g.color==0?K.g.rl().clone():new R(0,0,p.t,p.D);else if(K.ti()&&K.add.vmsk&&K.add.vmsk.isEnabled&&K.add.vstk){A=K.rect.clone()}else if(K.ti()&&x&&x.isEnabled&&x.iz()!=0)A=new R(0,0,p.t,p.D);
else{A=K.RC(p,!1,!0);if(K.add.vmsk)A=Z._.ND(A)}return d?K.eMS(A,p):A};Mb.prototype.eBr=function(p,d,K,A,x){var M=this.o,G=QL.kA(M);
if(!M.Ml())return;if(M.opacity==255){this.eOI(p,d,K,A,x);return}var D=Z.clone(p);this.eOI(D,d,K,A,x);
Z.h.OL(D,d,p,d,null,null,0,K,M.opacity/255,M.yk=="diss")};Mb.prototype.eOI=function(p,d,K,A,x){var M=this.o,G=QL.kA(M),D=QW.get(M.add)!=null,f,l;
if(M.Ba()&&M.yk=="pass"&&!M.uV()&&!(x.length>0||G.fill!=1||M.AO())){this.gX(p,d,K,A);return}var P=M.Ba()&&M.yk=="pass"&&(x.length>0||G.fill!=1||M.AO()),a=M.rect,e=M.buffer;
if(M.Ba()){a=this.rl(A,!1);var N=Z.p(a.r()*4);f=Z.p(a.r());this.gX(N,a,K,A);Z.$m(N,f,3)}else if(D){a=d.clone();
f=Z.p(a.r());Z.set(f,255)}else{a=M.rect;f=Z.p(a.r());Z.$m(e,f,3)}if(M.uV()){var Y=M.g.eI(a);Z.iy(Y,f)}if(M.AO())l=QL.$o(M.add.lmfx,M.add.fxrp,f,a,A);
if(M.AO())QL.ecU(M.add.lmfx,l,a,p,d,K);if(M.Ba()){e=Z.p(a.r()*4);if(M.yk=="pass")Z.PE(p,d,e,a);if(P){var N=Z.p(a.r()*4);
this.gX(N,a,K,A);var h=Z.p(a.r());Z.$m(N,h,3);Z.HG(h,a,e,a)}this.gX(e,a,K,A)}if(D){e=Z.clone(p);Z.Pk(e,4278190080,16777215);
var s=QW.get(M.add),J=QW.eh(s,M.add[s]);QW.sg(J,e,e,a)}var u=Z.clone(e);Z.Pk(u,4278190080,16777215);
for(var Q=0;Q<x.length;Q++)x[Q].eBr(u,a,K,A,[]);var W=Z.p(a.r()*4);Z.PE(p,d,W,a);if(D)G.qy=!0;Z.h.gQ(M.yk=="pass"?"norm":M.yk,u,a,W,a,K,1,G);
if(M.AO()){var q=M.T.Qk.type.FrFX,H=null;if(q.length!=0){H=q[0];for(var Q=0;Q<q.length;Q++)if(q[Q].Rz.t>H.Rz.t)H=q[Q];
var C=Z.p(H.Rz.t*H.Rz.D*4);Z.PE(p,d,C,H.Rz)}QL.etd(M.add.lmfx,l,a,p,d,K,W,C,H?H.Rz:null)}Z.h.OL(W,a,p,d,f,a,0,K,1,M.yk=="diss")};
Mb.prototype.gX=function(p,d,K,A){var x=this.children;for(var M=0;M<x.length;M++){var G=[];for(var D=M+1;
D<x.length;D++)if(x[D].o.wr)G.push(x[D]);else break;x[M].eBr(p,d,K,A,G);M+=G.length}};Mb.du={delete:function(p){if(p&&p.t)p.delete()},p:function(p,d){return X.Ug?new X.dY(p,d):Z.p(p*d*4)},vx:function(p,d,K){if(X.Ug){if(p==null||p.t!=d||p.D!=K){Mb.du.delete(p);
return new X.dY(d,K)}}else{if(p==null||!(p instanceof Uint8Array)||p.length!=d*K*4){Mb.du.delete(p);
return Z.p(d*K*4)}}return p},Qj:function(p,d,K,A,x){(X.Ug?X.Bd:Z.PE)(p,d,K,A,x)},OL:function(p,d,K,A,x,M,G,D,P,a){(X.Ug?X.h.ox:Z.h.OL)(p,d,K,A,x,M,G,D,P,a)},gQ:function(p,d,K,A,x,M,G,D){if(X.Ug)X.h.UH(p,d,K,A,x,M,G,D);
else Z.h.gQ(p,d,K,A,x,M,G,D)},Pk:function(p,d,K){if(X.Ug){X.El(p);X.cD(d,K)}else Z.Pk(p,d,K)},emx:function(p,d,K,A,x){if(X.Ug){X.h.ox(null,null,A,x,p,d,K,x,1,!1)}else{if(K==255)Z.HG(p,d,A,x);
else{var M=Z.p(d.r());Z.Bh(A,x,M,d);Z.iy(p,M);Z.Pk(A,0,16777215);Z.fw(M,d,A,x)}}},BN:function(p,d,K,A){if(X.Ug)X.h.ox(null,null,K,A,p,d,0,A,1,!1);
else Z.BN(p,d,K,A)}};Mb.prototype.$I=function(p,d,K,A,x,M){var G=typeof M=="number";if(!this.o.Ba()&&(G&&this.index>M||!G&&M.indexOf(this.index)==-1)){return}var D=this.o,P=QL.kA(D),a=Mb.du,e=D.ti()?D.gW():D.g;
if(!D.Ml())return;if(D.uV()&&e.rect.kQ()){return}if(D.add.vstk==null&&this.rl(A,!1).kQ()&&D.add.artb==null){return}var f=this.rl(A,!0).pk(K);
if(!d.GR(K)&&!K.Xs(f)&&D.add.artb==null)return;if(D.Ba()&&D.add.artb){var N=D.Rb(),l=0;K=K.pk(N);var Y=D.add.artb.artboardBackgroundType.v;
if(Y==1)l=4294967295;else if(Y==2)l=4278190080;else if(Y==3)l=0;else if(Y==4){l=D.add.artb.Clr.v;l=255<<24|l.Bl.v<<16|l.Grn.v<<8|l.Rd.v}else throw Y;
if(X.Ug){X.El(p,K);X.cD(l)}else Z.eQm(p,d,K,l)}var h=Mb.eOj(D,x);if(!h){this.eUa(p,d,K,A,x,M);return}D.T.no=a.vx(D.T.no,f.t,f.D);
a.Qj(p,d,D.T.no,f,K);this.eUa(D.T.no,f,K,A,x,M);a.OL(D.T.no,f,p,d,null,null,0,K,D.opacity/255,D.yk=="diss")};
Mb.eOj=function(p,d){return p.opacity!=255&&(d.length!=0||p.Ba()||p.AO())};Mb.emJ={T:{}};Mb.prototype.eUa=function(p,d,K,A,x,M){var G=this.o,D=QL.kA(G),P=QW.get(G.add)!=null,a=Mb.du,e=Mb.eOj(G,x),f=e?1:G.opacity/255,N=G.ti()?G.gW():G.g,Y=G.Ba()&&G.yk=="pass"&&!(x.length>0||D.fill!=1||G.AO()),l=!G.Ba()&&!P&&!G.AO()&&x.length==0,h=P&&!G.AO()&&x.length==0,q=null,H=null,C=null,w;
if(Y||l||h){var s=p,J=d;if(G.uV()){J=this.rl(A,!1);s=G.T.nf=a.vx(G.T.nf,J.t,J.D);a.Qj(p,d,G.T.nf,J)}if(Y)this.$R(s,J,K,A,M);
if(l)a.gQ(G.yk,G.eOa(A),G.rect,s,J,K,f,D);if(h){var u=G.uV()&&N.iz()==0?N.rl().clone():J.clone(),Q=G.T;
if(u.GR(new R(0,0,A.t,A.D)))Q=Mb.emJ;Q.Bx=this.eKn(s,J,Q.Bx,u,G.add);D.qy=!0;a.gQ(G.yk,Q.Bx,u,s,J,K,f,D)}if(G.uV())a.OL(s,J,p,d,G.eBA(),N.rl(),N.iz(),K,1,G.yk=="diss");
G.T.e_S();return}var W=G.Ba()&&G.yk=="pass"&&(x.length>0||D.fill!=1||G.AO()),u=G.rect;if(G.Ba()){u=this.rl(A,!1);
C=G.T.Bx=a.vx(G.T.Bx,u.t,u.D);a.Pk(C,0);this.$R(C,u,u,A,M);H=a.vx(G.T.xf,u.t,u.D);a.Qj(C,u,H,u)}else if(P){u=G.uV()&&N.iz()==0?N.rl().clone():d.clone();
H=a.vx(G.T.xf,u.t,u.D);a.Pk(H,4294967295)}else{u=G.rect;q=G.eOa(A);H=a.vx(G.T.xf,u.t,u.D);a.Qj(q,u,H,u)}G.T.xf=H;
if(G.uV())a.emx(G.eBA(),N.rl(),N.iz(),H,u);if(G.AO())if(G.T.g_||G.T.t_||G.T.ur!=X.Ug||G.T.ZL||G.Ba()){var k=Z.p(u.t*u.D);
if(X.Ug){if(!G.Ba()&&G.gW()==null&&G.rect.GR(u))Z.$m(G.buffer,k,3);else{var i=Z.p(u.t*u.D*4);H.get(i);
Z.$m(i,k,3)}}else Z.$m(H,k,3);if(G.T.t_||G.T.ur!=X.Ug||!Z.GR(k,G.T.ry)){var m=null;if(G.ti()&&G.add.vmsk&&G.add.vmsk.isEnabled&&G.add.vmsk.gW().color==0)m=G.add.vmsk.gW().rect;
QL.euy(G.T.Qk,k,u,G.add.lmfx,G.add.fxrp,A,m);G.T.ry=k}}if(G.AO())QL.ecU(G.add.lmfx,G.T.Qk,u,p,d,K);if(G.Ba()){q=a.vx(G.T.nf,u.t,u.D);
a.Pk(q,0);if(G.yk=="pass")a.Qj(p,d,q,u);if(W)a.BN(C,u,q,u);this.$R(q,u,K,A,M);G.T.nf=q}if(P){q=G.T.nf=this.eKn(p,d,G.T.nf,u,G.add)}if(G.Ba()||P)w=q;
else{w=a.vx(G.T.nf,u.t,u.D);a.Qj(q,u,w,u,K);G.T.nf=w}a.Pk(w,4278190080,16777215);for(var S=0;S<x.length;
S++)x[S].$I(w,u,K,A,[],M);var o=G.T.kZ=a.vx(G.T.kZ,u.t,u.D);a.Qj(p,d,o,u,K);if(P)D.qy=!0;a.gQ(G.yk=="pass"?"norm":G.yk,w,u,o,u,K,1,D);
if(G.AO()){var O=G.T.Qk.type.FrFX,t=null;if(O.length!=0){t=O[0];for(var S=0;S<O.length;S++)if(O[S].Rz.t>t.Rz.t)t=O[S];
G.T.Z_=a.vx(G.T.Z_,t.Rz.t,t.Rz.D);a.Qj(p,d,G.T.Z_,t.Rz,K);G.T.rk=a.vx(G.T.rk,t.Rz.t,t.Rz.D)}QL.etd(G.add.lmfx,G.T.Qk,u,p,d,K,o,G.T.Z_,G.T.rk,t?t.Rz:null)}if(!X.Ug){var c=Z.p(u.r());
Z.$m(H,c,3);H=c}a.OL(o,u,p,d,H,u,0,K,1,G.yk=="diss");G.T.e_S()};Mb.prototype.eKn=function(p,d,K,A,x){var M=QW.get(x),G;
if(M)G=QW.eh(M,x[M]);var D=Mb.du;K=D.vx(K,A.t,A.D);if(!(X.Ug&&d.GR(A)))D.Qj(p,d,K,A);if(G){if(X.Ug){var P=A.clone();
P.x=P.y=0;if(d.GR(A)){X.El(K,P);QW.ww(G,p.Ni,P)}else{X.El(K,A);K.YA(A);QW.ww(G,K.Yz,P)}}else QW.sg(G,K,K,A)}return K};
Mb.prototype.$R=function(p,d,K,A,x){var M=this.children;for(var G=0;G<M.length;G++){var D=[];for(var P=G+1;
P<M.length;P++)if(M[P].o.wr)D.push(M[P]);else break;M[G].$I(p,d,K,A,D,x);G+=D.length}};function QZ(p){this.name=p;
this.EK=-1;this.oJ=null;this.o_=null;this.oL=null;this.og=null;this.t=0;this.D=0;this.L=[];this.QN={};
this.add={};this.buffer=null;this.Ej=4;this.jg=null;this.Bk=72;this.ZD={};this.Y=[];this.tu=[[],[]];
this.ey=[];this.WN=[];this.uE=[QZ.zb("Work Path")];this.wV=[];this.BJ=null;this.LV={classID:"CompList",list:{t:"VlLs",v:[]}};
this.root=null;this.mA=null;this.pd=!1;this.eHo=!1;this.rg=!1;this.ye=!1;this.nw=!1;this.TH=!1;this.Yi=!1;
this.fU=!1;this.NA=!1;this.g_=null;this.bm=null;this.qt={};this.P=null;this.$O=[];this.Mv=[];this.K={gZ:{},dd:[],eoC:[],xJ:[],$Z:[],_H:null,ty:null,ny:null,EZ:null,CI:[],nt:[]};
this.history=[new QY([1,0],null)];this.PO=0;this.$f=0;this.U=new ng(this)}QZ.prototype.Eu=function(){var p=this.$O,d=this.$O.length;
if(d!=0&&p[d-1].name=="Quick Mask")return p[d-1]};QZ.prototype.eKZ=function(){var p=this.name;return p.slice(0,p.length-4).endsWith("-sketch")};
QZ.prototype.Oj=function(p){this.add.artd={classID:"null",Cnt:{t:"long",v:p},autoExpandOffset:{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:0},Vrtc:{t:"doub",v:0}}},origin:{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:0},Vrtc:{t:"doub",v:0}}},canvasColorMode:{t:"enum",v:{canvasColorType:"Cstm"}},canvasColor:{t:"Objc",v:{classID:"RGBC",Rd:{t:"doub",v:220},Grn:{t:"doub",v:220},Bl:{t:"doub",v:220}}},autoExpandEnabled:{t:"bool",v:!0},autoNestEnabled:{t:"bool",v:!0},autoPositionEnabled:{t:"bool",v:!0}}};
QZ.prototype.tP=function(p){if(this.add.FEid==null)this.add.FEid=[];if(this.add.FEid.indexOf(p)==-1)this.add.FEid.push(p)};
QZ.prototype.$z=function(p){var d=this.add.FEid.indexOf(p);this.add.FEid.splice(d,1);if(this.add.FEid.length==0)delete this.add.FEid};
QZ.prototype.i=function(p){if(p==null)p=new R(0,0,this.t,this.D);if(this.g_==null)this.g_=p;else this.g_=this.g_.ck(p)};
QZ.prototype.emg=function(p){return this.g_!=null};QZ.prototype.gf=function(p){var d=this.L[p],K=this.root.AX(p);
if(K==null)return!1;if(d.Ba()||K.parent.children.indexOf(K)==0)return!1;return!0};QZ.emb=function(p){if(p.add.lnk2)for(var d=0;
d<p.add.lnk2.length;d++){var K=p.add.lnk2[d].Ak;p.add.lnk2[d].Ak=QZ.Ex()+K.slice(8);for(var A=0;A<p.L.length;
A++){var x=p.L[A].add.SoLd;if(x&&x.Idnt.v==K)x.Idnt.v=p.add.lnk2[d].Ak}}};QZ.prototype.eVz=function(p,d,K){p.sort(function(N,Y){return N-Y});
var top=p[p.length-1],A=this.L.slice(0),x=this.Y.slice(0),M=[],G=[];for(var D=0;D<this.L.length;D++){if(p.indexOf(D)!=-1)G.push(this.L[D]);
else M.push(this.L[D])}this.Wz(G);this.Y=[];var P=this.root.rl(this,!0);if(d)P=P.pk(d);if(K)P=P.ck(K);
if(P.kQ())P=new R(0,0,100,100);var a=new R(-P.x,-P.y,this.t,this.D),e=new Uint8Array(QH.PSD._B(this,0,0,[!0,!1]));
this.Wz(A);this.Y=x;var f=new QZ(this.L[top].getName());QH.PSD.W$(e.buffer,f);delete f.add.artd;f.tu=[[],[]];
f.ey=[];f.Wz(f.L);QZ.emb(f);r.pO.Qo(f,P);f.i();f.gm();f.zi();return[f,P,M,top]};QZ.prototype.eoK=function(p,d){var K=this.eVz(p),A=K[0],x=K[1],M=K[2],top=K[3],G=new Uint8Array(QH.PSD._B(A));
if(d)M=this.L.slice(0);var D=this.tQ(G,A.name,x.x,x.y);if(top==this.L.length-1)M.push(D);else M.splice(d?top+1:top-p.length+1,0,D);
this.Wz(M);this.Y=[M.indexOf(D)]};QZ.Ex=function(){var p="";for(var d=0;d<8;d++)p+=Math.floor(Math.random()*16).toString(16);
return p};QZ.prototype.zI=function(p){if(p==null)return;if(this.add.Patt==null)this.add.Patt=[];var d=this.add.Patt;
for(var K=0;K<d.length;K++)if(d[K].id==p.id)return;d.push(p)};QZ.prototype.tQ=function(p,d,K,A,x){if(this.add.lnk2==null)this.add.lnk2=[];
var M=null,N=!1;for(var G=0;G<this.add.lnk2.length;G++)if(Z.GR(p,this.add.lnk2[G].raw)){M=this.add.lnk2[G].Ak;
break}if(M==null){var D=QH.BU(p.buffer);M=QZ.Ex()+"-d71c-11e5-b1ae-a548a96e5f9f";var P=new V.nz;P.Ak=M;
P.Ji=D=="psd"?"8BIM":"    ";P.QR=d+"."+D;P.rv=D=="psd"?"8BPB":"    ";P.open=0;P.raw=p;P.type="liFD";
P.Ep=2;this.add.lnk2.push(P)}var a=this.ZH(M),e=QZ.Ex()+"-d71c-11e5-b1ae-a548a96e5f9f",f=this.sP();f.Hv(d);
if(a!=null){var Y=f.rect=a._f[1].clone();f.rect.offset(K,A);var l=Math.max(Y.t/this.t,Y.D/this.D),N=x&&l>1.0001;
if(N){Y.t=Math.round(Y.t/l);Y.D=Math.round(Y.D/l);Y.x=Math.round((this.t-Y.t)/2);Y.y=Math.round((this.D-Y.D)/2)}f.buffer=Z.p(f.rect.r()*4);
if(!N)Z.tM(a._f[0],f.buffer)}f.add.SoLd={classID:"null",Idnt:{t:"TEXT",v:M},placed:{t:"TEXT",v:e},PgNm:{t:"long",v:1},totalPages:{t:"long",v:1},frameStep:{t:"Objc",v:{classID:"null",numerator:{t:"long",v:0},denominator:{t:"long",v:600}}},duration:{t:"Objc",v:{classID:"null",numerator:{t:"long",v:0},denominator:{t:"long",v:600}}},frameCount:{t:"long",v:1},Annt:{t:"long",v:16},Type:{t:"long",v:2},Trnf:null,nonAffineTransform:null,warp:{t:"Objc",v:Z.Fl.p(f.rect)},Sz:{t:"Objc",v:{classID:"Pnt",Wdth:{t:"doub",v:f.rect.t},Hght:{t:"doub",v:f.rect.D}}},Rslt:{t:"UntF",v:{type:"#Rsl",val:72}}};
var h=Z._.MF(f.rect).B;f.add.SoLd.Trnf=r.ge.oZ(h);f.add.SoLd.nonAffineTransform=r.ge.oZ(h);if(N)f.uc(this,!1);
return f};QZ.prototype.zi=function(p){if(p!=null){this.i();this.gm(p);var d=this.buffer;if(X.Ug)this.mA.get(d);
else d=d.slice(0);this.i();this.gm();return d}if(this.g_){this.gm();this.g_=null}if(X.Ug&&this.bm){this.mA.get(this.buffer);
this.bm=null;this.TH=!0}return this.buffer};QZ.prototype.eGn=function(){for(var p=0;p<this.L.length;
p++)this.L[p].eMB();this.i()};QZ.prototype.eBa=function(){for(var p=0;p<this.L.length;p++)if(this.L[p].add.lmfx)this.L[p].T.t_=!0};
QZ.prototype.gT=function(){var p=this.QN.r1044;if(p==null){p=this.QN.r1044=new Uint8Array(4);var d=0;
for(var K=0;K<this.L.length;K++)d=Math.max(d,this.L[K].add.lyid);v.wB(p,0,d)}var A=v.X(p,0);v.wB(p,0,A+1);
return A+1};QZ.prototype.ux=function(p,d){if(p==null)p=!0;var K=this;if(K.Mv.length!=0)return!0;if(K.Y.length!=1){if(p)alert(K.Y.length==0?"Select a layer first.":"More than one layer selected.");
return!1}return this.Zp(p,d)};QZ.prototype.Zp=function(p,d){if(p==null)p=!0;if(d==null)d=!1;var K=this;
if(K.Mv.length!=0)return!0;for(var A=0;A<K.Y.length;A++){var x=K.L[K.Y[A]],M=d||x.gq<=0;if(x.add.lsct!=null&&x.add.lsct!=ew.$S&&x.gq!=1){if(p)alert(Qc.get([15,7,2]));
return!1}if(M&&!x.Rr()){if(p)alert(Qc.get([15,7,2]));return!1}if(M&&x.add.TySh){if(p)alert(Qc.get([15,7,3]));
return!1}if(M&&x.add.SoLd){if(p)alert(Qc.get([15,7,4]));return!1}if(x.uF(1)||x.uF(31)){if(p)alert(Qc.get([6,57,0]));
return!1}}return!0};QZ.prototype.eOn=function(p){var d=this.root.AX(p);if(d.parent)return d.o.Ml()&&this.eOn(d.parent.index);
else return d.o.Ml()};QZ.prototype.euX=function(p){var d=this.root.AX(p);if(d==null)return null;var K=d.o;
if(K.add.artb)return K.Rb();if(d.parent)return this.euX(d.parent.index);return null};QZ.prototype.eH_=function(){var p=this.L[this.Y[0]];
if(p.gq<=0&&!p.rect.Xs(this.P.rect)){alert("Selected area is empty.");return!1}if(this.Y.length==1&&this.P){var d=Z.p(this.P.channel.length);
Z.Bh(p.buffer,p.rect,d,this.P.rect);Z.iy(this.P.channel,d);if(Z.ix(d,0)){alert("Selected area is empty.");
return!1}}return!0};QZ.prototype.zz=function(){if(this.QN["r"+1037]==null)this.OX(30);return v.gc(this.QN["r"+1037],0)};
QZ.prototype.OX=function(p){if(this.QN["r"+1037]==null)this.QN["r"+1037]=new Uint8Array(4);if(v.gc(this.QN["r"+1037],0)==p)return;
v.Nb(this.QN["r"+1037],0,p);this.eBa()};QZ.prototype.UM=function(){if(this.QN["r"+1049]==null)this.Zn(30);
return v.gc(this.QN["r"+1049],0)};QZ.prototype.Zn=function(p){if(this.QN["r"+1049]==null)this.QN["r"+1049]=new Uint8Array(4);
if(v.gc(this.QN["r"+1049],0)==p)return;v.Nb(this.QN["r"+1049],0,p);this.eBa()};QZ.prototype.za=function(p){if(this.add.lnk2==null)return null;
for(var d=0;d<this.add.lnk2.length;d++)if(this.add.lnk2[d].Ak==p)return this.add.lnk2[d];return null};
QZ.prototype.euQ=function(p){var d=this.za(p);if(d==null)return!1;var K=QH.BU(d.raw.buffer);if(K==null)return!1;
if(QH.If(K)!=null||K=="psd")return!0;return!1};QZ.prototype.ZH=function(p,d){var K=this.za(p);if(K==null)return null;
K.zi(d);if(K._f)return K};QZ.prototype.gm=function(p){if(p==null)p=1e9;var d=this.t,K=this.D,A=new R(0,0,d,K),x=A.pk(this.g_);
if(X.Ug&&this.mA==null)this.mA=new X.dY(d,K,!0);if(this.buffer==null||this.buffer.length!=d*K*4||X.Ug&&(this.mA.t!=d||this.mA.D!=K)){this.buffer=Z.p(d*K*4);
if(this.mA)this.mA.delete();if(X.Ug)this.mA=new X.dY(d,K,!0)}if(x.kQ())return;if(!x.GR(A)){if(!X.Ug){var M=Z.MS(x.r()*4);
Z.PE(M,x,this.buffer,A)}if(X.Ug){X.El(this.mA,x);X.cD(0)}}else{if(X.Ug){this.mA.set(null)}else{Z.set(this.buffer,0)}}var G=Date.now(),D=X.Ug?this.mA:this.buffer;
this.root.$I(D,A,x,this,[],p);this.bm=this.g_.clone()};QZ.prototype.sP=function(){var p=new V;p.rect=new R(0,0,0,0);
p.buffer=Z.p(1);p.add.luni=new QP(0,0);p.add.lyid=this.gT();p.add.lsct=ew.$S;p.add.lclr=0;p.add.fxrp=new QP(0,0);
return p};QZ.prototype.dN=function(){var p=this.sP();p.Hv("</Layer group>");p.add.lsct=ew.RX;p.Wm=24;
return p};QZ.prototype.ZV=function(){return this.PO!=this.$f};QZ.prototype.Gn=function(p){while(this.history.length>this.PO+1)this.history.pop();
if(this.$f>this.PO)this.$f=-1;if(p.O.id!=r.DY){this.rg=!0;if(this.LV.lastAppliedComp){delete this.LV.lastAppliedComp;
this.Yi=!0}}this.history.push(p);this.PO++;this.TH=!0;var d=Qh.Fv()?60:30,K=0;for(var A=this.history.length-1;
A>=0;A--){var x=this.history[A];if(x.rj)continue;K++;if(K==d){this.PO-=A;this.history=this.history.slice(A);
break}}};QZ.prototype.ED=function(){if(this.PO!=this.history.length-1)return null;return this.history[this.history.length-1]};
QZ.prototype.AP=function(p,d,K,A){if(p==null)p=!1;var x=d!=null?[d]:this.Y.slice(0);if(A){var M=[];for(var G=0;
G<x.length;G++){var D=this.L[x[G]].yQ;if(D!=0&&M.indexOf(D)==-1)M.push(D)}for(var G=0;G<this.L.length;
G++){var D=this.L[G].yQ;if(D!=0&&M.indexOf(D)!=-1&&x.indexOf(G)==-1)x.push(G)}}var P=[];for(var G=0;
G<x.length;G++){var a=this.Uu(x[G],p);for(var e=0;e<a.length;e++)if(P.indexOf(a[e])==-1)P.push(a[e]);
if(K){var f=this.root.AX(x[G]);while(f.parent!=null&&f.parent.parent!=null){f=f.parent;if(P.indexOf(f.index)==-1){P.push(f.index,f.bU)}}}}return P};
QZ.prototype.Un=function(p,d,K){var A=this,x=A.AP(!1,p,null,K);x.sort(function(u,Q){return u-Q});var M={};
for(var G=0;G<A.L.length;G++){var D=A.L[G].getName();M[D]=!0}var P=[];for(var a=0;a<x.length;a++){var e=A.L[x[a]].clone(),s,J;
e.add.lyid=A.gT();e.add.lspf=0;if(e.fP()){var f=e.MT(A),N=QZ.eIG(f);A.tP(N);e.add.SoLd.placed.v=N.id}e.u_(A);
var Y=e.getName(),l=Y.length;while(48<=Y.charCodeAt(l-1)&&Y.charCodeAt(l-1)<=57)l--;var h=parseInt(Y.slice(l));
if(isNaN(h)){if(Y.endsWith(" copy")){h=1;s=Y.slice(0,Y.length-5)}else{h=0;s=Y}}else if(Y.slice(0,l).endsWith(" copy ")){h=h;
s=Y.slice(0,l-6)}else{h=0;s=Y}h++;while(!0){J=s+" copy"+(h==1?"":" "+h);if(M[J]==null)break;h++}if(Y=="Background"&&M["Layer 1"]==null)J="Layer 1";
if(d!=!0)e.Hv(J);M[J]=!0;P.push(e)}return P};QZ.eIG=function(p){return{id:QZ.Ex()+p.id.slice(8),buffer:Z.clone(p.buffer),rect:p.rect.clone(),g:p.g?p.g.clone():null}};
QZ.eeQ=function(p){return{id:p,rect:new R,buffer:Z.p(1),g:new V.dK}};QZ.zb=function(p,d){if(d==null)d={vmsk:new V.mK};
if(d.vogk==null){d.vogk=[];var K=Z.e.vB(d.vmsk.Z);for(var A=0;A<K;A++)d.vogk.push(Z.B$.MS())}return{name:p,_W:0,add:d}};
QZ.prototype.zu=function(p){var d=[],K=[],A=this,G=0;for(var x=1;x<A.uE.length;x++){var M=A.uE[x];M._W=-1-x;
d.push(M);if(A.wV.indexOf(x)!=-1)K.push(d.length-1)}if(A.uE[0].add.vmsk.Z.length>2){var M=A.uE[0];M._W=-1;
d.push(M);if(A.wV.indexOf(0)!=-1)K.push(d.length-1)}var D=A.BJ==null;if(D)A.BJ=[];for(var x=A.Y.length-1;
x>=0;x--){var P=A.L[A.Y[x]],a=P.add.TySh;if(P.add.vmsk!=null&&(P.BC||P.ti())){var M=QZ.zb("\""+P.getName()+"\" Shape Path",P.add);
M._W=A.Y[x];d.push(M);if(D)A.BJ.push(G);if(A.BJ.indexOf(G)!=-1)K.push(d.length-1);G++}if(p!=!0&&a&&a.add&&Z.Fl.Ab(a._u)){var M=QZ.zb("\""+P.getName().slice(0,10)+"..\" Text Path",a.add);
M._W=1e6+A.Y[x];d.push(M);K.push(d.length-1);G++}}if(K.length==0&&p){A.uE[0]._W=-1;A.wV=[0];K.push(d.length);
d.push(A.uE[0])}return[d,K]};QZ.prototype.Uu=function(p,d){var K=[],A=this.root.AX(p);if(A)A.eew(K,d);
return K};QZ.prototype.ZF=function(){this.root.XN(this,new R(0,0,this.t,this.D),32)};QZ.prototype.Wz=function(p){for(var d=0;
d<this.L.length;d++){var K=this.L[d];if(p.indexOf(K)==-1){K.T.eK_();K.i()}}this.L=p.slice(0);this.ao()};
QZ.prototype.ao=function(){var p=this.L,d=p.length;this.root=new Mb;var K=this.sP();K.yk="pass";K.add.lsct=ew.rK;
var A=this.dN(),x=[A];for(var M=0;M<d;M++)x.push(p[M]);x.push(K);this.root.epM(x,0,0);if(this.Y.length==0)this.Y=[d-1]};
QZ.prototype.$a=function(){if(this.Y.length!=1)return;var p=this.root.AX(this.Y[0]);while(p.parent!=null){var d=p.parent.o;
d.add.lsct=ew.rK;p=p.parent}this.nw=this.eEb=!0};QZ.$q=function(p,d,K,A,x){var M={__name:"Make",classID:"Mk",Nw:{t:"Objc",v:{classID:"Dcmn",Nm:{t:"TEXT",v:A},Md:{t:"type",v:{classID:"RGBM"}},Wdth:{t:"UntF",v:{type:"#Rlt",val:p}},Hght:{t:"UntF",v:{type:"#Rlt",val:d}},Rslt:{t:"UntF",v:{type:"#Rsl",val:K}},pixelScaleFactor:{t:"doub",v:1},Fl:{t:"enum",v:{Fl:x}},Dpth:{t:"long",v:8},profile:{t:"TEXT",v:"sRGB IEC61966-2.1"}}}};
return{LG:"make",Qz:M}};QZ.euM=function(p,d){var K=0,A=0,x=72,M=d.eEd,G=p.preset&&p.preset.v=="Clipboard";
if(G){K=M.t;A=M.D}else{K=p.Wdth.v.val;A=p.Hght.v.val;x=p.Rslt.v.val}var D=new QZ((p.Nm?p.Nm.v:Qc.get([11,7]))+".psd");
D.t=K;D.D=A;D.Bk=x;var P=D.sP();P.Hv("Background");D.Wz([P]);P.add.lspf=1<<2;var a=p.Fl?p.Fl.v.Fl:"Wht";
if(a!="Trns"){var e=d.Le;e=(e&255)<<16|(e>>>8&255)<<8|e>>>16;P.rect=new R(0,0,K,A);P.buffer=Z.p(K*A*4);
Z.Pk(P.buffer,{Wht:4294967295,BckC:255<<24|e}[a])}D.buffer=Z.p(K*A*4);return D};function ng(p){this._b=p;
this.v=0;this.J=new QP(0,0);this.GU=[1,1,1];this.W=new R(0,0,1,1);this.bu=new R(0,0,p.t,p.D);this.yg=null;
this.LS=null;this.DG=new Uint32Array(0);this.AD=null;this.Hb=null;this.OS=Z.p(0);this.WU=null;this.$T=null}ng.prototype.FT=function(p,d){var K=Math.round((this.W.t-this._b.t*this.v)/2+this.J.x),A=Math.round((this.W.D-this._b.D*this.v)/2+this.J.y),x=(p-K)/this.v,M=(d-A)/this.v;
return new QP(x,M)};ng.prototype.RI=function(p,d){var K=Math.round((this.W.t-this._b.t*this.v)/2+this.J.x),A=Math.round((this.W.D-this._b.D*this.v)/2+this.J.y),x=p*this.v+K,M=d*this.v+A;
return new QP(x,M)};ng.prototype.sZ=function(){var p=this._b,d=this.v,K=this.W.t,A=this.W.D,x=Math.floor(p.t*d),M=Math.floor(p.D*d);
if(d<.99){var G=Z.fv(null,new R(0,0,p.t,p.D),d).rect;x=G.t;M=G.D}return new R(Math.round((K-x)/2+this.J.x),Math.round((A-M)/2+this.J.y),x,M)};
ng.prototype.Zz=function(){var p=this._b,d=this,K=1/d.v,A=this.sZ();return new R(Math.floor((d.W.x-A.x)*K),Math.floor((d.W.y-A.y)*K),Math.ceil(d.W.t*K)+1,Math.ceil(d.W.D*K)+1)};
function QG(){}QG.order="ebbl FrFX IrSh IrGl ChFX SoFi GrFl patternFill OrGl DrSh".split(" ");QG.mV="ebblMulti frameFXMulti innerShadowMulti IrGlMulti ChFXMulti solidFillMulti gradientFillMulti patternFillMulti OrGlMulti dropShadowMulti".split(" ");
QG.names=[[14,4],[14,9],[14,1],[14,3],[14,8],[14,5],[14,6],[14,7],[14,2],[14,0]];QG.ePK=["DrSh","IrSh","SoFi","GrFl","FrFX"];
QG.Za=["Clr"];QG.xM="Grad Rvrs Type Algn Angl Dthr Scl Ofst".split(" ");QG.xU=["Ptrn","Scl","Algn","phase"];
QG.gR={zU:"{\"t\":\"Objc\",\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":255,\"t\":\"doub\"},\"Grn\":{\"v\":0,\"t\":\"doub\"},\"Bl\":{\"v\":0,\"t\":\"doub\"}}}",eBh:"{\"t\":\"Objc\",\"v\":{\"classID\":\"Grdn\",\"Nm\":{\"v\":\"Two Color\",\"t\":\"TEXT\"},\"GrdF\":{\"v\":{\"GrdF\":\"CstS\"},\"t\":\"enum\"},\"Intr\":{\"v\":4096,\"t\":\"doub\"},\"Clrs\":{\"v\":[{\"v\":{\"classID\":\"Clrt\",\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":0,\"t\":\"doub\"},\"Grn\":{\"v\":0,\"t\":\"doub\"},\"Bl\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},\"Type\":{\"v\":{\"Clry\":\"UsrS\"},\"t\":\"enum\"},\"Lctn\":{\"v\":0,\"t\":\"long\"},\"Mdpn\":{\"v\":50,\"t\":\"long\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"Clrt\",\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":255,\"t\":\"doub\"},\"Grn\":{\"v\":255,\"t\":\"doub\"},\"Bl\":{\"v\":255,\"t\":\"doub\"}},\"t\":\"Objc\"},\"Type\":{\"v\":{\"Clry\":\"UsrS\"},\"t\":\"enum\"},\"Lctn\":{\"v\":4096,\"t\":\"long\"},\"Mdpn\":{\"v\":50,\"t\":\"long\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"},\"Trns\":{\"v\":[{\"v\":{\"classID\":\"TrnS\",\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},\"Lctn\":{\"v\":0,\"t\":\"long\"},\"Mdpn\":{\"v\":50,\"t\":\"long\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"TrnS\",\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},\"Lctn\":{\"v\":4096,\"t\":\"long\"},\"Mdpn\":{\"v\":50,\"t\":\"long\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"}}}",eOJ:"{\"t\":\"Objc\",\"v\":{\"classID\":\"Grdn\",\"Nm\":{\"v\":\"Foreground to Background\",\"t\":\"TEXT\"},\"GrdF\":{\"t\":\"enum\",\"v\":{\"GrdF\":\"CstS\"}},\"Intr\":{\"t\":\"doub\",\"v\":4096},\"Clrs\":{\"t\":\"VlLs\",\"v\":[{\"t\":\"Objc\",\"v\":{\"classID\":\"Clrt\",\"Type\":{\"t\":\"enum\",\"v\":{\"Clry\":\"FrgC\"}},\"Lctn\":{\"t\":\"long\",\"v\":0},\"Mdpn\":{\"t\":\"long\",\"v\":50}}},{\"t\":\"Objc\",\"v\":{\"classID\":\"Clrt\",\"Type\":{\"t\":\"enum\",\"v\":{\"Clry\":\"BckC\"}},\"Lctn\":{\"t\":\"long\",\"v\":4096},\"Mdpn\":{\"t\":\"long\",\"v\":50}}}]},\"Trns\":{\"t\":\"VlLs\",\"v\":[{\"t\":\"Objc\",\"v\":{\"classID\":\"TrnS\",\"Opct\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":100}},\"Lctn\":{\"t\":\"long\",\"v\":0},\"Mdpn\":{\"t\":\"long\",\"v\":50}}},{\"t\":\"Objc\",\"v\":{\"classID\":\"TrnS\",\"Opct\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":100}},\"Lctn\":{\"t\":\"long\",\"v\":4096},\"Mdpn\":{\"t\":\"long\",\"v\":50}}}]}}}",Zh:"{\"t\":\"Objc\",\"v\":{\"classID\":\"Ptrn\",\"Nm\":{\"v\":\"orangeslices\",\"t\":\"TEXT\"},\"Idnt\":{\"v\":\"c7acb22a-47a6-11de-919a-bf574370eaaf\",\"t\":\"TEXT\"}}}"};
QG.gR.zU="\"Clr\": "+QG.gR.zU;QG.gR.k="\"Grad\":"+QG.gR.eBh+",\"Rvrs\":{\"v\":false,\"t\":\"bool\"},\"Type\":{\"v\":{\"GrdT\":\"Lnr\"},\"t\":\"enum\"},\"Algn\":{\"v\":true,\"t\":\"bool\"},\"Angl\":{\"v\":{\"type\":\"#Ang\",\"val\":90},\"t\":\"UntF\"},\"Scl\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},\"Ofst\":{\"v\":{\"classID\":\"Pnt\",\"Hrzn\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"Vrtc\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"}},\"t\":\"Objc\"},\"Dthr\":{\"v\":false,\"t\":\"bool\"}";
QG.gR.Zh="\"Ptrn\":"+QG.gR.Zh+",\"Scl\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},\"Algn\":{\"v\":true,\"t\":\"bool\"},\"phase\":{\"v\":{\"classID\":\"Pnt\",\"Hrzn\":{\"v\":0,\"t\":\"doub\"},\"Vrtc\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"}";
QG.default="{ \"classID\": \"null\", \"Scl\": {\"t\": \"UntF\", \"v\": { \"type\": \"#Prc\",\"val\": 100} }, \"masterFXSwitch\": {\"t\": \"bool\",\"v\": true} }";
QG.oA=["{\"classID\":\"ebbl\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"hglM\":{\"t\":\"enum\",\"v\":{\"BlnM\":\"Scrn\"}},\"hglC\":{\"t\":\"Objc\",\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"t\":\"doub\",\"v\":255},\"Grn\":{\"t\":\"doub\",\"v\":255},\"Bl\":{\"t\":\"doub\",\"v\":255}}},\"hglO\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":75}},\"sdwM\":{\"t\":\"enum\",\"v\":{\"BlnM\":\"Mltp\"}},\"sdwC\":{\"t\":\"Objc\",\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"t\":\"doub\",\"v\":0},\"Grn\":{\"t\":\"doub\",\"v\":0},\"Bl\":{\"t\":\"doub\",\"v\":0}}},\"sdwO\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":75}},\"bvlT\":{\"t\":\"enum\",\"v\":{\"bvlT\":\"SfBL\"}},\"bvlS\":{\"t\":\"enum\",\"v\":{\"BESl\":\"InrB\"}},\"uglg\":{\"t\":\"bool\",\"v\":true},\"lagl\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Ang\",\"val\":120}},\"Lald\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Ang\",\"val\":30}},\"srgR\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":100}},\"blur\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Pxl\",\"val\":5}},\"bvlD\":{\"t\":\"enum\",\"v\":{\"BESs\":\"In\"}},\"TrnS\":{\"t\":\"Objc\",\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"t\":\"TEXT\",\"v\":\"Linear\"},\"Crv\":{\"t\":\"VlLs\",\"v\":[{\"t\":\"Objc\",\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"t\":\"doub\",\"v\":0},\"Vrtc\":{\"t\":\"doub\",\"v\":0}}},{\"t\":\"Objc\",\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"t\":\"doub\",\"v\":255},\"Vrtc\":{\"t\":\"doub\",\"v\":255}}}]}}},\"antialiasGloss\":{\"t\":\"bool\",\"v\":false},\"Sftn\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Pxl\",\"val\":0}},\"useShape\":{\"t\":\"bool\",\"v\":false},\"MpgS\":{\"t\":\"Objc\",\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"t\":\"TEXT\",\"v\":\"Linear\"},\"Crv\":{\"t\":\"VlLs\",\"v\":[{\"t\":\"Objc\",\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"t\":\"doub\",\"v\":0},\"Vrtc\":{\"t\":\"doub\",\"v\":0}}},{\"t\":\"Objc\",\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"t\":\"doub\",\"v\":255},\"Vrtc\":{\"t\":\"doub\",\"v\":255}}}]}}},\"AntA\":{\"t\":\"bool\",\"v\":false},\"Inpr\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":28}},\"useTexture\":{\"t\":\"bool\",\"v\":false},\"InvT\":{\"t\":\"bool\",\"v\":false},\"Algn\":{\"t\":\"bool\",\"v\":true},\"Scl\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":100}},\"textureDepth\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":100}},\"Ptrn\":{\"t\":\"Objc\",\"v\":{\"classID\":\"Ptrn\",\"Nm\":{\"t\":\"TEXT\",\"v\":\"orangeslices\"},\"Idnt\":{\"t\":\"TEXT\",\"v\":\"c7acb22a-47a6-11de-919a-bf574370eaaf\"}}},\"phase\":{\"t\":\"Objc\",\"v\":{\"classID\":\"Pnt\",\"Hrzn\":{\"t\":\"doub\",\"v\":0},\"Vrtc\":{\"t\":\"doub\",\"v\":0}}}}","{\"classID\":\"FrFX\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Nrml\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},\"Styl\":{\"v\":{\"FStl\":\"OutF\"},\"t\":\"enum\"},\"PntT\":{\"v\":{\"FrFl\":\"SClr\"},\"t\":\"enum\"},\"Sz\":{\"v\":{\"type\":\"#Pxl\",\"val\":3},\"t\":\"UntF\"},"+QG.gR.zU+","+QG.gR.k+","+QG.gR.Zh+"}","{\"classID\":\"IrSh\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Mltp\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\": 75},\"t\":\"UntF\"},\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":0,\"t\":\"doub\"},\"Grn\":{\"v\":0,\"t\":\"doub\"},\"Bl\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},\"uglg\":{\"v\":true,\"t\":\"bool\"},\"lagl\":{\"v\":{\"type\":\"#Ang\",\"val\":120},\"t\":\"UntF\"},\"Dstn\":{\"v\":{\"type\":\"#Pxl\",\"val\":5},\"t\":\"UntF\"},\"Ckmt\":{\"v\":{\"type\":\"#Pxl\",\"val\":0},\"t\":\"UntF\"},\"blur\":{\"v\":{\"type\":\"#Pxl\",\"val\":5},\"t\":\"UntF\"},\"Nose\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"AntA\":{\"v\":false,\"t\":\"bool\"},\"TrnS\":{\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"v\":\"Linear\",\"t\":\"TEXT\"},\"Crv\":{\"v\":[{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":0,\"t\":\"doub\"},\"Vrtc\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":255,\"t\":\"doub\"},\"Vrtc\":{\"v\":255,\"t\":\"doub\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"}},\"t\":\"Objc\"}}","{\"classID\":\"IrGl\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Scrn\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\": 75},\"t\":\"UntF\"},\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":255,\"t\":\"doub\"},\"Grn\":{\"v\":255,\"t\":\"doub\"},\"Bl\":{\"v\":189.99710083007812,\"t\":\"doub\"}},\"t\":\"Objc\"},\"GlwT\":{\"v\":{\"BETE\":\"SfBL\"},\"t\":\"enum\"},\"Ckmt\":{\"v\":{\"type\":\"#Pxl\",\"val\":0},\"t\":\"UntF\"},\"blur\":{\"v\":{\"type\":\"#Pxl\",\"val\":5},\"t\":\"UntF\"},\"ShdN\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"Nose\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"AntA\":{\"v\":false,\"t\":\"bool\"},\"glwS\":{\"v\":{\"IGSr\":\"SrcE\"},\"t\":\"enum\"},\"TrnS\":{\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"v\":\"Linear\",\"t\":\"TEXT\"},\"Crv\":{\"v\":[{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":0,\"t\":\"doub\"},\"Vrtc\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":255,\"t\":\"doub\"},\"Vrtc\":{\"v\":255,\"t\":\"doub\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"}},\"t\":\"Objc\"},\"Inpr\":{\"v\":{\"type\":\"#Prc\",\"val\":50},\"t\":\"UntF\"}}","{\"classID\":\"ChFX\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Mltp\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\": 50},\"t\":\"UntF\"},\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":0,\"t\":\"doub\"},\"Grn\":{\"v\":0,\"t\":\"doub\"},\"Bl\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},\"AntA\":{\"v\":false,\"t\":\"bool\"},\"Invr\":{\"v\":true,\"t\":\"bool\"},\"lagl\":{\"v\":{\"type\":\"#Ang\",\"val\":19},\"t\":\"UntF\"},\"Dstn\":{\"v\":{\"type\":\"#Pxl\",\"val\":11},\"t\":\"UntF\"},\"blur\":{\"v\":{\"type\":\"#Pxl\",\"val\":14},\"t\":\"UntF\"},\"MpgS\":{\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"v\":\"Gaussian\",\"t\":\"TEXT\"},\"Crv\":{\"v\":[{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":0,\"t\":\"doub\"},\"Vrtc\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":32,\"t\":\"doub\"},\"Vrtc\":{\"v\":7,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":64,\"t\":\"doub\"},\"Vrtc\":{\"v\":38,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":96,\"t\":\"doub\"},\"Vrtc\":{\"v\":101,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":128,\"t\":\"doub\"},\"Vrtc\":{\"v\":166,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":159,\"t\":\"doub\"},\"Vrtc\":{\"v\":209,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":191,\"t\":\"doub\"},\"Vrtc\":{\"v\":235,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":223,\"t\":\"doub\"},\"Vrtc\":{\"v\":248,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":255,\"t\":\"doub\"},\"Vrtc\":{\"v\":255,\"t\":\"doub\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"}},\"t\":\"Objc\"}}","{\"classID\":\"SoFi\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Nrml\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},"+QG.gR.zU+"}","{\"classID\":\"GrFl\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Nrml\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},"+QG.gR.k+"}","{\"classID\":\"patternFill\",\"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Nrml\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},"+QG.gR.Zh+"}","{\"classID\":\"OrGl\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Scrn\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\": 75},\"t\":\"UntF\"},\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":255,\"t\":\"doub\"},\"Grn\":{\"v\":255,\"t\":\"doub\"},\"Bl\":{\"v\":189.99710083007812,\"t\":\"doub\"}},\"t\":\"Objc\"},\"GlwT\":{\"v\":{\"BETE\":\"SfBL\"},\"t\":\"enum\"},\"Ckmt\":{\"v\":{\"type\":\"#Pxl\",\"val\":0},\"t\":\"UntF\"},\"blur\":{\"v\":{\"type\":\"#Pxl\",\"val\":5},\"t\":\"UntF\"},\"Nose\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"ShdN\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"AntA\":{\"v\":false,\"t\":\"bool\"},\"TrnS\":{\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"v\":\"Linear\",\"t\":\"TEXT\"},\"Crv\":{\"v\":[{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":0,\"t\":\"doub\"},\"Vrtc\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":255,\"t\":\"doub\"},\"Vrtc\":{\"v\":255,\"t\":\"doub\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"}},\"t\":\"Objc\"},\"Inpr\":{\"v\":{\"type\":\"#Prc\",\"val\":50},\"t\":\"UntF\"}}","{\"classID\":\"DrSh\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Mltp\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\": 57},\"t\":\"UntF\"},\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":0,\"t\":\"doub\"},\"Grn\":{\"v\":0,\"t\":\"doub\"},\"Bl\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},\"uglg\":{\"v\":true,\"t\":\"bool\"},\"lagl\":{\"v\":{\"type\":\"#Ang\",\"val\":120},\"t\":\"UntF\"},\"Dstn\":{\"v\":{\"type\":\"#Pxl\",\"val\":27},\"t\":\"UntF\"},\"Ckmt\":{\"v\":{\"type\":\"#Pxl\",\"val\":0},\"t\":\"UntF\"},\"blur\":{\"v\":{\"type\":\"#Pxl\",\"val\":13},\"t\":\"UntF\"},\"Nose\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"AntA\":{\"v\":false,\"t\":\"bool\"},\"TrnS\":{\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"v\":\"Line\xE1rn\xED\",\"t\":\"TEXT\"},\"Crv\":{\"v\":[{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":0,\"t\":\"doub\"},\"Vrtc\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":255,\"t\":\"doub\"},\"Vrtc\":{\"v\":255,\"t\":\"doub\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"}},\"t\":\"Objc\"},\"layerConceals\":{\"v\":true,\"t\":\"bool\"}}"];
QG.k={types:"Lnr Rdl Angl Rflc Dmnd shapeburst".split(" "),names:[[19,0,0],[19,0,1],[19,0,2],[19,0,3],[19,0,4],[19,0,5]]};
QG.stroke={types:["InsF","CtrF","OutF"],names:[[19,5,2],[19,5,1],[19,5,0]],$h:["SClr","GrFl","Ptrn"],euw:[[13,0],[12,37],[12,62]]};
QG.sr={types:["SfBL","PrBL"],names:[[19,1,0],[19,1,1]],eKO:["SrcC","SrcE"],eu$:[[19,5,1],[12,69]]};QG.tm={types:["OtrB","InrB","Embs","PlEb","strokeEmboss"],style:[[19,2,0],[19,2,1],[19,2,2],[19,2,3],[19,2,4]],euI:["SfBL","PrBL","Slmt"],euF:[[19,3,0],[19,3,1],[19,3,2]],dir:[[19,4,0],[19,4,1]]};
QG.Wh={zR:["strokeStyleButtCap","strokeStyleRoundCap","strokeStyleSquareCap"],zW:["strokeStyleAlignInside","strokeStyleAlignCenter","strokeStyleAlignOutside"],join:["strokeStyleMiterJoin","strokeStyleRoundJoin","strokeStyleBevelJoin"],XJ:["solidColorLayer","gradientLayer","patternLayer"],default:{classID:"strokeStyle",strokeStyleVersion:{t:"long",v:2},strokeEnabled:{t:"bool",v:!1},fillEnabled:{t:"bool",v:!0},strokeStyleLineWidth:{t:"UntF",v:{type:"#Pnt",val:4.38}},strokeStyleLineDashOffset:{t:"UntF",v:{type:"#Pnt",val:0}},strokeStyleMiterLimit:{t:"doub",v:100},strokeStyleLineCapType:{t:"enum",v:{strokeStyleLineCapType:"strokeStyleButtCap"}},strokeStyleLineJoinType:{t:"enum",v:{strokeStyleLineJoinType:"strokeStyleMiterJoin"}},strokeStyleLineAlignment:{t:"enum",v:{strokeStyleLineAlignment:"strokeStyleAlignCenter"}},strokeStyleScaleLock:{t:"bool",v:!1},strokeStyleStrokeAdjust:{t:"bool",v:!1},strokeStyleLineDashSet:{t:"VlLs",v:[]},strokeStyleBlendMode:{t:"enum",v:{BlnM:"Nrml"}},strokeStyleOpacity:{t:"UntF",v:{type:"#Prc",val:100}},strokeStyleContent:{t:"Objc",v:JSON.parse("{\"classID\":\"solidColorLayer\","+QG.gR.zU+"}")},strokeStyleResolution:{t:"doub",v:72}}};
QG.Pr=[{classID:"null",Clr:JSON.parse(QG.oA[5]).Clr},{classID:"null",Grad:JSON.parse(QG.oA[6]).Grad,Dthr:{t:"bool",v:!1},Rvrs:{t:"bool",v:!1},Angl:{t:"UntF",v:{type:"#Ang",val:60}},Type:{t:"enum",v:{GrdT:"Lnr"}},Algn:{t:"bool",v:!0},Scl:{t:"UntF",v:{type:"#Prc",val:100}},Ofst:{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"UntF",v:{type:"#Prc",val:0}},Vrtc:{t:"UntF",v:{type:"#Prc",val:0}}}}},{classID:"null",Ptrn:JSON.parse(QG.oA[7]).Ptrn,Algn:{v:!0,t:"bool"},Scl:{v:{type:"#Prc",val:100},t:"UntF"},phase:{v:{classID:"Pnt",Hrzn:{v:0,t:"doub"},Vrtc:{v:0,t:"doub"}},t:"Objc"}}];
var QL={};QL.esh=function(p,d,K){if(p.kQ())return;var A=Z.e.eEk(p.Z);A.x=Math.floor(A.x*d);A.t=Math.ceil(A.t*d);
A.y=Math.floor(A.y*K);A.D=Math.ceil(A.D*K);p.rect=A;p.channel=Z.p(A.r());Z.Iy.width=A.t;Z.Iy.height=A.D;
var x=Z.W;x.fillStyle="#ffffff";Z.e.ewS(x,p.Z,d,K,-A.x,-A.y);x.fill();var M=x.getImageData(0,0,A.t,A.D).data;
Z.$m(M,p.channel,3)};QL.$s=function(p,d){function K(p,Y){if(p==null)return null;var l=p[Y].v,h;if(l.length!=0){h=l[0].v;
if(!h.enab.v)h=null}return h}var A=d.SoCo,x=d.GdFl,M=K(p,"solidFillMulti"),G=K(p,"gradientFillMulti");
if(M==null&&G==null)return[A,x];var D=QL.euz;if(A&&M&&G==null){var P=JSON.parse(JSON.stringify(A));P.Clr.v=D(M.Clr.v,A.Clr.v,M);
return[P,null]}if(x&&M&&G==null){var a=JSON.parse(JSON.stringify(x)),e=a.Grad.v.Clrs.v;for(var f=0;f<e.length;
f++){var N=e[f].v.Clr;N.v=D(M.Clr.v,N.v,M)}return[null,a]}if(A&&G){var a=JSON.parse(JSON.stringify(G)),e=a.Grad.v.Clrs.v;
for(var f=0;f<e.length;f++){var N=e[f].v.Clr;N.v=D(N.v,A.Clr.v,G)}return[null,a]}return[M,G]};QL.eu_={Uq:Z.p(4),iG:Z.p(4),N:new R(0,0,1,1)};
QL.euz=function(p,d,K){var A=eE.UW(K.Md.v.BlnM),x=K.Opct.v.val/100,M=QL.eu_;p=Z.k.iz(p);d=Z.k.iz(d);
M.Uq[0]=p.N;M.Uq[1]=p.w;M.Uq[2]=p.M;M.Uq[3]=255;M.iG[0]=d.N;M.iG[1]=d.w;M.iG[2]=d.M;M.iG[3]=255;Z.h.gQ(A,M.Uq,M.N,M.iG,M.N,M.N,x);
return{classID:"RGBC",Rd:{t:"doub",v:M.iG[0]},Grn:{t:"doub",v:M.iG[1]},Bl:{t:"doub",v:M.iG[2]}}};QL.eIO=function(p,d,K){var A=p;
p=p.slice(0);var x=eE.ok[eE.Uh.indexOf(d.Md.v.BlnM)],M=Z.k.iz(d.Clr.v),G=4278190080|Math.round(M.M)<<16|Math.round(M.w)<<8|Math.round(M.N),D=Z.p(K.r()*4);
Z.Pk(D,G);Z.h.gQ(x,D,K,p,K,K,d.Opct.v.val/100);for(var P=0;P<p.length;P+=4)p[P+3]=A[P+3];return p};QL.eau=function(p,d){var K=["Sz","blur","Sftn","Dstn"];
for(var A=0;A<QG.order.length;A++){var x=QG.order[A],M=p[QG.mV[A]].v;for(var G=0;G<M.length;G++){var D=M[G].v;
for(var P=0;P<K.length;P++){var a=D[K[P]];if(a){var e=a.v.val,f=e;f=Math.max(e==0?0:1,f*d);if(x=="ChFX")f=Math.min(f,250);
if(x=="ebbl"){if(K[P]=="blur")f=Math.min(f,250);if(K[P]=="Sftn")f=Math.min(f,16)}a.v.val=Math.round(f)}}if(x=="ebbl"||x=="patternFill"||x=="FrFX")if(D.Ptrn&&D.Scl)D.Scl.v.val=Math.max(1,Math.min(1e3,D.Scl.v.val*d))}}};
QL.euh=function(p,d){var K=new R(-.5,-.5,1,1),A=p.add.lmfx;for(var x=0;x<QG.order.length;x++){var M=QG.order[x],G=A[QG.mV[x]].v;
for(var D=0;D<G.length;D++){var P=G[D].v,N;if(!P.enab.v)continue;var a=P.blur?P.blur.v.val+1:0,e=P.Ckmt?P.Ckmt.v.val/100:0,f=Math.round(a*e);
if(M=="DrSh"){N=new R(-.5,-.5,1,1);N.WJ(a,a);QL.UD(N,P,d,0)}if(M=="OrGl"){N=new R(-.5,-.5,1,1);N.WJ(a,a)}if(M=="FrFX"){var Y=QL.Zd(P)[1];
N=new R(-.5,-.5,1,1);N.WJ(Math.ceil(Y),Math.ceil(Y))}if(M=="ebbl"){var a=P.blur.v.val;if(P.bvlS.v.BESl=="Embs"||P.bvlS.v.BESl=="PlEb")a/=2;
var l=["OtrB","InrB","Embs","PlEb","strokeEmboss"],h=["SfBL","PrBL","Slmt"],s=["In","Out"],J=P.bvlT.v.bvlT!="SfBL"?a:a*.43,u=Math.round(a);
N=new R(-u-.5,-u-.5,2*u+1,2*u+1)}if(N)K=K.ck(N)}}if(K.x!=Math.ceil(K.x)){K.x=Math.ceil(K.x);K.t-=1}if(K.y!=Math.ceil(K.y)){K.y=Math.ceil(K.y);
K.D-=1}return K};QL.Zd=function(p){var d=0,K=0,A=p.Styl.v.FStl,x=p.Sz.v.val;if(A=="OutF")K=x;if(A=="InsF")d=x;
if(A=="CtrF")d=K=x/2;return[d,K]};QL.ePZ=function(p){if(p.all==null)return;for(var d=0;d<p.all.length;
d++){var K=p.all[d];if(K.kr)K.kr.delete();if(K.FS)K.FS.delete();if(K.Fe)K.Fe.delete()}};QL.euy=function(p,d,K,A,x,M,G){QL.ePZ(p);
var D=QL.$o(A,x,d,K,M,G);p.type=D.type,p.all=D.all;if(X.Ug)for(var P=0;P<p.all.length;P++){var a=p.all[P];
a.kr=new X.dY(a.Yy.t,a.Yy.D);a.kr.set(a.nM);delete a.nM;if(a.FG){a.FS=new X._d(a.Yy.t,a.Yy.D);a.FS.set(a.FG);
delete a.FG}if(a.Ft){a.Fe=new X._d(a.Yy.t,a.Yy.D);a.Fe.set(a.Ft);delete a.Ft}}};QL.$o=function(p,d,K,A,x,M){if(M==null)M=A;
var G=0,D=0;for(var P=0;P<QG.order.length;P++){var a=QG.order[P],e=QG.mV[P],f=p[e].v;for(var N=0;N<f.length;
N++){var Y=f[N].v;if(a=="DrSh"&&Y.enab.v&&Y.Ckmt.v.val>0&&Y.blur.v.val>0)G=Math.max(G,Math.ceil(Y.Ckmt.v.val*Y.blur.v.val/100));
if(a=="OrGl"&&Y.enab.v&&Y.Ckmt.v.val>0&&Y.blur.v.val>0&&Y.GlwT.v.BETE=="SfBL")G=Math.max(G,Math.ceil(Y.Ckmt.v.val*Y.blur.v.val/100));
if(a=="OrGl"&&Y.enab.v&&Y.blur.v.val>0&&Y.GlwT.v.BETE=="PrBL")G=Math.max(G,Y.blur.v.val);if(a=="FrFX"&&Y.enab.v&&Y.Sz.v.val>0){if(Y.Styl.v.FStl=="OutF")G=Math.max(G,Y.Sz.v.val);
if(Y.Styl.v.FStl=="CtrF")G=Math.max(G,Math.ceil(Y.Sz.v.val/2));D=Math.max(D,QL.Zd(Y)[1])}}}var l=new QL.aH(K,A,G),h={type:{},all:[]};
for(var s=0;s<QG.order.length;s++){var a=QG.order[s],e=QG.mV[s];h.type[a]=[];for(var J=p[e].v.length-1;
J>=0;J--){var u=p[e].v[J].v;if(!u.enab.v)continue;var Q=u.blur?u.blur.v.val:0,W=u.Ckmt?u.Ckmt.v.val/100:0,q=Q*W;
if(a=="DrSh"){var H=l.sX(q,Q-q,!0),C=H.dw,k=H.m;k.offset(-l.rect().x-1,-l.rect().y-1);QL.sj(C,u,!1);
QL.UD(k,u,x,0);var i=Z.p(k.r()*4);QL.xI(i,u.Clr.v);Z.qF(C,i,3);var m={nM:i,Yy:k,vN:eE.UW(u.Md.v.BlnM),sb:u.Opct.v.val/100,eVp:u.layerConceals.v};
h.type[a].push(m);h.all.push(m)}if(a=="IrSh"){var H=l.sX(q,Q-q,!1);QL.UD(H.m,u,x,0);var k=l.rect().clone(),C=Z.p(k.r());
Z.set(C,255);Z.Qj(H.dw,H.m,C,k);QL.sj(C,u,!0);var i=Z.p(k.r()*4);QL.xI(i,u.Clr.v);Z.qF(C,i,3);k.offset(-l.rect().x-1,-l.rect().y-1);
var m={nM:i,Yy:k,vN:eE.UW(u.Md.v.BlnM),sb:u.Opct.v.val/100};h.type[a].push(m);h.all.push(m)}if(a=="GrFl"){var i=Z.p(l.rect().r()*4);
QL.sl(u,i,l.rect(),x,null,M);var k=l.rect().clone();k.offset(-l.rect().x-1,-l.rect().y-1);var m={nM:i,Yy:k,vN:eE.UW(u.Md.v.BlnM),sb:u.Opct.v.val/100};
h.type[a].push(m);h.all.push(m)}if(a=="SoFi"){var i=Z.p(l.dw().length*4);QL.xI(i,u.Clr.v);var k=l.rect().clone();
k.offset(-l.rect().x-1,-l.rect().y-1);var m={nM:i,Yy:k,vN:eE.UW(u.Md.v.BlnM),sb:u.Opct.v.val/100};h.type[a].push(m);
h.all.push(m)}if(a=="ebbl"){var w=!1,$=1;if(w)console.log(u);var S=Date.now(),o=u.bvlS.v.BESl;if(o=="strokeEmboss"){var O=p.frameFXMulti.v;
if(O.length==0)continue;O=O[0].v;if(!O.enab.v)continue;var t=O.Styl.v.FStl;if(t=="OutF")o="OtrB";if(t=="CtrF")o="Embs";
if(t=="InsF")o="InrB"}var Q=u.blur.v.val;if(Q==0)Q=.7;if(o=="Embs"||o=="PlEb")Q/=2;var c=["OtrB","InrB","Embs","PlEb","strokeEmboss"],g=["SfBL","PrBL","Slmt"],j=["In","Out"],_=u.bvlT.v.bvlT!="SfBL"?Q:Q*.45,U=Math.round(Q);
Q*=$;_*=$;U*=$;var I=l.rect().clone();I.x*=$;I.y*=$;I.t*=$;I.D*=$;var E=I.clone();E.WJ(U,U);var b=E.t,z=E.D,QS=b*z,QQ=l.rect().t,Qe=l.rect().D,QB=Z.p(QQ*Qe*$*$);
Z.scale.ex(l.dw(),QQ,Qe,QB,QQ*$,Qe*$,$);var QU=Z.p(QS);Z.Qj(QB,I,QU,E);var Qt=new Float64Array(QS),F=new Float64Array(QS);
Z.style.Lf(QU,Qt,b,z);Z.an(QU);Z.style.Lf(QU,F,b,z);if(w)console.log("distTransform computed",Date.now()-S);
var L=F;F=new Float64Array(QS);for(var P=0;P<QS;P++)L[P]=L[P]-Qt[P];for(var P=0;P<QS;P++){var Qu=L[P];
if(Qu<-_)L[P]=-_;else if(Qu>_)L[P]=_}if(w)console.log("summing + cropping",Date.now()-S);if(u.bvlT.v.bvlT=="SfBL"){var QK=Math.pow(Q*.21,1.22);
if(o=="InrB")QK=Math.max(QK,2);Z.blur.Fr(L,Qt,E,QK);var Qm=L;L=Qt;Qt=Qm}if(w)console.log("blurring",Date.now()-S);
var ei=new Float64Array(QS);Z.tM(L,ei);if(u.useShape.v){var Qp=Math.min(100,u.Inpr.v.val+1)/100;if(o!="OtrB"&&o!="InrB")Qp=1;
var QO=Z.uX.eC(u.MpgS.v.Crv.v,2e3),QE=Math.round(2e3/Qp);QO=Z.uX.eR_(QO,QE,o=="InrB");var Qi=.5/_;for(var P=0;
P<QS;P++){var QV=L[P],Q$=.99999*(QV+_)*Qi;L[P]=-_+2*_*QO[~~(Q$*(QE-1))]}if(w)console.log("applying shape",Date.now()-S)}if(u.useTexture.v){var eS=Z.p(b*z*4);
QL.YP(u,eS,E,x,d);var Qs=Z.p(b*z);Z.gC(eS,Qs);var Qw=Z.p(b*z);Z.blur.fl(Qs,Qw,E,1);Qs=Qw;var Q_=Q*u.textureDepth.v.val*(1/100)*(1/255);
if(u.InvT.v)Q_=-Q_;for(var P=0;P<QS;P++)L[P]+=-Q_*Qs[P];if(w)console.log("applying texture",Date.now()-S)}var QN=(u.bvlT.v.bvlT=="SfBL"?1:.5)*(u.bvlD.v.BESs=="In"?1:-1)*u.srgR.v.val/100;
for(var P=0;P<QS;P++)L[P]*=QN;if(w)console.log("scaling",Date.now()-S);var eK=u.uglg&&u.uglg.v?x.zz():u.lagl.v.val;
eK=eK*(Math.PI/180);var Qz=u.uglg&&u.uglg.v?x.UM():u.Lald.v.val;Qz=Qz*(Math.PI/180);var eQ=Math.cos(eK)*Math.cos(Qz),Qd=-Math.sin(eK)*Math.cos(Qz),Qj=Math.sin(Qz),QD=new Float64Array(QS),Qq=new Float64Array(QS),et=o=="PlEb";
for(var P=0;P<z;P++)for(var N=0;N<b;N++){var QC=P*b+N,Qf=-(P==0?L[QC+b]-L[QC]:P==z-1?L[QC]-L[QC-b]:.5*(L[QC+b]-L[QC-b])),QA=-(N==0?L[QC+1]-L[QC]:N==b-1?L[QC]-L[QC-1]:.5*(L[QC+1]-L[QC-1])),Qb=1,MS=1/Math.sqrt(QA*QA+Qf*Qf+1);
QA*=MS;Qf*=MS;Qb*=MS;var QR=QA*eQ+Qf*Qd+Qb*Qj,eG=QR;if(et)eG=-QA*eQ-Qf*Qd+Qb*Qj;if(QR>0)QD[QC]=QR;if(eG>0)Qq[QC]=eG}if(w)console.log("raycasting",Date.now()-S);
if(u.Sftn.v.val!=0){Z.blur.Fr(QD,Qt,E,u.Sftn.v.val*.43);var Qm=Qt,Qt=QD,QD=Qm;if(et){Z.blur.Fr(Qq,Qt,E,u.Sftn.v.val*.43);
var Qm=Qt,Qt=Qq,Qq=Qm}else Z.tM(QD,Qq)}if(w)console.log("softening",Date.now()-S);var QO=Z.uX.eC(u.TrnS.v.Crv.v,1024);
for(var P=0;P<QS;P++){QD[P]=QO[~~(QD[P]*1024)];Qq[P]=QO[~~(Qq[P]*1024)]}if(w)console.log("contour remap",Date.now()-S);
b=Math.round(b/$);z=Math.round(z/$);var MG=Z.p(b*z*4);QL.xI(MG,u.hglC.v);var MM=Z.p(b*z*4);QL.xI(MM,u.sdwC.v);
var MP=Z.p(b*z*4);QL.xI(MP,u.hglC.v);var Mu=Z.p(b*z*4);QL.xI(Mu,u.sdwC.v);var Mm=1/Qj,Mw=1/(1-Qj),Qi=1/_,MU=new Float64Array(1e3);
for(var P=0;P<1e3;P++)MU[P]=Math.pow(P*.001,.2);for(var P=0;P<z;P++)for(var N=0;N<b;N++){var QC=P*b+N,Pp=4*QC+3,Ma=0,MQ=0;
if($==1){Ma=QD[QC];MQ=Qq[QC]}else{var P$=$*$*P*b+$*N;Ma=.25*(QD[P$]+QD[P$+1]+QD[P$+$*b]+QD[P$+$*b+1]);
MQ=.25*(Qq[P$]+Qq[P$+1]+Qq[P$+$*b]+Qq[P$+$*b+1])}var pU=Math.max(0,Math.min(.9999,(ei[QC]+_*.993)*Qi));
pU=MU[Math.floor(pU*1e3)];var pP=pU*(1-Math.min(1,Ma*Mm)),Mr=pU*(1-Math.min(1,(1-Ma)*Mw)),eM=pU*(1-Math.min(1,MQ*Mm)),pS=pU*(1-Math.min(1,(1-MQ)*Mw));
MM[Pp]=Math.round(255*pP);MG[Pp]=Math.round(255*Mr);Mu[Pp]=Math.round(255*eM);MP[Pp]=Math.round(255*pS)}if(w)console.log("baking textures",Date.now()-S);
E=l.rect().clone();E.WJ(U/$,U/$);E.offset(-l.rect().x-1,-l.rect().y-1);var eN={eoN:u.bvlS.v.BESl=="strokeEmboss"};
if(["InrB","Embs","PlEb"].indexOf(o)!=-1){eN.Fp={nM:MG,Yy:E,vN:eE.UW(u.hglM.v.BlnM),sb:u.hglO.v.val/100};
eN.Fn={nM:MM,Yy:E,vN:eE.UW(u.sdwM.v.BlnM),sb:u.sdwO.v.val/100};h.all.push(eN.Fp,eN.Fn)}if(["OtrB","Embs","PlEb"].indexOf(o)!=-1){eN.Fi={nM:MP,Yy:E,vN:eE.UW(u.hglM.v.BlnM),sb:u.hglO.v.val/100};
eN.Fo={nM:Mu,Yy:E,vN:eE.UW(u.sdwM.v.BlnM),sb:u.sdwO.v.val/100};h.all.push(eN.Fi,eN.Fo)}if(w)console.log(Date.now()-S);
h.type[a].push(eN)}if(a=="patternFill"){var Mk=l.rect(),i=Z.p(Mk.r()*4);QL.YP(u,i,Mk,x,d);var k=Mk.clone();
k.offset(-Mk.x-1,-Mk.y-1);var m={nM:i,Yy:k,vN:eE.UW(u.Md.v.BlnM),sb:u.Opct.v.val/100};h.type[a].push(m);
h.all.push(m)}if(a=="ChFX"){var i=Z.p(l.dw().length*4);QL.xI(i,u.Clr.v);var Q=u.blur.v.val,MI=l.rect().clone();
MI.WJ(Q,Q);var ez=Z.p(MI.r()),PK=Z.p(MI.r());Z.Qj(l.dw(),l.rect(),PK,MI);Z.blur.Zt(PK,ez,MI,Q*.43);var eZ=Z.uX.Lq(u.MpgS.v.Crv.v,256,!0);
Z.fz(ez,eZ);var eu=Z.p(l.dw().length),pp=Z.p(l.dw().length),GB=l.rect().clone();QL.UD(GB,u,x,0);Z.Qj(ez,MI,eu,GB);
GB=l.rect().clone();QL.UD(GB,u,x,Math.PI);Z.Qj(ez,MI,pp,GB);var MH=eu.length;for(var P=0;P<MH;P++)i[4*P+3]=Math.abs(eu[P]-pp[P]);
if(u.Invr.v)for(var P=0;P<MH;P++)i[4*P+3]=255-i[4*P+3];var k=l.rect().clone();k.offset(-l.rect().x-1,-l.rect().y-1);
var m={nM:i,Yy:k,vN:eE.UW(u.Md.v.BlnM),sb:u.Opct.v.val/100};h.type[a].push(m);h.all.push(m)}if(a=="OrGl"){var H;
if(u.GlwT.v.BETE=="SfBL")H=l.sX(q,Q-q,!0);else H=l.eUz(Q,W,!0);var C=H.dw,k=H.m,Gi=C.slice(0);QL.epz(C,u);
var i=Z.p(k.r()*4);if(u.Grad==null){QL.xI(i,u.Clr.v);QL.sj(C,u,!1)}else{QL.sj(C,u,null);var e$={HA:C,dE:255,rF:0,wp:k};
QL.sl(u,i,k,x,e$);var Mx=u.Nose.v.val/100,QQ=k.t;for(var P=0;P<Gi.length;P++){var em=255,pe=Gi[P];if(pe<32){var eU=(pe+Gi[P-1]+Gi[P+1]+Gi[P-QQ]+Gi[P+QQ])*.2-1;
em=Math.min(255,Math.round(Math.max(0,eU)*8))}C[P]=em}QL.epu(C,u)}Z.qF(C,i,3);k.offset(-l.rect().x-1,-l.rect().y-1);
var m={nM:i,Yy:k,vN:eE.UW(u.Md.v.BlnM),sb:u.Opct.v.val/100};h.type[a].push(m);h.all.push(m)}if(a=="IrGl"){var H;
if(u.GlwT.v.BETE=="SfBL")H=l.sX(q,Q-q,!1);else H=l.eUz(Q,W,!1);var C=H.dw,k=H.m;QL.epz(C,u);if(u.glwS.v.IGSr=="SrcC")Z.an(C);
var i=Z.p(k.r()*4);if(u.Grad==null){QL.xI(i,u.Clr.v);QL.sj(C,u,!0)}else{QL.sj(C,u,null);var e$={HA:C,dE:255,rF:0,wp:k};
QL.sl(u,i,k,x,e$);Z.set(C,255);QL.epu(C,u)}Z.qF(C,i,3);k.offset(-l.rect().x-1,-l.rect().y-1);var m={nM:i,Yy:k,vN:eE.UW(u.Md.v.BlnM),sb:u.Opct.v.val/100};
h.type[a].push(m);h.all.push(m)}if(a=="FrFX"){var MZ=QL.Zd(u),ep=MZ[0],tN=MZ[1],k=l.rect().clone(),pM=null,BS=null;
k.WJ(Math.ceil(D),Math.ceil(D));if(tN>0){var H=l.sX(tN,0,!0);BS=H.dw;if(BS.length<k.r()){BS=Z.p(k.r());
Z.Qj(H.dw,H.m,BS,k)}}if(ep>0){var H=l.sX(ep,0,!1);pM=Z.p(k.r());Z.set(pM,255);Z.Qj(H.dw,H.m,pM,k)}k.offset(-l.rect().x-1,-l.rect().y-1);
var i=Z.p(k.r()*4),Pc=u.PntT.v.FrFl;if(Pc=="SClr")QL.xI(i,u.Clr.v);if(Pc=="GrFl")QL.sl(u,i,k,x,l.eHH(ep,tN));
if(Pc=="Ptrn")QL.YP(u,i,k,x,d);var m={nM:i,Yy:k,vN:eE.UW(u.Md.v.BlnM),sb:u.Opct.v.val/100,Ft:BS,FG:pM};
h.type[a].push(m);h.all.push(m)}}}return h};QL.Iu=function(p){var d=1/Math.sqrt(p.x*p.x+p.y*p.y+p.zS*p.zS);
p.x*=d;p.y*=d;p.zS*=d};QL.eou=function(p,d){return{x:p.y*d.zS-p.zS*d.y,y:p.zS*d.x-p.x*d.zS,zS:p.x*d.y-p.y*d.x}};
QL.eoc=function(p,d){return p.x*d.x+p.y*d.y+p.zS*d.zS};QL.epu=function(p,d){var K=d.Nose.v.val/100;if(K>0)for(var A=0;
A<p.length;A++){var x=p[A];x=Math.min(510-(1+K)*Z.style.ZP(A),x);p[A]=x}};QL.kA=function(p){var d=QL.sY(),K=p.e_,A=!1;
for(var x=0;x<32;x+=8)if(K[x]+K[x+1]+K[4]+K[5]!=0||K[x+2]+K[x+3]+K[6]+K[7]!=1020)A=!0;if(A){K=K.slice(0);
for(var x=0;x<40;x+=4){var M=K[x]/255,G=K[x+1]/255,D=K[x+2]/255,P=K[x+3]/255;K[x]=M-1e-4;K[x+1]=M==G?1e9:1/(G-(M-1e-4));
K[x+2]=D==P?-1e9:1/(D-(P+1e-4));K[x+3]=P+1e-4}}var a=p.add.iOpa!=null?p.add.iOpa/255:d.fill,e=p.add.vstk;
if(e&&!e.fillEnabled.v&&(!e.strokeEnabled.v||e.strokeStyleLineWidth.v.val==0))a=0;return{fill:a,qT:A?K:null,eVb:p.add.brst!=null?p.add.brst:d.eVb,ecL:p.add.knko!=null?p.add.knko:d.ecL,style:!1,qy:!1}};
QL.sY=function(){return{fill:1,qT:null,eVb:[1,1,1],ecL:0,style:!1,qy:!1}};QL.xc=function(p,d){if(d==null)return null;
var K=p.Idnt.v,A=null;for(var x=0;x<d.length;x++)if(d[x].id==K)return d[x];return null};QL.eUR=function(p,d,K){var A=["patternFillMulti","ebblMulti","frameFXMulti"];
for(var x=0;x<A.length;x++){var M=p.v[A[x]].v;for(var G=0;G<M.length;G++)if(M[G].v.Ptrn)d.zI(QL.xc(M[G].v.Ptrn.v,K))}};
QL.eHS=function(p,d,K){var A=["patternFillMulti","ebblMulti","frameFXMulti"];for(var x=0;x<A.length;
x++){var M=p.v[A[x]].v;for(var G=0;G<M.length;G++)if(M[G].v.Ptrn){var D=M[G].v.Ptrn.v,P=QL.xc(D,K),a=QL.xc(D,d.add.Patt);
if(P==null&&a)K.push(a)}}};QL.YP=function(p,d,K,A,x){var M=QL.xc(p.Ptrn.v,A.add.Patt);if(M!=null&&!K.kQ()){var G=Z.scale.YP(M.nM,M.m.t,M.m.D),D=p.Scl.v.val/100,P=-K.x+p.phase.v.Hrzn.v-1,a=-K.y+p.phase.v.Vrtc.v-1;
if(p.Algn!=null&&!p.Algn.v){}else{P+=x.x;a+=x.y}Z.scale.e_V(G,d,K.t,K.D,D,D,P+1,a+1)}};QL.sl=function(p,d,K,A,x,M){if(M==null)M=K;
var G=p.Type?p.Type.v.GrdT:"shapeburst",D=p.Algn&&p.Algn.v?M:new R(0,0,A.t,A.D),P=p.Angl?Z.k.OJ(p,D):[new QP(0,0),new QP(100,0)],a=P[0].x,e=P[0].y,f=P[1].x-a,N=P[1].y-e,Y=Math.sqrt(f*f+N*N);
Y=1/(2*Y*Y);var l=[f*Y,N*Y,-N*Y,f*Y],h=p.Rvrs?p.Rvrs.v:!1,s=p.Dthr?p.Dthr.v:!1;Z.k.kg(p.Grad.v,d,K,l,a,e,h,QG.k.types.indexOf(G),0,0,x,s)};
QL.eHt=function(p,d){for(var K=0;K<p.all.length;K++){var A=p.all[K];A.Rz=A.Yy.clone();A.Rz.offset(d.x,d.y)}};
QL.ecU=function(p,d,K,A,x,M){var G=X.Ug?QL.eMh:QL.eQe;QL.eHt(d,K);var D=d.type.DrSh;for(var P=0;P<D.length;
P++)if(!D[P].eVp)G(D[P],A,x,M)};QL.etd=function(p,d,K,A,x,M,G,D,P,a){var e=K,f=X.Ug?QL.eMh:QL.eQe,N=X.Ug?X.h.ox:Z.h.OL,Y;
Y=d.type.DrSh;for(var l=0;l<Y.length;l++)if(Y[l].eVp)f(Y[l],A,x,M);Y=d.type.OrGl;for(var l=0;l<Y.length;
l++)f(Y[l],A,x,M);var h="patternFill GrFl SoFi ChFX IrGl IrSh".split(" ");for(var s=0;s<h.length;s++){var Y=d.type[h[s]];
for(var l=0;l<Y.length;l++)f(Y[l],G,e,M)}var J=d.type.ebbl[0],u=J!=null&&J.eoN;Y=d.type.FrFX;for(var l=0;
l<Y.length;l++){var Q=Y[l];Mb.du.Qj(D,a,P,a,M);f(Q,P,a,M);if(u&&l==Y.length-1){if(J.Fo)f(J.Fo,P,a,M);
if(J.Fi)f(J.Fi,P,a,M);if(J.Fn)f(J.Fn,P,a,M);if(J.Fp)f(J.Fp,P,a,M)}if(Q.FG||Q.FS)N(P,a,G,e,X.Ug?Q.FS:Q.FG,Q.Rz,0,M,1);
if(Q.Ft||Q.Fe)N(P,a,A,x,X.Ug?Q.Fe:Q.Ft,Q.Rz,0,M,1)}if(!u&&J!=null){if(J.Fo)f(J.Fo,A,x,M);if(J.Fi)f(J.Fi,A,x,M);
if(J.Fn)f(J.Fn,G,e,M);if(J.Fp)f(J.Fp,G,e,M)}};QL.eQe=function(p,d,K,A){var x=QL.sY();x.fill=p.sb;x.style=!0;
Z.h.gQ(p.vN,p.nM,p.Rz,d,K,A,1,x)};QL.eMh=function(p,d,K,A){var x=QL.sY();x.fill=p.sb;x.style=!0;X.h.UH(p.vN,p.kr,p.Rz,d,K,A,1,x)};
QL.epz=function(p,d){var K=1-d.Inpr.v.val/100,A=1+Math.tan(K*(Math.PI/2)),x=p.length;for(var M=0;M<x;
M++)p[M]=Math.min(255,Math.round(p[M]*A))};QL.sj=function(p,d,K){var A=d.blur.v.val,x=Math.round(A*(d.Ckmt.v.val/100));
if(A>x){var M=Z.uX.Lq(d.TrnS.v.Crv.v,256,!0);Z.fz(p,M)}if(K!=null&&d.Nose.v.val>0)Z.style.KB(p,d.Nose.v.val/100,K)};
QL.xI=function(p,d,K){if(K==null)K=255;var A=Z.k.iz(d),x=K<<24|A.M<<16|A.w<<8|A.N;Z.Pk(p,x)};QL.UD=function(p,d,K,A){var x=d.uglg&&d.uglg.v?K.zz():d.lagl.v.val;
x=x*Math.PI/180+A;var M=Math.cos(x)*d.Dstn.v.val,G=Math.sin(x)*d.Dstn.v.val;p.x-=Math.round(M);p.y+=Math.round(G)};
QL.$W=function(p){if(p==null)return null;var d=p.frameFXMulti.v;if(d.length==0)return null;d=d[0].v;
var K=JSON.parse(JSON.stringify(QG.Wh.default));QL.eUw(d,K);return K};QL.eUw=function(p,d){var K=QG.stroke.$h.indexOf(p.PntT.v.FrFl),A=[QG.Za,QG.xM,QG.xU][K],x=d.strokeStyleContent.v={classID:QG.Wh.XJ[K]};
for(var M=0;M<A.length;M++)x[A[M]]=p[A[M]];d.strokeEnabled=p.enab;d.strokeStyleLineWidth=p.Sz;d.strokeStyleLineAlignment.v.strokeStyleLineAlignment=QG.Wh.zW[QG.stroke.types.indexOf(p.Styl.v.FStl)];
d.strokeStyleOpacity=p.Opct;d.strokeStyleBlendMode=p.Md};QL.ZN=function(p,d){var K=[];for(var A=0;A<p.length;
A++)K.push({t:"UntF",v:{type:"#Nne",val:Math.round(p[A]*d)}});return K};QL.aH=function(p,d,K){this.ky=d.clone();
this.ky.WJ(1,1);this.ec_=d.clone();this.ec_.WJ(K,K);this.e$P=Z.p(this.ky.r());Z.Qj(p,d,this.e$P,this.ky);
this.Fd=null;this.FA=null;this.FJ=null};QL.aH.prototype.dw=function(){return this.e$P};QL.aH.prototype.rect=function(){return this.ky};
QL.aH.prototype.Zg=function(){return this.ec_};QL.aH.prototype.qO=function(){if(this.Fd)return this.Fd;
this.Fd=Z.clone(this.dw());Z.an(this.Fd);return this.Fd};QL.aH.prototype.Zr=function(){if(this.FA)return this.FA;
this.FA=new Float64Array(this.rect().r());Z.style.Lf(this.qO(),this.FA,this.rect().t,this.rect().D);
return this.FA};QL.aH.prototype.$D=function(){if(this.FJ)return this.FJ;var p=this.Zg(),d=Z.p(p.r());
Z.Qj(this.dw(),this.rect(),d,p);this.FJ=new Float64Array(p.r());Z.style.Lf(d,this.FJ,p.t,p.D);return this.FJ};
QL.aH.prototype.eHH=function(p,d){var K={dE:-d,rF:p,wp:null,HA:null};if(d==0){K.wp=this.rect();K.HA=this.Zr();
return K}var A=this.$D().slice(0),x=this.Zg();K.wp=x;K.HA=A;for(var M=0;M<A.length;M++)A[M]=-A[M];if(p==0)return K;
var G=this.Zr(),D=this.rect();for(var P=0;P<D.D;P++)for(var a=0;a<D.t;a++){var e=P*D.t+a,f=(P+D.y-x.y)*x.t+a+D.x-x.x;
A[f]+=G[e]}return K};QL.aH.prototype.sX=function(p,d,K){var A=Math.ceil(p+d),x={m:this.rect().clone(),dw:null};
x.m.WJ(A,A);x.dw=Z.p(x.m.r());if(p==0&&d==0)Z.tM(K?this.dw():this.qO(),x.dw);else{var M=Z.p(x.m.r());
Z.Qj(this.dw(),this.rect(),M,x.m);if(!K)Z.an(M);if(p!=0){if(K)Z.style.KP(M,x.m,this.$D(),this.Zg(),p);
else Z.style.KP(M,x.m,this.Zr(),this.rect(),p)}if(d!=0)Z.blur.Zt(M,x.dw,x.m,Math.max(1,d*.43));else x.dw=M}return x};
QL.aH.prototype.eUz=function(p,d,K){var A=p*(d-.5),x={m:this.rect().clone(),dw:null};if(K)x.m.WJ(p,p);
x.dw=Z.p(x.m.r());var M=x.m.t,G=x.m.D,D=K?this.$D():this.Zr(),P=K?this.Zg():this.rect(),a=x.m,e=a.pk(P),M=e.t,G=e.D,f=e.x-a.x,N=e.y-a.y,Y=e.x-P.x,l=e.y-P.y,h=1-d*2;
for(var s=0;s<G;s++)for(var J=0;J<M;J++){var u=D[(s+l)*P.t+J+Y],Q=u/p;x.dw[(s+N)*a.t+J+f]=Math.max(0,Math.min(255,255-255*((Q+h)/(1+h))))}return x};
QL.eKV=function(p,d,K){var A=p.Lefx,x=p.blendOptions;if(A){var M=d.add.lmfx;if(K==null)K=M?M.Scl.v.val:100;
d.add.lmfx=JSON.parse(JSON.stringify(A.v));QL.eau(d.add.lmfx,K/d.add.lmfx.Scl.v.val);if(M)d.add.lmfx.Scl.v.val=M.Scl.v.val}else delete d.add.lmfx;
if(x){x=x.v;if(x.Md)d.yk=eE.UW(x.Md.v.BlnM);if(x.Opct)d.opacity=Math.round(x.Opct.v.val*255/100);if(x.fillOpacity)d.add.iOpa=Math.round(x.fillOpacity.v.val*255/100);
if(x.Blnd){var G=[];for(var D=0;D<10;D++)G.push(0,0,255,255);var P=x.Blnd.v,a="SrcB Srcl SrcW Srcm DstB Dstl DstW Dstt".split(" ");
for(var D=0;D<P.length;D++){var e=P[D].v,f=8*["Gry","Rd","Grn","Bl"].indexOf(e.Chnl.v[0].v.enum);for(var N=0;
N<8;N++){G[f+N]=e[a[N]].v}}d.e_=G}}};QL.eK$=function(p){var d="SrcB Srcl SrcW Srcm DstB Dstl DstW Dstt".split(" "),K=[],A=p.e_;
for(var x=0;x<4;x++){var M=x*8;if(A[M]+A[M+1]+A[M+4]+A[M+5]==0&&A[M+2]+A[M+3]+A[M+6]+A[M+7]==4*255)continue;
var G={t:"Objc",v:{classID:"Blnd",Chnl:{t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:["Gry","Rd","Grn","Bl"][x]}}]}}};
K.push(G);for(var D=0;D<8;D++)G.v[d[D]]={t:"long",v:A[x*8+D]}}var P={classID:"blendOptions"};if(p.yk!="norm")P.Md={t:"enum",v:{BlnM:eE.iR(p.yk)}};
if(p.opacity!=255)P.Opct={t:"UntF",v:{type:"#Prc",val:Math.round(p.opacity*100/255)}};if(p.add.iOpa!=null)P.fillOpacity={t:"UntF",v:{type:"#Prc",val:Math.round(p.add.iOpa*100/255)}};
if(K.length!=0)P.Blnd={t:"VlLs",v:K};var a={im:{classID:"null",Idnt:{t:"TEXT",v:QZ.Ex()+"-bd9f-11d5-b8ba-b73f8571793d"},Nm:{t:"TEXT",v:"Custom Style"}},gF:{classID:"Styl",blendOptions:{t:"Objc",v:P}}},e=p.add.lmfx;
if(e)a.gF.Lefx={t:"Objc",v:e};return a};function tb(){}tb.GK=function(p){return JSON.parse(JSON.stringify(p))};
tb.UZ=function(p){var d=tb.GK(tb.eHE),K=d.Brsh.v;if(p!=null){delete K.Hrdn;K.classID="sampledBrush";
K.Nm={t:"TEXT",v:"layer.png"},K.sampledData={t:"TEXT",v:p}}return d};tb.eHE={classID:"brushPreset",Nm:{t:"TEXT",v:"Custom Brush"},Brsh:{t:"Objc",v:{classID:"computedBrush",Dmtr:{t:"UntF",v:{type:"#Pxl",val:15}},Hrdn:{t:"UntF",v:{type:"#Prc",val:100}},Angl:{t:"UntF",v:{type:"#Ang",val:0}},Rndn:{t:"UntF",v:{type:"#Prc",val:100}},Spcn:{t:"UntF",v:{type:"#Prc",val:25}},Intr:{t:"bool",v:!0},flipX:{t:"bool",v:!1},flipY:{t:"bool",v:!1}}},useTipDynamics:{t:"bool",v:!1},useScatter:{t:"bool",v:!1},dualBrush:{t:"Objc",v:{classID:"dualBrush",useDualBrush:{t:"bool",v:!1}}},brushGroup:{t:"Objc",v:{classID:"brushGroup",useBrushGroup:{t:"bool",v:!1}}},useTexture:{t:"bool",v:!1},usePaintDynamics:{t:"bool",v:!1},useColorDynamics:{t:"bool",v:!1},Wtdg:{t:"bool",v:!1},Nose:{t:"bool",v:!1},Rpt:{t:"bool",v:!1}};
tb.Iu={};tb.Iu.check=function(p){var d=tb.Iu.$J;for(var K=0;K<d.length;K++)if(p[d[K]]==null)p[d[K]]=JSON.parse(tb.Iu.Zk[d[K]]);
var A=[];for(var K=0;K<d.length;K++)A.push(d[K]);var x=tb.Iu.eKs;for(var K=0;K<x.length;K++){var M=x[K][0],G=x[K][1],D=!0;
for(var P=0;P<M.length;P++)D=D&&p[M[P]].v==!0;if(D)for(var P=0;P<G.length;P++){if(p[G[P]]==null)console.log("Missing conditional parameter "+G[P]);
else A.push(G[P])}}for(var a in p)if(A.indexOf(a)==-1)console.log("Extra parameter "+a);p=p.Brsh.v;d=tb.Iu.Bp.$J;
for(var K=0;K<d.length;K++)if(p[d[K]]==null)p[d[K]]=JSON.parse(tb.Iu.Bp.Zk[d[K]]);A=[];for(var K=0;K<d.length;
K++)if(p[d[K]])A.push(d[K]);else console.log("Missing default parameter "+d[K]);x=tb.Iu.Bp.evG[p.classID];
for(var K=0;K<x.length;K++)if(p[x[K]]==null&&x[K]!="dtipsGridSize"&&x[K]!="dtipsErodibleTipHeightMap"&&p.ewc!=1)console.log("Missing conditional parameter "+x[K]);
else A.push(x[K]);for(var a in p)if(A.indexOf(a)==-1)console.log("Extra parameter "+a)};tb.Iu.$A=function(p){var d=tb.Iu.eKs;
for(var K=0;K<d.length;K++){var A=d[K][0],x=d[K][1],M=!0;for(var G=0;G<A.length;G++)M=M&&p[A[G]]&&p[A[G]].v==!0;
if(M){for(var G=0;G<x.length;G++)if(p[x[G]]==null){p[x[G]]=JSON.parse(tb.Iu.Zk[x[G]])}}else for(var G=0;
G<x.length;G++)if(p[x[G]]!=null){delete p[x[G]]}}};tb.Iu.Bp={};tb.Iu.Bp.$J="classID Dmtr Angl Spcn Intr flipX flipY".split(" ");
tb.Iu.Bp.Zk={flipX:"{\"t\":\"bool\",\"v\":false}",flipY:"{\"t\":\"bool\",\"v\":false}"};tb.Iu.Bp.evG={computedBrush:["Hrdn","Rndn"],sampledBrush:["Nm","Rndn","sampledData"],dBrush:"Shp Dnst Lngt clumping thickness stiffness physics".split(" "),dTips:"dtipsType Shp dtipsLengthRatio dtipsHardness dtipsGridSize dtipsErodibleTipHeightMap physics dtipsAirbrushCutoffAngle dtipsAirbrushGranularity dtipsAirbrushStreakiness dtipsAirbrushSplatSize dtipsAirbrushSplatCount".split(" ")};
tb.Iu.eKs=[[["useTipDynamics"],"flipX flipY brushProjection minimumDiameter minimumRoundness tiltScale szVr angleDynamics roundnessDynamics".split(" ")],[["usePaintDynamics"],["prVr","opVr","wtVr","mxVr"]],[["useBrushPose"],"overridePoseAngle overridePoseTiltX overridePoseTiltY overridePosePressure brushPosePressure brushPoseTiltX brushPoseTiltY brushPoseAngle".split(" ")],[["useTexture"],"TxtC interpretation textureBlendMode textureDepth minimumDepth textureDepthDynamics Txtr textureScale InvT textureBrightness textureContrast".split(" ")],[["useColorDynamics"],"clVr H Strt Brgh purity colorDynamicsPerTip".split(" ")],[["useScatter"],["Cnt","countDynamics","bothAxes","scatterDynamics"]],[["useScatter","bothAxes"],["Spcn"]]];
tb.Iu.$J="classID Nm Brsh useTipDynamics usePaintDynamics useColorDynamics useScatter useTexture useBrushSize useBrushPose Wtdg Nose Rpt dualBrush brushGroup".split(" ");
tb.Iu.Zk={useBrushSize:"{\"t\":\"bool\",\"v\":false}",useBrushPose:"{\"t\":\"bool\",\"v\":false}",brushGroup:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brushGroup\",\"useBrushGroup\":{\"t\":\"bool\",\"v\":false}}}",flipX:"{\"t\":\"bool\",\"v\":false}",flipY:"{\"t\":\"bool\",\"v\":false}",brushProjection:"{\"t\":\"bool\",\"v\":false}",minimumDiameter:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}",minimumRoundness:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":25}}",tiltScale:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":200}}",szVr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":2},\"fStp\":{\"t\":\"long\",\"v\":1},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",angleDynamics:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":25},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",roundnessDynamics:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":25},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",prVr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":2},\"fStp\":{\"t\":\"long\",\"v\":25},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",opVr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":25},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",wtVr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":25},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",mxVr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":25},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",overridePoseAngle:"{\"t\":\"bool\",\"v\":false}",overridePoseTiltX:"{\"t\":\"bool\",\"v\":true}",overridePoseTiltY:"{\"t\":\"bool\",\"v\":true}",overridePosePressure:"{\"t\":\"bool\",\"v\":true}",brushPosePressure:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":9}}",brushPoseTiltX:"{\"t\":\"long\",\"v\":0}",brushPoseTiltY:"{\"t\":\"long\",\"v\":0}",brushPoseAngle:"{\"t\":\"long\",\"v\":0}",TxtC:"{\"t\":\"bool\",\"v\":false}",interpretation:"{\"t\":\"bool\",\"v\":true}",textureBlendMode:"{\"t\":\"enum\",\"v\":{\"BlnM\":\"CBrn\"}}",textureDepth:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":37}}",minimumDepth:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":97}}",textureDepthDynamics:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":25},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",Txtr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"Ptrn\",\"Nm\":{\"t\":\"TEXT\",\"v\":\"$$$/Presets/Patterns/Patterns_pat/Laidhorizontal=Laid-horizontal\"},\"Idnt\":{\"t\":\"TEXT\",\"v\":\"52a93427-f5d6-1172-a989-8dc82a43aa51\"}}}",textureScale:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":99}}",InvT:"{\"t\":\"bool\",\"v\":false}",textureBrightness:"{\"t\":\"long\",\"v\":14}",textureContrast:"{\"t\":\"long\",\"v\":100}",Cnt:"{\"t\":\"doub\",\"v\":4}",countDynamics:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":1},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":98}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",bothAxes:"{\"t\":\"bool\",\"v\":false}",scatterDynamics:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":1},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":56}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",clVr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":25},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",H:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}",Strt:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}",Brgh:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":36}}",purity:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}",colorDynamicsPerTip:"{\"t\":\"bool\",\"v\":false}"};
function Bx(p){this.FC=p;this.dir=0}Bx.prototype.rR=function(p,d){if(this.dir==0&&!this.FC.GR(p))this.dir=Math.abs(this.FC.x-p.x)<Math.abs(this.FC.y-p.y)?1:2;
var K=p;if(d.Q(B.tS)){if(this.dir==1)K=new QP(this.FC.x,p.y);if(this.dir==2)K=new QP(p.x,this.FC.y)}return K};
function Qr(p,d,K,A,x,M,G,D){this.Im=d;this.eN=K;this.Le=M;this.ZU=A;if(A.yi==null)A.yi=[!1,!0];this.Xv=null;
this.AL=null;this.kf=0;this.e$G=0;this.e$k=0;this.kk=0;this.ei=0;this.ewR=G;this.Uo=new R;this.eS=new R;
this.rect=new R;if(D!=null){this.nM=D}else{var P=Qr.eKo;if(P.length!=G.r()*4)P=Z.p(G.r()*4);else P.fill(0);
this.nM=Qr.eKo=P}this.rect=G.clone();this.FZ=[];this.eP=[];this.Pv=null;this.ou=0;this.M=null;this.FX="";
this.He=null;this.ems(p,x)}Qr.eKo=Z.p(16);Qr.prototype.ems=function(p,d){this.ou=d;this.M=p;this.FX=JSON.stringify(p)+JSON.stringify(this.ZU.CU);
this.He=Qr.evH(p,this.Im,this.eN)};Qr.prototype.moveTo=function(p,d,K){K=this.eHR(K);this.kf=K;var A=new QP(p,d),x=this.M.Brsh.v.Dmtr.v.val;
this.Xv=A.clone();this.AL=A.clone();this.Pv=A.clone();this.FZ=[p,d];this.eP=[K];var M=this.ZU.yi;if(this.ZU.CQ!=Qr.jd)this.$C(this.e_u(A,this.eFg()*(M[1]?K:1),this.ZU.Xo*(M[0]?K*.5:1),new QP(0,0)));
this.kk=A.clone()};Qr.prototype.lineTo=function(p,d,K){K=this.eHR(K);var A=this.FZ,x=A.length,M=A[x-2],G=A[x-1];
if(p==M&&d==G)return;var D=this.M.Brsh.v.Dmtr.v.val,P=Math.ceil(D)+1,a=new R(Math.round(M),Math.round(G),0,0);
a.WJ(P,P);var e=new R(Math.round(p),Math.round(d),0,0);e.WJ(P,P);this.eqb(a.ck(e));this.FZ.push(p,d);
this.eP.push(K);x+=2;if(x>=6)this.$C(this.eHC(x))};Qr.prototype.eHR=function(p){if(p==null)p=1;p=Math.max(.05,Math.min(5,p));
if(isNaN(p)){alert("Pressure is not a number");throw"e"}return p};Qr.prototype.$C=function(p){this.Uo=p;
this.eS=this.eS.ck(p)};Qr.prototype.finish=function(){var p=this.FZ,d=p.length,K;if(d==4)K=this.eHX(p[d-2],p[d-1],this.eP[(d>>1)-1],!0);
if(d>4)K=this.eHC(d+2);if(K)this.$C(K)};Qr.prototype.eHC=function(p){var d=this.FZ,K=this.eP,A=d[p-6],x=d[p-5],M=d[p-4],G=d[p-3],D=K[(p>>1)-3],P=K[(p>>1)-2],a=new QP(0,0),e=new QP(0,0);
if(8<=p)a=Qr.eHN(d[p-8],d[p-7],A,x,M,G);if(p<=d.length)e=Qr.eHN(d[p-2],d[p-1],M,G,A,x);var f=A+a.x,N=x+a.y,Y=M+e.x,l=G+e.y,h=new R;
for(var s=0;s<10;s++){var J=(s+1)*.1,u=1-J,Q=u*u*u*A+3*J*u*u*f+3*J*J*u*Y+J*J*J*M,W=u*u*u*x+3*J*u*u*N+3*J*J*u*l+J*J*J*G,q=this.eHX(Q,W,D+J*(P-D));
h=h.ck(q)}return h};Qr.eHN=function(p,d,K,A,x,M){var G=p-K,D=d-A,P=x-K,a=M-A,e=Math.sqrt(G*G+D*D),f=Math.sqrt(P*P+a*a),N=Math.acos((G*P+D*a)/(e*f))/Math.PI,Y=.35,l=.1;
N=l+N*(Y-l);var h=x-p,s=M-d,J=Math.sqrt(h*h+s*s),u=N*f/J;return new QP(h*u,s*u)};Qr.prototype.eHX=function(p,d,K,A){var x=new R,M=this.ZU.eqD;
if(M==null)M=0;if(M==0||A){x=this.ewY(p,d,K);return x}var G=this.Pv,D=p-G.x,P=d-G.y,a=Math.sqrt(D*D+P*P);
D/=a;P/=a;if(a>M){var e=G.x+D*(a-M),f=G.y+P*(a-M);x=this.ewY(e,f,K);this.Pv.pf(e,f)}return x};Qr.prototype.ewY=function(p,d,K){var A=new R,x=new QP(p,d),M=this.M.Brsh.v.Dmtr.v.val,G=this.ZU.CQ,D=x.TS(this.AL);
D.normalize(1);var P=QP.gG(this.AL,x),a=-this.e$G,e=this.AL.clone(),f=this.ZU.yi;while(!0){var N=this.kf+(K-this.kf)*(Math.max(0,a)/P),Y=this.eFg()*(f[1]?N:1),l=this.evt()*(Y+this.e$k)/2;
if(G==Qr.jd)l=1;if(a+l<P){a+=l;var h=new QP(this.AL.x+D.x*a,this.AL.y+D.y*a),u=1;if(G==Qr.jd){var s=e.clone();
s.x+=D.x>0?1:-1;var J=e.clone();J.y+=D.y>0?1:-1;if(QP.gG(s,h)<QP.gG(J,h))h=s;else h=J;a=QP.gG(h,this.AL)}if(this.M.useScatter.v==!0){u=this.M.Cnt.v;
var Q=this.M.countDynamics.v.jitter.v.val/100,W=Q*(-1+2*this.hy());u+=Math.round(u*W)}for(var q=0;q<u;
q++){var H=this.e_u(h,Y,this.ZU.Xo*(f[0]?N*.5:1),D);A=A.ck(H)}e=h}else break}this.e$G=P-a;this.AL=x;
this.kf=K;return A};Qr.prototype.evt=function(){var p=this.M.Brsh.v,d=p.Spcn.v.val,K=Math.max(5,p.Rndn.v.val);
return K/100*(d/100)};Qr.prototype.eFg=function(){var p=this.M,d=p.Brsh.v.Dmtr.v.val;if(p.useTipDynamics.v){var K=d*(p.minimumDiameter.v.val/100);
d=K+(d-K)*(1-this.hy()*(p.szVr.v.jitter.v.val/100))}return d};Qr.prototype.e_u=function(p,d,K,A){K=Math.min(1,K);
var x=this.M,M=this.M.Brsh.v,G=M.Dmtr.v.val,D=this.ZU,P=D.CQ,a=D.ews,e=new QI;e.translate(-this.He.eQ.t/2,-this.He.eQ.D/2);
e.scale(1/this.He.eFz,1/this.He.eFz);e.scale(d/G,d/G);e.scale(1,Math.max(5,M.Rndn.v.val)/100);if(x.useTipDynamics.v){var f=x.minimumRoundness.v.val/100;
e.scale(1,f+(1-f)*Math.round(100-this.hy()*x.roundnessDynamics.v.jitter.v.val)/100);e.rotate((-.5+this.hy())*4*Math.PI*(x.angleDynamics.v.jitter.v.val/100))}e.rotate(M.Angl.v.val*(Math.PI/180));
if(x.useScatter.v){var N=(-1+2*this.hy())*x.scatterDynamics.v.jitter.v.val/100;e.translate(-N*d*A.y,N*d*A.x)}e.translate(p.x,p.y);
var Y=this.evM(e,p);this.eqb(Y.rect);var l=Y.rect.clone();if(P==null){var h=this.iz(x);Z.Pk(Y.HP,Math.round(h.M*255)<<16|Math.round(h.w*255)<<8|Math.round(h.N*255)<<0,4278190080);
if(this.eS.kQ()&&this.rect.GR(Y.rect)&&K==1)this.nM=Y.HP.slice(0);else Z.h.enw(Y.HP,Y.rect,this.nM,this.rect,Y.rect,K)}if(P==Qr.jd){var s=new QP(Y.rect.x+Y.rect.t/2,Y.rect.y+Y.rect.D/2),J=Math.round(s.x-this.kk.x),u=Math.round(s.y-this.kk.y),Q=Y.rect.clone();
Q.offset(-J,-u);var W=Q.pk(this.rect);W.offset(J,u);Z.PE(this.nM,this.rect,Y.HP,Q);Z.h.fA(Y.HP,Y.rect,this.nM,this.rect,Y.qc,Y.rect,K)}if(P==Qr.QS||P==Qr.Qp||P==Qr.rs){var q=Y.rect.pk(this.rect),H;
if(q.GR(Y.rect))H=Y.qc;else{H=Z.p(q.r());Z.Qj(Y.qc,Y.rect,H,q)}var C=Z.p(q.r()*4);Z.PE(this.nM,this.rect,C,q);
if(P==Qr.Qp){var k=Z.clone(C),i=Z.uP.$b([-1,-1,-1,-1,25,-1,-1,-1,-1]);Z.uP.JZ(C,k,q.t,q.D,i,0);Z.tM(k,C)}else if(P==Qr.rs){var m=eq.Kj("UnsM");
m.Amnt.v.val=15;m.Thsh.v=0;m.Rds.v.val=5;var k=Z.p(C.length);eq.sg("UnsM",{buffer:C,rect:q},m,0,0,{buffer:k,rect:q});
Z.tM(k,C)}else{eq.Nw(1,Z.blur.Te,C,q)}Z.h.fA(C,q,this.nM,this.rect,H,q,K)}this.e$k=d;this.kk=s;return l};
Qr.prototype.iz=function(p){var d=Qr.eik(this.ou);if(p.useColorDynamics&&p.useColorDynamics.v){var K=1-this.hy()*p.clVr.v.jitter.v.val/100,A=Qr.eik(this.Le);
d.N=K*d.N+(1-K)*A.N;d.w=K*d.w+(1-K)*A.w;d.M=K*d.M+(1-K)*A.M;var x=(-.5+this.hy())*p.H.v.val/100,M=(-1+2*this.hy())*p.Strt.v.val/100,G=(-1+2*this.hy())*p.Brgh.v.val/100,D=Z.FE(d.N,d.w,d.M);
D.Ri=(D.Ri+x+1)%1;D.mQ=D.mQ+M;if(D.mQ<0)D.mQ=-D.mQ;if(D.mQ>1)D.mQ=1-(D.mQ-1);D.jV=D.jV+G;if(D.jV<0)D.jV=-D.jV;
if(D.jV>1)D.jV=1-(D.jV-1);d=Z.uK(D.Ri,D.mQ,D.jV)}return d};Qr.prototype.Iu=function(p){return Math.max(0,Math.min(1,p))};
Qr.prototype.hy=function(){this.ei++;return Qr.hash(this.ei)};Qr.eik=function(p){return{N:(p>>16&255)/255,w:(p>>8&255)/255,M:(p>>0&255)/255}};
Qr.hash=function(p){p=p^61^p>>16;p=p+(p<<3);p=p^p>>4;p=p*668265261;p=p^p>>15;return(p&16777215)/16777215};
Qr.KZ=[];Qr.prototype.evM=function(p,d){var K=null,G;for(var A=0;A<Qr.KZ.length;A++)if(Qr.KZ[A].FX==this.FX){K=Qr.KZ[A];
Qr.KZ.splice(A,1)}if(K==null)K={vY:[],FX:this.FX,bH:0};var x=K.vY,M=this.ZU.CU;if(M){p=p.clone();p.ol=Math.floor(p.ol);
p.lF=Math.floor(p.lF)}var D=Qr.eqJ(p.ol,p.lF);for(var A=0;A<x.length;A++){var P=x[A];if(!(P.qr.V==p.V&&P.qr.M==p.M&&P.qr.$H==p.$H&&P.qr.Wb==p.Wb))continue;
if(Qr.evp(P.oE,D)<.2||P.rect.r()>1e4){G=P;break}}var a=Math.round(this.M.Brsh.v.Dmtr.v.val);if(G){G.rect.x=Math.round(G.W_.x-G.qr.ol+p.ol);
G.rect.y=Math.round(G.W_.y-G.qr.lF+p.lF);if(M){G.rect.x=Math.round(d.x-a/2);G.rect.y=Math.round(d.y-a/2)}}else{var e;
if(M&&a<=3){e={buffer:Z.p(a*a*4),rect:new R(Math.round(d.x-a/2),Math.round(d.y-a/2),a,a)};Z.Pk(e.buffer,4278190080)}else if(p.V==1&&p.M==0&&p.$H==0&&p.Wb==1){e={buffer:this.He.HP,rect:this.He.eQ.clone()};
e.rect.x=Math.round(p.ol);e.rect.y=Math.round(p.lF)}else e=r.ge._x([this.He.HP,this.He.eQ],p);if(M){for(var A=0;
A<e.buffer.length;A++)e.buffer[A]=e.buffer[A]>127?255:0}if(e==null)e={buffer:Z.p(0),rect:new R};var f=p.ol-Math.floor(p.ol),N=p.lF-Math.floor(p.lF);
G={HP:e.buffer,qc:Z.p(e.rect.r()),rect:e.rect,W_:e.rect.clone(),qr:p,oE:Qr.eqJ(p.ol,p.lF)};Z.$m(G.HP,G.qc,3);
x.push(G);if(x.length>200)x=x.slice(100)}K.vY=x;K.bH=Date.now();Qr.KZ.push(K);Qr.KZ.sort(function(Y,l){return l.bH-Y.bH});
while(Qr.KZ.length>3)Qr.KZ.pop();return G};Qr.eqJ=function(p,d){return new QP(p-Math.floor(p),d-Math.floor(d))};
Qr.evp=function(p,d){var K=d.x,A=d.y,x=Math.abs(K-p.x),M=Math.abs(A-p.y);if(Math.abs(K-1-p.x)<x)K--;
else if(Math.abs(K+1-p.x)<x)K++;if(Math.abs(A-1-p.y)<M)A--;else if(Math.abs(A+1-p.y)<M)A++;x=p.x-K;M=p.y-A;
return Math.sqrt(x*x+M*M)};Qr.prototype.eqb=function(p){};Qr.evH=function(p,d,K){var A,x,M,G=p.Brsh.v.Dmtr.v.val;
if(p.Brsh.v.classID=="computedBrush"){var D=p.Brsh.v.Hrdn.v.val/100,P=1+.55*(1-D);M=G<100?1.2:1;var a=Math.round(M*G*P);
x=new R(0,0,a,a);A=Z.p(a*a*4);var e=new Uint32Array(A.buffer),f=a/2,N=P/f,Y=Date.now(),l=Qr.Ad(D),h=Math.round(8e3/f),d=l[0],s=l[1]-h,J=l[2]+h,u=Math.min(a,(a>>>1)+1);
for(var Q=0;Q<u;Q++){var W=N*(Q-f+.25);W*=W;var q=N*(Q-f+.75);q*=q;var H=Q*a,C=(a-1-Q)*a;for(var k=0;
k<u;k++){var i=N*(k-f+.25),m=Math.floor(Math.sqrt(i*i+W)*(4e3/1.55));if(J<m)continue;else if(m<s){var w=4278190080;
while(k<u){var S=a-1-k;e[H+k]=w;e[H+S]=w;e[C+k]=w;e[C+S]=w;k++}break}else{var o=N*(k-f+.75),O=Math.floor(Math.sqrt(o*o+W)*(4e3/1.55)),t=Math.floor(Math.sqrt(i*i+q)*(4e3/1.55)),c=Math.floor(Math.sqrt(o*o+q)*(4e3/1.55)),w=~~(.5+255*.25*(d[m]+d[O]+d[t]+d[c]))<<24,S=a-1-k;
e[H+k]=w;e[H+S]=w;e[C+k]=w;e[C+S]=w}}}}if(p.Brsh.v.classID=="sampledBrush"){var g;for(var Q=0;Q<d.length;
Q++)if(d[Q].id==p.Brsh.v.sampledData.v)g=d[Q];x=new R(0,0,g.m.t,g.m.D);M=Math.max(x.t,x.D)/G;A=Z.p(x.r()*4);
Z.qF(g.channel,A,3)}while(Math.min(x.t,x.D)>G*2){var j=new R(x.x,x.y,Math.floor(x.t/2),Math.floor(x.D/2)),_=r.ge._x([A,x],new QI(j.t/x.t,0,0,j.D/x.D,0,0));
M*=j.t/x.t;x=_.rect;A=_.buffer}return{eFz:M,eQ:x,HP:A}};Qr.$N=[];Qr.Ad=function(p){if(Qr.$N[p])return Qr.$N[p];
var d=Math.pow(p,.55),K=new Float64Array(8e3),A=0,x=8e3;for(var M=0;M<8e3;M++){var G=Qr.evw(M*(1.55/4e3),d);
if(G>=1)A=M;else if(G<=0&&x==8e3)x=M;K[M]=G}var D=[K,A,x];Qr.$N[p]=D;return D};Qr.evw=function(p,d){var K=p<d?1:Qr.evi((p-d)/Math.pow(1.001-d,.86));
return K};Qr.evi=function(p){var d=p*.85;return Math.exp(-(d*d)*(1/(2*.4*.4)))*(1/(.4*Math.sqrt(2*Math.PI)))};
Qr.prototype.rl=function(){return this.rect.clone()};Qr.prototype.$l=function(){return this.Uo.pk(this.rect)};
Qr.prototype.sy=function(){return this.eS.pk(this.rect)};Qr.prototype.tR=function(){return this.nM};
Qr.XN=function(p,d,K,A,x,M){var G=n.b("canvas",""),D=G.getContext("2d");G.width=M!=null?M:A;G.height=x;
D.fillStyle="#ffffff";D.fillStyle="#000000";D.font=Math.floor(10*n.F())+"px sans-serif";var P=""+p.Brsh.v.Dmtr.v.val,a=D.measureText(P);
D.fillText(P,(A-a.width)/2,x-2);var e=A,f=x-10*n.F(),N=Math.min(e,f),Y=p.Brsh.v.Dmtr.v.val,l=p.Brsh.v.classID;
if(l=="computedBrush"){D.translate(e/2,f/2);D.rotate(-p.Brsh.v.Angl.v.val*Math.PI/180);D.scale(1,.1+.9*p.Brsh.v.Rndn.v.val/100);
var h=Math.min(.95*N/2,P/2)+.5,s=.9*p.Brsh.v.Hrdn.v.val/100,J=D.createRadialGradient(0,0,0,0,0,h);J.addColorStop(s,"rgba(0,0,0,1)");
J.addColorStop((.5+s)/1.5,"rgba(0,0,0,.5)");J.addColorStop(1,"rgba(0,0,0,0)");D.fillStyle=J;D.fillRect(-h,-h,2*h,2*h)}else if(l=="sampledBrush"){var u;
for(var Q=0;Q<d.length;Q++)if(d[Q].id==p.Brsh.v.sampledData.v)u=d[Q];var W=n.b("canvas",""),q=W.getContext("2d");
W.width=u.m.t;W.height=u.m.D;var H=q.getImageData(0,0,W.width,W.height),C=new Z.dY(W.width*W.height);
C.V=u.channel;Z.AR(C,H.data);q.putImageData(H,0,0);N=Math.min(N,p.Brsh.v.Dmtr.v.val);var k=Math.max(W.width,W.height),i=.85*W.width*N/k,m=.85*W.height*N/k;
D.drawImage(W,(e-i)/2,(f-m)/2,i,m)}else{}return G.toDataURL()};Qr.$k=function(p,d,K,A){if(K==0)K=1;var x=p.Brsh.v,M=x.Dmtr.v.val,G=x.Dmtr.v.val=Math.min(A!=null?Math.round(A*2.6):3e3,M*K),D=x.Hrdn?x.Hrdn.v.val/100:1,P=A!=null?A:Math.round(G*(1+.55*(1-D)))+4,f;
P=Math.max(15,Math.min(P,3e3));var a=new R(0,0,P,P),e=new Qr(p,d,null,{Xo:1},16711712,0,a);x.Dmtr.v.val=M;
e.moveTo(a.t/2,a.D/2);var N=e.tR(),Y=e.rl();if(a.GR(Y))f=N;else{f=Z.p(a.r()*4);Z.PE(N,Y,f,a)}return[f,a,G]};
Qr.FU=function(p,d,K){var A=Qr.$k(p,d,K),x=A[0],M=A[1],G=A[2],D=M.r(),P=Z.p(D);Z.$m(x,P,3);var a=Z.p(D);
Z.P.e_o(P,a,M);if(G<3||Z.ix(a,0)){var e=M.t,f=e>>>1,N=a,Y=255;for(var l=0;l<4;l++){N[e*(f-6+l)+f]=Y;
N[e*f+f-6+l]=Y;N[e*f+f+6-l]=Y;N[e*(f+6-l)+f]=Y}}var h=[1,2,1,2,8,2,1,2,1];h=Z.uP.$b(h);Z.uP.ewP(a,P,M.t,M.D,h);
Z.Pk(x,4294967295);Z.qF(P,x,3);for(var l=0;l<D;l++)if(a[l]==255){x[l<<2]=x[(l<<2)+1]=x[(l<<2)+2]=0;x[(l<<2)+3]=255}return{Yq:x,m:M,ME:new QP(M.t/2,M.D/2)}};
Qr.jd="0";Qr.QS="1";Qr.Qp="2";Qr.rs="3";var Mq={};Mq.ZM=function(p,d){var K=p.FH(),P;if(K.x==Infinity||K.kQ())return{nM:Z.p(0),m:new R,MB:new R};
var A=p.FH(),x=Mq.rx(p,d),M=Z._.rN(x.B);if(M.kQ())return{nM:Z.p(0),m:new R,MB:new R};var G=n.b("canvas","");
G.width=M.t;G.height=M.D;var D=G.getContext("2d");D.translate(-M.x,-M.y);Mq.evq(x,D);if(p.K$.length!=0){var a=D.getImageData(0,0,M.t,M.D);
P=new Uint8Array(a.data.buffer)}else P=Z.p(M.r()*4);return{nM:P,m:M,MB:A}};Mq.rx=function(p,d){var K={$:[],B:[]};
Mq.evh(p,K);if(!Z.Fl.Ab(d._u)){var A=Z._.JE(K.B);K=Z._.e$(K);K=Z._.eL(K,Math.min(A.t,A.D)/8);var x=QM.rl(d,p),M=Z.Fl.aJ(d._u,x);
Z.tO.apply(M,K.B,x)}var G=d.u;Z._.u(K.B,G,K.B);return K};Mq.evq=function(p,d){Typr.U.pathToContext({crds:p.B,cmds:p.$},d)};
Mq.eoJ=!1;Mq.Ur=function(p,d){if(MB.eFD==null){if(!Mq.eoJ){MB.eEg();Mq.eoJ=!0}return!1}var K=p.Nf,A=K.ResourceDict.FontSet,x=K.ResourceDict.StyleSheetSet[0].StyleSheetData,M=K.EngineDict.StyleRun.RunLengthArray,G=K.EngineDict.StyleRun.RunArray,D=QM.WD(K),P=!0,a={},e=0;
for(var f=0;f<G.length;f++){var N=G[f].StyleSheet.StyleSheetData.Font;if(N==null)N=x.Font;for(var Y=0;
Y<M[f];Y++){var l=D.charCodeAt(e+Y),h=N+","+(l>128?l:-1);if(a[h]==null){a[h]=1;if(d.iS(A[N].Name,l)==null)P=!1}}e+=M[f]}return P};
Mq.evh=function(p,d){var K=new QI;for(var A=0;A<p.hw.length;A++)Mq.evs(p.K$,p.hw[A],d,K)};Mq.evs=function(p,d,K,A){A.translate(d.oE.x,d.oE.y);
for(var x=0;x<d.od.length;x++){var M={},G=d.od[x];if(!G.LK)break;A.translate(G.oE.x,G.oE.y);for(var D=G.start;
D<G.end;D++)Mq.evJ(p,d.iO[D],d,M,K,A);A.translate(-G.oE.x,-G.oE.y)}A.translate(-d.oE.x,-d.oE.y)};Mq.evA="()<>[]{}\xAB\xBB\u0F3A\u0F3B\u0F3C\u0F3D\u169B\u169C\u2039\u203A\u2045\u2046\u207D\u207E\u208D\u208E\u2208\u2209\u220A\u220B\u220C\u220D\u2215\u223C\u223D\u2243\u2252\u2253\u2254\u2255\u2264\u2265\u2266\u2267\u2268\u2269\u226A\u226B\u226E\u226F\u2270\u2271\u2272\u2273\u2274\u2275\u2276\u2277\u2278\u2279\u227A\u227B\u227C\u227D\u227E\u227F\u2280\u2281\u2282\u2283\u2284\u2285\u2286\u2287\u2288\u2289\u228A\u228B\u228F\u2290\u2291\u2292\u2298\u22A2\u22A3\u22A6\u22A8\u22A9\u22AB\u22B0\u22B1\u22B2\u22B3\u22B4\u22B5\u22B6\u22B7\u22C9\u22CA\u22CB\u22CC\u22CD\u22D0\u22D1\u22D6\u22D7\u22D8\u22D9\u22DA\u22DB\u22DC\u22DD\u22DE\u22DF\u22E0\u22E1\u22E2\u22E3\u22E4\u22E5\u22E6\u22E7\u22E8\u22E9\u22EA\u22EB\u22EC\u22ED\u22F0\u22F1\u22F2\u22F3\u22F4\u22F6\u22F7\u22FA\u22FB\u22FC\u22FD\u22FE\u2308\u2309\u230A\u230B\u2329\u232A\u2768\u2769\u276A\u276B\u276C\u276D\u276E\u276F\u2770\u2771\u2772\u2773\u2774\u2775\u27C3\u27C4\u27C5\u27C6\u27C8\u27C9\u27CB\u27CD\u27D5\u27D6\u27DD\u27DE\u27E2\u27E3\u27E4\u27E5\u27E6\u27E7\u27E8\u27E9\u27EA\u27EB\u27EC\u27ED\u27EE\u27EF\u2983\u2984\u2985\u2986\u2987\u2988\u2989\u298A\u298B\u298C\u298D\u298E\u298F\u2990\u2991\u2992\u2993\u2994\u2995\u2996\u2997\u2998\u29B8\u29C0\u29C1\u29C4\u29C5\u29CF\u29D0\u29D1\u29D2\u29D4\u29D5\u29D8\u29D9\u29DA\u29DB\u29F5\u29F8\u29F9\u29FC\u29FD\u2A2B\u2A2C\u2A2D\u2A2E\u2A34\u2A35\u2A3C\u2A3D\u2A64\u2A65\u2A79\u2A7A\u2A7D\u2A7E\u2A7F\u2A80\u2A81\u2A82\u2A83\u2A84\u2A8B\u2A8C\u2A91\u2A92\u2A93\u2A94\u2A95\u2A96\u2A97\u2A98\u2A99\u2A9A\u2A9B\u2A9C\u2AA1\u2AA2\u2AA6\u2AA7\u2AA8\u2AA9\u2AAA\u2AAB\u2AAC\u2AAD\u2AAF\u2AB0\u2AB3\u2AB4\u2ABB\u2ABC\u2ABD\u2ABE\u2ABF\u2AC0\u2AC1\u2AC2\u2AC3\u2AC4\u2AC5\u2AC6\u2ACD\u2ACE\u2ACF\u2AD0\u2AD1\u2AD2\u2AD3\u2AD4\u2AD5\u2AD6\u2ADE\u2AE3\u2AE4\u2AE5\u2AEC\u2AED\u2AF7\u2AF8\u2AF9\u2AFA\u2E02\u2E03\u2E04\u2E05\u2E09\u2E0A\u2E0C\u2E0D\u2E1C\u2E1D\u2E20\u2E21\u2E22\u2E23\u2E24\u2E25\u2E26\u2E27\u2E28\u2E29\u3008\u3009\u300A\u300B\u300C\u300D\u300E\u300F\u3010\u3011\u3014\u3015\u3016\u3017\u3018\u3019\u301A\u301B\uFE59\uFE5A\uFE5B\uFE5C\uFE5D\uFE5E\uFE64\uFE65\uFF08\uFF09\uFF1C\uFF1E\uFF3B\uFF3D\uFF5B\uFF5D\uFF5F\uFF60\uFF62\uFF63";
Mq.evJ=function(p,d,K,A,x,M){M.translate(d.oE.x,d.oE.y);for(var G=d.Zq;G<=d.OG;G++){var D=K.Wg[G],P=D.m.t,a=p[K.eFA+D.WT];
if(a.LI=="\n")continue;var e=a.Yf.FontSize/a.eq.head.unitsPerEm,f=QM.iz(a.Yf),N=(Math.round(f.N)<<16)+(Math.round(f.w)<<8)+Math.round(f.M);
x.$.push("#"+Z.rd(N));var Y=M.clone();Y.translate(D.oE.x+D.bS*e,D.oE.y-D.be*e);var l=new QI;l.scale(e,-e);
if(a.Ok==1&&Mq.evA.indexOf(a.LI)!=-1)l.concat(new QI(-1,0,0,1,P,0));if(a.Yf.FauxItalic)l.concat(new QI(1,0,-Math.tan(.18),1,0,0));
l.translate(0,a.bw);l.scale(a.scale.x,a.scale.y);if(a.Yf.BaselineShift!=null)l.translate(0,-a.Yf.BaselineShift);
if(D.nx!=0){l.rotate(-D.nx)}l.concat(Y);if(D.path.$.length!=0&&a.LI!="\t"){if(a.Yf.FauxBold){var h=a.Yf.FontSize/2048*27*a.scale.x;
l.ol+=h;Z._.concat(x,D.path,l);l.ol-=h+h;Z._.concat(x,D.path,l)}else Z._.concat(x,D.path,l)}if(a.LI!="\n"){if(a.Yf.Underline){if(A.bV==null)A.bV=a.eq.post.underlineThickness;
if(A.eFf==null)A.eFf=a.eq.post.underlinePosition;var s=0,J=A.eFf-A.bV/2,u=D.XW*1.05,Q=-A.bV;Z._.concat(x,{$:["M","L","L","L","Z"],B:[s,J,s+u,J,s+u,J+Q,s,J+Q]},l)}if(a.Yf.Strikethrough){var W=a.eq["OS/2"].yStrikeoutSize,q=a.eq["OS/2"].yStrikeoutPosition,s=0,J=q+W/2,u=D.XW*1.05,Q=-W;
Z._.concat(x,{$:["M","L","L","L","Z"],B:[s,J,s+u,J,s+u,J+Q,s,J+Q]},l)}}x.$.push("X")}M.translate(-d.oE.x,-d.oE.y)};
function MB(p,d){var K=QM.EE(p),A,x,M=QM.xa(p),P;if(p.Curve)x=MB.rA(p.Curve);if(K!=0){A=new R(M[0],M[1],M[2],M[3]);
if(K==2){A.t=x[5]-x[4];A.D=9999}}this.hw=[];this.K$=[];this.Rd=K;var G=QM.WD(p),D=-1;for(var a=0;a<G.length;
a++){var e=P,f=QM.emL(p,a),Q=0;if(f!=D){D=f;e=P=QM.ewj(p,a)}var N={LI:G.charAt(a),Yf:e,eq:null,eM:-1,bw:0,scale:new QP(0,0),HH:0,lineHeight:0,Ok:0},Y=p.ResourceDict.FontSet[e.Font].Name,l=N.eq=d.iS(Y,G.charCodeAt(a));
N.scale.x=e.HorizontalScale==null?1:e.HorizontalScale;N.scale.y=e.VerticalScale==null?1:e.VerticalScale;
var h=l["OS/2"],s=l.hhea;if(e.FontCaps==1&&N.LI!=N.LI.toUpperCase()){var J=h.sxHeight?h.sxHeight/h.sTypoAscender:.76;
N.scale.x*=J;N.scale.y*=J}var u=1/l.head.unitsPerEm*e.FontSize;if(e.FontBaseline==1){var J=p.ResourceDict.SuperscriptSize;
N.scale.x*=J;N.scale.y*=J;N.bw-=p.ResourceDict.SuperscriptPosition*e.FontSize}if(e.FontBaseline==2){var J=p.ResourceDict.SubscriptSize;
N.scale.x*=J;N.scale.y*=J;N.bw+=p.ResourceDict.SubscriptPosition*e.FontSize}if(Q==0&&h&&h.sxHeight&&Y.toLowerCase().indexOf("capitals")!=-1)Q=h.sxHeight;
if(Q==0&&h&&h.sCapHeight)Q=h.sCapHeight;if(Q==0&&h&&h.sTypoAscender)Q=h.sTypoAscender;if(Q==0)Q=s.ascender;
N.HH=Q*u;N.lineHeight=e.FontSize*1.2;if(e.AutoLeading==!1)N.lineHeight=e.Leading;this.K$.push(N)}var W=this.hw,q=[0];
for(var a=0;a<p.EngineDict.ParagraphRun.RunLengthArray.length;a++){var H=new MB.Fw(p,d,this.K$,a,A,q,K==1?x:null);
W.push(H)}if(K==2){var C=p.Curve.Points,k=x[0],i=x[1],m=x[2],w=x[3],S=x[4],o=x[5];for(var a=0;a<W.length;
a++)for(var O=0;O<W[a].od.length;O++)if(!(a==0&&O==0))W[a].od[O].LK=!1;var H=W[0],t=H.od[0];H.oE.pf(0,0);
t.oE.pf(0,0);for(var O=t.start;O<t.end;O++){var c=H.iO[O],g=c.oE.x;c.oE.x=0;for(var j=c.Zq;j<=c.OG;j++){var _=H.Wg[j],U=_.m.t/2;
_.oE.x+=g;var $=MB.eEt(k,(S+_.oE.x+U)%w);_.oE.x=$[0]-U*$[2];_.oE.y=$[1]-U*$[3];_.nx=Math.atan2($[3],$[2])}}}}MB.prototype.evl=function(){return!this.eM$(0)};
MB.prototype.evf=function(){return this.eM$(1)};MB.prototype.eM$=function(p){var d=this.hw,K=!0,A=0;
for(var x=0;x<d.length;x++){var M=d[x].od,G=M.length;A+=G;for(var D=0;D<G;D++)K&=M[D].LK}return[K,A][p]};
MB.rA=function(p){var d=p.Points,K=d.length,A=K>>>3,x=p.TextOnPathTRange,M=p.Reversed,f=0,N=0;if(M){var G=d.slice(0);
for(var D=0;D<K;D+=2){G[D]=d[K-2-D];G[D+1]=d[K-1-D]}d=G;x=[A-x[1]%A,A-x[0]%A]}var P=[],a=[0],e=[0];for(var D=0;
D<K;D+=8){var Y=d[D+6]-d[D+0],l=d[D+7]-d[D+1],h=Math.round(4*Math.sqrt(Y*Y+l*l));for(var s=0;s<h;s++){var J=s/h,u=1-J,Q=u*u*u*d[D+0]+3*u*u*J*d[D+2]+3*u*J*J*d[D+4]+J*J*J*d[D+6],W=u*u*u*d[D+1]+3*u*u*J*d[D+3]+3*u*J*J*d[D+5]+J*J*J*d[D+7];
P.push(Q,W);if(D+s!=0){var Y=Q-f,l=W-N;e.push(e[e.length-1]+Math.sqrt(Y*Y+l*l));a.push((D>>>3)+J)}f=Q;
N=W}}var q=e.length,H=e[q-1],C=MB.FK(x[0],a),k=MB.FK(x[1]%A,a),i=e[C%q],m=e[k%q];if(i>=m)m+=H;return[P,a,e,H,i,m]};
MB.FK=function(p,d){var K=0;while(d[K]<p)K++;return K};MB.eEt=function(p,d){var K=0,A=0,x,M,G;while(K<d){x=p[A+2]-p[A];
M=p[A+3]-p[A+1];G=Math.sqrt(x*x+M*M);K+=G;A+=2}return[p[A],p[A+1],x/G,M/G]};MB.prototype.eEn=function(p){return this.K$[p]};
MB.prototype.eEw=function(p){for(var d=0;d<this.hw.length;d++){var K=this.hw[d];for(var A=0;A<K.od.length;
A++){var x=K.od[A],M=K.iO[x.start].start,G=K.iO[x.end-1].end;if(M<p&&p<G)return[M,G-1]}}return[0,1]};
MB.prototype.eBY=function(p,d){var K=-1,A=this.hw;if(this.Rd==2){var x=1e9,M=0,G=A[0],D=G.od[0];for(var P=D.start;
P<D.end;P++){var a=G.iO[P];for(var e=a.Zq;e<=a.OG;e++){var f=G.Wg[e],N=f.m.t,Y=p.x-f.oE.x,l=p.y-f.oE.y,h=Y*Y+l*l;
if(h<x){x=h;M=f.WT}}}return M}for(var s=0;s<A.length;s++){var G=A[s];for(var J=0;J<G.od.length;J++){K++;
var D=G.od[J],u=G.od[J+1];if(u==null&&s<A.length-1)u=A[s+1].od[0];if(d!=null){if(K!=d)continue}else{if(u!=null&&G.oE.y+D.oE.y<p.y)continue}for(var P=D.start;
P<D.end;P++){var a=G.iO[P];for(var e=a.Zq;e<=a.OG;e++){var f=G.Wg[e],N=f.m.t,Q=G.oE.x+D.oE.x+a.oE.x,W=Q+f.oE.x,q=Q+(e<a.OG?G.Wg[e+1].oE.x:f.oE.x+N);
if(p.x<=q||P+1==D.end&&e==a.OG){var H=G.eFA+f.WT,C=this.K$[H],k=C.Ok&1;if(C.LI!="\n"&&(k==0&&p.x>W+N/2||k==1&&p.x<W+N/2))H++;
return H}}}}}};MB.prototype.rJ=function(p){var d={m:new R,fe:0},K=0;for(var A=0;A<this.hw.length;A++){var x=this.hw[A];
for(var M=0;M<x.od.length;M++){var G=x.od[M];d.fe=K;K++;for(var D=G.start;D<G.end;D++){var P=x.iO[D];
for(var a=P.start;a<P.end;a++){if(a==p){var e=this.K$[a],f=e.eM,N=x.Wg[f].WT,Y=1;while(x.Wg[f]!=null&&x.Wg[f].WT==N){var l=x.Wg[f],h=x.oE.x+G.oE.x+P.oE.x+l.oE.x,s=x.oE.y+G.oE.y+P.oE.y+l.oE.y;
d.m=d.m.ck(new R(h,s-e.lineHeight,l.m.t,e.lineHeight));d.nx=l.nx;f+=Y}return d}}}}}};MB.prototype.FH=function(){var p=Infinity,d=Infinity,K=-Infinity,A=-Infinity;
for(var x=0;x<this.hw.length;x++){var M=this.hw[x];for(var G=0;G<M.od.length;G++){var D=M.od[G];if(!D.LK)break;
for(var P=D.start;P<D.end;P++){var a=M.iO[P];for(var e=a.Zq;e<=a.OG;e++){var f=M.Wg[e],N=f.m,Y=M.oE.x+D.oE.x+a.oE.x+f.oE.x,l=M.oE.y+D.oE.y+a.oE.y+f.oE.y;
p=Math.min(p,Y+N.x);d=Math.min(d,l+N.y);K=Math.max(K,Y+N.x+N.t);A=Math.max(A,l+N.y+N.D)}}}}return new R(p,d,K-p,A-d)};
MB.eOg=function(p){return 19968<=p&&p<=40959||12288<=p&&p<=12543};MB.eEF=function(p,d,K,A,x,M,G){var D=[M],P=0;
for(var a=M;a<G;a++){if(K[a]==null)console.log(a,M,G,K);var e=K[a].LI,f=e.charCodeAt(0);if(f==32||f==9){D.push(P,a,1,a+1);
P=0}else if(f==3851){D.push(P+1,a+1);P=0}else if(MB.eOg(f)){D.push(P,a);P=1}else if(a!=M&&K[a].Ok!=K[a-1].Ok){D.push(P,a);
P=1}else P++}D.push(P);var N=[];for(var a=0;a<D.length;a+=2){var Y=D[a],l=D[a+1];if(l==0)continue;N.push(new MB.eEs(p,d,K,A,x,Y,l))}return N};
MB.eEL=function(p,d,K,A,x,M,G){var D=[0,d?d.t:1e9],P=[];if(A){var a=p[M].HH,e=x+(x==0?a:p[M].lineHeight),f=e-a*.9,N=Z._.k$(A[0],f),Y=N.length,l=Z._.k$(A[0],e),h=l.length;
if(Y!=0&&h!=0){var s=0,J=0;D=[];while(s<Y&&J<h){var u=Math.max(N[s],l[J]),Q=N[s+1],W=l[J+1],q=Math.min(Q,W);
if(u<q)D.push(u,q);if(Q<W)s+=2;else J+=2}}}for(var H=0;H<D.length;H+=2){var C=D[H+1]-D[H],k=0,i=M,m=d?C-K.StartIndent-K.EndIndent-(M==0?K.FirstLineIndent:0):Infinity;
while(M!=p.length){var w=p[M],S=k==0||(w.Dt||w.CH)||k+w.m.t<m;if(!S)break;k+=w.m.t;M++}P.push(M-i)}G[0]=P;
G[1]=D;G[2]=M};MB.eE_=function(p,d){var K=p.length,A=new Uint32Array(K),x=new Uint8Array(K),M=0;for(var G=0;
G<K;G++){x[G]=0;var D=p.charCodeAt(G);A[G]=D;if(D>M)M=D}if(M>1424)x=MB.eor(A,d);return x};MB.Fw=function(p,d,K,A,x,M,G){this.iO=[];
this.od=[];this.oE=new QP(0,0);this.Wg=null;this.iO=null;this.Yf=QM.eVR(p,A);var D=this.Yf,f=0,h="",W=0,q=1,I=0;
if(A!=0){var P=D.SpaceBefore;if(P!=null)M[0]+=P}var a=p.EngineDict.ParagraphRun.RunLengthArray,e=a[A];
for(var N=0;N<A;N++)f+=a[N];var Y=D._Direction?D._Direction:0;this.eFA=f;var l=QM.WD(p).slice(f,f+e);
for(var s=0;s<l.length;s++){var J=l.charAt(s);h+=K[f+s].Yf.FontCaps==0?J:J.toUpperCase()}l=h;var u=MB.eE_(l,Y),Q=[],H=u[N]&1,C=K[f].eq;
K[f].Ok=u[0];for(var N=1;N<l.length;N++){var J=K[f+N],k=u[N];J.Ok=k;if(k!=H||J.eq!=C){Q.push(W,q);W=N;
q=1;H=k;C=J.eq}else q++}Q.push(W,q);var i=this.Wg=[];for(var N=0;N<Q.length;N+=2){var m=Q[N],w=Q[N+1],S=(K[f+m].Ok&1)==0,o=l.slice(m,m+w),O=MB.eFD(K[f+m].eq,o,S),t=[],j=0;
for(var s=0;s<O.length;s++){var c=O[s];t.push({w:c.g,WT:c.cl,XW:c.ax,hq:c.ay,bS:c.dx,be:c.dy})}O=t;var g=O.slice(0);
if(!S)g.reverse();for(var s=0;s<o.length;s++){while(j+1<g.length&&g[j+1].WT<=s){j++}while(j>0&&g[j-1].WT==s)j--;
K[f+m+s].eM=i.length+(S?j:g.length-j-1)}for(var s=0;s<O.length;s++){i.push(O[s]);O[s].WT+=m;var J=K[f+O[s].WT];
if(J.LI=="\n")O[s].XW=0;if(J.LI=="\t")O[s].XW=J.eq.head.unitsPerEm*2}}var _=QM.Uj(D),U=this.iO=MB.eEF(p,d,K,f,i,f,f+e),$=this.od,E=-1,h=[null,null,0];
while(I<U.length){MB.eEL(U,x,D,G,M[0],I,h);E++;var b={start:I,end:0,m:new R,oE:new QP(0,0),LK:!0},Qp=0,QO=0;
$.push(b);b.end=h[2];var z=b.end==U.length;function QS(g,m,QV){var Q$=QV-m>>>1;for(var N=0;N<Q$;N++){var eS=g[m+N];
g[m+N]=g[QV-1-N];g[QV-1-N]=eS}}for(var QQ=1;QQ<5;QQ++){var Qe=-1;for(var N=b.start;N<b.end;N++){var k=K[U[N].start].Ok;
if(Qe==-1&&k>=QQ)Qe=N;else if(Qe!=-1&&k<QQ){QS(U,Qe,N);Qe=-1}}var QB=b.end;if(Y==0&&U[QB-1].Dt)QB--;
if(Qe!=-1)QS(U,Qe,QB)}var QU=h[0],Qt=h[1],Qe=I,F=I;for(var L=0;L<QU.length;L++){var Qu=Qt[L*2+1]-Qt[L*2],QK=0;
Qe=F;F+=QU[L];var Qm=this.eEI(Qe,F,U,Y,x!=null);if(x){if(_==1||z&&_==4)QK=Qm[1]+(Qu-Qm[0]);if(_==2||z&&_==5)QK=Qm[1]+(Qu-Qm[0])/2;
if(E==0)QK+=D.FirstLineIndent;QK+=D.StartIndent}else{if(_==0)QK=D.StartIndent+D.FirstLineIndent;if(_==1)QK=-Qm[0]-D.EndIndent;
if(_==2)QK=-Qm[0]/2}QK+=Qt[L*2];if(x&&_>2&&(_==6||!z))this.eEh(Qe,F,U,Qu,Y,QK);else{var ei=QK;for(var N=Qe;
N<F;N++){U[N].oE.x=ei;ei+=U[N].m.t}}}I=b.end;for(var N=b.start;N<b.end;N++){var QE=U[N].m.clone();QE.Vo(U[N].oE);
b.m=b.m.ck(QE);Qp=Math.max(Qp,U[N].HH);QO=Math.max(QO,U[N].lineHeight)}b.oE.y=E==0?0:$[E-1].oE.y+QO;
if(E==0){if(A==0&&x)M[0]+=Qp;if(A!=0)M[0]+=QO;this.oE.y=M[0]}else M[0]+=QO;if(x)b.LK=this.oE.y+b.oE.y<x.y+x.D}var Qi=D.SpaceAfter;
if(Qi!=null)M[0]+=Qi};MB.Fw.prototype.eEI=function(p,d,K,A,x){var M=0,G=0;for(var D=p;D<d;D++)M+=K[D].m.t;
if(x){if(A==0)for(var D=d-1;D>=p;D--)if(K[D].Dt||K[D].CH)M-=K[D].m.t;else break;if(A==1)for(var D=p;
D<d;D++)if(K[D].Dt||K[D].CH){var P=K[D].m.t;M-=P;G-=P}else break}return[M,G]};MB.Fw.prototype.eEh=function(p,d,K,A,x,M){var G=0,D=0,P=0,a=0;
for(var e=p;e<d;e++)if(K[e].Dt)P++;else{G+=K[e].m.t;D++}if(x==0)for(var e=d-1;e>=p;e--)if(K[e].Dt||K[e].CH){if(K[e].Dt){P--}}else break;
if(x==1)for(var e=p;e<d;e++)if(K[e].Dt||K[e].CH){if(K[e].Dt){P--;a++}}else break;if(D<=1||P==0){if(D==1)K[p].oE.x=M;
return}var f=(A-G)/P,N=-a*f;for(var e=p;e<d;e++){if(K[e].Dt)this.Wg[K[e].Zq].m.t=K[e].m.t=f;K[e].oE.x=M+N;
N+=K[e].m.t}};MB.eEs=function(p,d,K,A,x,M,G){this.NT="";for(var D=0;D<G;D++)this.NT+=K[M+D].LI;this.Dt=G==1&&(K[M].LI==" "||K[M].LI=="\t");
this.CH=G==1&&K[M].LI=="\n";this.start=M;this.end=M+G;this.m=new R;this.oE=new QP(0,0);this.HH=0;this.lineHeight=0;
var P=0,a=0;if(G==0){this.lineHeight=K[M].lineHeight;this.HH=K[M].HH;this.m=new R(0,-K[M].lineHeight,0,K[M].lineHeight)}var e=K[M].eM,f=K[M+G-1].eM;
if(f<e){var N=e;e=f;f=N}while(f+1<x.length&&x[f].WT==x[f+1].WT){f++}this.Zq=e;this.OG=f;for(var Y=e;
Y<=f;Y++){var l=x[Y],h=K[A+l.WT],s=1/h.eq.head.unitsPerEm*h.Yf.FontSize,W=0;if(!h.Yf.AutoKerning)P+=h.Yf.Kerning*2*s*h.scale.x;
var J=l.XW*s*h.scale.x;l.oE=new QP(P,0);l.nx=0;l.m=new R(0,-h.lineHeight,J,h.lineHeight);var u=Typr.U.glyphToPath(h.eq,l.w);
l.path={$:u.cmds,B:u.crds};var Q=l.m.clone();Q.Vo(l.oE);if(h.Yf.Tracking!=null)W=h.Yf.Tracking*.001*h.Yf.FontSize;
if(h.Yf.FauxBold==!0)W+=.027*h.Yf.FontSize;P+=J+W;if(G==1&&(h.LI==" "||h.LI=="\t"))Q.t+=2*W;else if(G==1&&MB.eOg(h.LI.charCodeAt(0)))Q.t+=W;
this.m=this.m.ck(Q);this.HH=Math.max(this.HH,h.HH);this.lineHeight=Math.max(this.lineHeight,h.lineHeight)}};
MB.eEg=function(){fetch("code/external/hb.wasm").then(function(p){return p.arrayBuffer()}).then(function(p){return WebAssembly.instantiate(p)}).then(function(p){p.instance.exports.memory.grow(400);
MB.eoY=hbjs(p.instance);MB.eFD=function(){var d=function(K){var A=0;if((K&4294967295-(1<<7)+1)==0){A=1}else if((K&4294967295-(1<<11)+1)==0){A=2}else if((K&4294967295-(1<<16)+1)==0){A=3}else if((K&4294967295-(1<<21)+1)==0){A=4}return A};
return function(K,A,x){var M=MB.eoY,G=K._data,D=Qg.Vq(K),P=MB.eol,s=0,J=0;if(MB.eoy!=D){if(P!=null){P[0].free();
P[1].free();P[2].free()}var a=M.createBlob(G),e=M.createFace(a,0),f=M.createFont(e);MB.eol=P=[a,e,f];
MB.eoy=D}var f=P[2],N=M.createBuffer(),Y=v.GZ(A);N.addText(Y);N.setDirection(x?"ltr":"rtl");N.guessSegmentProperties();
N.shape(f);var l=N.json(f);N.free();var h=l.slice(0);if(!x)h.reverse();for(var u=1;u<h.length;u++){var Q=h[u],W=Q.cl;
while(J+d(A.charCodeAt(s))<=W){J+=d(A.charCodeAt(s));s++}Q.cl=s}return l}}();fetch("code/external/fribidi.wasm").then(function(d){return d.arrayBuffer()}).then(function(d){return WebAssembly.instantiate(d)}).then(function(p){var d=p.instance.exports,K=d.memory,M=16,G=256,D=1;
K.grow(400);var A=new Uint8Array(K.buffer),x=new Uint32Array(K.buffer),P=M|G,a=M|G|D;MB.eor=function(f,N){var Y=f.length,l=d.calloc(Y*4+4+Y*4+Y*4+Y,1),h=l+Y*4,s=h+4,J=s+Y*4,u=J+Y*4;
x.set(f,l>>>2);x[h>>>2]=N==0?P:a;d.fribidi_get_bidi_types(l,Y,s);d.fribidi_get_bracket_types(l,Y,s,J);
d.fribidi_get_par_embedding_levels_ex(s,J,Y,h,u);var Q=A.slice(u,u+Y);d.free(l);return Q};var e=new y(n.E.s,!0);
e.data={j:n.H.aA,oJ:"add",gD:Qn.ec,EW:null};Qg.r$.n(e)})})};function QM(){}QM.GK=function(p){return JSON.parse(JSON.stringify(p))};
QM.Ub=function(p,d){for(var K in d)p[K]=d[K]};QM.av=function(p,d,K){var A=QM.eVf();if(K)QM.gh(A,0,0,K);
var x={u:new QI(1,0,0,1,Math.round(p),Math.round(d)),Nf:A};x.iD=QM.eoP();x._u=Z.Fl.p();x.MB=new R;return x};
QM.eKq=function(p){var d=["CharacterDirection",0];for(var K=0;K<d.length;K+=2){if(p[d[K]]!=null&&p[d[K]]!=d[K+1]){throw"e";
console.log(d[K],p[d[K]])}}if(p instanceof Array)for(var K=0;K<p.length;K++)QM.eKq(p[K]);else if(p instanceof Object)for(var A in p)QM.eKq(p[A])};
QM.Uj=function(p,d){if(d==null)d=p.Justification;var K=p._Direction?p._Direction:0;if(K==1){if(d==0||d==3)d++;
else if(d==1||d==4)d--}return d};QM.Uy=function(p){if(p.add==null)return;var d=p.Nf,K=d.Curve,A=p.add.vmsk,x=A.Z,M=Z._.ZT(x,!0).B,G=p.u.clone();
G.an();Z._.u(M,G,M);var D=M.slice(0,8);for(var P=8;P<M.length;P+=6)D.push(M[P-2],M[P-1],M[P],M[P+1],M[P+2],M[P+3],M[P+4],M[P+5]);
K.Points=D;K.TextOnPathTRange=A.K_.slice(0);K.Reversed=A.nI;if(QM.EE(d)==1){var K=MB.rA(d.Curve),a=Z._.JE(K[0]);
QM.wv(d,[0,0,a.t,a.D].map(Math.round));for(var e=0;e<D.length;e+=2){D[e]-=a.x;D[e+1]-=a.y}var f=new QI(1,0,0,1,a.x,a.y);
f.concat(p.u);p.u=f}};QM._l=function(p){if(p.add==null)return;var d=p.add.vmsk,K=p.Nf.Curve,A=K.Points,x={$:["M"],B:[A[0],A[1]]};
for(var M=0;M<A.length;M+=8){x.$.push("C");x.B.push(A[M+2],A[M+3],A[M+4],A[M+5],A[M+6],A[M+7])}Z._.u(x.B,p.u,x.B);
var G=Z._.Li(x,!0);d.Z=G;d.nI=K.Reversed;d.K_=K.TextOnPathTRange.slice(0);p.add.vogk=V.oK(G)};QM.iz=function(p){var d={N:0,w:0,M:0};
if(p.FillColor){var K=p.FillColor,A=K.Values;if(K.Type==1)d={N:A[1]*255,w:A[2]*255,M:A[3]*255};else if(K.Type==2){var x={classID:"CMYC",Cyn:{t:"doub",v:A[1]*100},Mgnt:{t:"doub",v:A[2]*100},Ylw:{t:"doub",v:A[3]*100},Blck:{t:"doub",v:A[4]*100}};
d=Z.k.iz(x)}else console.log("Unknown color type")}return d};QM.eEl=function(p){for(var d=0;d<p.length;
d++){var K=p[d].StyleSheet.StyleSheetData,A=K.FillColor;if(A&&A.Type==2){var x=QM.iz(K);A.Type=1;A.Values=[1,x.N/255,x.w/255,x.M/255]}}};
QM.rl=function(p,d){var K;if(QM.EE(p.Nf)==1){var A=QM.xa(p.Nf);K=new R(0,0,A[2]-A[0],A[3]-A[1])}else K=d.FH();
return K};QM.HN=function(p){var d=p[0];for(var K=0;K<p.length;K++)d=QM.ewd(d,p[K]);return d};QM.ewd=function(p,d){var K={};
for(var A in p)if(JSON.stringify(p[A])==JSON.stringify(d[A]))K[A]=p[A];return K};QM.xz=function(p,d){var K=p.CV,A=-1;
for(var x=0;x<K.length;x++)if(K[x].Name==d)A=x;if(A==-1){A=K.length;K.push({FontType:1,Name:d,Script:0,Synthetic:0})}p.K$.Font=A};
QM.WD=function(p){return p.EngineDict.Editor.Text.replace(/\r/g,"\n").replace(/\u0003/g,"\n")};QM.FV=function(p,d){p.EngineDict.Editor.Text=d.replace(/\n/g,"\r")};
QM.EE=function(p){return p.Curve&&p.Curve.TextOnPathTRange[0]>=0?2:p.EngineDict.Rendered.Shapes.Children[0].ShapeType};
QM.aP=function(p,d){var K=p.EngineDict.Rendered.Shapes.Children[0];K.ShapeType=d;var A=K.Cookie.Photoshop;
A.ShapeType=d;A.Base.ShapeType=d;if(d==0){delete A.BoxBounds;A.PointBase=[0,0]}if(d==1){delete A.PointBase;
A.BoxBounds=[0,0,1,1]}};QM.xa=function(p){return p.EngineDict.Rendered.Shapes.Children[0].Cookie.Photoshop.BoxBounds};
QM.wv=function(p,d){p.EngineDict.Rendered.Shapes.Children[0].Cookie.Photoshop.BoxBounds=d};QM.ewj=function(p,d){return QM.ewX(p,QM.emL(p,d))};
QM.emL=function(p,d){var K=p.EngineDict.StyleRun.RunLengthArray;return QM.xW(K,d).pC};QM.ewX=function(p,d){var K=p.ResourceDict.StyleSheetSet[0].StyleSheetData,A={};
for(var x in K)A[x]=K[x];var M=p.EngineDict.StyleRun.RunArray[d].StyleSheet.StyleSheetData;QM.Ub(A,M);
return A};QM.eVR=function(p,d){var K=p.ResourceDict.ParagraphSheetSet[0].Properties,A={};for(var x in K)A[x]=K[x];
var M=p.EngineDict.ParagraphRun.RunArray[d].ParagraphSheet.Properties;QM.Ub(A,M);var G=["StartIndent","EndIndent","FirstLineIndent"];
for(var D=0;D<3;D++)if(A[G[D]]==null)A[G[D]]=0;return A};QM.bN=function(p,d,K){if(K=="")return;var A=QM.WD(p);
QM.FV(p,A.substring(0,d)+K+A.substring(d,A.length));var x=p.EngineDict.StyleRun,M=x.RunLengthArray,G=QM.xW(M,d-1);
M[G.pC]+=K.length;var D=p.EngineDict.ParagraphRun,M=D.RunLengthArray,P=QM.xW(M,d),a=K.split("\n");if(a.length==1){M[P.pC]+=K.length;
return}M.splice(P.pC+1,0,M[P.pC]-(d-P.ZJ));D.RunArray.splice(P.pC+1,0,QM.GK(D.RunArray[P.pC]));M[P.pC]-=M[P.pC+1];
M[P.pC]+=a[0].length+1;for(var e=1;e<a.length-1;e++){D.RunArray.splice(P.pC+e,0,QM.GK(D.RunArray[P.pC+e-1]));
D.RunLengthArray.splice(P.pC+e,0,a[e].length+1)}M[P.pC+a.length-1]+=a[a.length-1].length};QM.F$=function(p,d,K){var A=QM.WD(p);
QM.FV(p,A.substring(0,d)+A.substring(K,A.length));QM.emf(p.EngineDict.ParagraphRun,d,K,!0);QM.emf(p.EngineDict.StyleRun,d,K,!1)};
QM.emf=function(p,d,K,A){var x=p.RunLengthArray,M=QM.xW(x,d),G=QM.xW(x,K),D=[];for(var P=0;P<x.length;
P++)for(var a=0;a<x[P];a++)D.push(P);D.splice(d,K-d);var e=[];for(var P=0;P<x.length;P++)e.push(0);for(var P=0;
P<D.length;P++)e[D[P]]++;for(var P=0;P<x.length;P++){if(e[P]==0){e.splice(P,1);x.splice(P,1);p.RunArray.splice(P,1);
P--}else if(e[P]<x[P])x[P]=e[P]}if(A&&M.pC!=G.pC&&M.ZJ!=d){x[M.pC]+=x[M.pC+1];x.splice(M.pC+1,1);p.RunArray.splice(M.pC+1,1)}};
QM.gh=function(p,d,K,A){var x=p.EngineDict.Editor.Text.length;if(K==x-2)K++;if(A.K$.Font!=null)p.ResourceDict.FontSet=A.CV.slice(0);
if(d<=K)QM.eEx(p.EngineDict.StyleRun,A.K$,d,K,!0);QM.eEx(p.EngineDict.ParagraphRun,A.hw,d,K,!1)};QM.eEx=function(p,d,K,A,x){var M=p.RunLengthArray;
if(x){var G=QM.xW(M,K);if(G.ZJ!=K){var D=M[G.pC];M.splice(G.pC,0,K-G.ZJ);M[G.pC+1]=D-M[G.pC];p.RunArray.splice(G.pC+1,0,QM.GK(p.RunArray[G.pC]))}var P=QM.xW(M,A);
if(P.ZJ+M[P.pC]-1!=A){var D=M[P.pC];M.splice(P.pC,0,A-P.ZJ+1);M[P.pC+1]=D-M[P.pC];p.RunArray.splice(P.pC+1,0,QM.GK(p.RunArray[P.pC]))}}var G=QM.xW(M,K),P=QM.xW(M,A);
if(x)for(var a=G.pC;a<=P.pC;a++)QM.Ub(p.RunArray[a].StyleSheet.StyleSheetData,d);else for(var a=G.pC;
a<=P.pC;a++)QM.Ub(p.RunArray[a].ParagraphSheet.Properties,d)};QM.eVa=function(p,d,K){var A=p.EngineDict.StyleRun.RunLengthArray,x=[],M=0;
for(var G=0;G<A.length;G++){var D=A[G];for(var P=0;P<D;P++)if(d<=M+P&&M+P<K)x.push(G);M+=D}var a=x[0],e=[];
for(var G=0;G<x.length;G++){var f=x[G]-a;if(f==e.length)e.push(0);e[f]++}return e};QM.eVh=function(p){var d=p.EngineDict.StyleRun,K=d.RunArray,A=d.RunLengthArray;
for(var x=0;x<A.length-1;x++){var M=K[x].StyleSheet.StyleSheetData,G=K[x+1].StyleSheet.StyleSheetData;
if(JSON.stringify(M)==JSON.stringify(G)){K.splice(x+1,1);A[x]+=A[x+1];A.splice(x+1,1);x--}}};QM.fy=function(p,d,K){var A={CV:p.ResourceDict.FontSet.slice(0),K$:[],hw:[]},x=p.EngineDict.StyleRun.RunLengthArray,M=QM.xW(x,d).pC,G=QM.xW(x,K).pC;
for(var D=M;D<=G;D++){var P=QM.GK(p.ResourceDict.StyleSheetSet[0].StyleSheetData),a=p.EngineDict.StyleRun.RunArray[D].StyleSheet.StyleSheetData;
QM.Ub(P,a);A.K$.push(P)}var e=p.EngineDict.ParagraphRun.RunLengthArray,f=QM.xW(e,d).pC,N=QM.xW(e,K).pC;
for(var D=f;D<=N;D++){A.hw.push(QM.GK(p.EngineDict.ParagraphRun.RunArray[D].ParagraphSheet.Properties))}A.K$=QM.HN(A.K$);
A.hw=QM.HN(A.hw);return A};QM.FF=function(p,d){var K,A;K=["FontSize","Leading","BaselineShift"];A=p.K$;
for(var x=0;x<K.length;x++)if(A[K[x]]!=null)A[K[x]]*=d;K=["StartIndent","EndIndent","FirstLineIndent","SpaceBefore","SpaceAfter"];
A=p.hw;for(var x=0;x<K.length;x++)if(A[K[x]]!=null)A[K[x]]*=d};QM.eVd=function(){return QM.fy(QM.ePg,0,0)};
QM.eoP=function(){return{classID:"TxLr",Txt:{t:"TEXT",v:"\0"},textGridding:{t:"enum",v:{textGridding:"None"}},Ornt:{t:"enum",v:{Ornt:"Hrzn"}},AntA:{t:"enum",v:{Annt:"antiAliasSharp"}},TextIndex:{t:"long",v:0}}};
QM.xW=function(p,d){var K=0,A=0;while(K+p[A]<=d){K+=p[A];A++}return{pC:A,ZJ:K}};QM.eVf=function(){var p=QM.GK(this.ePg);
return p};QM.eeY={Justification:0,FirstLineIndent:0,StartIndent:0,EndIndent:0,SpaceBefore:0,SpaceAfter:0,AutoHyphenate:!1,HyphenatedWordSize:6,PreHyphen:2,PostHyphen:2,ConsecutiveHyphens:8,Zone:36,WordSpacing:[.8,1,1.33],LetterSpacing:[0,0,0],GlyphSpacing:[1,1,1],AutoLeading:1.2,LeadingType:0,Hanging:!1,Burasagari:!1,KinsokuOrder:0,EveryLineComposer:!1,_Direction:0};
QM.ecS={Font:0,FontSize:12,FauxBold:!1,FauxItalic:!1,AutoLeading:!0,Leading:0,HorizontalScale:1,VerticalScale:1,Tracking:0,AutoKerning:!0,Kerning:0,BaselineShift:0,FontCaps:0,FontBaseline:0,Underline:!1,Strikethrough:!1,Ligatures:!0,DLigatures:!1,BaselineDirection:2,Tsume:0,StyleRunAlignment:2,Language:0,NoBreak:!1,FillColor:{Type:1,Values:[1,0,0,0]},StrokeColor:{Type:1,Values:[1,0,0,0]},FillFlag:!0,StrokeFlag:!1,FillFirst:!0,YUnderline:1,OutlineWidth:1,CharacterDirection:0,HindiNumbers:!1,Kashida:1,DiacriticPos:2};
QM.ePg={EngineDict:{Editor:{Text:"\n"},ParagraphRun:{DefaultRunData:{ParagraphSheet:{DefaultStyleSheet:0,Properties:{}},Adjustments:{Axis:[1,0,1],XY:[0,0]}},RunArray:[{ParagraphSheet:{DefaultStyleSheet:0,Properties:JSON.parse(JSON.stringify(QM.eeY))},Adjustments:{Axis:[1,0,1],XY:[0,0]}}],RunLengthArray:[1],IsJoinable:1},StyleRun:{DefaultRunData:{StyleSheet:{StyleSheetData:{}}},RunArray:[{StyleSheet:{StyleSheetData:{Font:0,FontSize:24,AutoKerning:!0,Kerning:0}}}],RunLengthArray:[1],IsJoinable:2},GridInfo:{GridIsOn:!1,ShowGrid:!1,GridSize:18,GridLeading:22,GridColor:{Type:1,Values:[0,0,0,1]},GridLeadingFillColor:{Type:1,Values:[0,0,0,1]},AlignLineHeightToGridFlags:!1},AntiAlias:4,UseFractionalGlyphWidths:!0,Rendered:{Version:1,Shapes:{WritingDirection:0,Children:[{ShapeType:0,Procession:0,Lines:{WritingDirection:0,Children:[]},Cookie:{Photoshop:{ShapeType:0,PointBase:[0,0],Base:{ShapeType:0,TransformPoint0:[1,0],TransformPoint1:[0,1],TransformPoint2:[0,0]}}}}]}}},ResourceDict:{KinsokuSet:[{Name:"PhotoshopKinsokuHard",NoStart:"\u3001\u3002\uFF0C\uFF0E\u30FB\uFF1A\uFF1B\uFF1F\uFF01\u30FC\u2015\u2019\u201D\uFF09\u3015\uFF3D\uFF5D\u3009\u300B\u300D\u300F\u3011\u30FD\u30FE\u309D\u309E\u3005\u3041\u3043\u3045\u3047\u3049\u3063\u3083\u3085\u3087\u308E\u30A1\u30A3\u30A5\u30A7\u30A9\u30C3\u30E3\u30E5\u30E7\u30EE\u30F5\u30F6\u309B\u309C?!)]},.:;\u2103\u2109\xA2\uFF05\u2030",NoEnd:"\u2018\u201C\uFF08\u3014\uFF3B\uFF5B\u3008\u300A\u300C\u300E\u3010([{\uFFE5\uFF04\xA3\uFF20\xA7\u3012\uFF03",Keep:"\u2015\u2025",Hanging:"\u3001\u3002.,"},{Name:"PhotoshopKinsokuSoft",NoStart:"\u3001\u3002\uFF0C\uFF0E\u30FB\uFF1A\uFF1B\uFF1F\uFF01\u2019\u201D\uFF09\u3015\uFF3D\uFF5D\u3009\u300B\u300D\u300F\u3011\u30FD\u30FE\u309D\u309E\u3005",NoEnd:"\u2018\u201C\uFF08\u3014\uFF3B\uFF5B\u3008\u300A\u300C\u300E\u3010",Keep:"\u2015\u2025",Hanging:"\u3001\u3002.,"}],MojiKumiSet:[{InternalName:"Photoshop6MojiKumiSet1"},{InternalName:"Photoshop6MojiKumiSet2"},{InternalName:"Photoshop6MojiKumiSet3"},{InternalName:"Photoshop6MojiKumiSet4"}],TheNormalStyleSheet:0,TheNormalParagraphSheet:0,ParagraphSheetSet:[{Name:"Normal RGB",DefaultStyleSheet:0,Properties:JSON.parse(JSON.stringify(QM.eeY))}],StyleSheetSet:[{Name:"Normal RGB",StyleSheetData:JSON.parse(JSON.stringify(QM.ecS))}],FontSet:[{Name:"DejaVuSans",Script:0,FontType:1,Synthetic:0},{Name:"AdobeInvisFont",Script:0,FontType:0,Synthetic:0},{Name:"MyriadHebrew-Regular",Script:6,FontType:0,Synthetic:0}],SuperscriptSize:.583,SuperscriptPosition:.333,SubscriptSize:.583,SubscriptPosition:.333,SmallCapSize:.7}};
var MV={};MV.ect=function(p,d,K){var A={};A._98={_0:"i7"};A._0=MV.ecc(p,d,K?K._0:null);A._1=MV.e$d(p,d,A._0,K?K._1:null);
return A};MV.ecc=function(p,d,K){var A={};A._1=MV.eci(p,K?K._1:null);A._2={_0:[{_0:{_0:"s"}}],_1:[{_0:"i0"}]};
A._3=JSON.parse(JSON.stringify(MV.e$T));A._4=JSON.parse(JSON.stringify(MV.eFe));A._5=MV.ech(p,A._1._0,K?K._5:null);
A._6=MV.ecy(p,K?K._6:null);A._8=MV.e$D(p,d,K?K._8:null);A._9=MV.eFG;return A};MV.eci=function(p,d){var K=[],A=[];
for(var x=0;x<p.length;x++){var M=p[x].ResourceDict.FontSet;for(var G=0;G<M.length;G++){var D=M[G];if(A.indexOf(D.Name)!=-1)continue;
K.push(D);A.push(D.Name)}}var P={_0:[]};for(var x=0;x<K.length;x++){var a=K[x],e={_0:{_99:"/CoolTypeFont",_0:{_0:"s"+a.Name,_1:"i"+a.Script,_2:"i"+a.FontType}}};
if(a.Script==0)delete e._0._0._1;P._0.push(e)}return P};MV.ech=function(p,d,K){var A={_0:[],_1:[]},x={_0:JSON.parse(JSON.stringify(MV.eMy))};
MV.etp(x._0,p[0].ResourceDict.StyleSheetSet[0],d,p[0].ResourceDict.FontSet);A._0.push(x);A._1.push({_0:"i0"});
A._0.push({_0:{_0:"sNone",_5:"i0",_6:{}}});A._1.push({_0:"i1"});return A};MV.ecy=function(p,d){var K={_0:[],_1:[]},A={_0:JSON.parse(JSON.stringify(MV.FR))};
MV.FI(A._0,p[0].ResourceDict.ParagraphSheetSet[0]);K._0.push(A);K._1.push({_0:"i0"});A={_0:JSON.parse(JSON.stringify(MV.FR))};
MV.FI(A._0,p[0].ResourceDict.ParagraphSheetSet[0]);A._0._0="sBasic Paragraph";A._0._6="i0";K._0.push(A);
K._1.push({_0:"i1"});return K};MV.e$D=function(p,d,K){var A={_0:[]};for(var x=0;x<p.length;x++){var M=p[x].Curve,G={};
A._0.push({_0:G});var D=QM.EE(p[x]);G._2={};G._2._0="i"+D;if(D==0){G._2._6=["f-1","f-1"];G._2._11={_4:"i-1",_7:!1}}else if(D==1&&M==null){var P=QM.xa(p[x]),a=P[2],e=P[3];
G._1={_0:MV.KG("f",[0,0,0,0,a,0,a,0,a,0,a,0,a,e,a,e,a,e,a,e,0,e,0,e,0,e,0,e,0,0,0,0])};G._2._6=["f-2","f-2"];
G._2._11={_4:"i-2",_7:!1}}else if(D==1){var P=QM.xa(p[x]),a=P[2],e=P[3];G._1={_0:MV.KG("f",M.Points)};
G._2._6=["f-3","f-3"];G._2._11={_4:"i-3",_7:!1}}else if(D==2){G._1={_0:MV.KG("f",M.Points)};G._2._6=MV.KG("f",M.TextOnPathTRange);
G._2._11={_0:M.Reversed,_3:"i0",_5:"f0",_7:!1}}}return A};MV.e$d=function(p,d,K,A){var x={};x._0=JSON.parse(JSON.stringify(MV.eFm));
x._1=MV.e$A(p,d,K,A?A._1:null);x._2=JSON.parse(JSON.stringify(MV.eMy._6));x._3=JSON.parse(JSON.stringify(MV.FR._5));
return x};MV.e$A=function(p,d,K,A){var x=[],M=K._1._0;for(var G=0;G<p.length;G++){var D=p[G],P={_0:{}};
x.push(P);var a=A?A[G]:null;P._0._0="s"+D.EngineDict.Editor.Text;P._0._0=P._0._0;var e={_0:[]};P._0._5=e;
var f=D.EngineDict.ParagraphRun;for(var N=0;N<f.RunArray.length;N++){var Y={_0:{}};e._0.push(Y);Y._0._0={_0:"s",_5:{},_6:"i1"};
MV.FI(Y._0._0,D.EngineDict.ParagraphRun.RunArray[N].ParagraphSheet);Y._1="i"+f.RunLengthArray[N]}var l={_0:[]};
P._0._6=l;var h=a?a._0._6:null;f=D.EngineDict.StyleRun;for(var N=0;N<f.RunArray.length;N++){var s={_0:{}};
l._0.push(s);var J=h?h._0:null;s._0._0={_0:"s",_5:"i1",_6:{}};MV.etp(s._0._0,D.EngineDict.StyleRun.RunArray[N].StyleSheet,M,D.ResourceDict.FontSet,J?s._0._0:null);
s._1="i"+f.RunLengthArray[N]}P._0._10={_0:"i4",_2:!0};P._1=MV.view.eFw(D,null,G,null)}return x};MV.etp=function(p,d,K,A,x){p._0="s"+(d.Name?d.Name:"");
var M=p._6,G=x?x._6:null,D=d.StyleSheetData;if(D.Font==null)return;var P=A[D.Font].Name,a=-1;for(var e=0;
e<K.length;e++)if("s"+P==K[e]._0._0._0){a=e;break}M._0="i"+a;if(D.FontSize!=null)M._1="f"+D.FontSize;
if(D.FauxBold!=null)M._2=D.FauxBold;if(D.FauxItalic!=null)M._3=D.FauxItalic;if(D.AutoLeading!=null)M._4=D.AutoLeading;
if(D.Leading!=null)M._5="f"+D.Leading;if(D.HorizontalScale!=null)M._6="f"+D.HorizontalScale;if(D.VerticalScale!=null)M._7="f"+D.VerticalScale;
if(D.Tracking!=null)M._8="i"+D.Tracking;if(D.BaselineShift!=null)M._9="f"+D.BaselineShift;if(D.AutoKerning!=null)M._11="i"+(D.AutoKerning?1:0);
if(D.FontCaps!=null)M._12="i"+D.FontCaps;if(D.FontBaseline!=null)M._13="i"+D.FontBaseline;if(D.Strikethrough!=null)M._15="i"+(D.Strikethrough?1:0);
if(D.Underline!=null)M._16="i"+(D.Underline?2:0);if(D.Ligatures!=null)M._18=D.Ligatures;if(D.DLigatures!=null)M._19=D.DLigatures;
if(D.Language!=null)M._38="i"+D.Language;if(D.FillColor!=null)M._53={_99:"/SimplePaint",_0:{_0:"i1",_1:MV.KG("f",D.FillColor.Values)}}};
MV.FI=function(p,d){p._0="s"+(d.Name?d.Name:"");var K=p._5,A=d.Properties;if(A.Justification!=null)K._0="i"+A.Justification;
if(A.FirstLineIndent!=null)K._1="f"+A.FirstLineIndent;if(A.StartIndent!=null)K._2="f"+A.StartIndent;
if(A.EndtIndent!=null)K._3="f"+A.EndtIndent;if(A.SpaceBefore!=null)K._4="f"+A.SpaceBefore;if(A.SpaceAfter!=null)K._5="f"+A.SpaceAfter;
if(A.AutoHyphenate!=null)K._9=A.AutoHyphenate;if(A._Direction!=null)K._33="i"+A._Direction};MV.KG=function(p,d){var K=[];
for(var A=0;A<d.length;A++)K.push(p+d[A]);return K};MV.e$T={_0:[{_0:{_0:"sPhotoshop6MojiKumiSet4",_5:{_0:"i0",_3:"i2"}}},{_0:{_0:"sPhotoshop6MojiKumiSet3",_5:{_0:"i0",_3:"i4"}}},{_0:{_0:"sPhotoshop6MojiKumiSet2",_5:{_0:"i0",_3:"i3"}}},{_0:{_0:"sPhotoshop6MojiKumiSet1",_5:{_0:"i0",_3:"i1"}}},{_0:{_0:"sYakumonoHankaku",_5:{_0:"i0",_3:"i1"}}},{_0:{_0:"sGyomatsuYakumonoHankaku",_5:{_0:"i0",_3:"i3"}}},{_0:{_0:"sGyomatsuYakumonoZenkaku",_5:{_0:"i0",_3:"i4"}}},{_0:{_0:"sYakumonoZenkaku",_5:{_0:"i0",_3:"i2"}}}],_1:[{_0:"i0"},{_0:"i1"},{_0:"i2"},{_0:"i3"},{_0:"i4"},{_0:"i5"},{_0:"i6"},{_0:"i7"}]};
MV.eFe={_0:[{_0:{_0:"sNone",_5:{_0:"s",_1:"s",_2:"s",_3:"s",_4:"i0"}}},{_0:{_0:"sPhotoshopKinsokuHard",_5:{_0:"s!),.:;?]}\xA2\u2014\u2019\u201D\u2030\u2103\u2109\u3001\u3002\u3005\u3009\u300B\u300A\u300F\u3011\u3015\u3041\u3043\u3045\u3047\u3049\u3063\u3083\u3085\u3087\u308E\u309B\u309C\u309D\u309E\u30A1\u30A3\u30A5\u30A7\u30A9\u30C3\u30E3\u30E5\u30E7\u30EE\u30F5\u30F6\u30FB\u30FC\u30FD\u30FE\uFF01\uFF05\uFF09\uFF0C\uFF0E\uFF1A\uFF1B\uFF1F\uFF3D\uFF5D",_1:"s([{\xA3\xA7\u2018\u201C\u3008\u300A\u300C\u300E\u3010\u3012\u3014\uFF03\uFF04\uFF08\uFF20\uFF3B\uFF5B\uFFE5",_2:"s\u2014\u2025\u2026",_3:"s\u3001\u3002\uFF0C\uFF0E",_4:"i1"}}},{_0:{_0:"sPhotoshopKinsokuSoft",_5:{_0:"s\u2019\u201D\u3001\u3002\u3005\u3009\u300B\u300A\u300F\u3011\u3015\u309D\u309E\u30FB\u30FD\u30FE\uFF01\uFF09\uFF0C\uFF0E\uFF1A\uFF1B\uFF1F\uFF3D\uFF5D",_1:"s\u2018\u201C\u3008\u300A\u300C\u300E\u3010\u3014\uFF08\uFF3B\uFF5B",_2:"s\u2014\u2025\u2026",_3:"s\u3001\u3002\uFF0C\uFF0E",_4:"i2"}}},{_0:{_0:"sHard",_5:{_0:"s!),.:;?]}\xA2\u2014\u2019\u201D\u2030\u2103\u2109\u3001\u3002\u3005\u3009\u300B\u300A\u300F\u3011\u3015\u3041\u3043\u3045\u3047\u3049\u3063\u3083\u3085\u3087\u308E\u309B\u309C\u309D\u309E\u30A1\u30A3\u30A5\u30A7\u30A9\u30C3\u30E3\u30E5\u30E7\u30EE\u30F5\u30F6\u30FB\u30FC\u30FD\u30FE\uFF01\uFF05\uFF09\uFF0C\uFF0E\uFF1A\uFF1B\uFF1F\uFF3D\uFF5D",_1:"s([{\xA3\xA7\u2018\u201C\u3008\u300A\u300C\u300E\u3010\u3012\u3014\uFF03\uFF04\uFF08\uFF20\uFF3B\uFF5B\uFFE5",_2:"s\u2014\u2025\u2026",_3:"s\u3001\u3002\uFF0C\uFF0E",_4:"i1"}}},{_0:{_0:"sSoft",_5:{_0:"s\u2019\u201D\u3001\u3002\u3005\u3009\u300B\u300A\u300F\u3011\u3015\u309D\u309E\u30FB\u30FD\u30FE\uFF01\uFF09\uFF0C\uFF0E\uFF1A\uFF1B\uFF1F\uFF3D\uFF5D",_1:"s\u2018\u201C\u3008\u300A\u300C\u300E\u3010\u3014\uFF08\uFF3B\uFF5B",_2:"s\u2014\u2025\u2026",_3:"s\u3001\u3002\uFF0C\uFF0E",_4:"i2"}}}],_1:[{_0:"i0"},{_0:"i1"},{_0:"i2"},{_0:"i3"},{_0:"i4"}]};
MV.eMy={_0:"sNormal RGB",_6:{_0:"i0",_1:"f12",_2:!1,_3:!1,_4:!0,_5:"f0",_6:"f1",_7:"f1",_8:"i0",_9:"f0",_10:"f0",_11:"i1",_12:"i0",_13:"i0",_14:"i0",_15:"i0",_16:"i0",_17:"f0",_18:!0,_19:!1,_20:!1,_21:!1,_22:!1,_23:!1,_24:!1,_25:!1,_26:!1,_27:!1,_28:!1,_29:!1,_30:"i0",_31:!1,_32:!1,_33:!1,_34:!1,_35:"i2",_36:"f0",_37:"i2",_38:"i0",_39:"i0",_40:!1,_41:"i2",_42:"i0",_43:{_0:"f.5"},_44:"i2",_45:"i2",_46:"i7",_47:"i0",_48:"i0",_49:"f-1",_50:"f-1",_51:"i0",_52:!1,_53:{_99:"/SimplePaint",_0:{_0:"i1",_1:["f1","f0","f0","f0"]}},_54:{_99:"/SimplePaint",_0:{_0:"i1",_1:["f1","f0","f0","f0"]}},_55:{_99:"/SimpleBlender"},_56:!0,_57:!1,_58:!0,_59:!1,_60:!1,_61:"i0",_62:"i0",_63:"f1",_64:"f4",_65:"f0",_66:[],_67:[],_68:"i0",_69:"i0",_70:"i0",_71:"i4",_72:"f0",_73:"f0",_74:!1,_75:!1,_76:!1,_77:!0,_78:!0,_79:{_99:"/SimplePaint",_0:{_0:"i1",_1:["f1","f1","f1","f0"]}},_80:!1,_81:"i0",_82:"f3",_83:"f3",_84:!1,_85:"i0",_86:{_99:"/SimpleCustomFeature"},_87:"f100",_88:!0}};
MV.FR={_0:"sNormal RGB",_5:{_0:"i0",_1:"f0",_2:"f0",_3:"f0",_4:"f0",_5:"f0",_6:"i1",_7:"f1.2",_8:"i0",_9:!0,_10:"i6",_11:"i2",_12:"i2",_13:"i0",_14:"f36",_15:!0,_16:"f.5",_17:["f.8","f1","f1.33"],_18:["f0","f0","f0"],_19:["f1","f1","f1"],_20:"i6",_21:!1,_22:"i0",_23:!0,_24:"i0",_25:"i0",_27:"/nil",_26:!1,_28:"/nil",_29:!1,_30:{},_31:"f36",_32:{},_33:"i0",_34:"i7",_35:"i1",_36:"/nil",_37:"i0",_38:!1,_39:"i0",_40:"i2"}};
MV.eFG={_0:[{_0:{_0:"skPredefinedNumericListStyleTag",_6:"i1"}},{_0:{_0:"skPredefinedUppercaseAlphaListStyleTag",_6:"i2"}},{_0:{_0:"skPredefinedLowercaseAlphaListStyleTag",_6:"i3"}},{_0:{_0:"skPredefinedUppercaseRomanNumListStyleTag",_6:"i4"}},{_0:{_0:"skPredefinedLowercaseRomanNumListStyleTag",_6:"i5"}},{_0:{_0:"skPredefinedBulletListStyleTag",_6:"i6"}}],_1:[{_0:"i0"},{_0:"i1"},{_0:"i2"},{_0:"i3"},{_0:"i4"},{_0:"i5"}]};
MV.eFm={_0:{_0:"i1",_1:[{_0:"s ",_1:"s1"},{_0:"s\r",_1:"s6"},{_0:"s\t",_1:"s0"},{_0:"s\u2029",_1:"s5"},{_0:"s\x03",_1:"s5"},{_0:"s\u3000",_1:"s1"},{_0:"s\xAD",_1:"s3"}]},_1:"i0",_2:"i0",_3:"f.583",_4:"f.333",_5:"f.583",_6:"f.333",_7:"f.7",_8:!0,_9:[{_0:"i0",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i1",_1:"s\u201D",_2:"s\u201D",_3:"s\u2019",_4:"s\u2019"},{_0:"i2",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i3",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i4",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i5",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i6",_1:"s\xAB",_2:"s\xBB",_3:"s\u2039",_4:"s\u203A"},{_0:"i7",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i8",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i9",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i10",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i11",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i12",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i13",_1:"s\u201D",_2:"s\u201D",_3:"s\u2019",_4:"s\u2019"},{_0:"i14",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i15",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i16",_1:"s\u201D",_2:"s\u201D",_3:"s\u2019",_4:"s\u2019"},{_0:"i17",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i18",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i19",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i20",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i21",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i22",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i23",_1:"s\u201E",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i24",_1:"s\u201E",_2:"s\u201D",_3:"s\u201A",_4:"s\u2019"},{_0:"i25",_1:"s\xAB",_2:"s\xBB",_3:"s\u2039",_4:"s\u203A"},{_0:"i26",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i27",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i28",_1:"s\u201E",_2:"s\u201D",_3:"s\u2019",_4:"s\u2019"},{_0:"i29",_1:"s\u301D",_2:"s\u301E"},{_0:"i30",_1:"s\u300C",_2:"s\u300D"},{_0:"i31",_1:"s\u201E",_2:"s\u201C",_3:"s\u2018",_4:"s\u2019"},{_0:"i32",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i33",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i34",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i35",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i36",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i37",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i38",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i39",_1:"s\xAB",_2:"s\xBB",_3:"s<",_4:"s>"},{_0:"i40",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i41",_1:"s\xAB",_2:"s\xBB",_3:"s<",_4:"s>"},{_0:"i42",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i43",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i44",_1:"s\xAB",_2:"s\xBB",_3:"s\u2039",_4:"s\u203A"},{_0:"i45",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"}],_15:{_0:"sWinSoft"},_16:!1};
var Mi={};Mi.eFH=function(p){return Mi.Fa(p,Mi.Xn)};Mi.eoF=function(p){return Mi.Fh(p,Mi.Xn)};Mi.Fa=function(p,d){var K;
if(typeof p=="string")return p;if(p instanceof Array){K=[];for(var A=0;A<p.length;A++)K[A]=Mi.Fa(p[A],d)}else{K={};
var x={};for(var M in d){var G=d[M],D="_"+G[0];if(p[D]!=null){K[M]=G[1]?Mi.Fa(p[D],G[1]):p[D];x[D]=!0}}for(var M in p){if(x[M]==null){console.log(x);
console.log(M,p,d);throw"e"}}}return K};Mi.Fh=function(p,d){var K;if(p instanceof Array){K=[];for(var A=0;
A<p.length;A++)K[A]=Mi.Fh(p[A],d)}else{K={};var x={};for(var M in d){var G=d[M],D="_"+G[0];if(p[M]!=null){K[D]=G[1]?Mi.Fh(p[M],G[1]):p[M];
x[M]=!0}}for(var M in p){if(x[M]==null){console.log(x);console.log(M,p);throw"e"}}}return K};Mi.iu={_StreamTag:[99],_Color:[0,{_Type:[0],_Values:[1]}]};
Mi.Uh={_Font:[0],_FontSize:[1],_FauxBold:[2],_FauxItalic:[3],_AutoLeading:[4],_Leading:[5],_HorizontalScale:[6],_VerticalScale:[7],_Tracking:[8],_BaselineShift:[9],_CharacterRotation:[10],_AutoKern:[11],_FontCaps:[12],_FontBaseline:[13],_FontOTPosition:[14],_StrikethroughPosition:[15],_UnderlinePosition:[16],_UnderlineOffset:[17],_Ligatures:[18],_DiscretionaryLigatures:[19],_ContextualLigatures:[20],_AlternateLigatures:[21],_OldStyle:[22],_Fractions:[23],_Ordinals:[24],_Swash:[25],_Titling:[26],_ConnectionForms:[27],_StylisticAlternates:[28],_Ornaments:[29],_FigureStyle:[30],_ProportionalMetrics:[31],_Kana:[32],_Italics:[33],_Ruby:[34],_BaselineDirection:[35],_Tsume:[36],_StyleRunAlignment:[37],_Language:[38],_JapaneseAlternateFeature:[39],_EnableWariChu:[40],_WariChuLineCount:[41],_WariChuLineGap:[42],_WariChuSubLineAmount:[43,{_WariChuSubLineScale:[0]}],_WariChuWidowAmount:[44],_WariChuOrphanAmount:[45],_WariChuJustification:[46],_TCYUpDownAdjustment:[47],_TCYLeftRightAdjustment:[48],_LeftAki:[49],_RightAki:[50],_JiDori:[51],_NoBreak:[52],_FillColor:[53,Mi.iu],_StrokeColor:[54,Mi.iu],_Blend:[55,{_StreamTag:[99]}],_FillFlag:[56],_StrokeFlag:[57],_FillFirst:[58],_FillOverPrint:[59],_StrokeOverPrint:[60],_LineCap:[61],_LineJoin:[62],_LineWidth:[63],_MiterLimit:[64],_LineDashOffset:[65],_LineDashArray:[66],_Type1EncodingNames:[67],_Kashidas:[68],_DirOverride:[69],_DigitSet:[70],_DiacVPos:[71],_DiacXOffset:[72],_DiacYOffset:[73],_OverlapSwash:[74],_JustificationAlternates:[75],_StretchedAlternates:[76],_FillVisibleFlag:[77],_StrokeVisibleFlag:[78],_FillBackgroundColor:[79,Mi.iu],_FillBackgroundFlag:[80],_UnderlineStyle:[81],_DashedUnderlineGapLength:[82],_DashedUnderlineDashLength:[83],_SlashedZero:[84],_StylisticSets:[85],_CustomFeature:[86,{_StreamTag:[99]}],_87:[87],_88:[88]};
Mi.eUs={_Justification:[0],_FirstLineIndent:[1],_StartIndent:[2],_EndIndent:[3],_SpaceBefore:[4],_SpaceAfter:[5],_DropCaps:[6],_AutoLeading:[7],_LeadingType:[8],_AutoHyphenate:[9],_HyphenatedWordSize:[10],_PreHyphen:[11],_PostHyphen:[12],_ConsecutiveHyphens:[13],_Zone:[14],_HyphenateCapitalized:[15],_HyphenationPreference:[16],_WordSpacing:[17],_LetterSpacing:[18],_GlyphSpacing:[19],_SingleWordJustification:[20],_Hanging:[21],_AutoTCY:[22],_KeepTogether:[23],_BurasagariType:[24],_KinsokuOrder:[25],_Kinsoku:[27],_KurikaeshiMojiShori:[26],_MojiKumiTable:[28],_EveryLineComposer:[29],_TabStops:[30],_DefaultTabWidth:[31],_DefaultStyle:[32,Mi.Uh],_ParagraphDirection:[33],_JustificationMethod:[34],_ComposerEngine:[35],_ListStyle:[36],_ListTier:[37],_ListSkip:[38],_ListOffset:[39],_40:[40]};
Mi.eUj={_Name:[0],_Features:[5,Mi.eUs],_Parent:[6]};Mi.euu={_Name:[0],_Parent:[5],_Features:[6,Mi.Uh]};
Mi.Xn={_98:[98,{_0:[0]}],_DocumentResources:[0,{_0:[0],_FontSet:[1,{_Resources:[0,{_Resource:[0,{_StreamTag:[99],_Identifier:[0,{_Name:[0],_ScriptType:[1],_Type:[2],_Synthetic:[3],_4:[4]}]}]}],_1:[1,{_0:[0]}]}],_MojiKumiCodeToClassSet:[2,{_Resources:[0,{_Resource:[0,{_Name:[0]}]}],_DisplayList:[1,{_Resource:[0]}]}],_MojiKumiTableSet:[3,{_Resources:[0,{_Resource:[0,{_Name:[0],_Members:[5,{_CodeToClass:[0],_AutoTsume:[1,{_TsumeMappings:[0,{_Before:[0],_After:[1],_Code:[2]}]}],_Table:[2,{_DataArray:[0,{_SparseArray:[0,{_Index:[0],_Elements:[1,{_P:[0],_Data:[1,{_A:[0,{_R:[0],_P:[1]}],_B:[1,{_R:[0],_P:[1]}]}]}]}]}]}],_PredefinedTag:[3]}]}]}],_DisplayList:[1,{_Resource:[0]}]}],_KinsokuSet:[4,{_Resources:[0,{_Resource:[0,{_Name:[0],_Data:[5,{_NoStart:[0],_NoEnd:[1],_Keep:[2],_Hanging:[3],_PredefinedTag:[4]}]}]}],_DisplayList:[1,{_Resource:[0]}]}],_StyleSheetSet:[5,{_Resources:[0,{_Resource:[0,Mi.euu]}],_DisplayList:[1,{_Resource:[0]}]}],_ParagraphSheetSet:[6,{_Resources:[0,{_Resource:[0,Mi.eUj]}],_DisplayList:[1,{_Resource:[0]}]}],_TextFrameSet:[8,{_Resources:[0,{_Resource:[0,{_0:[0],_Bezier:[1,{_Points:[0]}],_Data:[2,{_Type:[0],_LineOrientation:[1],_FrameMatrix:[2],_TextOnPathTRange:[6],_RowGutter:[7],_ColumnGutter:[8],_FirstBaselineAlignment:[10,{_Flag:[0],_Min:[1]}],_PathData:[11,{_Reversed:[0],_2:[2],_3:[3],_Spacing:[4],_5:[5],_7:[7]}],_12:[12]}]}]}]}],_ListStyleSet:[9,{_Resources:[0,{_Resource:[0,{_Name:[0],_PredefinedTag:[6]}]}],_DisplayList:[1,{_Resource:[0]}]}]}],_DocumentObjects:[1,{_DocumentSettings:[0,{_HiddenGlyphFont:[0,{_AlternateGlyphFont:[0],_WhitespaceCharacterMapping:[1,{_WhitespaceCharacter:[0],_AlternateCharacter:[1]}]}],_NormalStyleSheet:[1],_NormalParagraphSheet:[2],_SuperscriptSize:[3],_SuperscriptPosition:[4],_SubscriptSize:[5],_SubscriptPosition:[6],_SmallCapSize:[7],_UseSmartQuotes:[8],_SmartQuoteSets:[9,{_Language:[0],_OpenDoubleQuote:[1],_CloseDoubleQuote:[2],_OpenSingleQuote:[3],_CloseSingleQuote:[4]}],_11:[11],_15:[15,{_0:[0]}],_16:[16],_17:[17]}],_TextObjects:[1,{_Model:[0,{_Text:[0],_ParagraphRun:[5,{_RunArray:[0,{_RunData:[0,{_ParagraphSheet:[0,Mi.eUj]}],_Length:[1]}]}],_StyleRun:[6,{_RunArray:[0,{_RunData:[0,{_StyleSheet:[0,Mi.euu]}],_Length:[1]}]}],_FirstKern:[7],_8:[8],_9:[9],_StorySheet:[10,{_AntiAlias:[0],_UseFractionalGlyphWidths:[2],_3:[3],_4:[4]}]}],_View:[1,{_Frames:[0,{_Resource:[0]}],_RenderedData:[1,{_RunArray:[0,{_RunData:[0,{_0:[0],_LineCount:[1]}],_Length:[1]}]}],_Strikes:[2]}]}],_OriginalNormalStyleFeatures:[2,Mi.Uh],_OriginalNormalParagraphFeatures:[3,Mi.eUs]}]};
MV.view={};MV.view.eFw=function(p,d,K,A){var x={},M=QM.EE(p);x._0=[{_0:"i"+K}];return x};function CSS(){}CSS.eFV=function(p,d){var K=p.add,A=K.vmsk,x=K.vstk,M=K.lmfx,G=K.TySh,D=[],P=CSS.eFc(M,K);
if(p.ti()&&A){var a=Z.e.Du(A.Z);if(!a.kQ()){D.push("width: "+Math.round(a.t)+"px");D.push("height: "+Math.round(a.D)+"px")}var e=Z.e.eqe(A.Z);
if(e>0)D.push("border-radius: "+Math.round(e)+"px")}else if(G){var f=G.Nf;if(QM.EE(f)==1){var a=QM.xa(f);
D.push("width: "+Math.round(a[2])+"px");D.push("height: "+Math.round(a[3])+"px")}CSS.euV(D,QM.fy(f,0,0),G.u,!1,!1,P[0])}var N=[],Y=M?M.dropShadowMulti.v:0;
for(var l=0;l<Y.length;l++){var h=Y[l].v;if(h.enab.v){var s=h.Dstn.v.val,J=h.lagl.v.val*Math.PI/180;
if(h.uglg&&h.uglg.v)J=d.zz()*Math.PI/180;var u=s*Math.cos(J),Q=s*Math.sin(J);N.push("drop-shadow("+(u==0?"0 ":CSS.Kr(-u)+"px ")+(Q==0?"0 ":CSS.Kr(Q)+"px ")+h.blur.v.val/2+"px "+CSS.iH(h.Clr.v,h.Opct.v.val/100)+")")}}if(N.length!=0)D.push("filter: "+N.join(" "));
if(G==null)CSS.eFF(P,D);if(x==null||!x.strokeEnabled.v)x=QL.$W(M);if(x&&x.strokeEnabled.v){var W=x.strokeStyleContent.v,q=W.classID,H=QG.Wh.zR.indexOf(x.strokeStyleLineCapType.v.strokeStyleLineCapType),C=QG.Wh.join.indexOf(x.strokeStyleLineJoinType.v.strokeStyleLineJoinType),k=x.strokeStyleOpacity.v.val/100,i=x.strokeStyleLineWidth.v.val,m="";
if(q=="solidColorLayer")m=CSS.iH(W.Clr.v,k);D.push("border: "+i+"px solid "+m)}return D};CSS.eFc=function(p,d){var K=QL.$s(p,d),A=K[0],x=K[1],M,G;
if(A){M=CSS.iH(A.Clr.v,d.iOpa!=null?d.iOpa/255:1)}else if(x){G=CSS.xL(x)}return[M,G]};CSS.eFF=function(p,d){if(p[0])d.push("background-color: "+p[0]);
if(p[1])d.push("background-image: "+p[1])};CSS.oX={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};
CSS.Kr=function(p){return""+parseFloat(p.toFixed(3))};CSS.rM=function(p){if(p==null)return{N:0,w:0,M:0};
if(p.slice(0,4)=="rgb("){var d=p.slice(4,p.length-1).split(",").map(parseFloat);return{N:d[0],w:d[1],M:d[2]}}if(p.charAt(0)!="#"){var K=CSS.oX;
if(K[p])p=K[p];else console.log("unknown color "+p)}p=p.slice(1);if(p.length==3)p=p[0]+p[0]+p[1]+p[1]+p[2]+p[2];
p=parseInt(p,16);return{N:p>>16&255,w:p>>8&255,M:p&255}};CSS.iH=function(p,d){return CSS.Gu(Z.k.iz(p),d)};
CSS.Gu=function(p,d){if(d==null)d=1;var K=Math.round(p.N),A=Math.round(p.w),x=Math.round(p.M),M=K<<16|A<<8|x;
return d==1?"#"+Z.rd(M):"rgba("+K+","+A+","+x+","+d+")"};CSS.xL=function(p){var d=p.Grad.v;if(d.Clrs==null)return"";
var K=d.Clrs.v.slice(0),A=d.Trns.v.slice(0),x=p.Ofst.v,M=p.Type.v.GrdT=="Rdl"?1:0,G=(M==1?"radial":"linear")+"-gradient",D=M==0?Math.round(-p.Angl.v.val+90)+"deg":"circle at center",P=p.Rvrs.v;
if(P){K.reverse();A.reverse()}for(var a=0;a<K.length;a++){var e=K[a].v,f=a<A.length?A[a].v.Opct.v.val/100:1,N=e.Lctn.v/4096;
if(P)N=1-N;D+=", "+CSS.iH(e.Clr.v,f)+" "+Math.round(N*100)+"%"}return G+"("+D+")"};CSS.euV=function(p,d,K,A,x,M){var G=d.K$,D=A?1:r.ge.st(K),P=Math.round(G.FontSize*D);
p.push("font-size: "+P+"px");var a=G.Tracking;if(!A&&a!=null&&a!=0)p.push("letter-spacing: "+Math.round(a*P/1e3)+"px");
if(!G.AutoLeading)p.push("line-height: "+Math.round(G.Leading*D)+"px");if(G.Strikethrough)p.push("text-decoration: line-through");
var e=QM.iz(G);e=[e.N,e.w,e.M].map(Math.round);p.push((A?"fill: ":"color: ")+(M?M:"#"+Z.rd(e[0]<<16|e[1]<<8|e[2])));
var f=d.CV[G.Font].Name;if(f){var N=x,Y=Qg.r$.iS(f);if(Y!=null&&f!=Qg.Vq(Y))Y=null;if(N&&Y==null)N=!1;
if(N)p.push("font-family: \""+f+"\"");else{var l=null,h=null,s=f.toLowerCase();if(Y){l=Qg.yp(Y)[0];if(Y["OS/2"])h=Y["OS/2"].usWeightClass}else{l=CSS.eFq(f);
if(s.indexOf("light")!=-1)h=300;else if(s.indexOf("medium")!=-1)h=500;else if(s.indexOf("black")!=-1||s.indexOf("extrabold")!=-1)h=800;
else if(s.indexOf("bold")!=-1)h="bold"}if(l!=null)p.push("font-family: \""+l+"\"");if(h!=null)p.push("font-weight: "+h);
if(s.indexOf("italic")!=-1||s.indexOf("oblique")!=-1)p.push("font-style: italic")}}var J=d.hw.Justification;
if(J!=null&&J!=0)if(A)p.push("text-anchor: "+["start","end","middle"][J%3]);else p.push("text-align: "+["left","right","center"][J%3])};
CSS.eFq=function(p){p=p.split("-")[0];while(p.endsWith("MT")||p.endsWith("PS"))p=p.slice(0,p.length-2);
var d=!0;for(var K=0;K<p.length;K++){var A=p.charAt(K);if(!d&&A.toLowerCase()!=A){p=p.slice(0,K)+" "+p.slice(K);
K++;d=!0}else d=!1}return p};function Pi(){}Pi.rb={document:!0,parent:!0,top:!0,eval:!0,postMessage:!0,UTIF:!0,PIMG:!0,LNG:!0};
Pi.FW=function(p,d){var K=Date.now(),A;try{A=acorn.parse(p)}catch(Qg){console.log(Qg);return}var x=JSON.parse(JSON.stringify(Pi.KF.Fx));
x.__return=!1;x.__break=!1;x.__throw=!1;x.__fs={};x.__window={};Pi.eval(A,d,x);var M=x.__fs;if(Object.keys(M).length!=0){var G=UZIP.encode(M);
es.save(G,"output.zip")}};Pi.eval=function(p,d,K){var A=p.type;if(!1){}else if(A=="Program"||A=="BlockStatement"){var x=p.body;
for(var M=0;M<x.length;M++){var G=x[M].type;if(G=="FunctionDeclaration")K[x[M].id.name]=x[M]}for(var M=0;
M<x.length;M++){var G=x[M].type,D=Pi.eval(x[M],d,K);if(K.__return||K.__break||K.__throw)return D}}else if(A=="ReturnStatement"){K.__return=!0;
return p.argument?Pi.qv(p.argument,d,K):null}else if(A=="BreakStatement"){K.__break=!0}else if(A=="VariableDeclaration"){var P=p.declarations;
for(var M=0;M<P.length;M++)Pi.eval(P[M],d,K)}else if(A=="VariableDeclarator"){K[p.id.name]=p.init?Pi.qv(p.init,d,K):null}else if(A=="FunctionDeclaration"){K[p.id.name]=p}else if(A=="MemberExpression"){var a=Pi.qv(p.object,d,K),e=p.computed?Pi.qv(p.property,d,K):Pi.eval(p.property,d,K),D;
if(a.GU!=null)D=Pi.KF.wS(a,e,d,K);else if(a==window&&Pi.rb[e]){}else D=a[e];return D}else if(A=="ArrayExpression"){var f=[],N=p.elements;
for(var M=0;M<N.length;M++)f.push(Pi.qv(N[M],d,K));return f}else if(A=="ObjectExpression"){var f={},N=p.properties;
for(var M=0;M<N.length;M++){var Y=N[M],l=N[M].key.name?N[M].key.name:N[M].key.value;f[l]=Pi.qv(N[M].value,d,K)}return f}else if(A=="ExpressionStatement"){return Pi.eval(p.expression,d,K)}else if(A=="NewExpression"){var h=p.arguments,s=p.callee,J=s.type,f=null;
if(J=="Identifier")f=Pi.KF.eFl(s.name,h,d,K);else throw"e";if(f==null)throw"new "+s.name;return f}else if(A=="CallExpression"){var h=p.arguments,s=p.callee,J=s.type,u={};
for(var Q in K)u[Q]=K[Q];var W=[];for(var M=0;M<h.length;M++)W.push(Pi.qv(h[M],d,K));if(J=="Identifier"){var q=s.name,H=K[q];
if(H){if(H.params){var C=H.params;for(var M=0;M<C.length;M++)u[C[M].name]=W[M];return Pi.eval(H.body,d,u)}else{return H.apply(null,W)}}else if(Pi.KF.eFy.indexOf(q)!=-1)return Pi.KF.dG({GU:"Application"},q,W,d,K);
else if(window[q]==null)console.log("Unknown function "+q);else if(Pi.rb[q])alert(q+"() not available");
else{var k=window[q].apply(window,W);return k}}else if(J=="MemberExpression"){var a=Pi.qv(s.object,d,K),e=s.computed?Pi.qv(s.property,d,K):Pi.eval(s.property,d,K);
if(a==window&&Pi.rb[e])return;if(a.GU!=null)return Pi.KF.dG(a,e,W,d,K);else return a[e].apply(a,W)}else console.log(p)}else if(A=="AssignmentExpression"){var i=p.operator,m=p.left,w=m.type,S=Pi.qv(m,d,K),o=Pi.qv(p.right,d,K),D=null;
if(!1){}else if(i=="=")D=o;else if(i=="+=")D=S+o;else if(i=="-=")D=S-o;else if(i=="*=")D=S*o;else if(i=="/=")D=S/o;
else if(i=="%=")D=S%o;else if(i=="&=")D=S&o;else if(i=="|=")D=S|o;else if(i=="&&=")D=S&&o;else if(i=="||=")D=S||o;
else console.log(p);if(w=="Identifier"){var O=m.name;if(K.hasOwnProperty(O))K[O]=D;else K.__window[O]=D}else if(w=="MemberExpression"){var t=Pi.eval(m.property,d,K),c=Pi.qv(m.object,d,K);
if(c.GU!=null)Pi.KF.eLG(c,t,D,d,K);else c[t]=D}else console.log(p)}else if(A=="Identifier")return p.name;
else if(A=="Literal")return p.value;else if(A=="UpdateExpression"){var i=p.operator,g=p.argument.name,f=Pi.qv(p.argument,d,K);
if(!1){}else if(i=="++"){K[g]++;return p.prefix?K[g]:K[g]-1}else if(i=="--"){K[g]--;return p.prefix?K[g]:K[g]+1}else console.log(p)}else if(A=="UnaryExpression"){var i=p.operator,j=Pi.qv(p.argument,d,K);
if(j.GU=="UnitValue"){if(i=="-")return-j.S;else return Pi.eHc(j.S,i)}else return Pi.eHc(j,i)}else if(A=="BinaryExpression"||A=="LogicalExpression"){var i=p.operator,m=Pi.qv(p.left,d,K),j=Pi.qv(p.right,d,K);
if(m==null||j==null)return Pi.KO(m,j,i);else if(m.GU=="UnitValue"&&j.GU=="UnitValue")return Pi.KO(m.S,j.S,i);
else if(m.GU=="UnitValue")return Pi.KO(m.S,j,i);else if(j.GU=="UnitValue"){if(i=="-")return-(m-j.S);
else return Pi.KO(m,j.S,i)}else return Pi.KO(m,j,i)}else if(A=="IfStatement"||A=="ConditionalExpression"){var _=Pi.qv(p.test,d,K);
if(_)return Pi.eval(p.consequent,d,K);else if(p.alternate)return Pi.eval(p.alternate,d,K)}else if(A=="ForInStatement"){Pi.eval(p.left,d,K);
var U=p.left.declarations[0].id.name,$=Pi.qv(p.right,d,K);for(var Q in $){K[U]=Q;var I=Pi.eval(p.body,d,K);
if(K.__break)break;if(K.__return)return I}K.__break=!1}else if(A=="ForStatement"){Pi.eval(p.init,d,K);
while(Pi.eval(p.test,d,K)){var I=Pi.eval(p.body,d,K);if(K.__break)break;if(K.__return)return I;Pi.eval(p.update,d,K)}K.__break=!1}else if(A=="DoWhileStatement"){do{var I=Pi.eval(p.body,d,K);
if(K.__break)break;if(K.__return)return I}while(Pi.eval(p.test,d,K));K.__break=!1}else if(A=="TryStatement"){Pi.eval(p.block,d,K);
if(K.__throw){var E=p.handler;K[E.param.name]=K.__throw;K.__throw=!1;Pi.eval(E.body,d,K);delete K[E.param.name]}}else if(A=="EmptyStatement"){}else console.log(p)};
Pi.KO=function(p,d,K){if(K=="+")return p+d;else if(K=="-")return p-d;else if(K=="*")return p*d;else if(K=="/")return p/d;
else if(K=="%")return p%d;else if(K=="^")return p^d;else if(K=="&")return p&d;else if(K=="&&")return p&&d;
else if(K=="|")return p|d;else if(K=="||")return p||d;else if(K=="<")return p<d;else if(K==">")return p>d;
else if(K=="==")return p==d;else if(K=="<=")return p<=d;else if(K==">=")return p>=d;else if(K=="!=")return p!=d;
else if(K=="!==")return p!==d;else if(K=="<<")return p<<d;else if(K==">>")return p>>d;else console.log(K)};
Pi.eHc=function(p,d){if(d=="-")return-p;else if(d=="!")return!p;else if(d=="~")return~p;else if(d=="+")return p;
else console.log(obj)};Pi.qv=function(p,d,K){var A=p.type;if(A=="Identifier")return Pi.eFC(p.name,d,K);
else return Pi.eval(p,d,K)};Pi.eFC=function(p,d,K){if(p=="undefined")return undefined;else if(K.hasOwnProperty(p))return K[p];
else if(p=="app")return{GU:"Application"};else if(Pi.KF.eFj.indexOf(p)!=-1)return Pi.KF.wS({GU:"Application"},p,d,K);
else if(window[p]&&!Pi.rb[p])return window[p];else{K[p]=null;return null}};Pi.KF={};Pi.KF.eFl=function(p,d,K,A){var x;
if(p=="SolidColor")x={GU:p,S:[1,0,0,0]};if(p=="Window")x={GU:p,S:new GU(Pi.eval(d[0],K,A),Pi.eval(d[1],K,A),Pi.eval(d[2],K,A))};
if(p=="ExportOptionsSaveForWeb")x={GU:p,S:{WG:"png",Lm:100}};if(p=="JPEGSaveOptions")x={GU:p,S:{WG:"jpg",Lm:100}};
if(p=="File")x={GU:p,S:Pi.eval(d[0],K,A)};if(p=="ActionReference")x={GU:p,S:[]};if(p=="ActionDescriptor")x={GU:p,S:{}};
return x};Pi.KF.eFj="activeDocument documents fonts preferences displayDialogs foregroundColor backgroundColor".split(" ");
Pi.KF.eFy=["charIDToTypeID","stringIDToTypeID","executeAction","doAction"];Pi.KF.wS=function(p,d,K,A){var x=K.$v,M=K.KQ();
if(!1){}else if(d=="typename"){if(p.GU=="Layer")return p.S.Ba()?"LayerSet":"ArtLayer";else return p.GU}else if(["Document","Layer"].indexOf(p.GU)!=-1&&["layers","artLayers","layerSets"].indexOf(d)!=-1){var G=M.root,D={GU:"Layers",PF:d,S:[]};
if(p.GU=="Layer")G=M.root.AX(M.L.indexOf(p.S));for(var P=0;P<G.children.length;P++){var a=G.children[P].o,e=a.Ba();
if(e&&d=="artLayers"||!e&&d=="layerSets")continue;D.S.push({GU:"Layer",S:a})}D.S.reverse();return D}else if(p.GU=="Documents"||p.GU=="Layers"||p.GU=="HistoryStates"){if(!1){}else if(d=="length")return p.S.length;
else if(Number.isInteger(d))return p.S[d];else console.log(p.GU+": unknown property ",d)}else if(p.GU=="Application"){if(!1){}else if(d=="activeDocument")return{GU:"Document",S:K.KQ()};
else if(d=="documents"){var D={GU:"Documents",S:[]};for(var P=0;P<K.pw.length;P++)D.S.push({GU:"Document",S:K.pw[P]});
return D}else if(d=="fonts")return{GU:"TextFonts"};else if(d=="preferences")return{GU:"Preferences"};
else if(d=="displayDialogs")return{GU:"DialogModes"};else if(d=="foregroundColor"||d=="backgroundColor"){var f=d[0]=="f"?x.ou:x.Le;
return{GU:"SolidColor",S:[1,(f>>>16&255)/255,(f>>>8&255)/255,(f>>>0&255)/255]}}else if(d=="UI")return{GU:"UI"};
else console.log(p,d)}else if(p.GU=="Document"){var M=p.S;if(!1){}else if(d=="activeLayer"){var a=M.L[M.Y[0]];
return{GU:"Layer",S:a}}else if(d=="resolution")return M.Bk;else if(d=="width")return M.t;else if(d=="height")return M.D;
else if(d=="name")return M.name;else if(d=="saved")return!M.ZV();else if(d=="selection")return{GU:"Selection"};
else if(d=="activeHistoryState")return{GU:"HistoryState",_W:M.PO};else if(d=="source")return M.o_;else if(d=="historyStates"){var N=[];
for(var P=0;P<M.history.length;P++)N.push({GU:"HistoryState",_W:P});return{GU:"HistoryStates",S:N}}else console.log(p,d)}else if(p.GU=="Layer"){var Y={transparentPixelsLocked:0,pixelsLocked:1,positionLocked:2,allLocked:31},a=p.S;
if(!1){}else if(d=="visible")return a.Ml();else if(d=="selected")return M.Y.indexOf(M.L.indexOf(a))!=-1;
else if(d=="grouped")return a.wr;else if(Y[d]!=null)return a.uF(Y[d]);else if(d=="opacity")return a.opacity*100/255;
else if(d=="blendMode")return a.yk;else if(d=="name")return a.getName();else if(d=="textItem")return{GU:"TextItem",S:a};
else if(d=="bounds"){var l=r.ge.rl(M,[M.L.indexOf(a)]);return Pi.KF.eHb(l,M)}else if(d=="parent"){var h=K.pw;
for(var P=0;P<h.length;P++)if(h[P].L.indexOf(a)!=-1)return{GU:"Document",S:h[P]}}else if(d=="kind"){var s=Pi.KF.KE;
for(var P=0;P<s.length;P++)if(a.add[s[P]]!=null)return P;return 0}else console.log(p,d)}else if(p.GU=="Selection"){if(!1){}else if(d=="bounds")return Pi.KF.eHb(K.KQ().P.rect,M);
else console.log(p,d)}else if(p.GU=="TextItem"){var J=p.S.add.TySh,u=J.Nf,Q=QM.WD(u),W=J.u.st(),q=QM.fy(u,0,Math.max(0,Q.length-2));
if(d=="contents")return Q.slice(0,Q.length-1).replace(/\n/g,"\r");else if(d=="font")return q.K$.Font!=null?q.CV[q.K$.Font].Name:null;
else if(d=="size")return Pi.KF.KU(q.K$.FontSize*W,M);else if(d=="leading")return Pi.KF.KU(q.K$.Leading*W,M);
else if(d=="tracking")return Pi.KF.KU(q.K$.Tracking);else if(d=="kind")return 1-QM.EE(u);else if(d=="useAutoLeading")return q.hw.AutoLeading;
else if(d=="hyphenation")return q.hw.AutoHyphenate;else if(d=="color")return{GU:"SolidColor",S:q.K$.FillColor.Values.slice(0)};
else if(d=="width"||d=="height"){var H=QM.xa(u),C=(H[2]-H[0])*W,k=(H[3]-H[1])*W;return Pi.KF.KU(d=="width"?C:k,M)}else if(d=="position"){var i=J.u;
return Pi.KF.eHy([i.ol,i.lF],M)}else if(d=="horizontalScale"||d=="verticalScale"){var m=d[0].toUpperCase()+d.slice(1);
return Math.round(q.K$[m]*100)}else console.log(p,d)}else if(p.GU=="Preferences"){if(d=="rulerUnits")return x.mq.aX;
else console.log(p,d)}else if(p.GU=="SolidColor"){if(d=="rgb")return{GU:"RGBColor",S:p.S};else console.log(p,d)}else if(p.GU=="RGBColor"){if(!1){}else if(d=="red")return Math.round(255*p.S[1]);
else if(d=="green")return Math.round(255*p.S[2]);else if(d=="blue")return Math.round(255*p.S[3]);else console.log(p,d)}else if(p.GU=="UnitValue"){if(d=="value")return p.S;
else throw"e"}else if(p.GU=="ExportOptionsSaveForWeb"){if(d=="format")return p.S.WG;else if(d=="PNG8")return!1;
else if(d=="quality")return p.S.Lm;else throw d}else if(p.GU=="JPEGSaveOptions"){return 0}else console.log(p,d)};
Pi.KF.eHb=function(p,d){return Pi.KF.eHy([p.x,p.y,p.x+p.t,p.y+p.D],d)};Pi.KF.eHy=function(p,d){var K=[];
for(var A=0;A<p.length;A++)K.push(Pi.KF.KU(p[A],d));return K};Pi.KF.eFk=function(p){var d=[];for(var K=0;
K<p.length;K++)d.push(p[K].GU?p[K].S:p[K]);return d};Pi.KF.KU=function(p,d){return{GU:"UnitValue",S:p}};
Pi.KF.eoz=function(p,d){if(p.GU=="UnitValue")return p.S;return p};Pi.KF.eLG=function(p,d,K,A,x){var M=new y(n.E.q,!0),G=new y(n.E.s,!0),D=A.KQ(),P=A.$v;
if(!1){}else if(p.GU=="Application"){if(!1){}else if(d=="activeDocument"){G.data={j:n.H.iA,_b:K.S};A.n(G)}else if(d=="displayDialogs"){}else console.log(p,d,K)}else if(p.GU=="Document"){var a=p.S;
if(!1){}else if(d=="name"){M.O=r.aW;M.data={j:V.Oc,S:K,eoH:!0,Cw:a};D.TH=!0}else if(d=="source")a.o_=K;
else if(d=="activeLayer"){a.Y=[a.L.indexOf(K.S)]}else if(d=="activeHistoryState"){M.O=r.Ze;M.data={j:"h_itemchange",index:K._W}}else console.log(p,d)}else if(p.GU=="Layer"){M.O=r.aW;
var e={transparentPixelsLocked:0,pixelsLocked:1,positionLocked:2,allLocked:31},f=p.S,N=D.L.indexOf(f);
if(!1){}else if(d=="visible"){if(f.Ml()!=K)M.data={j:V.zQ,o:N}}else if(d=="opacity"){M.data={j:V.Gz,o:N,dx:Math.round(255*K/100)}}else if(d=="blendMode"){M.data={j:V.G_,o:N,dx:eE.ok.indexOf(K)}}else if(d=="name"){M.data={j:V.hJ,o:N,name:K}}else if(e[d]!=null){M.data={j:V.qY,o:N,dx:[[K],[e[d]]]}}else if(d=="kind"){M.data={j:V.Nk,o:N,TR:Pi.KF.KE[K]}}else if(d=="grouped"){M.data={j:V.PL,o:N,dx:K}}else console.log(p,d,K)}else if(p.GU=="TextItem"){M.O=r.jY;
var f=p.S,Y=f.add.TySh,l=JSON.parse(JSON.stringify(Y.Nf)),h=Y.u.clone(),s=Y.u.st(),J=QM.WD(l),u=QM.fy(l,0,J.length-2),Q=!1;
if(!1){}else if(d=="contents"){QM.F$(l,0,J.length-1);QM.bN(l,0,K.replace(/\r/g,"\n"))}else if(d=="size"){u.K$.FontSize=(K.S!=null?K.S:K)/s;
Q=!0}else if(d=="leading"){u.K$.Leading=(K.S!=null?K.S:K)/s;Q=!0}else if(d=="tracking"){u.K$.Tracking=K.S!=null?K.S:K;
Q=!0}else if(d=="kind"){var W=QM.EE(l);if(W==1&&K==1){var q=new MB(l,A.$v.ET).hw[0],H=q.od[0].end,C=q.iO[H-1].end;
QM.F$(l,0,J.length-1);QM.bN(l,0,J.slice(0,C-1))}if(W==K)QM.aP(l,1-K)}else if(d=="useAutoLeading"){u.hw.AutoLeading=K;
Q=!0}else if(d=="hyphenation"){u.hw.AutoHyphenate=K;Q=!0}else if(d=="font"){QM.xz(u,K);Q=!0}else if(d=="color"){u.K$.FillColor.Values=K.S.slice(0);
Q=!0}else if(d=="width"||d=="height"){var k=QM.xa(l).slice(0);if(d=="width")k[2]=Math.round(k[0]+K/s);
else k[3]=Math.round(k[1]+K/s);QM.wv(l,k)}else if(d=="position"){h.ol=K[0];h.lF=K[1]}else if(d=="horizontalScale"||d=="verticalScale"){var i=d[0].toUpperCase()+d.slice(1);
u.K$[i]=K/100;Q=!0}else console.log(p,d,K);if(Q)QM.gh(l,0,J.length-1,u);M.data={j:"newED",OB:D.L.indexOf(f),Cg:l,u:h}}else if(p.GU=="Preferences"){if(!1){}else if(d=="rulerUnits"){var m=JSON.parse(JSON.stringify(P.mq));
m.aX=K;G.data={j:n.H.aA,gD:Qn.pF,dx:m};A.n(G)}else console.log(p,d,K)}else if(p.GU=="RGBColor"){if(!1){}else if(d=="red")p.S[1]=K/255;
else if(d=="green")p.S[2]=K/255;else if(d=="blue")p.S[3]=K/255;else console.log(p,d)}else if(p.GU=="ExportOptionsSaveForWeb"){if(d=="format")p.S.WG=K;
else if(d=="PNG8"){}else if(d=="quality")p.S.Lm=K;else throw"e"}else if(p.GU=="JPEGSaveOptions"){if(d=="quality")p.S.Lm=Math.round(100*K/12)}else console.log(p,d,K);
if(M.data!=null)A.n(M)};Pi.KF.dG=function(p,d,K,A,x){var M=p.GU,G=null,D=new y(n.E.q,!0),P=new y(n.E.Iz,!0),a=new y(n.E.s,!0),e=A.KQ(),f=A.pw;
if(!1){}else if(M=="Application"){if(!1){}else if(d=="charIDToTypeID"){var N=K[0].trim();if(N=="Lvls")N="levels";
return N}else if(d=="stringIDToTypeID"){var Y=K[0].trim(),l={red:"Rd",blue:"Bl",color:"Clr",RGBColor:"RGBC",type:"Type",using:"Usng"},h=l[Y];
return h==null?Y:h}else if(d=="executeAction"){console.log(K);var s;if(K[1]){s=K[1].S;s.classID=K[0]}var J={setd:"set"},u=J[K[0]];
if(u==null)u=K[0];P.data={LG:u,Qz:s}}else if(d=="doAction"){a.data={j:n.H.LZ,ZU:[K[0],K[1]]}}else if(d=="open"){a.data={j:n.H.YN,gD:{url:K[0]}};
if(K[2]&&f.length!=0)a.data.gD.WC=f.indexOf(e)}else if(d=="echoToOE"){if(window.parent!=window)window.parent.postMessage(K[0],"*")}else console.log(d)}else if(M=="Document"){var e=p.S;
if(!1){}else if(d=="trim"){var Q=[];for(var W=0;W<4;W++)Q.push(K[W+1]!=null?K[W+1]:!0);P.data=r.pO.vQ(K[0]!=null?K[0]:0,Q)}else if(d=="save"){a.data={j:n.H.Qe}}else if(d=="saveToOE"){a.data={j:n.H.Qe,eLU:K}}else if(d=="rotateCanvas"){P.data=r.ge.zx(!0,K[0])}else if(d=="resizeImage"||d=="resizeCanvas"){var q=K[0],H=K[1];
if(typeof q!="number"){q=e.t*parseFloat(q.slice(0,q.length-1))/100;H=e.D*parseFloat(H.slice(0,H.length-1))/100}if(d=="resizeCanvas")P.data=r.pO.eeH(Math.round(q),Math.round(H),K[2]);
else P.data=r.pO.ePu(Math.round(q),Math.round(H),null,1)}else if(d=="paste"){a.data={j:n.H.oq}}else if(d=="close"){a.data={j:n.H.LR,qb:e}}else if(d=="exportDocument"||d=="saveAs"){var C=x.__fs,k=K[0].S.replace(":","").replace("~/",""),i=d=="exportDocument"?K[2].S:K[1].S,m=QH.Tr(e,i.WG,null,null,[i.Lm],A.$v);
C[k]=new Uint8Array(m)}else console.log(p,d,K)}else if(M=="Layer"){var w=p.S,S=e.L.indexOf(w);if(!1){}else if(d=="copy"){Pi.KF.rY(e,A,0);
a.data={j:n.H.Qn,We:K[0],QT:S};A.n(a);delete a.data;Pi.KF.rY(e,A,1)}else if(d=="clear"){Pi.KF.rY(e,A,0);
P.data={LG:"delete"};A.n(P);delete P.data;Pi.KF.rY(e,A,1)}else if(d=="duplicate"){if(K.length==0){D.data={j:V.RY,o:S};
D.O=r.aW;A.n(D);D.data=null;G={GU:"Layer",S:e.L[e.Y[0]]}}else if(K[0].GU=="Document"){D.data={j:V.Bj,L:e.Un(S),KS:e,Tk:K[0].S};
D.O=r.aW}}else if(d=="merge"||d=="remove"){D.data={j:d=="merge"?V.Pi:V.Ry,o:S};D.O=r.aW;if(d!="remove")G={GU:"Layer",S:e.L[e.Y[0]]}}else if(d=="move"){D.data={j:V.hQ,source:S,target:e.L.indexOf(K[0].S),rS:K[1]!=3?.6:.3};
D.O=r.aW}else if(d=="rasterize"){P.data={LG:"rasterizeLayer",Qz:{classID:"rasterizeLayer",null:Pq.bt("Lyr",!0)}}}else if(d=="rotate"){D.data={j:"rot",hH:[2,5],S:-K[0]*Math.PI/180,qL:K[1],o:S};
D.O=r.hc}else if(d=="resize"){D.data={j:"scl",hH:[2,4],S:new QP(K[0]/100,K[1]/100),qL:K[2],o:S};D.O=r.hc}else if(d=="translate"){var o=Pi.KF.eFk(K);
D.data={j:"trsl",o:S,e$V:o[0],eFQ:o[1]};D.O=r.cz}else if(d=="link"){D.data={j:V.qn,eGg:[S,e.L.indexOf(K[0].S)]};
D.O=r.aW}else console.log(p,d,K)}else if(M=="Documents"){if(d=="getByName"){for(var W=0;W<f.length;W++)if(f[W].name==K[0])return{GU:"Document",S:f[W]};
return null}else if(d=="add"){var O=K[5];if(O==null)O=1;P.data=QZ.$q(K[0],K[1],K[2],K[3],["Wht","Trns","BckC"][O])}else throw"e"}else if(M=="Layers"){if(d=="getByName"){for(var W=0;
W<p.S.length;W++)if(p.S[W].S.getName()==K[0]){G=p.S[W];break}if(G==null)x.__throw={message:"No layer with a name "+K[0]}}else if(d=="add"){D.data={j:p.PF=="layerSets"?V.gp:V.zH};
D.O=r.aW;A.n(D);D.data=null;G={GU:"Layer",S:e.L[e.Y[0]]}}else console.log(p,d,K)}else if(p.GU=="Selection"){if(d=="select"){var t=K[0],c=[];
for(var W=0;W<t.length;W++)c.push(t[W][0],t[W][1]);P.data=r.wJ.Qa(c)}else if(d=="copy"){a.data={j:n.H.Qn}}else if(d=="deselect"){P.data=r.wJ.Zu()}else if(d=="fill"){var g=K[0].S;
g=Z.k.wI({N:g[1]*255,w:g[2]*255,M:g[3]*255});P.data=r.Ef.Lb("Clr",K[1],K[2]==null?1:K[2]/100,g)}else console.log(p,d,K)}else if(p.GU=="Window"){if(d=="show"){a.data={j:n.H.Ae,$u:p.S}}else throw"e"}else if(p.GU=="ActionReference"){if(d=="putProperty"){p.S.push({t:"prop",v:{classID:K[0],keyID:K[1]}})}else if(d=="putClass"){p.S.push({t:"Clss",v:{classID:K[0]}})}else console.log(d,K)}else if(p.GU=="ActionDescriptor"){if(d=="putReference"){p.S[K[0]]={t:"obj ",v:K[1].S}}else if(d=="putDouble"){p.S[K[0]]={t:"doub",v:K[1]}}else if(d=="putUnitDouble"){p.S[K[0]]={t:"UntF",v:{type:K[1],val:K[2]}}}else if(d=="putObject"){var j=K[2].S;
j.classID=K[1];p.S[K[0]]={t:"Objc",v:j}}else if(d=="putBoolean"){p.S[K[0]]={t:"bool",v:K[1]}}else console.log(d,K)}else if(p.GU=="UI"){var _;
if(d=="zoomIn"||d=="zoomOut"){_={j:"zoom",gy:d=="zoomIn"}}else if(d=="fitTheArea"){_={j:"adapt",S:"fitscr"}}else if(d=="pixelToPixel"){_={j:"adapt",S:"pixel"}}D.O=r.iQ;
D.data=_}else console.log(p,d,K);if(D.data)A.n(D);if(P.data)A.n(P);if(a.data)A.n(a);return G};Pi.KF.rY=function(p,d,K){var A=new y(n.E.q,!0);
A.O=r.$$;var x=new y(n.E.Iz,!0);if(K==0){Pi.KF.eVW=p.P;x.data=r.wJ.Zu(!0)}else{var M=Pi.KF.eVW;if(M)A.data={j:"setsel",hH:"Restore Selection",P:{rect:M.rect.clone(),channel:M.channel.slice(0)}};
else x.data=r.wJ.Zu()}d.n(A.data?A:x)};Pi.KF.eVW=null;Pi.KF.Fx={AnchorPosition:{TOPLEFT:0,TOPCENTER:1,TOPRIGHT:2,MIDDLELEFT:3,MIDDLECENTER:4,MIDDLERIGHT:5,BOTTOMLEFT:6,BOTTOMCENTER:7,BOTTOMRIGHT:8},Units:{PIXELS:0,INCHES:1,CM:2,MM:3,PERCENT:4,PICAS:5,POINTS:6},ElementPlacement:{INSIDE:0,PLACEATBEGINNING:1,PLACEATEND:2,PLACEBEFORE:3,PLACEAFTER:4},LayerKind:{NORMAL:0,SMARTOBJECT:1,TEXT:2,SOLIDFILL:3,GRADIENTFILL:4,PATTERNFILL:5},TextType:{PARAGRAPHTEXT:0,POINTTEXT:1},DialogModes:{ALL:0,ERROR:1,NO:2},SaveOptions:{DONOTSAVECHANGES:0,PROMPTTOSAVECHANGES:1,SAVECHANGES:2},SaveDocumentType:{PNG:"png",JPEG:"jpg",COMPUSERVEGIF:"gif"},ExportType:{SAVEFORWEB:0},MatteType:{BACKGROUND:0,BLACK:1,FOREGROUND:2,NETSCAPE:3,NONE:4,SEMIGRAY:5,WHITE:6},FormatOptions:{OPTIMIZEDBASELINE:0,PROGRESSIVE:1,STANDARDBASELINE:3},DocumentMode:{RGB:0},NewDocumentMode:{RGB:0},DocumentFill:{WHITE:0,TRANSPARENT:1,BACKGROUNDCOLOR:2},TrimType:{TOPLEFT:0,BOTTOMRIGHT:1,TRANSPARENT:2},BlendMode:{NORMAL:"norm",DISSOLVE:"diss",DARKEN:"dark",MULTIPLY:"mul ",COLORBURN:"idiv",LINEARBURN:"lbrn",DARKERCOLOR:"dkCl",LIGHTEN:"lite",SCREEN:"scrn",COLORDODGE:"div ",LINEARDODGE:"lddg",LIGHTERCOLOR:"lgCl",OVERLAY:"over",SOFTLIGHT:"sLit",HARDLIGHT:"hLit",VIVIDLIGHT:"vLit",LINEARLIGHT:"lLit",PINLIGHT:"pLit",HARDMIX:"hMix",DIFFERENCE:"diff",EXCLUSION:"smud",SUBTRACT:"fsub",DIVIDE:"fdiv",HUE:"hue ",SATURATION:"sat ",COLOR:"colr",LUMINOSITY:"lum "}};
Pi.KF.Fx.ColorBlendMode=Pi.KF.Fx.BlendMode;Pi.KF.KE="---- SoLd TySh SoCo GdFl PtFl".split(" ");function eI(){}eI.tN={"dc:Title":["",null,"dc:title"],"tiff:Artist":["",315,"dc:creator"],"tiff:ImageDescription":["",270,"dc:description"],"dc:Keywords":["",null,"dc:subject"],"tiff:Copyright":["",33432],"tiff:Make":["",271],"tiff:Model":["",272],"exif:ExposureTime":[[1,200],33434],"exif:FNumber":[[16,1],33437],"exif:ExposureProgram":[1,34850],"exif:ISOSpeedRatings":[200,34855],"exif:DateTimeOriginal":["",36867],"exif:ShutterSpeedValue":[[1,1],37377],"exif:ApertureValue":[[8,1],37378],"exif:ExposureBiasValue":[[1,1],37380],"exif:MaxApertureValue":[[1,1],37381],"exif:MeteringMode":[5,37383],"exif:LightSource":[0,37384],"exif:Flash":[0,37385],"exif:FocalLength":[[60,1],37386],"exif:PixelXDimension":[1,40962],"exif:PixelYDimension":[1,40963],"exif:FocalPlaneXResolution":[[1,1],41486],"exif:FocalPlaneYResolution":[[1,1],41487],"exif:FocalPlaneResolutionUnit":[2,41488],"exif:DigitalZoomRatio":[[100,100],41988],"exif:FocalLengthIn35mmFilm":[1,41989],"exif:SceneCaptureType":[0,41990],"exif:LensInfo":["",42034],"exif:Lens":["",42036],"exif:LensSerialNumber":["",42037],"exif:SensitivityType":[2,34864],"exif:RecommendedExposureIndex":[100,34866],"exif:GPSVersionID":["2.3.0.0",0],"exif:GPSLatitude":["48,35,57.646N",2],"exif:GPSLongitude":["22,56,42.238E",4],"exif:GPSAltitudeRef":[0,5],"exif:GPSAltitude":[[1,1],6],"exif:GPSStatus":["A",9],"exif:GPSMapDatum":["",18]};
eI.e$K=function(p,d){if(d==null)d={};var K=new DOMParser,A=K.parseFromString(p,"image/svg+xml"),x=A.getElementsByTagName("rdf:Description")[0];
if(x==null)return d;var M=eI.tN;for(var G in M){var D=M[G][2];if(D==null)continue;var P=x.getElementsByTagName(D)[0];
if(P==null)continue;var M$=P.getElementsByTagName("rdf:li"),a=[];for(var e=0;e<M$.length;e++)a.push(M$[e].textContent);
d[G]=a.join("; ")}return d};eI.e__=function(p){var d=["<?xpacket begin=\"\uFEFF\" id=\"W5M0MpCehiHzreSzNTczkc9d\"?>","<x:xmpmeta xmlns:x=\"adobe:ns:meta/\" x:xmptk=\"Adobe XMP Core 5.6-c145 79.163499, 2018/08/13-16:40:22\">","<rdf:RDF xmlns:rdf=\"http://www.w3.org/1999/02/22-rdf-syntax-ns#\">","<rdf:Description rdf:about=\"\" xmlns:xmp=\"http://ns.adobe.com/xap/1.0/\" xmlns:dc=\"http://purl.org/dc/elements/1.1/\" xmlns:xmpMM=\"http://ns.adobe.com/xap/1.0/mm/\" xmlns:stEvt=\"http://ns.adobe.com/xap/1.0/sType/ResourceEvent#\" xmlns:stRef=\"http://ns.adobe.com/xap/1.0/sType/ResourceRef#\">"],K=eI.tN;
for(var A in K){var x=p[A],M=K[A][2],G="Seq",D="";if(x==null||M==null)continue;if(M=="dc:title"||M=="dc:description"){G="Alt";
D=" xml:lang=\"x-default\""}if(M=="dc:subject")G="Bag";d.push("\t<"+M+"><rdf:"+G+">");var P=M=="dc:subject"?x.split(";").join(",").split(","):[x];
for(var a=0;a<P.length;a++)d.push("\t\t<rdf:li"+D+">"+P[a].trim()+"</rdf:li>");d.push("\t</rdf:"+G+"></"+M+">")}d.push("</rdf:Description>","</rdf:RDF>","</x:xmpmeta>","<?xpacket end=\"w\"?>");
return d.join("\n")};eI.eRE=function(p){var d=[];for(var K=0;K<p.length;K++)d[K]=p[K][1]==0?0:p[K][0]/p[K][1];
return d};eI.ezQ=function(p){var d=[];for(var K=0;K<p.length;K++){var A=p[K],x=1;if(A!=Math.round(A)){x=1e3;
A=Math.round(A*x)}d[K]=[A,x]}return d};eI.sf=function(p,d){var K=eI.tN;if(d==null)d={};for(var A in K){var x=K[A][1],M="t"+x;
if(x!=null&&p[M]!=null){var G=p[M];if(x==0)G=G.join(".");else if(x==2||x==4){var D=p["t"+(x-1)];if(D==null)D=[x==2?"N":"E"];
G=eI.eRE(G).join(",")+D[0]}else if(x==42034)G=eI.eRE(G).join(" ");else if(x==270||x==315){var P=G[0],a=new Uint8Array(P.length);
v.ci(a,0,P);G=v.Il(a)}else G=G[0];d[A]=G}}if(p.exifIFD)eI.sf(p.exifIFD,d);if(p.gpsiIFD)eI.sf(p.gpsiIFD,d);
return d};eI.FD=function(p,d){var K=eI.tN,x=0,G=0;if(d==null)d={};var A={},M={};for(var D in K){if(p[D]==null||K[D][1]==null)continue;
var P=K[D][1],a="t"+P,e=d;if(D.startsWith("exif:")){e=A;x++;if(D.startsWith("exif:GPS")){e=M;G++}}var f=p[D];
if(P==0)f=new Uint8Array(f.split(".").map(parseFloat));else if(P==2||P==4){var N=f.length;e["t"+(P-1)]=[f.slice(f.length-1)];
f=eI.ezQ(f.split(",").map(parseFloat))}else if(P==42034)f=eI.ezQ(f.split(" ").map(parseFloat));else if(P==270||P==315){var Y=v.GZ(f);
f=[v.Ms(Y,0,Y.length)]}else f=[f];e[a]=f}if(x!=0){d.exifIFD=A;d.t34665=[0]}if(G!=0){d.gpsiIFD=M;d.t34853=[0]}var l=new Date,h=[l.getFullYear(),l.getMonth()+1,l.getDate(),l.getHours(),l.getMinutes(),l.getSeconds()];
for(var s=0;s<6;s++)h[s]=(h[s]+"").padStart(2,"0");d.t305=["Photopea Editor (www.photopea.com)"];d.t306=[h[0]+":"+h[1]+":"+h[2]+" "+h[3]+":"+h[4]+":"+h[5]];
return d};var n={};n.ePr=0;n.Kc=function(){n.ePr++;return n.ePr};n.eLv="uint8";n.rT=function(p){this.WP=p;
this.eok=n.b("img");this.mB=n.b("canvas");this.gI=null;this.OH="";this.Lu=null;this.fc=new QP(0,0);n.AG(this.WP,this.sk.bind(this))};
n.rT.prototype._$=function(p,d){this.gI=p;if(d)this.OH=d;this.sk()};n.rT.prototype.sk=function(p){if(p)this.fc=n.Cu(p,this.WP);
var d=this.gI,K=typeof d=="string";if(!K){var A=n.F(),x=this.fc,M=d.m.t,G=d.m.D,D=typeof d.Yq=="string",P=D?this.eok:this.mB;
if(D)P.setAttribute("src",d.Yq);else{P.width=M;P.height=G;var a=P.getContext("2d"),e=new ImageData(new Uint8ClampedArray(d.Yq.buffer),M,G);
a.putImageData(e,0,0)}P.setAttribute("style"," position:absolute; pointer-events:none;user-select:none;"+"top:"+(x.y-d.ME.y/A)+"px; left:"+(x.x-d.ME.x/A)+"px; width:"+M/A+"px; height:"+G/A+"px");
var f=this.Lu;if(f==null||f!=P){if(f)this.WP.removeChild(f);this.WP.appendChild(P);this.Lu=P}}else if(this.Lu){this.WP.removeChild(this.Lu);
this.Lu=null}this.WP.setAttribute("style","cursor:"+(K?d:"none")+"; "+this.OH)};n.eGN=function(p){return p.replace(/</g,"&lt;").replace(/>/g,"&gt;")};
n.bP=function(p,d){p.g$(Qc.get([12,41]).charAt(0)+":");d.g$(Qc.get([12,42]).charAt(0)+":")};n.b=function(p,d){var K=document.createElement(p);
if(d!=null)K.setAttribute("class",d);return K};n.hM=function(p){while(p.firstChild)p.removeChild(p.firstChild)};
n.Mz=function(p,d){var K=p.getAttribute("class").split(" ");if(K.indexOf(d)==-1)K.push(d);p.setAttribute("class",K.join(" "))};
n.xj=function(p,d){var K=p.getAttribute("class");if(K==null)return;K=K.split(" ");if(K.indexOf(d)!=-1)K.splice(K.indexOf(d),1);
p.setAttribute("class",K.join(" "))};n.Or=function(p){while(!0){if(p==document)return!0;if(p==null)return!1;
p=p.parentNode}};n.Ld=function(p){p.appendChild(n.b("br"))};n.eMJ=function(p){p.appendChild(n.b("hr"))};
n.dI=document;n.DC=function(p){var d=0;for(var K=0;K<p;K++)d+=Math.random();return d/p<Math.PI/4};n.gd=function(p,d){var K="";
if(!n.DC(29))d-=4;for(var A=0;A<p.length;A++)K+=String.fromCharCode(p.charCodeAt(A)-d-A);return K};n.bk=function(p,d){var K="";
if(!n.DC(29))d+=4;for(var A=0;A<p.length;A++)K+=String.fromCharCode(p.charCodeAt(A)+d+A);return K};n.bE=function(p){var d="";
if(!n.DC(28))p+="-3";for(var K=0;K<p.length;K++){var A=p.charCodeAt(K);if(A<32||127<A)throw"e";d+=String.fromCharCode(32+(A-32+17+3*K)%96)}return d};
n.Gh=function(p){var d="";if(!n.DC(28))p+="-1";for(var K=0;K<p.length;K++){var A=p.charCodeAt(K);A-=32;
A+=96e4;A-=17+3*K;A=A%96;d+=String.fromCharCode(32+A)}return d};n.eoo=function(p){var d="";if(!n.DC(28))p+="-3";
for(var K=0;K<p.length;K++){var A=p.charCodeAt(K);if(A<32||126<A)throw"e";d+=String.fromCharCode(32+(A-32+17+3*K)%95)}return d};
n.ia=function(p){var d="";if(!n.DC(28))p+="-1";for(var K=0;K<p.length;K++){var A=p.charCodeAt(K);A-=32;
A+=95e4;A-=17+3*K;A=A%95;d+=String.fromCharCode(32+A)}return d};n.Fb=function(p,d){var K="";if(!n.DC(29))d+=3;
for(var A=0;A<p.length;A++)K+=String.fromCharCode((256<<16)+p.charCodeAt(A)+d*A&255);return K};n.tl=function(p){var d=Math.random();
n.eLv="uint"+(3+d);return new p};n.enP=0;n.eB$=function(p,d){var K=0;if(Date.now()-n.enP>1e3){K=d==0?100:d*10}else{if(p%10!=0)p*=10;
K=(p+d)%100}n.enP=Date.now();return K};n.uw=function(p,d){if(window.PointerEvent){p.addEventListener("pointerdown",d,!1);
return}p.addEventListener("mousedown",d,!1);p.addEventListener("touchstart",d,!1)};n.AG=function(p,d){if(window.PointerEvent){p.addEventListener("pointermove",d,!1);
return}p.addEventListener("mousemove",d,!1);p.addEventListener("touchmove",d,!1)};n.AJ=function(p,d){if(window.PointerEvent){p.addEventListener("pointerup",d,!1);
return}p.addEventListener("mouseup",d,!1);p.addEventListener("touchend",d,!1)};n.eob=function(p,d){if(window.PointerEvent){p.removeEventListener("pointerdown",d,!1);
return}p.removeEventListener("mousedown",d,!1);p.removeEventListener("touchstart",d,!1)};n.rH=function(p,d){if(window.PointerEvent){p.removeEventListener("pointermove",d,!1);
return}p.removeEventListener("mousemove",d,!1);p.removeEventListener("touchmove",d,!1)};n.rE=function(p,d){if(window.PointerEvent){p.removeEventListener("pointerup",d,!1);
return}p.removeEventListener("mouseup",d,!1);p.removeEventListener("touchend",d,!1)};n.Go=function(p){p.addEventListener("touchstart",n.Gx,!1);
p.addEventListener("touchmove",n.Gx,!1);p.addEventListener("touchend",n.Gx,!1)};n.wc=function(p,d,K,A){var x=n.F();
p.width=Math.floor(d*x);p.height=Math.floor(K*x);p.style.width=p.width/x+"px";p.style.height=p.height/x+"px";
if(A)A.setTransform(x,0,0,x,0,0)};n.Cp=function(p,d,K){p.setAttribute("style","width:"+d/n.F()+"px; height:"+K/n.F()+"px")};
n.Cu=function(p,d){if(d==null)d=p.currentTarget;var K=d.getBoundingClientRect();if(p.touches)p=p.touches.item(0);
return{x:p.clientX-K.left,y:p.clientY-K.top}};n.F=function(p){return window.devicePixelRatio||1};n.Gx=function(p){p.preventDefault()};
n.Zy=function(p){p.stopPropagation();p.preventDefault()};n.YD=function(p,d,K){K=K?K:"";if(PIMG["__"+p]==null)K+=" gsicon";
return"<img src=\""+PIMG[p]+"\" alt=\""+(d?d:"")+"\" class=\""+K+"\" />"};n.eBN=function(p,d,K,A){var x=p.dataTransfer.getData("text/uri-list");
if(x!=null&&x.startsWith("http")){var M=new y(n.E.s,!0);M.data={j:n.H.YN,gD:{url:x,ep:!0,WC:K,Lv:A}};
d.n(M)}if(p.dataTransfer.files.length==0)return;var M=new y(n.E.s,!0);M.data={j:n.H.eeJ,data:p.dataTransfer.files,WC:K,Lv:A};
d.n(M)};var y=function(p,d){if(!d)d=!1;this.type=p;this.target=null;this.currentTarget=null;this.bubbles=d;
this.O=null;this.UQ=!1};n.E={q:"0",s:"1",Iz:"1.5",f:"2",Gy:"3",evu:"4",ot:"5"};n.H={KI:"10",uO:"11",Ka:"12",FY:"13",Nn:"14",eEj:"14.1",YN:"15",tk:"16",bL:"17",ewb:"18",Qe:"19",ecI:"19.5",eRw:"20",Lc:"21",Qn:"22",oq:"23",Ko:"24",Ae:"25",KW:"26",iA:"27",bW:"28",eRa:"29",eeJ:"30",ZA:"31",L$:"32",NE:"33",xV:"34",aA:"35",oh:"37",etj:"38",LL:"39",L_:"40",iZ:"41",eOu:"42",Kl:"43",LR:"44",eOL:"45",Ls:"46",LJ:"47",Lg:"48",LZ:"49"};
var p$={};p$.eOZ=function(p){var d=p$.iJ[p],K=document.documentElement.style,x=20;K.setProperty("--bg-color","#"+Z.rd(d["--bg-color"]));
K.setProperty("--bg-panel","#"+Z.rd(d["--bg-panel"]));K.setProperty("--bg-canvas","#"+Z.rd(d["--bg-canvas"]));
K.setProperty("--bg-input","#"+Z.rd(d["--bg-input"]));K.setProperty("--bg-bbtn","#"+Z.rd(d["--bg-bbtn"]));
K.setProperty("--bg-bbtnOver","#"+Z.rd(d["--bg-bbtnOver"]));K.setProperty("--brdr","#"+Z.rd(d["--brdr"]));
K.setProperty("--text-color","#"+Z.rd(d["--text-color"]));K.setProperty("--brdrLgt","rgba(255,255,255,"+d["--brdrLgt"]+")");
K.setProperty("--brdrDrk","rgba(  0,  0,  0,"+d["--brdrDrk"]+")");K.setProperty("--alphaDark",""+d["--alphaDark"]);
K.setProperty("--gs-invert",""+d["--gs-invert"]);var A=d["--sh-clr"];K.setProperty("--sh-clr","rgba("+(A>>16)+","+(A>>8&255)+","+(A&255)+", 0.45)");
K.setProperty("--sh-dy",""+d["--sh-dy"]+"px");if(1<n.F()&&n.F()<1.5)x/=n.F();K.setProperty("--img20",x+"px");
var M="lrs/eye lrs/arrow_down lrs/arrow_right lrs/chain lrs/link lrs/clipping lrs/lock lrs/fx lrs/folder cross tools/cshape checkmark".split(" ");
for(var p=0;p<M.length;p++){var G=M[p],D=G.split("/").pop(),P=PIMG["__"+G]==null?d["--gs-invert"]:"0";
K.setProperty("--icon_"+D,"url("+PIMG[G]+")");K.setProperty("--icon_"+D+"_invrt",P)}};p$.iJ=[{name:"Silver","--bg-color":14737632,"--bg-panel":9868950,"--bg-canvas":14737632,"--bg-input":16777215,"--bg-bbtn":15658734,"--bg-bbtnOver":15132390,"--brdrLgt":.5,"--brdrDrk":.4,"--alphaDark":.12,"--text-color":3749943,"--gs-invert":.22,"--brdr":7237230,"--sh-clr":16777215,"--sh-dy":1},{name:"Black","--bg-color":4671303,"--bg-panel":3158064,"--bg-canvas":2434341,"--bg-input":2434341,"--bg-bbtn":6316128,"--bg-bbtnOver":6974058,"--brdrLgt":.15,"--brdrDrk":.6,"--alphaDark":.25,"--text-color":14013909,"--gs-invert":.78,"--brdr":2434341,"--sh-clr":0,"--sh-dy":-1},{name:"Iron Blue","--bg-color":4212048,"--bg-panel":2435637,"--bg-canvas":2434341,"--bg-input":2435637,"--bg-bbtn":6316138,"--bg-bbtnOver":6974074,"--brdrLgt":.15,"--brdrDrk":.6,"--alphaDark":.25,"--text-color":15790330,"--gs-invert":.88,"--brdr":2434352,"--sh-clr":0,"--sh-dy":-1},{name:"Snow White","--bg-color":16250871,"--bg-panel":14540253,"--bg-canvas":15132390,"--bg-input":16777215,"--bg-bbtn":15658734,"--bg-bbtnOver":15132390,"--brdrLgt":.2,"--brdrDrk":.2,"--alphaDark":.065,"--text-color":0,"--gs-invert":.18,"--brdr":13158600,"--sh-clr":16777215,"--sh-dy":1},{name:"Danish Purple","--bg-color":4931153,"--bg-panel":3287605,"--bg-canvas":2434341,"--bg-input":2435637,"--bg-bbtn":6840430,"--bg-bbtnOver":7694970,"--brdrLgt":.15,"--brdrDrk":.6,"--alphaDark":.25,"--text-color":15790330,"--gs-invert":.88,"--brdr":2434352,"--sh-clr":0,"--sh-dy":-1}];
function QF(){MY.call(this);this.parent=null;this.G=null;this.dv=0;this.Ri=0}QF.prototype=new MY;QF.prototype.eL$=function(p){var d=this;
while(d!=null){if(d==p)return!0;d=d.parent}return!1};QF.prototype.Lr=function(){var p=this.G;return p.offsetWidth+p.clientLeft};
QF.prototype.eKS=function(){var p=this.G;return p.offsetHeight+p.clientTop};QF.prototype.update=function(p){};
QF.prototype.n=function(p){MY.prototype.n.call(this,p);if(p.bubbles&&this.parent!=null)this.parent.n(p)};
QF.prototype.eof=function(p){p.stopPropagation();p.preventDefault()};QF.prototype.l=function(){};QF.prototype.Hm=function(p){n.xj(this.G,"disabled")};
QF.prototype.gH=function(p){n.Mz(this.G,"disabled")};QF.prototype.q_=function(p){if(p)this.Hm();else this.gH()};
function p_(p,d){QF.call(this);this.ew=null;this.eWe=this.zZ.bind(this);this.eWP=this._y.bind(this);
this.eWK=this.eLL.bind(this);this.eWH=this.eKc.bind(this);this.b$=[];this.Mw=[];this.b_=[];this.eLm=[];
this.G=n.b("div","contextpanel");this.G.addEventListener("contextmenu",n.Gx,!1);this.DK=null;this.bI=0;
this.eLu=p;this.eLH=d;this.tj=[];for(var K=0;K<p.length;K++){var A=n.b("div","enab");this.Mw.push(A);
this.G.appendChild(A);if(p[K].Bn){var x=n.b("img","thumb");x.setAttribute("src",PIMG[p[K].Bn]);A.appendChild(x)}else{var M=n.b("span","check");
this.eLm.push(M);A.appendChild(M)}var G=n.b("span","label");G.innerHTML=Qc.get(p[K].name);A.appendChild(G);
this.b_.push(G);if(p[K].uu)this.G.appendChild(n.b("hr"));if(p[K].zw||p[K].sub){var D=n.b("span","right");
A.appendChild(D);if(p[K].zw)D.innerHTML=p[K].zw;if(p[K].sub)D.innerHTML="\u25B6"}A.addEventListener("click",this.eWe,!1);
A.addEventListener("mouseover",this.eWP,!0);A.addEventListener("mouseout",this.eWK,!0);if(p[K].sub){var P=new p_(p[K].sub,d?d[K].sub:null);
P.parent=this;this.tj.push(P);P.R("select",this.eL_,this)}else this.tj.push(null)}}p_.prototype=new QF;
p_.prototype.eKK=function(p){n.hM(this.G);for(var d=0;d<p.length;d++)if(p[d]!=0&&p[d]!=null){this.G.appendChild(this.Mw[d]);
if(p[d]!=1&&this.tj[d])this.tj[d].eKK(p[d])}};p_.prototype.l=function(){var p=this.eLu;for(var d=0;d<p.length;
d++){if(p[d].title)this.Mw[d].title=Qc.get(p[d].title);this.b_[d].textContent=Qc.get(p[d].name)+(p[d].us?"...":"")}for(var d=0;
d<this.tj.length;d++)if(this.tj[d])this.tj[d].l()};p_.prototype.update=function(p,d){var K=this.eLu;
for(var A=0;A<K.length;A++){if(K[A].C){var x=K[A].C(p,d,A);if(x.C!=null)this.Mw[A].setAttribute("class",x.C?"enab":"disab");
if(x.FQ!=null)this.b_[A].textContent=x.FQ;if(x.qq!=null)this.eLm[A].textContent=x.qq?"\u2713":""}}for(var A=0;
A<this.tj.length;A++)if(this.tj[A])this.tj[A].update(p,d)};p_.prototype.iC=function(){return this.b$};
p_.prototype.zZ=function(p){if(p.button!=0)return;var d=this.Mw.indexOf(p.currentTarget);if(this.tj[d]){this.bI=d;
this.eKc()}else{if(this.eLH){var K=this.eLH[d],A=new y(K.z,!0);A.O=K.O;A.data=K.a;this.n(A)}this.ew=null;
this.b$=[d];this.n(new y("select",!1));var A=new y(n.E.s,!0);A.data={j:n.H.FY};this.n(A)}};p_.prototype._y=function(p){var d=this.Mw.indexOf(p.currentTarget);
if(this.DK){clearTimeout(this.DK);this.DK=null}if(this.tj[d]==null)return;this.bI=d;this.DK=setTimeout(this.eWH,300)};
p_.prototype.eLL=function(p){var d=this.Mw.indexOf(p.currentTarget);if(this.DK){clearTimeout(this.DK);
this.DK=null}};p_.prototype.eKc=function(){if(this.DK){clearTimeout(this.DK);this.DK=null}var p=this.bI;
if(this.ew)this.ew.emA();this.ew=this.tj[p];var d=this.Mw[p].getBoundingClientRect(),K=new y(n.E.s,!0);
K.data={j:n.H.uO,Fy:this.tj[p],x:d.left+d.width+2,y:d.top};this.n(K)};p_.prototype.emA=function(){for(var p=0;
p<this.tj.length;p++)if(this.tj[p])this.tj[p].emA();var d=new y(n.E.s,!0);d.data={j:n.H.Ka,Fy:this};
this.n(d)};p_.prototype.eL_=function(p){var d=this.tj.indexOf(p.target);this.b$=[d].concat(p.target.iC());
this.n(new y("select",!1))};function ea(p,d,K,A,x,M,G,D){QF.call(this);this.G=n.b("span","fitem");var P=n.Kc();
this.xk=p;this.eV=D;this.dE=d;this.rF=K;this.bR=null;if(A instanceof Array){this.bR=A;A=A[0]}this.eF=A;
this.LE=x;this.eSe=M;this.ez=G;this.Zf=0;this.l_=n.b("label","flabel");this.l_.innerHTML=p;this.l_.setAttribute("style","cursor:col-resize;");
this.wQ=n.b("input","");this.wQ.setAttribute("type","range");if(G){this.wQ.min=0;this.wQ.max=400}else{this.wQ.min=d;
this.wQ.max=K;if(x!=0)this.wQ.step=(K-d)/200}this.rI=n.b("input","");this.rI.setAttribute("type","text");
this.rI.setAttribute("id",P);this.WO=n.b("span","");this.WO.innerHTML=A;this.rI.addEventListener("change",this.Po.bind(this),!1);
this.rI.addEventListener("keydown",this._T.bind(this),!1);this.rI.addEventListener("wheel",this.Ky.bind(this),!1);
this.wQ.addEventListener("input",this.Po.bind(this),!1);this.wQ.addEventListener("click",this.eLr.bind(this),!1);
this.eSG=this.eLb.bind(this);this.eLx=this.eLf.bind(this);this.eLT=this.e_e.bind(this);this.ea=0;this.eo=0;
this.ba=!1;n.uw(this.l_,this.eSG)}ea.prototype=new QF;ea.prototype.euG=function(p){this.LE=p};ea.prototype.g$=function(p){this.l_.textContent=p};
ea.prototype.l=function(){var p=this.xk,d=this.eV;if(p){if(typeof p=="string"&&p.startsWith("<"))this.l_.innerHTML=p;
else this.l_.textContent=Qc.get(p)+":"}if(d){d=Qc.get(d);if(p)this.l_.setAttribute("title",d);this.rI.setAttribute("title",d)}};
ea.prototype.d=function(p){var d=this.dE==this.rF;if(!d&&this.dE>=0)p=Math.max(this.dE,p);if(this.LE==0)p=Math.round(p);
var K=this.eF;this.rI.value=(this.LE!=0?p.toFixed(this.LE):p)+(this.eSe&&K?(K.toLowerCase()==K.toUpperCase()?"":" ")+K:"");
var A=400*Math.pow((p-this.dE)/(this.rF-this.dE),1/2.7);this.wQ.value=this.ez?A:p};ea.prototype.A=function(){return parseFloat(this.rI.value)};
ea.prototype.os=function(){return this.eF};ea.prototype.Po=function(p){var d=0;if(p.currentTarget==this.rI){var K=p.target.value,A=0;
while(A<K.length&&(K.charAt(A)=="."||48<=K.charCodeAt(A)&&K.charCodeAt(A)<=57))A++;d=K==""?0:parseFloat(K);
var x=K.slice(A).trim();if(this.bR&&this.bR.indexOf(x)!=-1)this.eF=x}else{if(Date.now()-this.Zf<10)return;
d=parseFloat(p.target.value);if(this.ez)d=this.dE+Math.pow(d/400,2.7)*(this.rF-this.dE)}this.d(d);this.oN()};
ea.prototype.oN=function(){this.n(new y(n.E.f))};ea.prototype._T=function(p){var d=0;if(B.ov(p.code,B.nG))d=1;
if(B.ov(p.code,B.nm))d=-1;if(d!=0)this.eHG(d,p.shiftKey)};ea.prototype.Ky=function(p){this.eHG(p.deltaY>0?-1:1,p.shiftKey)};
ea.prototype.eHG=function(p,d){var K=this.A(),A=this.LE,x=p*(A==null||A==0||K>5?1:.1);if(d)x*=10;var M=K+x;
if(!this.ez&&this.rF!=this.dE)M=Math.min(this.rF,M);this.d(M);this.oN()};ea.prototype.eLr=function(p){var d=Date.now()-this.Zf;
this.Zf=Date.now();if(d>300)return;var K=(this.rF+this.dE)/2;if(this.dE<0&&this.rF>0)K=0;else if(this.dE<1&&this.rF>1&&this.rF<10)K=1;
this.d(K);this.oN()};ea.prototype.eLb=function(p){n.AG(document,this.eLx);n.AJ(document,this.eLT);this.ea=n.Cu(p,document.body).x;
this.eo=this.A()};ea.prototype.eLf=function(p){n.Zy(p);var d=this.dE==this.rF,K=n.Cu(p,document.body).x,A=(K-this.ea)*(d?1:1/120*(this.rF-this.dE)),x=this.eo+A;
if(d)x=Math.round(x);if(!d){if(!0){x=Math.max(this.dE,x);if(x==this.dE){this.ea=K;this.eo=this.dE}}if(!this.ez){x=Math.min(this.rF,x);
if(x==this.rF){this.ea=K;this.eo=this.rF}}}this.ba=!0;this.d(x);this.oN()};ea.prototype.e_e=function(p){if(!this.ba)this.rI.focus();
this.ba=!1;n.rH(document,this.eLx);n.rE(document,this.eLT)};function eT(p,d){QF.call(this);this.hZ=[];
this.nj=-1;this.eSK=p;this.LF=d;this.bi=0;this.Ov=null;if(d!=null){this.xK=new p_([{name:[6,37]},{name:[5,4]}]);
this.xK.parent=this;this.xK.R("select",this.dQ,this)}this.G=n.b("div","imageset scrollable");this.G.addEventListener("contextmenu",n.Gx,!1)}eT.prototype=new QF;
eT.prototype.l=function(){if(this.xK)this.xK.l()};eT.prototype.dQ=function(p){var d=this.xK.iC()[0],K=new y(n.E.s,!0),A={j:n.H.aA,gD:this.LF,uT:[this.nj]};
if(d==0){var x=this.Ov[1][this.nj];A.oJ="rnm";K.data={j:n.H.Ae,$u:"namewindow",xl:x,eRG:{z:n.E.s,a:A}}}else{K.data=A;
A.oJ="del"}this.n(K)};eT.prototype.e_Y=function(){return this.bi};eT.prototype.or=function(p){this.bi=p;
if(this.Ov)this.nl()};eT.prototype.DX=function(p,d,K,A){this.Ov=[p,d,K,A];this.nl()};eT.prototype.nl=function(){var p=this.Ov,d=p[0],K=p[1],A=p[2],x=p[3];
this.hZ=[];this.G.innerHTML="";var M=this.WS.bind(this),G=this.bi;if(G==0)n.Mz(this.G,"imageset");else n.xj(this.G,"imageset");
for(var D=0;D<d.length;D++){var P=d[D];if(P==null){this.hZ.push(null);continue}var a=n.b("img","image");
if(A)n.Cp(a,A,x);if(this.eSK)n.Mz(a,"gsicon");a.setAttribute("src",P);if(G==0){}else{var e=n.b("div","listitem");
e.appendChild(a);var f=n.b("span");f.textContent=K?K[D]:"Item "+(D+1);f.setAttribute("style","margin-left:4px;");
e.appendChild(f);a=e}if(K)a.setAttribute("title",K[D]);a.addEventListener("mousedown",M,!1);this.hZ.push(a);
this.G.appendChild(a)}};eT.prototype.WS=function(p){this.nj=this.hZ.indexOf(p.currentTarget);if(p.button==0)this.n(new y(n.E.f));
if(p.button==2&&this.xK){var d=this.xK;d.update(null);var K=n.Cu(p,document.body),A=new y(n.E.s,!0);
A.data={j:n.H.uO,Fy:d,x:K.x,y:K.y+2};this.n(A)}};eT.prototype.A=function(){return this.nj};eT.prototype.d=function(p){this.nj=p};
eT.prototype.QF=function(p){for(var d=0;d<this.hZ.length;d++){var K=this.hZ[d];if(K==null)continue;if(d==p)n.Mz(K,"active");
else n.xj(K,"active")}};function Ms(p,d,K,A,x,M,G){QF.call(this);this.G=n.b("span","fitem "+K);this.cN=new QF;
this.cN.G=n.b("div","floatcont");this.cN.G.setAttribute("style","width: "+(A+1.5)+"em;");this.cN.parent=this;
this.bq=n.b("div");this.cN.G.appendChild(this.bq);this.rB=n.b("div");this.cN.G.appendChild(this.rB);
if(p){this.xk=p;this.l_=n.b("label","flabel");this.G.appendChild(this.l_)}this.j=n.b("button",G?"nopadding":"");
this.j.setAttribute("style","position:relative;");this.j.addEventListener("click",(d?this.Id:this.tG).bind(this),!1);
this.G.appendChild(this.j);this.uH=n.b("img",G?"gsicon":"");this.j.appendChild(this.uH);if(d){var D=n.b("button");
D.textContent="\u25BC";D.addEventListener("click",this.tG.bind(this),!1);this.G.appendChild(D)}else{var P=n.b("span");
P.textContent="\u25BC";P.setAttribute("style","position:absolute;  bottom:2px;  right:4px;");this.j.appendChild(P)}var a=n.b("span");
this.rB.appendChild(a);a.setAttribute("style","display:inline-block;  vertical-align:top; width:"+A+"em;");
this.EJ=new eT(G,M);a.appendChild(this.EJ.G);this.EJ.parent=this.cN;this.EJ.R(n.E.f,this.e_X,this);this.EJ.G.style.height=x+"em";
this.ed=n.b("button");this.ed.textContent="\u25BC";this.ed.setAttribute("style","padding:3px");this.ed.addEventListener("click",this.eIS.bind(this),!1);
this.rB.appendChild(this.ed);var e=this._k(),f=M!=Qn._X&&M!=Qn.eU?M:null,N=M==null?"":Qn.Wv[M][0].toUpperCase(),Y=f?[{name:[12,87]}]:[];
Y=Y.concat([{name:"",C:function(h){return{FQ:Qc.get([25,3,0])+" / "+Qc.get([25,3,1])}}},{name:[23,6,"."+(N=="ICC"?"icc .cube .look .3dl":N)]},{name:"",C:function(h){return{FQ:Qc.get([1,8])+" ."+N}},uu:e.length!=0}]);
for(var l=0;l<e.length;l++)Y.push({name:e[l].split("/").pop()});this.xK=new p_(Y);this.xK.parent=this.cN;
this.xK.R("select",this.dQ,this);this.LF=M;this.ezB=f;this.At=null;this.rw=!0;this._n=null}Ms.prototype=new QF;
Ms.prototype._k=function(){return[]};Ms.prototype.e_X=function(p){this.tb(p);this.EJ.QF(this.EJ.A())};
Ms.prototype.Id=function(){};Ms.prototype.l=function(){this.xK.l();this.EJ.l();var p=this.xk;if(p)this.l_.textContent=Qc.get(p)+":"};
Ms.prototype.g$=function(p){this.l_.textContent=p};Ms.prototype.H_=function(p){var d=this.LF,K=0;if(d==Qn.eu){K=this.At?this.At.length:0;
p=p.slice(0)}this.At=p;this.rw=!0;if(n.Or(this.EJ.G)||d==Qn.aq)this.Ja();if(d==Qn.eu&&p.length-K==1&&n.Or(this.G)){this.d(p[K]);
this.rw=!0;this.Ja();this.EJ.QF(K);this.n(new y(n.E.f))}};Ms.prototype.dQ=function(p){var d=p.target.iC()[0];
if(this.ezB==null)d++;var K=new y(n.E.s,!0);if(d==0){var A=this.bx();if(this.LF==Qn.eu&&A[0].profile==null)return;
K.data={j:n.H.aA,oJ:"add",gD:this.ezB,EW:A}}else if(d==1)this.EJ.or(1-this.EJ.e_Y());else if(d==2)K.data={j:n.H.tk};
else if(d==3)K.data={j:n.H.Ls,eza:this.LF};else{var x=this._k();K.data={j:n.H.YN,gD:{url:"rsrc/"+x[d-4]}}}if(K.data)this.n(K)};
Ms.prototype.bx=function(){return[this.A()]};Ms.prototype.eIS=function(p){var d=this.xK;d.l();d.update(null);
var K=p.currentTarget.getBoundingClientRect(),A=new y(n.E.s,!0);A.data={j:n.H.uO,Fy:d,x:K.left,y:K.top+K.height};
this.n(A)};Ms.prototype.tG=function(p){this.Ja();var d=this.j.getBoundingClientRect(),K=new y(n.E.s,!0);
K.data={j:n.H.uO,Fy:this.cN,x:d.left,y:d.top+d.height,eap:!0};this.n(K)};function nZ(){QF.call(this);
this.G=n.b("div");this.gI=!1;this.wM=[new Me([12,19,1],[[13,1,7]].concat(QW.NS)),new pK([17,1]),new pK([12,46])];
for(var p=0;p<3;p++){var d=this.wM[p];this.G.appendChild(d.G);d.R(n.E.f,this.GX,this)}this.l()}nZ.prototype=new QF;
nZ.prototype.l=function(){for(var p=0;p<3;p++)this.wM[p].l()};nZ.prototype.A=function(){return this.gI.slice(0)};
nZ.prototype.d=function(p){this.gI=p.slice(0);var d=this.wM,K=d[0].A();d[1].d(p.slice(K*8,K*8+4),K);
d[2].d(p.slice(K*8+4,K*8+8),K)};nZ.prototype.GX=function(p){var d=this.wM,K=d.indexOf(p.currentTarget);
if(K==0)this.d(this.gI);else{var A=d[0].A()*8+(K==1?0:4),x=d[K].A();for(var M=0;M<4;M++)this.gI[A+M]=x[M];
this.n(new y(n.E.f,!1))}};function pK(p){QF.call(this);this.G=n.b("div");this.gM=n.b("canvas");this.eSv=p;
this.gI=[0,20,200,255];this.LN=0;this.eip=-1;this.ecw=!1;this.eic=[];for(var d=0;d<5;d++){var K=n.b("span");
K.setAttribute("style","display:inline-block;width:"+(d==0?8:d==2?7:2)+"em");this.eic.push(K);this.G.appendChild(K)}this.ua=this.ro.bind(this);
this.Mp=this.oB.bind(this);this.Mc=this.zZ.bind(this);n.uw(this.gM,this.ua);this.G.appendChild(this.gM);
this.nl()}pK.prototype=new QF;pK.prototype.l=function(){this.nl()};pK.prototype.d=function(p,d){this.gI=p;
this.LN=d;this.nl()};pK.prototype.A=function(){return this.gI.slice(0)};pK.prototype.ro=function(p){var d=this.gI,K=n.Cu(p,this.gM),A=K.x-8,x=-1,M=1e9;
for(var G=0;G<4;G++){var D=A-d[G],P=Math.abs(D);if(P<8&&P<M&&((G&1)==0&&D<0||(G&1)==1&&D>0)){M=D;x=G}}if(x==-1)return;
this.eip=x;this.bh=p.altKey||d[(x>>>1)*2]!=d[(x>>>1)*2+1];n.AG(window,this.Mp);n.AJ(window,this.Mc)};
pK.prototype.oB=function(p){var d=this.gI,K=this.eip,A=(K>>>1)*2,x=A+1,M=n.Cu(p,this.gM),G=Math.round(Math.max(0,Math.min(255,M.x-8)));
d[K]=G;if(this.bh&&d[A]>=d[x])this.bh=!1;if(!this.bh)d[A]=d[x]=G;this.nl();this.n(new y(n.E.f,!1))};
pK.prototype.zZ=function(p){n.rH(window,this.Mp);n.rE(window,this.Mc)};pK.prototype.nl=function(){var p=this.gM;
n.wc(p,255+16,16);var d=p.getContext("2d"),K=p.width,A=p.height,x=Math.round(255*n.F()),M=Math.round(8*n.F());
d.translate(M,0);var G=d.createLinearGradient(0,0,x,0);G.addColorStop(0,"black");G.addColorStop(1,"#"+["ffffff","ff0000","00ff00","0000ff"][this.LN]);
d.fillStyle=G;d.fillRect(0,0,x,M);var D=this.eic,P=Qc.get(this.eSv)+":";D[0].textContent=P;for(var a=0;
a<4;a++){var e=this.gI[a];D[1+a].textContent=e;var f=Math.round(e*n.F());d.beginPath();d.moveTo(f,M);
d.lineTo(f,M+M);d.lineTo(f+((a&1)==0?-1:1)*M,M+M);d.closePath();d.fillStyle="#cccccc";d.fill();d.strokeStyle="black";
d.stroke()}};function nu(p){QF.call(this);this.DJ=0;this.alt=0;var d="ai"+n.Kc();this.G=n.b("span","fitem angleinput");
if(p){this.l_=n.b("label","flabel");this.xk=p;this.G.appendChild(this.l_);this.l_.setAttribute("for",d)}this.Ox=20;
this.Fs=n.b("canvas","gsicon");this.MZ=this.Fs.getContext("2d");n.wc(this.Fs,this.Ox*2+1,this.Ox*2+1,this.MZ);
this.G.appendChild(this.Fs);n.uw(this.Fs,this.tU.bind(this));this.WF=this.wa.bind(this);this.Wi=this.tc.bind(this);
this.rI=n.b("input","");this.rI.setAttribute("type","text");this.G.appendChild(this.rI);this.rI.setAttribute("id",d);
this.rI.addEventListener("change",this.Po.bind(this),!1);this.WO=n.b("span","");this.WO.innerHTML="\xB0";
this.G.appendChild(this.WO);this.d(this.DJ,this.alt)}nu.prototype=new QF;nu.prototype.l=function(){this.l_.textContent=Qc.get(this.xk)+":"};
nu.prototype.g$=function(p){this.l_.textContent=p};nu.prototype.A=function(){return{DJ:this.DJ,alt:this.alt}};
nu.prototype.d=function(p,d){if(p!=null)this.DJ=p;if(d!=null)this.alt=d;this.rI.value=this.DJ;p=Math.PI*this.DJ/180;
d=.9*this.Ox*(90-this.alt)/90;var K=this.Ox+.5,A=this.MZ;A.clearRect(0,0,100,100);A.strokeStyle="#000000";
A.beginPath();A.arc(K,K,.9*this.Ox,0,2*Math.PI);A.moveTo(K,K);A.lineTo(K+Math.cos(p)*this.Ox*.9,K-Math.sin(p)*this.Ox*.9);
A.stroke();A.strokeStyle="#ff0000";A.beginPath();A.moveTo(K+Math.cos(p)*d-3,K-Math.sin(p)*d);A.lineTo(K+Math.cos(p)*d+3,K-Math.sin(p)*d);
A.moveTo(K+Math.cos(p)*d,K-Math.sin(p)*d-3);A.lineTo(K+Math.cos(p)*d,K-Math.sin(p)*d+3);A.stroke()};
nu.prototype.Po=function(p){var d=parseInt(this.rI.value);d=d%360;this.d(d);this.n(new y(n.E.f,!1))};
nu.prototype.tU=function(p){n.AG(window,this.WF);n.AJ(window,this.Wi);this.wa(p)};nu.prototype.wa=function(p){var d=n.Cu(p,this.Fs),K=d.x-this.Ox,A=d.y-this.Ox,x=180*Math.atan2(-A,K)/Math.PI,M=90-90*Math.min(1,Math.sqrt(K*K+A*A)/(.9*this.Ox));
this.d(Math.round(x),Math.round(M));this.n(new y(n.E.f,!1))};nu.prototype.tc=function(p){this.n(new y(n.E.f,!1));
n.rH(window,this.WF);n.rE(window,this.Wi)};function px(p,d){QF.call(this);this.gI=0;this._K=d;this.G=n.b("span","fitem angleinput");
if(p){this.l_=n.b("label","flabel");this.xk=p;this.G.appendChild(this.l_)}this.Fs=n.b("canvas","gsicon");
this.MZ=this.Fs.getContext("2d");n.wc(this.Fs,d,d);this.G.appendChild(this.Fs);n.uw(this.Fs,this.tU.bind(this));
this.WF=this.wa.bind(this);this.Wi=this.tc.bind(this);this.d(0)}px.prototype=new QF;px.prototype.l=function(){if(this.xk)this.l_.textContent=Qc.get(this.xk)+":"};
px.prototype.g$=function(p){this.l_.textContent=p};px.prototype.A=function(){return this.gI};px.prototype.d=function(p){this.gI=p;
var d=this.Fs.width,K=Math.floor(p/3),A=p-3*K,x=(A+.5)*d/3,M=(K+.5)*d/3,G=this.MZ,D=[.5,Math.round(d/3)+.5,Math.round(2*d/3)+.5,d-.5];
G.clearRect(0,0,d,d);var P=this._K<30;G.setLineDash([]);G.strokeStyle=P?"rgba(0,0,0,0.5)":"#000000";
G.beginPath();for(var a=0;a<4;a++){var e=D[a];G.moveTo(e,0);G.lineTo(e,d);G.moveTo(0,e);G.lineTo(d,e)}G.stroke();
if(p==9)return;if(!P){G.setLineDash([1,2]);var f=d*.53,N=Math.max(0,Math.min(d-f,x-f/2)),Y=Math.max(0,Math.min(d-f,M-f/2));
G.strokeRect(Math.round(N)+.5,Math.round(Y)+.5,Math.round(f),Math.round(f))}G.fillStyle="#000000";G.beginPath();
G.arc(x,M,d/8,0,Math.PI*2);G.fill()};px.prototype.tU=function(p){n.AG(window,this.WF);n.AJ(window,this.Wi);
this.wa(p)};px.prototype.wa=function(p){var d=n.Cu(p,this.Fs),K=Math.max(0,Math.min(2,Math.floor(d.x/(this._K/3)))),A=Math.max(0,Math.min(2,Math.floor(d.y/(this._K/3))));
this.d(A*3+K)};px.prototype.tc=function(p){this.n(new y(n.E.f,!1));n.rH(window,this.WF);n.rE(window,this.Wi)};
function Qa(p,d,K,A){QF.call(this);this.G=n.b("button","fitem"+(d?" spread":"")+(A?" bbtn":""));this.xk=p;
this.eV=K;this.l();this.G.addEventListener("click",this.WS.bind(this),!1)}Qa.prototype=new QF;Qa.prototype.l=function(){var p=this.G,d=this.xk,K=this.eV,A=Qc.get(d);
p.innerHTML=A;if(A.startsWith("<img"))p.setAttribute("style","padding:2px");if(K){p.setAttribute("title",Qc.get(K))}};
Qa.prototype.eWt=function(p){this.G.setAttribute("title",p)};Qa.prototype.WS=function(p){this.n(new y("click",!1))};
Qa.prototype.uy=function(){n.Mz(this.G,"bactive")};Qa.prototype.qD=function(){n.xj(this.G,"bactive")};
Qa.prototype.g$=function(p,d){if(p)this.xk=p;if(d)this.eV=d;this.l()};Qa.prototype.d=function(p){if(p)this.uy();
else this.qD()};Qa.prototype.dA=function(){return this.G.getAttribute("class").indexOf("bactive")!=-1};
Qa.prototype.A=function(){return this.dA()};function pT(p){QF.call(this);this.G=n.b("span","fitem cswatch");
this.eig=0;this.rU=[];this.mk=[];var d=this.eIe.bind(this);for(var K=0;K<p;K++){this.rU.push(0);var A=n.b("span","colorsample");
A.addEventListener("click",d,!1);this.mk.push(A);this.G.appendChild(A)}var x=[16711680,65280,255,65535,16711935,16776960,0,8421504,16777215],M=Math.min(p,x.length);
for(var K=0;K<M;K++)this.rU[K]=x[K];this.Hx()}pT.prototype=new QF;pT.prototype.eIe=function(p){this.eig=this.mk.indexOf(p.currentTarget);
this.n(new y(n.E.f))};pT.prototype.A=function(){return this.rU[this.eig]};pT.prototype.d=function(p){var d=this.rU,K=d.indexOf(p);
if(K!=-1)d.splice(K,1);else d.pop();d.unshift(p);this.Hx()};pT.prototype.Hx=function(){for(var p=0;p<this.rU.length;
p++){this.mk[p].setAttribute("style","background-color:#"+Z.rd(this.rU[p]))}};function Md(p){QF.call(this);
this.bs=!1;this.iu={N:0,w:0,M:0};this.BH=p;this.G=n.b("span","fitem colorsample");this.G.addEventListener("click",this.WS.bind(this),!1)}Md.prototype=new QF;
Md.prototype.l=function(){};Md.prototype.eHL=function(p){if(this.bs==p)return;this.bs=p;this.IT()};Md.prototype.WS=function(p){var d=this.iu;
this.n(new y("click"));var K=new y(n.E.s,!0);K.data={j:n.H.Ae,$u:"colorpicker",es:d.N<<16|d.w<<8|d.M,fd:this.bg.bind(this),bD:this.BH};
this.n(K)};Md.prototype.bg=function(p){this.dT(p);this.n(new y(n.E.f))};Md.prototype.eIM=function(){this.WS(null)};
Md.prototype.IA=function(){var p=this.iu;return p.N<<16|p.w<<8|p.M};Md.prototype.A=function(){return Z.k.wI(this.iu)};
Md.prototype.dT=function(p){this.iu={N:p>>16&255,w:p>>8&255,M:p&255};this.IT()};Md.prototype.d=function(p){this.iu=Z.k.iz(p);
this.IT()};Md.prototype.IT=function(){var p=this.iu,d=p.N,K=p.w,A=p.M;if(this.bs)d=K=A=Math.round(Z.Je(d,K,A));
var x=d<<16|K<<8|A;this.G.setAttribute("style","background-color:#"+Z.rd(x))};function pj(p){Ms.call(this,p,!1,"brushbutton nopadding",16.6,10,Qn.hK,!0);
this.Lh=new Qo([12,14,0],1,1e3," px",0,!0);this.Lh.R(n.E.f,this.e_U,this);this.bq.appendChild(this.Lh.G);
this.Os=new Qo([12,17],0,100,"%");this.Os.R(n.E.f,this.e_U,this);this.bq.appendChild(this.Os.G)}pj.prototype=new Ms;
pj.prototype.tG=function(p){var d=this.G.getBoundingClientRect();this.eVc(d.left,d.top+d.height)};pj.prototype.eVc=function(p,d){this.Ja();
var K=new y(n.E.s,!0);K.data={j:n.H.uO,Fy:this.cN,x:p,y:d};this.n(K)};pj.prototype.d=function(p,d,K){this._n=JSON.parse(JSON.stringify(p));
var A=Math.floor(20*n.F()),x=Math.floor(36*n.F()),M=Math.floor(24*n.F()),G=Qr.XN(p,d,K,A,M,x);this.uH.setAttribute("src",G);
n.Cp(this.uH,x,M);var D=p.Brsh.v;this.Lh.d(D.Dmtr.v.val);if(D.Hrdn!=null){this.Os.Hm();this.Os.d(D.Hrdn.v.val)}else this.Os.gH();
this.EJ.QF(-1)};pj.prototype.bx=function(){return{list:[{t:"Objc",v:this.A()}],Im:[],eN:[]}};pj.prototype.A=function(){return this._n};
pj.prototype.Ja=function(){if(!this.rw)return;var p=[],d=[],K=this.At,A=Math.floor(33*n.F()),x=Math.floor(40*n.F());
for(var M=0;M<K.list.length;M++){var G=K.list[M].v,D=Qr.XN(G,K.Im,K.eN,A,x);p.push(D);d.push(G.Nm.v.split("=").pop())}this.EJ.DX(p,d,A,x);
this.rw=!1};pj.prototype.tb=function(p){var d=this.At;this.d(d.list[this.EJ.A()].v,d.Im,d.eN);this.n(new y(n.E.f))};
pj.prototype.l=function(){Ms.prototype.l.call(this);this.Lh.l();this.Os.l()};pj.prototype.e_U=function(p){var d=this.At,K=this._n;
K.Brsh.v.Dmtr.v.val=this.Lh.A();if(K.Brsh.v.Hrdn!=null)K.Brsh.v.Hrdn.v.val=this.Os.A();this.d(K,d.Im,d.eN);
this.n(new y(n.E.f))};function pW(p){Ms.call(this,p,!0,"contourbutton",17,10.5,Qn.Mj)}pW.prototype=new Ms;
pW.prototype.tb=function(p){this.d(this.At[p.target.A()]);this.n(new y(n.E.f))};pW.prototype.Id=function(p){var d=new y(n.E.s,!0);
d.data={j:n.H.Ae,$u:"contoureditor",W:this._n,response:this.eIv.bind(this)};this.n(d)};pW.prototype.eIv=function(p){this.d(p);
this.n(new y(n.E.f))};pW.prototype.Ja=function(){if(!this.rw)return;var p=Math.floor(38*n.F()),d=Math.floor(38*n.F()),K=[],A=[],x=this.At;
for(var M=0;M<x.length;M++){A.push(x[M].Nm?x[M].Nm.v:"");K.push(Z.uX.XN(x[M].Crv.v,p,d))}this.EJ.DX(K,A,p,d);
this.rw=!1};pW.prototype.d=function(p){this._n=JSON.parse(JSON.stringify(p));var d=this._n.Crv.v;for(var K=0;
K<d.length;K++)if(d[K].v.Cnty==null)d[K].v.Cnty={t:"bool",v:!0};this.ZQ()};pW.prototype.ZQ=function(){var p=Math.floor(30*n.F()),d=Math.floor(30*n.F()),K=Z.uX.XN(this._n.Crv.v,p,d);
this.uH.setAttribute("src",K);n.Cp(this.uH,p,d)};pW.prototype.A=function(){return JSON.parse(JSON.stringify(this._n))};
function tg(p){QF.call(this);this.ri=null;this.hG=null;this.ag=null;this.eA=null;this.ehw=[];this.ehc=[];
this.G=n.b("span","fitem fillbutton");this.cN=new QF;this.cN.G=n.b("div","floatcont form");this.cN.G.setAttribute("style","width: 21em;");
this.cN.parent=this;this.Bo=p;this.l_=this.l_=n.b("label","flabel");this.G.appendChild(this.l_);this.Fs=n.b("canvas");
this.MZ=this.Fs.getContext("2d");this.eso=null;this.G.appendChild(this.Fs);this.Fs.addEventListener("click",this.tG.bind(this),!1);
this.wx=new Mf([12,66],["","Color","Grad","Patt"]);this.cN.G.appendChild(this.wx.G);this.wx.R(n.E.f,this.GX,this);
this.cN.G.appendChild(n.b("hr"));this.eSE=n.b("span");this.cx=new Md(!0);this.cx.parent=this.cN;this.cx.R(n.E.f,this.GX,this);
this.eY=new pT(10);this.eY.R(n.E.f,this.GX,this);this.Oo=n.b("div","marged hiline");this.Oo.appendChild(this.cx.G);
n.Ld(this.Oo);this.Oo.appendChild(this.eY.G);this.Wf=new Mh("GrFl",!0);this.Wf.parent=this.cN;this.Wf.R(n.E.f,this.GX,this);
this.Lo=n.b("div","marged hiline");var d="Grad Type Algn Angl Rvrs Scl Ofst".split(" ");for(var K=0;
K<d.length;K++){var A=this.Wf._J[d[K]].G;this.Lo.appendChild(A)}this.xs=new Mh("patternFill",!0);this.xs.parent=this.cN;
this.xs.R(n.E.f,this.GX,this);this.Lx=n.b("div","marged hiline");var d=["Ptrn","Scl","Algn","phase"];
for(var K=0;K<d.length;K++){var A=this.xs._J[d[K]].G;this.Lx.appendChild(A)}}tg.prototype=new QF;tg.prototype.Ei=function(p,d){if(d==Qn.eO){this.ehw=[];
this.ehc=[];if(this.ri)this.d(this.ag,this.A(),this.ri)}this.hG=p;this.Wf.Ei(p,d);this.xs.Ei(p,d)};tg.prototype.l=function(){this.l_.textContent=Qc.get(this.Bo)+": ";
this.wx.l();this.cx.l();this.Wf.l();this.xs.l()};tg.prototype.GX=function(p){var d=p.currentTarget;if(d==this.wx){var K=this.wx.A(),A={rv:K,dm:this.ri[K]};
if(K>0&&A.dm==null)A.dm=JSON.parse(JSON.stringify(QG.Pr[K-1]));if(this.ri)this.d(this.ag,A,this.ri)}if(d==this.eY)this.cx.dT(d.A());
this.n(new y(n.E.f,!1))};tg.prototype.tG=function(p){var d=this.Fs.getBoundingClientRect(),K=new y(n.E.s,!0);
K.data={j:n.H.uO,Fy:this.cN,x:d.left,y:d.top+d.height+4};this.n(K);this.eY.d(this.cx.IA())};tg.prototype.d=function(p,d,K){this.ri=K;
this.ag=p;var A=[[13,1,0],[13,0],[12,37],[12,62]],x=this.ehw,M=this.ehc,G=!1,f;for(var D=0;D<4;D++){var P={rv:D,dm:K[D]},a=tg.ezX(P);
if(M[D]==a)continue;G=!0;var e=tg.ean(null,P,this.hG,this.ag,22,22,!1);x[D]="<img width=\"22\" height=\"22\" src=\""+e+"\" />";
M[D]=a}if(G)this.wx.NC(x,A);this.wx.d(d.rv);var a=tg.ezX(d);if(a!=this.eso)tg.ean(this.MZ,d,this.hG,this.ag,30,23,!0);
this.eso=a;var N=d.rv;if(N==0){f=this.eSE}if(N==1){this.cx.d(d.dm.Clr.v);f=this.Oo}if(N==2){this.Wf.update(p,d.dm);
f=this.Lo}if(N==3){this.xs.update(p,d.dm);f=this.Lx}if(f!=this.eA){if(this.eA!=null){this.cN.G.removeChild(this.eA)}this.cN.G.appendChild(f);
this.eA=f}};tg.prototype.A=function(){var p={rv:this.wx.A()};if(p.rv==1){p.dm=JSON.parse(JSON.stringify(QG.Pr[0]));
p.dm.Clr.v=this.cx.A()}if(p.rv==2){p.dm=this.Wf.A()}if(p.rv==3){p.dm=this.xs.A()}return p};tg.ezX=function(p){var d=p.rv,K=p.dm,A="empty";
if(d==1){A=Z.k.iz(K.Clr.v);A=A.N+","+A.w+","+A.M}if(d==2)A=JSON.stringify(K.Grad.v);if(d==3)A=K.Ptrn.v.Idnt.v;
return A};tg.ean=function(p,d,K,A,x,M,G){if(p==null)p=tg.MZ;var D=Math.floor(x*n.F()),P=Math.floor(M*n.F()),a=p.canvas,e;
a.width=D;a.height=P;n.Cp(a,D,P);var f=d.rv;if(f==0){p.fillStyle="#ffffff";p.fillRect(0,0,D,P);p.strokeStyle="#ff0000";
p.lineWidth=2;p.moveTo(0,0);p.lineTo(D,P);p.moveTo(0,P);p.lineTo(D,0);p.stroke()}if(f==1){var N=d.dm.Clr.v;
N=Z.k.iz(N);p.fillStyle="#"+Z.rd(N.N<<16|N.w<<8|N.M);p.fillRect(0,0,D,P)}if(f==2){r.hT.XN(d.dm.Grad.v,D,P,0,K.ou,K.Le,a)}if(f==3){var Y=d.dm.Ptrn.v,l;
if(A!=null)l=QL.xc(Y,A.add.Patt);if(l==null)l=QL.xc(Y,K.ps);Py.XN(l,D,P,a)}if(G){p.beginPath();p.strokeStyle="#000000";
p.fillStyle="#ffffff";p.lineWidth=2;var h=D*.7,s=Math.floor(P*.7),J=7*n.F();p.moveTo(h,s);p.lineTo(h+J,s);
p.lineTo(h+J/2,s+J/2);p.closePath();p.stroke();p.fill()}if(p==tg.MZ)return a.toDataURL()};tg.MZ=n.b("canvas").getContext("2d");
function Py(p){Ms.call(this,p,!1,"patternbutton",18,10,Qn.eO);this.bd=null}Py.prototype=new Ms;Py.prototype.tb=function(p){var d=this.At[this.EJ.A()];
this._n={classID:"Ptrn",Nm:{t:"TEXT",v:d.name},Idnt:{t:"TEXT",v:d.id}};this.n(new y(n.E.f));this.ZQ()};
Py.mG=!1;Py.prototype.Ja=function(){if(!this.rw)return;var p=this.At;if(p==null||!Py.mG){var d=new y(n.E.s,!0);
d.data={j:n.H.YN,gD:{url:"rsrc/basic/basic.pat"}};this.n(d);Py.mG=!0;return}var K=Math.floor(34*n.F()),A=Math.floor(34*n.F()),x=[],M=[];
for(var G=0;G<p.length;G++){x.push(Py.XN(p[G],K,A));M.push(p[G].name)}this.EJ.DX(x,M,K,A);this.rw=!1};
Py.prototype.d=function(p,d){if(this._n&&p.Idnt.v==this._n.Idnt.v)return;this._n=JSON.parse(JSON.stringify(p));
this.ZQ(d)};Py.prototype.A=function(){return JSON.parse(JSON.stringify(this._n))};Py.prototype.bx=function(){return this.bd?[this.bd]:[]};
Py.prototype.ZQ=function(p){var d=Math.floor(50*n.F()),K=Math.floor(50*n.F()),A;if(p!=null)A=QL.xc(this._n,p.add.Patt);
if(A==null)A=QL.xc(this._n,this.At);this.bd=A;var x=Py.XN(A,d,K);this.uH.setAttribute("src",x);n.Cp(this.uH,d,K)};
Py.gM=n.b("canvas","");Py.XN=function(p,d,K,A){if(A==null)A=Py.gM;var x=A.getContext("2d");A.width=d;
A.height=K;if(p){var M=p.m.t,G=p.m.D,D=p.nM,P=Math.min(d/M,K/G),a=P;if(a*M<2)a=2/M;var e=P;if(e*G<2)e=2/G;
var f=r.ge._x([D,p.m],new QI(a,0,0,e,0,0),!1),N=f.rect.t,Y=f.rect.D,l=x.createImageData(N,Y);Z.tM(f.buffer,l.data);
x.putImageData(l,Math.floor((d-N)/2),Math.floor((K-Y)/2))}return A.toDataURL()};function pb(p){Ms.call(this,p,!1,"patternbutton",24.2,17,Qn._X);
this.Qs=""}pb.prototype=new Ms;pb.prototype.tb=function(p){this._n=JSON.parse(JSON.stringify(this.At[0][this.EJ.A()]));
this.n(new y(n.E.f))};pb.prototype.Ja=function(){var p=this.At;if(p==null||!this.rw)return;var d=Math.floor(50*n.F()),K=Math.floor(50*n.F()),A=[],x=[];
for(var M=0;M<p[0].length;M++){A.push(pb.XN(this.At[0][M].gF,d,K,this.At[1]));x.push(p[0][M].im.Nm.v.split("=").pop())}this.EJ.DX(A,x,d,K);
this.rw=!1};pb.prototype.d=function(p,d,K,A){var x=JSON.stringify(p.gF)+","+K+","+A;if(this.Qs!=x){this.Qs=x;
this._n=JSON.parse(JSON.stringify(p));this.ZQ(d,K,A)}this.EJ.QF(-1)};pb.prototype.A=function(){return JSON.parse(JSON.stringify(this._n))};
pb.prototype.ZQ=function(p,d,K){var A=Math.floor(68*n.F()),x=Math.floor(68*n.F()),M=pb.XN(this._n.gF,A,x,p?p:this.At[1],d,K);
this.uH.setAttribute("src",M);n.Cp(this.uH,A,x)};pb.XN=function(p,d,K,A,x,M){var G=new QZ;G.t=d;G.D=K;
G.buffer=Z.p(d*K*4);G.add.Patt=A;G.OX(x==null?90:x);G.Zn(M==null?30:M);var D=new R(0,0,Math.round(d*.5),Math.round(K*.5));
D.x=Math.round((d-D.t)/2);D.y=Math.round((K-D.D)/2);var P=G.sP();P.rect=D;P.buffer=Z.p(D.r()*4);Z.Pk(P.buffer,4284045657);
QL.eKV(p,P,.5*100);G.L.push(P);G.ao();G.i();var a=X.Ug;X.Ug=!1;G.gm();var e=G.zi();X.Ug=a;var f=QH.TC(e.buffer,G.t,G.D);
return f};function BU(p){Ms.call(this,null,!1,"tpresetbutton",18,24,Qn.bF,!0);n.xj(this.G,"fitem");this.EJ.or(1);
this.id=p;this.ZQ();this.LD=new Ql([15,7,9]);this.LD.d(!0);this.LD.R(n.E.f,this.eI$,this);this.rB.appendChild(this.LD.G)}BU.prototype=new Ms;
BU.prototype.eIV=function(p){if(this.id==p)return;this.id=p;this.H_(this.At)};BU.prototype.tb=function(p){var d=this.At[this.EJ.A()],K=new y(n.E.s,!0);
K.data={j:n.H.aA,oJ:"set",gD:Qn.bF,EW:d};this.n(K)};BU.prototype.l=function(){Ms.prototype.l.call(this);
this.LD.l()};BU.prototype.eI$=function(){this.rw=!0;this.Ja()};BU.prototype.Ja=function(){if(!this.rw)return;
var p=Math.floor(16*n.F()),d=Math.floor(16*n.F()),K=[],A=[],x=this.At,M=this.LD.A();for(var G=0;G<x.length;
G++){var D=r.eeL(x[G]);if(!M||D==this.id){A.push(x[G][0]?x[G][0].split("=").pop():"");K.push(D==-1?"":PIMG[r.kn[D][0]])}else{K.push(null);
A.push(null)}}this.EJ.DX(K,A,p,d);this.rw=!1};BU.prototype.ZQ=function(){var p=this.uH;p.setAttribute("src",PIMG[r.kn[this.id][0]]);
n.Mz(p,"toolicon")};BU.prototype.bx=function(){return null};BU.Xn={};BU.XN=function(p,d,K){var A=BU.Eh,x=BU.Xn,M=Z.rd(p.N<<16|p.w<<8|p.M);
if(x[M])return x[M];if(A==null){var G=n.b("canvas");A=BU.Eh=G.getContext("2d")}var G=A.canvas;G.width=d;
G.height=K;A.fillStyle="#"+M;A.fillRect(0,0,d,K);var D=x[M]=G.toDataURL();return D};function n$(p,d){QF.call(this);
this.G=n.b("span","fitem curveeditor");this.KZ=null;this.eWM=0;this.LN="";this.mode=0;this.ef=p;this.eSw=d;
this.kY=null;this.Pa=null;this.AL=new QP;this.xH=this.wa.bind(this);this.xw=this.tc.bind(this);this.Fs=n.b("canvas","");
this.MZ=this.Fs.getContext("2d");n.Go(this.Fs);n.wc(this.Fs,256,256,this.MZ);this.G.appendChild(this.Fs);
n.uw(this.Fs,this.tU.bind(this))}n$.prototype=new QF;n$.prototype.d=function(p,d){var K=JSON.stringify(p);
if(K==JSON.stringify(this.kY))return;this.mode=p.length==256?1:0;this.kY=JSON.parse(K);if(d!=null)this.Pa=this.kY[d];
this.gx()};n$.prototype.WM=function(p,d,K){this.KZ=p;this.eWM=d;this.LN=K;this.gx()};n$.prototype.A=function(){return JSON.parse(JSON.stringify(this.kY))};
n$.prototype.eeV=function(){return this.kY.indexOf(this.Pa)};n$.prototype.tU=function(p){var d=n.Cu(p,this.Fs),K=d.x,A=256-d.y;
if(this.ef){var x=K;K=256-A;A=x}this.AL.pf(K,A);if(this.mode==0){var M=null;for(var G=0;G<this.kY.length;
G++){var D=this.kY[G].v,P=D.Hrzn.v-K,a=D.Vrtc.v-A,e=Math.sqrt(P*P+a*a);if(e<5)M=this.kY[G]}if(M==null){M=Z.uX.gS(K,A,!0);
this.kY.push(M)}this.Pa=M}n.AG(document.body,this.xH);n.AJ(document.body,this.xw);this.wa(p)};n$.prototype.wa=function(p){var d=n.Cu(p,this.Fs),K=d.x,A=256-d.y;
if(this.ef){var x=K;K=256-A;A=x}if(this.mode==0){var M=this.kY,G=this.eSw,D=M.indexOf(this.Pa),P=D==0||D==M.length-1,a=0,e=255,f=!0;
if(P){a=1;e=254}if(!G||!P)this.Pa.v.Hrzn.v=Math.max(a,Math.min(e,Math.round(K)));this.Pa.v.Vrtc.v=Math.max(0,Math.min(255,Math.round(A)));
for(var N=0;N<M.length;N++){if(M[N]==this.Pa)continue;if(Math.abs(M[N].v.Hrzn.v-this.Pa.v.Hrzn.v)<2)f=!1}if(K<0||K>255||A<0||A>255)f=!1;
if(f&&M.indexOf(this.Pa)==-1)M.push(this.Pa);if(!f&&M.indexOf(this.Pa)!=-1&&M.length>2&&(!G||!P))M.splice(M.indexOf(this.Pa),1);
if(M[0].v.Hrzn.v==M[1].v.Hrzn.v)if(M[0].v.Hrzn.v==0)M[1].v.Hrzn.v=1;else M[0].v.Hrzn.v--;M.sort(function(u,Q){return u.v.Hrzn.v-Q.v.Hrzn.v})}else{K=Math.round(K);
A=Math.round(A);K=Math.max(0,Math.min(255,K));A=Math.max(0,Math.min(255,A));var Y=this.AL.x,l=K,h=this.AL.y,s=A;
if(K<this.AL.x){l=Y;Y=K;s=h;h=A}this.kY[K]=A;if(Y!=l)for(var J=Y;J<=l;J++)this.kY[J]=Math.round(h+(J-Y)*(s-h)/(l-Y))}this.AL.pf(K,A);
this.gx();this.n(new y(n.E.f))};n$.prototype.tc=function(p){n.rH(document.body,this.xH);n.rE(document.body,this.xw);
this.n(new y(n.E.f))};n$.prototype.gx=function(){var p=this.MZ;p.fillStyle="#ffffff";p.fillRect(0,0,256,256);
if(this.KZ){p.translate(0,256);p.scale(1,-1);PQ.eGV(p,this.KZ,5700/this.eWM,this.LN);p.scale(1,-1);p.translate(0,-256)}p.strokeStyle="#aaaaaa";
p.lineWidth=1;p.beginPath();for(var d=1;d<4;d++){p.moveTo(0,64*d-.5);p.lineTo(255,64*d-.5);p.moveTo(64*d-.5,0);
p.lineTo(64*d-.5,255)}p.stroke();if(this.ef){p.save();p.transform(0,1,-1,0,256,0)}if(this.mode==0){var K=this.kY,A=Z.uX.Lq(K,256);
p.strokeStyle="#000000";p.beginPath();p.moveTo(0,255.5-A[0]);for(var d=0;d<256;d++)p.lineTo(d,255.5-A[d]);
p.stroke();p.lineWidth=2;for(var d=0;d<K.length;d++){var x=K[d].v;p.fillStyle=this.Pa==K[d]?"#333":"#fff";
p.beginPath();p.moveTo(x.Hrzn.v,255.5-x.Vrtc.v);p.arc(x.Hrzn.v,255.5-x.Vrtc.v,3,0,2*Math.PI);p.stroke();
p.fill()}}else{var A=this.kY;p.strokeStyle="#000000";p.beginPath();p.moveTo(0,255.5-A[0]);for(var d=0;
d<256;d++)p.lineTo(d,255.5-A[d]);p.stroke()}if(this.ef)p.restore()};function PQ(p){QF.call(this);this.G=n.b("span","");
this.Lj=new Me([12,4],["RGB",[13,1,1],[13,1,4],[13,1,5],[12,82]]);this.Lj.R(n.E.f,this.nl,this);this.G.appendChild(this.Lj.G);
n.Ld(this.G);this.gM=n.b("canvas");var d=this.gM;this.G.appendChild(d);d.width=Math.round(p*n.F());d.height=Math.round(100*n.F());
n.Cp(d,d.width,d.height);this.Eh=d.getContext("2d");this.KZ=null;this.Ro=0}PQ.prototype=new QF;PQ.prototype.l=function(){this.Lj.l()};
PQ.prototype.or=function(p){this.Lj.d(p);this.nl()};PQ.prototype.d=function(p){this.KZ=p;this.nl()};
PQ.prototype.dT=function(p){if(p==this.Ro)return;this.Ro=p;this.nl()};PQ.prototype.nl=function(){if(this.KZ==null)return;
var p=this.gM,d=this.Eh,K=this.KZ,A=this.Lj.A(),x=6e3/K[4],M="#"+Z.rd(this.Ro),G=PQ.eGV;p.width=p.width;
d.setTransform(p.width/256,0,0,-p.height/100,0,p.height);d.globalCompositeOperation="lighter";if(A==0)G(d,K[0],x/3,M);
else if(A<4)G(d,K[A],x,M);else{G(d,K[1],x,"#ff0000");G(d,K[2],x,"#00ff00");G(d,K[3],x,"#0000ff")}d.setTransform(1,0,0,1,0,0)};
PQ.eGV=function(p,d,K,A){p.beginPath();p.moveTo(0,0);for(var x=0;x<256;x++)p.lineTo(x,d[x]*K);p.lineTo(256,0);
p.closePath();p.fillStyle=A;p.fill()};function MN(p){QF.call(this);this.vg={N:0,w:0,M:0};if(Math.abs(p-256/n.F())<10)p=256/n.F();
var d=this.G=n.b("div","flexrow");this.dM=new QP;this.rh=new QP;this.WF=this.enF.bind(this);this.Wi=this.eIx.bind(this);
this.Fs=n.b("canvas","");this.MZ=this.Fs.getContext("2d");this.Fs.width=this.Fs.height=256;this.eSR=this.MZ.getImageData(0,0,256,256);
this.eGP=-1;n.Go(this.Fs);n.uw(this.Fs,this.eIo.bind(this));d.appendChild(this.Fs);this.eGd=this.eBc.bind(this);
this.eGr=this.eIT.bind(this);this.MU=n.b("canvas","");this.BX=this.MU.getContext("2d");this.MU.width=20;
this.MU.height=256;this.eGb=this.BX.getImageData(0,0,20,256);this.eII(this.eGb.data,20,256);n.Go(this.MU);
n.uw(this.MU,this.eIZ.bind(this));d.appendChild(this.MU);this.Fs.setAttribute("style","width:"+p+"px; height:"+p+"px");
this.MU.setAttribute("style","width:"+20/n.F()+"px; height:"+p+"px")}MN.prototype=new QF;MN.prototype.dq=function(p,d){this.Fs.style.width=p+"px"};
MN.prototype.d=function(p){this.vg=p;this.update()};MN.prototype.A=function(){return JSON.parse(JSON.stringify(this.vg))};
MN.prototype.update=function(){var p=this.vg,d=Z.FE(p.N,p.w,p.M);if(d.jV==0)d.mQ=this.dM.x/255;if(d.mQ==0||d.jV==0)d.Ri=(255-this.Iu(this.rh.y))/255;
if(d.jV!=0)this.dM.x=d.mQ*255;this.dM.y=(1-d.jV)*255;this.rh.y=(1-d.Ri)*255;var K=this.eSR;if(Math.abs(d.Ri-this.eGP)>.002){this.eI_(K.data,256,256,d.Ri);
this.eGP=d.Ri}this.MZ.putImageData(K,0,0);this.MZ.strokeStyle="#000000";this.MZ.beginPath();this.MZ.arc(this.dM.x+1,this.dM.y+1,5,0,2*Math.PI);
this.MZ.stroke();this.MZ.strokeStyle="#ffffff";this.MZ.beginPath();this.MZ.arc(this.dM.x,this.dM.y,5,0,2*Math.PI);
this.MZ.stroke();var K=this.eGb;this.BX.putImageData(K,0,0);this.BX.strokeStyle="#ffffff";this.BX.beginPath();
this.BX.moveTo(0,this.rh.y);this.BX.lineTo(20,this.rh.y);this.BX.lineWidth=2;this.BX.stroke()};MN.prototype.eI_=function(p,d,K,A){var x=1/d,M=1/K;
for(var G=0;G<K;G++)for(var D=0;D<d;D++){var P=Z.uK(A,D*x,(K-G-1)*M),a=G*d+D<<2;p[a+0]=~~(P.N*255);p[a+1]=~~(P.w*255);
p[a+2]=~~(P.M*255);p[a+3]=255}};MN.prototype.eII=function(p,d,K){var A=new Uint32Array(p.buffer);for(var x=0;
x<K;x++){var M=Z.uK(1-x/K,1,1),G=255<<24|M.M*255<<16|M.w*255<<8|M.N*255;for(var D=0;D<d;D++)A[x*d+D]=G}};
MN.prototype.eIo=function(p){n.AG(window,this.WF);n.AJ(window,this.Wi);this.enF(p)};MN.prototype.eIx=function(p){n.rH(window,this.WF);
n.rE(window,this.Wi)};MN.prototype.enF=function(p){var d=n.Cu(p,this.Fs);d.x=d.x*(256/parseFloat(this.Fs.style.width));
d.y=d.y*(256/parseFloat(this.Fs.style.height));this.dM.pf(this.Iu(d.x),this.Iu(d.y));this.oN()};MN.prototype.oN=function(){this.vg=this.eIg();
this.n(new y(n.E.f))};MN.prototype.eIg=function(){var p=Z.uK((255-this.Iu(this.rh.y))/255,this.WB(this.dM.x/255),this.WB(1-this.dM.y/255));
return{N:p.N,w:p.w,M:p.M}};MN.prototype.eIZ=function(p){n.AG(window,this.eGd);n.AJ(window,this.eGr);
this.eBc(p)};MN.prototype.eIT=function(p){n.rH(window,this.eGd);n.rE(window,this.eGr)};MN.prototype.eBc=function(p){var d=n.Cu(p,this.MU);
d.y=d.y*(256/parseFloat(this.MU.style.height));this.rh.pf(this.Iu(d.x),this.Iu(d.y));this.oN()};MN.prototype.Iu=function(p){return Math.max(0,Math.min(255,p))};
MN.prototype.WB=function(p){return Math.max(0,Math.min(1,p))};function Mf(p,d,K){QF.call(this);if(!d)return;
this.nj=0;this.G=n.b("span","fitem bbmenu");if(p){this.xk=p;this.l_=n.b("label","flabel");this.l_.textContent=p+":";
this.G.appendChild(this.l_)}this.C_=[];this.LX=null;this.NC(d,K);this.d(0)}Mf.prototype=new QF;Mf.prototype.g$=function(p){this.xk=p;
this.l()};Mf.prototype.l=function(){if(this.xk!=null){this.l_.textContent=Qc.get(this.xk)+": "}for(var p=0;
p<this.C_.length;p++)this.C_[p].l()};Mf.prototype.A=function(){return this.nj};Mf.prototype.NC=function(p,d){while(this.C_.length>0)this.G.removeChild(this.C_.pop().G);
this.LX=p;for(var K=0;K<p.length;K++){var A=new Qa(p[K],!1,d?d[K]:null);A.R("click",this.Po,this);this.G.appendChild(A.G);
this.C_.push(A)}this.l()};Mf.prototype.d=function(p){this.nj=p;for(var d=0;d<this.C_.length;d++)this.C_[d].qD();
this.C_[p].uy()};Mf.prototype.Po=function(p){var d=this.C_.indexOf(p.target);this.d(d);this.n(new y(n.E.f,!1))};
function Bm(p,d,K,A){if(A==null)A=16;var x=Bm.mB,M=x.getContext("2d"),G=A>>>1;x.width=x.height=A;var D=[];
for(var P=0;P<d.length;P++){if(d[P]=="checker"){M.fillStyle="white";M.fillRect(0,0,A,A);M.fillStyle="#bbbbbb";
M.fillRect(G,0,G,G);M.fillRect(0,G,G,G)}else{M.fillStyle=d[P];M.fillRect(0,0,A,A)}D.push("<img src=\""+x.toDataURL()+"\" />")}Mf.call(this,p,D,K)}Bm.prototype=new Mf;
Bm.mB=n.b("canvas");function Me(p,d,K,A){QF.call(this);if(!d)return;if(K==null)K=!1;this.nj=0;this.eSq=K;
this.xk=p;this.PS=null;this.etk=A;var x="dd"+n.Kc();this.G=n.b("span","fitem ddmenu");if(p&&!K){this.l_=n.b("label","flabel");
this.G.appendChild(this.l_);this.l_.setAttribute("for",x)}this.HE=n.b("select","bbtn");this.HE.setAttribute("id",x);
this.G.appendChild(this.HE);this.HE.addEventListener("change",this.Po.bind(this),!1);this.C_=[];this.LX=null;
this.NC(d,A);this.l()}Me.prototype=new QF;Me.prototype.g$=function(p){this.xk=p;this.l()};Me.prototype.l=function(){if(this.xk!=null){var p=Qc.get(this.xk);
if(this.eSq)this.HE.setAttribute("title",p);else this.l_.textContent=p+":"}if(this.LX)this.NC(this.LX,this.etk);
this.d(this.nj)};Me.prototype.A=function(){return this.nj};Me.prototype.NC=function(p,d){n.hM(this.HE);
var K=[],x=0;if(d){K.push(d[0]);for(var A=1;A<d.length;A++)K.push(K[A-1]+d[A])}this.LX=p;this.PS=[];
this.etk=d;for(var A=0;A<p.length;A++){var M=n.b("option");M.textContent=Qc.get(p[A]);M.setAttribute("value",A);
this.HE.appendChild(M);this.C_.push(M);this.PS.push(A+x);if(K.indexOf(A+1)!=-1&&A!=p.length-1){var G=n.b("option");
G.setAttribute("disabled","");G.textContent="";this.HE.appendChild(G);x++}}};Me.prototype.d=function(p){this.nj=p;
this.HE.selectedIndex=this.PS[p]};Me.prototype.Po=function(p){this.nj=this.PS.indexOf(this.HE.selectedIndex);
this.n(new y(n.E.f,!1))};function Ps(){QF.call(this);this.gn=null;this.OD=new MA;this.OD.R(n.E.f,this.eRP,this);
this.OD.parent=this;this.Oy=new MK([12,14,0],1,300,"px",0,!0);this.Oy.R(n.E.f,this.eRp,this);this.Oy.parent=this;
this.Up=new Pe([16,0]," px",3);this.Up.R(n.E.f,this.wq,this);this.UB=new MK([16,1],-500,5e3,"%",0,!0);
this.UB.R(n.E.f,this.wq,this);this.UB.parent=this;this.bM=new MK("\u2B0D",1,300,"%",null,null,null,null,[2,7,[22,4,3]]);
this.bM.R(n.E.f,this.wq,this);this.bM.parent=this;this.bv=new MK("\u2B0C",1,300,"%",null,null,null,null,[2,7,[22,4,2]]);
this.bv.R(n.E.f,this.wq,this);this.bv.parent=this;this.bc=new MK([16,2],-10,10,"px");this.bc.R(n.E.f,this.wq,this);
this.bc.parent=this;this.UO=new Md(!0);this.UO.R(n.E.f,this.eRO,this);this.UO.parent=this;this.PP=new Qa("<img src=\""+PIMG["type/bold"]+"\" class=\"autoscale gsicon\" />");
this.Pt=new Qa("<img src=\""+PIMG["type/italic"]+"\" class=\"autoscale gsicon\" />");this.PQ=new Qa("<img src=\""+PIMG["type/caps"]+"\" class=\"autoscale gsicon\" />");
this.Pp=new Qa("<img src=\""+PIMG["type/scaps"]+"\" class=\"autoscale gsicon\" />");this.Pn=new Qa("<img src=\""+PIMG["type/sub"]+"\" class=\"autoscale gsicon\" />");
this.PB=new Qa("<img src=\""+PIMG["type/sup"]+"\" class=\"autoscale gsicon\" />");this.PU=new Qa("<img src=\""+PIMG["type/under"]+"\" class=\"autoscale gsicon\" />");
this.Pm=new Qa("<img src=\""+PIMG["type/strike"]+"\" class=\"autoscale gsicon\" />");var p=[this.PP,this.Pt,this.PQ,this.Pp,this.Pn,this.PB,this.PU,this.Pm];
for(var d=0;d<p.length;d++)p[d].R("click",this.eRS,this);this.bA=new Qa("<img src=\""+PIMG["par/left"]+"\" class=\"autoscale gsicon\" />");
this.bJ=new Qa("<img src=\""+PIMG["par/right"]+"\" class=\"autoscale gsicon\" />");this.bC=new Qa("<img src=\""+PIMG["par/center"]+"\" class=\"autoscale gsicon\" />");
this.eQN=new Qa("<img src=\""+PIMG["par/jleft"]+"\" class=\"autoscale gsicon\" />");this.eQg=new Qa("<img src=\""+PIMG["par/jright"]+"\" class=\"autoscale gsicon\" />");
this.eMr=new Qa("<img src=\""+PIMG["par/jcenter"]+"\" class=\"autoscale gsicon\" />");this.epn=new Qa("<img src=\""+PIMG["par/jall"]+"\" class=\"autoscale gsicon\" />");
this.bz=[this.bA,this.bJ,this.bC,this.eQN,this.eQg,this.eMr,this.epn];for(var d=0;d<this.bz.length;d++)this.bz[d].R("click",this.wq,this);
var K=["lind","rind","flind","bind","aind"],A=[];for(var d=0;d<5;d++)A.push("<img src=\""+PIMG["par/"+K[d]]+"\" class=\"autoscale gsicon\" /> ");
this.Ly=new MK(A[0],-20,20,"px");this.Ly.R(n.E.f,this.wq,this);this.Ly.parent=this;this._V=new MK(A[1],-20,20,"px");
this._V.R(n.E.f,this.wq,this);this._V.parent=this;this._I=new MK(A[2],-20,20,"px");this._I.R(n.E.f,this.wq,this);
this._I.parent=this;this._R=new MK(A[3],-20,20,"px");this._R.R(n.E.f,this.wq,this);this._R.parent=this;
this._A=new MK(A[4],-20,20,"px");this._A.R(n.E.f,this.wq,this);this._A.parent=this;this.bo=new Mf([12,33],["Abc ...","... \u0623\u064A \u0628\u064A"]);
this.bo.R(n.E.f,this.wq,this);this.bo.parent=this}Ps.prototype=new QF;Ps.prototype.l=function(){this.OD.l();
this.Oy.l();this.Up.l();this.UB.l();this.bc.l();this.bM.l();this.bv.l();this.bo.l()};Ps.prototype.Rp=function(p){this.uW=JSON.parse(JSON.stringify(p.uW));
var d=this.uW,K=d.K$,A=d.hw;this.PP.d(K.FauxBold!=null?K.FauxBold:!1);this.Pt.d(K.FauxItalic!=null?K.FauxItalic:!1);
this.PQ.d(K.FontCaps==2);this.Pp.d(K.FontCaps==1);this.PB.d(K.FontBaseline==1);this.Pn.d(K.FontBaseline==2);
this.PU.d(K.Underline);this.Pm.d(K.Strikethrough);this.OD.d(K.Font==null?null:d.CV[K.Font].Name,p.ET,p.PH);
var x=K.FontSize==null?20:K.FontSize;this.Oy.d(x);var M=K.Tracking;this.UB.d(M==null?0:M);if(K.AutoLeading)this.Up.d("Auto");
else this.Up.d(K.Leading);this.bM.d((K.VerticalScale!=null?K.VerticalScale:0)*100);this.bv.d((K.HorizontalScale!=null?K.HorizontalScale:0)*100);
this.bc.d(K.BaselineShift!=null?K.BaselineShift:0);if(K.FillColor){var G=QM.iz(K);this.UO.dT(Math.round(G.N)<<16|Math.round(G.w)<<8|Math.round(G.M))}else this.UO.dT(0);
var D=A._Direction!=null?A._Direction:0,P=QM.Uj(A);for(var a=0;a<this.bz.length;a++)this.bz[a].d(P==a);
this.bo.d(D);this.Ly.d(A.StartIndent!=null?A.StartIndent:0);this._V.d(A.EndIndent!=null?A.EndIndent:0);
this._I.d(A.FirstLineIndent!=null?A.FirstLineIndent:0);this._R.d(A.SpaceBefore!=null?A.SpaceBefore:0);
this._A.d(A.SpaceAfter!=null?A.SpaceAfter:0)};Ps.prototype.Pc=function(){var p=new y(n.E.s,!0);p.data={j:n.H.aA,gD:Qn.ar,uW:this.uW};
this.n(p)};Ps.prototype.eRS=function(p){var d=this.uW.K$,K=p.target,A=!K.dA();if(K==this.PP)d.FauxBold=A;
if(K==this.Pt)d.FauxItalic=A;if(K==this.PQ)d.FontCaps=A?2:0;if(K==this.Pp)d.FontCaps=A?1:0;if(K==this.PB)d.FontBaseline=A?1:0;
if(K==this.Pn)d.FontBaseline=A?2:0;if(K==this.PU)d.Underline=A;if(K==this.Pm)d.Strikethrough=A;this.Pc()};
Ps.prototype.wq=function(p){var d=this.uW.K$,K=this.uW.hw,A=p.target;if(A==this.UB){var x=this.UB.A();
if(x==null)window.epU("An error occured. Please, write us an email to support@photopea.com and describe what you did.");
d.Tracking=x}if(A==this.Up){var M=this.Up.A().toLowerCase();d.AutoLeading=M=="auto";d.Leading=M=="auto"?40:parseInt(M)}if(A==this.bM)d.VerticalScale=A.A()/100;
if(A==this.bv)d.HorizontalScale=A.A()/100;if(A==this.bc)d.BaselineShift=A.A();if(this.bz.indexOf(A)!=-1){K.Justification=QM.Uj(K,this.bz.indexOf(A))}if(A==this.Ly)K.StartIndent=A.A();
if(A==this._V)K.EndIndent=A.A();if(A==this._I)K.FirstLineIndent=A.A();if(A==this._R)K.SpaceBefore=A.A();
if(A==this._A)K.SpaceAfter=A.A();if(A==this.bo)K._Direction=A.A();this.Pc()};Ps.prototype.eRP=function(p){var d=this.uW,K=this.OD.A(),A=-1;
for(var x=0;x<d.CV.length;x++)if(d.CV[x].Name==K)A=x;if(A==-1){A=d.CV.length;var M=JSON.parse(JSON.stringify(d.CV[0]));
M.Name=K;d.CV.splice(A,0,M)}d.K$.Font=A;this.Pc()};Ps.prototype.eRp=function(p){var d=parseFloat(this.Oy.A());
if(isNaN(d))return;this.uW.K$.FontSize=d;this.Pc()};Ps.prototype.eRO=function(p){var d=this.UO.IA(),K={Type:1,Values:[1,(d>>16&255)/255,(d>>8&255)/255,(d>>0&255)/255]};
for(var A=0;A<4;A++)K.Values[A]=Math.round(K.Values[A]*1e3)/1e3;this.uW.K$.FillColor=K;this.Pc()};function MA(){QF.call(this);
this.G=n.b("span","fontinput");this.rn=null;this.bZ=null;this.xF=null;this.by="";this.hZ={};this.bb=[];
this.epN={};this.bY=!1;this.UE=n.b("button","fitem");this.UE.setAttribute("style","width:9em;");this.UE.textContent="Family Name \u25BC";
this.G.appendChild(this.UE);n.uw(this.UE,this.eBx.bind(this));this.Hd=new QF;this.Hd.parent=this;this.Hd.G=n.b("div","floatcont");
this.Hd.G.addEventListener("keyup",this.eRU.bind(this),!1);this.PZ=new nC(6.8);this.Hd.G.appendChild(this.PZ.ezc());
this.PZ.parent=this.Hd;this.PZ.R(n.E.f,this.Wu,this);var p=n.b("div","form");this.Hd.G.appendChild(p);
this.Yt=new Qa(n.YD("tools/cshape",null,"autoscale"),!1,"Show Favorites Only");this.Yt.R("click",this.eRZ,this);
p.appendChild(this.Yt.G);this.dp=new Pe([12,86],null,9);this.dp.R("input",this.RO,this);p.appendChild(this.dp.G);
var d=this.eSh=new Qa([23,6,[22,6,0]],!1,"Load OTF / TTF file from your computer",!0);d.R("click",this.eRJ,this);
d.G.style.marginLeft="1.5em";p.appendChild(d.G);this.P$=n.b("span","fitem imageset scrollable marged");
this.P$.style.height="30em";this.Hd.G.appendChild(this.P$);this.YO=n.b("button","fitem");this.YO.setAttribute("style","width:7em;");
this.YO.textContent="SubFamily Name \u25BC";this.G.appendChild(this.YO);n.uw(this.YO,this.eBx.bind(this));
this.IS=new QF;this.IS.parent=this;this.IS.G=n.b("div","floatcont");this.bT=n.b("span","fitem imageset scrollable marged");
this.IS.G.appendChild(this.bT)}MA.prototype=new QF;MA.prototype.eRU=function(p){var d=0;if(B.ov(p.code,B.nG))d=-1;
if(B.ov(p.code,B.nm))d=1;if(d!=0){var K=this.bb,A=K.length,x=this.rn.a$()[this.xF];if(x==null&&A==0)return;
var M=K.indexOf(x[0]);if(M==-1)return;M=(M+d+A)%A;this.Rc(K[M],null)}};MA.prototype.eRJ=function(){var p=new y(n.E.s,!0);
p.data={j:n.H.tk,eSs:".otf,.ttf,.ttc"};this.n(p)};MA.prototype.l=function(){this.PZ.l();this.eSh.l();
this.Yt.g$(n.YD("tools/cshape",null,"autoscale"))};MA.prototype.eRZ=function(p){this.Yt.d(!this.Yt.dA());
this.Wu()};MA.prototype.RO=function(p){this.by=this.dp.A().toLowerCase();this.Wu()};MA.prototype.eBx=function(p){n.Zy(p);
var d=p.currentTarget,K=d.getBoundingClientRect(),A=d==this.UE,x=A?this.Hd:this.IS;if(n.Or(x.G)){this.ezM(x);
return}if(!A&&this.rn.a$()[this.xF]==null)return;var M=new y(n.E.s,!0);M.data={j:n.H.uO,Fy:x,x:K.left,y:K.top+K.height};
this.n(M);if(A){this.Wu();this.dp.xP()}};MA.prototype.eRl=function(p){var d=p.currentTarget.firstChild.nextSibling.textContent;
if(p.target.tagName.toLowerCase()=="button"){var K=this.bZ.slice(0),A=K.indexOf(d);if(A==-1){K=K.slice(Math.max(0,K.length-9));
K.push(d)}else K.splice(A,1);var x=new y(n.E.s,!0);x.data={j:n.H.aA,gD:Qn.pG,dx:K};this.n(x);this.bY=!0;
this.Wu()}else{this.Rc(d,null);this.dp.xP()}};MA.prototype.eRy=function(p){this.Rc(null,p.currentTarget.firstChild.textContent)};
MA.prototype.Rc=function(p,d){var K=p==null?this.IS:this.Hd,A=this.rn;if(p==null)p=A.a$()[this.xF][0];
else{var x=A.yc(p),M=A.a$()[this.xF];d=Qg.yV(x,M?M[1]:"regular")}var G=A.nY(p,d)[2];this.d(G,A);this.n(new y(n.E.f,!1));
this.Wu()};MA.prototype.ezM=function(p){var d=new y(n.E.s,!0);d.data={j:n.H.Ka,Fy:p};this.n(d)};MA.prototype.A=function(){return this.xF};
MA.prototype.d=function(p,d,K){var A=this.rn;if(p!=null)this.xF=p;else p=this.xF;this.rn=d;this.bZ=K;
if(p!=null){var x=d.a$()[p],M,G;if(x==null){M="- "+p;G="-------"}else{M=x[0];G=x[1];var D=d.yc(M);D.sort(Qg.eRA);
var P=D.indexOf(G),a=this.eRy.bind(this);this.bT.textContent="";for(var e=0;e<D.length;e++){var x=d.nY(M,D[e]);
if(!this.PZ.R$(x))continue;var f=this.eKF(x,x[1],a,!1);this.bT.appendChild(f)}}this.UE.textContent=M.substring(0,15)+" \u25BC";
this.UE.setAttribute("title",M);this.YO.textContent=G.substring(0,10)+" \u25BC";this.YO.setAttribute("title",G)}};
MA.prototype.Wu=function(){var p=this.rn.a$()[this.xF],d=this.bZ,K=null,A=this.rn.eaS(),x=this.eRl.bind(this);
this.bb=[];for(var M in A){var G=Qg.yV(A[M],"regular"),D=this.rn.nY(M,G),P=d.indexOf(M)!=-1,a=!0;if(this.by.length>0&&D[0].toLowerCase().indexOf(this.by)==-1)a=!1;
else if(!this.PZ.R$(D))a=!1;else if(this.Yt.dA()&&!P)a=!1;var e=this.hZ[M];if(e==null){var e=this.eKF(D,M,x,!0);
this.hZ[M]=e;this.P$.appendChild(e)}if(a)this.bb.push(M);var f=a?"":"display:none; ",N="opacity: "+(P?"1":"0.2");
if(p&&p[0]==M){f+="background-color:rgba(0,0,0,0.13);";K=e}if(this.epN[M]!=f+N){e.setAttribute("style",f);
e.firstChild.setAttribute("style",N);this.epN[M]=f+N}}if(K&&!this.bY)this.P$.scrollTop=K.offsetTop-210;
this.bY=!1};MA.prototype.eKF=function(p,d,K,A){var x=n.b("div","fontitem"),P="";x.addEventListener("click",K,!1);
if(A)x.appendChild(n.b("button","star"));var M=n.b("span","label");M.setAttribute("title",d);M.textContent=d;
x.appendChild(M);var G=n.F(),D=1/G,a=Qg.nr*D,e=Qg.TG*D;if(1<G&&G<1.5)P="width:"+a+"px; height:"+e+"px;";
var f=n.b("span","thumb gsicon");if(p.eGt){P+="background: url("+p.eGt+");";if(1<G&&G<1.5)P+="background-size: "+a+"px "+e+"px;"}else{var N=Math.ceil(FNTS.list.length/Qg.cols),Y=Math.floor(p._W/N),l=p._W%N,h=Y*Qg.nr,s=l*Qg.TG;
if(1<G&&G<1.5){P+="background-size: "+Qg.cols*a+"px "+N*e+"px;";h*=D;s*=D}P+="background-position:-"+h+"px -"+s+"px;"}f.setAttribute("style",P);
x.appendChild(f);return x};function nC(p){QF.call(this);this.G=n.b("button","fitem bbtn");this.G.addEventListener("click",this.ezF.bind(this),!1);
this.cN=new QF;this.cN.G=n.b("div","floatcont");this.cN.parent=this;this.YS=n.b("div","flexrow");this.cN.G.appendChild(this.YS);
this.Ie=[];this.Uc=[];var d=this.YS,K=n.b("div",""),A=n.b("div","");d.appendChild(K);d.appendChild(A);
this.ek=[];for(var x=0;x<FNTS.cats.length;x++)this.ek.push({name:FNTS.cats[x],index:x,vP:0});this.Ye=new Ql([7,0]);
this.Ye.R(n.E.f,this.ezR,this);K.appendChild(this.Ye.G);this.YQ=n.b("div","vlist marged scrollable");
this.YQ.setAttribute("style","width:10.85em; height:"+p+"em; ");K.appendChild(this.YQ);this.Yn=[];for(var x=0;
x<this.ek.length;x++){var M=this.ek[x],G=new Ql(M.name);this.Yn.push(G);G.R(n.E.f,this.ezx,this);G.d(!0);
this.YQ.appendChild(G.G);this.Ie.push(1)}this.enQ=new Ql([7,0]);this.enQ.R(n.E.f,this.ezs,this);this.Yv=n.b("div","vlist marged scrollable");
this.Yv.setAttribute("style","width:8.6em; height:"+(p+1.5)+"em; ");A.appendChild(this.Yv);this.Pq=[];
for(var x=0;x<FNTS.subsetNames.length;x++){var G=new Ql(FNTS.subsetNames[x]);this.Pq.push(G);G.R(n.E.f,this.ezN,this);
G.d(!1);this.Yv.appendChild(G.G);this.Uc.push(0)}}nC.prototype=new QF;nC.prototype.ezK=function(p){var d=this.Pq;
for(var K=0;K<d.length;K++){var A=(p>>>K&1)==1;this.Uc[K]=A;d[K].d(A)}};nC.prototype.ezc=function(){return this.YS};
nC.prototype.l=function(){this.G.textContent=Qc.get([25,1,0])+" \u25BC";this.Ye.l();this.enQ.l()};nC.prototype.ezF=function(p){var d=this.G.getBoundingClientRect(),K=new y(n.E.s,!0);
K.data={j:n.H.uO,Fy:this.cN,x:d.left,y:d.top+d.height,eap:!1};this.n(K)};nC.prototype.R$=function(p){if(this.Ie[p[4]]==0)return!1;
else for(var d=0;d<this.Uc.length;d++)if(this.Uc[d]==1&&(p[3]>>>d&1)==0)return!1;return!0};nC.prototype.ezR=function(p){var d=p.target.A(),K=this.Yn,A=this.Ie;
for(var x=0;x<K.length;x++){K[x].d(d);A[x]=d?1:0}this.n(new y(n.E.f,!1))};nC.prototype.ezs=function(p){var d=p.target.A(),K=this.Pq,A=this.Uc;
for(var x=0;x<K.length;x++){K[x].d(d);A[x]=d?1:0}this.n(new y(n.E.f,!1))};nC.prototype.ezx=function(p){var d=this.Yn.indexOf(p.target),K=this.ek[d].index;
this.Ie[K]=1-this.Ie[K];this.n(new y(n.E.f,!1))};nC.prototype.ezN=function(p){var d=this.Pq.indexOf(p.target);
this.Uc[d]=1-this.Uc[d];this.n(new y(n.E.f,!1))};function Be(p,d,K){Ms.call(this,d,!0,"gradientbutton",18,10,Qn.aE);
this.ou=-1;this.Le=-1;this.eO$=null;this.eSo=p;this.BH=K}Be.prototype=new Ms;Be.prototype.tb=function(p){var d=this.At;
this.d(d[this.EJ.A()]);this.n(new y(n.E.f))};Be.prototype.Id=function(p){var d=new y(n.E.s,!0);d.data={j:n.H.Ae,$u:"gradienteditor",k:this._n,fd:this.ezZ.bind(this),bD:this.BH};
this.n(d)};Be.prototype.ezZ=function(p){this.d(p);this.n(new y(n.E.f))};Be.prototype.Ja=function(){if(!this.rw)return;
var p=Math.floor(36*n.F()),d=Math.floor(36*n.F()),K=[],A=[],x=this.At;for(var M=0;M<x.length;M++){var G=x[M];
A.push(G.Nm?G.Nm.v.split("=").pop():"");var D=r.hT.XN(G,p,d,Math.PI/4,this.ou,this.Le);K.push(D)}this.EJ.DX(K,A,p,d);
this.rw=!1};Be.prototype.RR=function(p,d){this.eVU(this._n,p,d)};Be.prototype.d=function(p){this.eVU(p,this.ou,this.Le)};
Be.prototype.eVU=function(p,d,K){this.ou=d;this.Le=K;if(p==null)return;var A=JSON.stringify(p),x=A+d+","+K;
if(x==this.eO$)return;this.eO$=x;this._n=JSON.parse(A);var M=Math.floor(80*n.F()),G=Math.floor(16*n.F()),D=r.hT.XN(this._n,M,G,0,this.ou,this.Le);
this.uH.setAttribute("src",D);n.Cp(this.uH,M,G)};Be.prototype.A=function(){var p;if(this.eSo)p=r.hT.eSi(this._n,this.ou,this.Le);
else p=JSON.parse(JSON.stringify(this._n));return p};function eX(p){Ms.call(this,p,!1,"swatchbutton",16,8.75,Qn.aq)}eX.prototype=new Ms;
eX.prototype.tb=function(p){this.d(this.At[p.target.A()]);this.n(new y(n.E.f))};eX.prototype.Ja=function(){if(!this.rw)return;
var p=Date.now(),d=Math.floor(10*n.F()),K=Math.floor(10*n.F()),A=[],x=[],M=this.At;for(var G=0;G<M.length;
G++){x.push(M[G].WR?M[G].WR.split("=").pop():"");A.push(eX.XN(M[G],d,K))}this.EJ.DX(A,x,d,K);this.rw=!1};
eX.prototype.d=function(p){this._n=JSON.parse(JSON.stringify(p));this.ZQ()};eX.prototype.ZQ=function(){var p=Math.floor(24*n.F()),d=Math.floor(20*n.F()),K=eX.XN(this._n,p,d);
this.uH.setAttribute("src",K);n.Cp(this.uH,p,d)};eX.prototype.A=function(){return JSON.parse(JSON.stringify(this._n))};
eX.Xn={};eX.XN=function(p,d,K){var A=eX.Eh,x=eX.Xn,M=Z.rd(p.N<<16|p.w<<8|p.M);if(x[M])return x[M];if(A==null){var G=n.b("canvas");
A=eX.Eh=G.getContext("2d")}var G=A.canvas;G.width=d;G.height=K;A.fillStyle="#"+M;A.fillRect(0,0,d,K);
var D=x[M]=G.toDataURL();return D};function Ql(p,d,K){QF.call(this);this.G=n.b("span","fitem cbox");
if(d==null)d=!0;if(K==null)K="flabel";var A="cb"+n.Kc();this.rI=n.b("input","");this.rI.setAttribute("type","checkbox");
this.rI.setAttribute("id",A);this.G.appendChild(this.rI);this.xk=p;this.l_=n.b("label",K);if(d)this.l_.setAttribute("for",A);
this.G.appendChild(this.l_);this.l();this.rI.addEventListener("change",this.Po.bind(this),!1)}Ql.prototype=new QF;
Ql.prototype.ecb=function(){return this.xk};Ql.prototype.g$=function(p){this.l_.textContent=p};Ql.prototype.l=function(){this.l_.textContent=Qc.get(this.xk)};
Ql.prototype.uy=function(){this.rI.checked=!0};Ql.prototype.qD=function(){this.rI.checked=!1};Ql.prototype.dA=function(){return this.rI.checked};
Ql.prototype.d=function(p){this.rI.checked=p};Ql.prototype.A=Ql.prototype.dA;Ql.prototype.Po=function(p){this.n(new y(n.E.f,!1))};
function nB(p,d,K,A){QF.call(this);this.G=n.b("span","fitem mbox");this.eSW=K;if(p){this.xk=p;this.l_=n.b("label","flabel");
this.G.appendChild(this.l_)}this.x_=d;this.ir=[];for(var x=0;x<d.length;x++){var M=K?new Qa(d[x],!1,A?A[x]:null):new Ql(d[x]);
M.R(K?"click":n.E.f,this.Po,this);this.ir.push(M);this.G.appendChild(M.G)}this.l()}nB.prototype=new QF;
nB.prototype.d=function(p){for(var d=0;d<this.x_.length;d++)this.ir[d].d(p[d])};nB.prototype.A=function(){var p=[];
for(var d=0;d<this.x_.length;d++)p[d]=this.ir[d].A();return p};nB.prototype.l=function(){if(this.xk)this.l_.innerHTML=Qc.get(this.xk)+":";
for(var p=0;p<this.ir.length;p++)this.ir[p].l()};nB.prototype.Po=function(p){var d=this.ir.indexOf(p.currentTarget);
if(this.eSW)this.ir[d].d(!this.ir[d].A());this.n(new y(n.E.f,!1))};function Pu(p,d,K,A,x,M){ea.call(this,p,d,K,A,x,!1,M);
this.G.appendChild(this.l_);var G=n.b("span","rangecont");this.G.appendChild(G);G.appendChild(this.wQ);
this.G.appendChild(this.rI);this.rI.setAttribute("style","width:3.3em");if(this.eF)this.G.appendChild(this.WO)}Pu.prototype=new ea;
function tr(p,d,K,A){if(p==null)p=!1;if(d==null)d=!1;if(K==null)K=!1;QF.call(this);this.dV=new QP;this.FB=new QP;
this.YE=72;this.YL=72;this.IP=!0;this.G=n.b("span","");this.NK=new MK([12,41],0,0,null,0,!1,!0);this.G.appendChild(this.NK.G);
this.NK.R(n.E.f,this.GX,this);var x=["px","%"];if(p)x=x.concat(["mm","in"]);this.Ow=new Me(null,x);this.G.appendChild(this.Ow.G);
n.Ld(this.G);this.Ow.R(n.E.f,this.GX,this);this.gP=new MK([12,42],0,0,null,0,!1,!0);this.G.appendChild(this.gP.G);
this.gP.R(n.E.f,this.GX,this);var M=new Qa("\u21F5",!1,null,!0);M.R("click",this.eaR,this);this.xR=new Qa("<img src=\""+PIMG["lrs/chain"]+"\" class=\"autoscale gsicon\" />",!1,[12,51]);
this.xR.R("click",this.GX,this);this.eOq=new GJ("");if(d){this.G.appendChild(this.xR.G);this.G.appendChild(this.eOq.G);
this.xR.uy()}else this.G.appendChild(M.G);this.xh=new MK("DPI",0,0,null,3,!1,!0,4);if(p&&A==null){n.Ld(this.G);
this.G.appendChild(this.xh.G)}this.xh.R(n.E.f,this.GX,this);this.YI=new Ql([12,23,1]);this.YI.R(n.E.f,this.GX,this);
if(K){n.Ld(this.G);this.G.appendChild(this.YI.G)}n.Ld(this.G)}tr.prototype=new QF;tr.prototype.ezj=function(){this.IP=!1;
if(this.Ow.A()==0){this.Ow.d(3);this.Wd()}};tr.prototype.eaG=function(){this.IP=!0};tr.prototype.eaK=function(p){this.xR.d(p)};
tr.prototype.l=function(){this.NK.l();this.gP.l();this.xh.l();this.xR.l();this.YI.l()};tr.prototype.eaR=function(p){var d=this.FB.x;
this.FB.x=this.FB.y;this.FB.y=d;this.Wd();this.n(new y(n.E.f,!1))};tr.prototype.GX=function(p){if(p.target==this.Ow&&!this.IP&&this.Ow.A()==0)this.Ow.d(3);
if(p.target==this.Ow||p.target==this.YI){this.Wd();return}if(p.target==this.xR)p.target.d(!p.target.A());
var d=this.dV,K=parseFloat(this.NK.A());if(isNaN(K))K=1;var A=parseFloat(this.gP.A());if(isNaN(A))A=1;
var x=this.Ow.A();if(this.IP){var M=this.YL;if(x==1){K=this.dV.x*(K/100);A=this.dV.y*(A/100)}var G=[1,1,25.4/M,1/M][x];
K/=G;A/=G;if(this.YI.A()){K+=this.dV.x;A+=this.dV.y}if(p.target==this.xh){var D=this.xh.A();if(!0){var P=D/M;
K*=P;A*=P}M=D}if(this.xR.A()){if(p.target==this.NK)A=K*(d.y/d.x);else K=A*(d.x/d.y)}K=Math.max(Math.abs(K),1);
A=Math.max(Math.abs(A),1)}else{var M=this.YE;if(p.target==this.xh)M=this.xh.A();else{if(this.xR.A()){if(p.target==this.NK)A=K*(d.y/d.x);
else K=A*(d.x/d.y)}var G=[1,1,25.4/M,1/M][x],a=K/(x==1?100:d.x*G);M=M/a}K=d.x;A=d.y}this.FB=new QP(Math.round(K),Math.round(A));
this.YL=M;this.Wd();this.n(new y(n.E.f,!1))};tr.prototype.eal=function(p){this.Ow.d(p);this.Wd()};tr.prototype.d=function(p,d){this.dV=p.clone();
this.FB=p.clone();if(d!=null){this.YE=d;this.YL=d}this.Wd()};tr.prototype.Wd=function(){var p=this.FB.x,d=this.FB.y,K=this.YL,A=(p/d).toFixed(3);
while(A.charAt(A.length-1)=="0")A=A.substring(0,A.length-1);if(A.charAt(A.length-1)==".")A=A.substring(0,A.length-1);
var x="  "+A+" : 1",M=function(e,f){while(f!=0){var N=f;f=e%f;e=N}return e},G=M(p,d);if(Math.min(p,d)/G<10)x="  "+Math.round(p/G)+" : "+Math.round(d/G);
this.eOq.d(x);if(this.YI.A()){p-=this.dV.x;d-=this.dV.y}var D=this.Ow.A();if(D==1){if(this.IP){p=100*p/this.dV.x;
d=100*d/this.dV.y}else{p=d=100*this.YE/this.YL}}p=Math.round(p);d=Math.round(d);var P=[1,1,25.4/K,1/K][D];
p*=P;d*=P;var a=D>2?2:0;this.NK.euG(a);this.gP.euG(a);this.NK.d(p);this.gP.d(d);this.xh.d(K)};tr.prototype.A=function(){return this.FB.clone()};
tr.prototype.ecj=function(){return this.YL};function ns(){QF.call(this);this.Yw=0;this.UR=[0,0,1,1,100,100];
this.G=n.b("span","fitem");this.XX=new Me(null,[[12,89,0],[12,89,1],[12,89,2]]);this.G.appendChild(this.XX.G);
this.XX.R(n.E.f,this.GX,this);this.NK=new Pe("W",null,3);this.NK.d(0);this.G.appendChild(this.NK.G);
this.NK.R(n.E.f,this.GX,this);this.gP=new Pe("H",null,3);this.gP.d(0);this.G.appendChild(this.gP.G);
this.gP.R(n.E.f,this.GX,this);this.d({pz:0,x:0,y:0})}ns.prototype=new QF;ns.prototype.l=function(){n.bP(this.NK,this.gP);
this.XX.l()};ns.prototype.GX=function(p){if(p.target==this.XX){var d=this.A(),K=this.UR;K[this.Yw*2]=d.x;
K[this.Yw*2+1]=d.y;this.Yw=d.pz;this.d({pz:d.pz,x:K[d.pz*2],y:K[d.pz*2+1]})}this.n(new y(n.E.f,!1))};
ns.prototype.d=function(p){this.XX.d(p.pz);this.NK.d(p.x);this.gP.d(p.y);if(p.pz==0){this.NK.gH();this.gP.gH()}else{this.NK.Hm();
this.gP.Hm()}};ns.prototype.A=function(){return{pz:this.XX.A(),x:parseInt(this.NK.A()),y:parseInt(this.gP.A())}};
function GJ(p,d){QF.call(this);this.xk=p;this.G=n.b("span","labelitem fitem"+(d?" spread":""));this.l()}GJ.prototype=new QF;
GJ.prototype.d=function(p){this.G.textContent=p};GJ.prototype.A=function(){return this.G.textContent};
GJ.prototype.Hm=function(){this.G.removeAttribute("disabled")};GJ.prototype.gH=function(){this.G.setAttribute("disabled","")};
GJ.prototype.g$=function(p){this.G.textContent=p};GJ.prototype.l=function(){this.G.textContent=Qc.get(this.xk)};
GJ.prototype.ecb=function(){return this.xk};function pX(p){QF.call(this);this.G=n.b("span","");this.eOC=p;
this.xu=new Pu("Off X",-100,100,p?"%":"px",0,!1);this.Kt=new Pu("Off Y",-100,100,p?"%":"px",0,!1);this.xu.R(n.E.f,this.GX,this);
this.Kt.R(n.E.f,this.GX,this);this.G.appendChild(this.xu.G);this.G.appendChild(this.Kt.G)}pX.prototype=new QF;
pX.prototype.l=function(){this.xu.l();this.Kt.l()};pX.prototype.GX=function(p){this.n(new y(n.E.f,!1))};
pX.prototype.eaT=function(p){this.xu.d(p.x);this.Kt.d(p.y)};pX.prototype.eWO=function(){return new QP(this.xu.A(),this.Kt.A())};
pX.prototype.d=function(p){var d=p.Hrzn.v,K=p.Vrtc.v;if(this.eOC){d=d.val;K=K.val}this.xu.d(d);this.Kt.d(K)};
pX.prototype.A=function(){var p=this.xu.A(),d=this.Kt.A();if(this.eOC)return{classID:"Pnt",Hrzn:{t:"UntF",v:{type:"#Prc",val:p}},Vrtc:{t:"UntF",v:{type:"#Prc",val:d}}};
else return{classID:"Pnt",Hrzn:{v:p,t:"doub"},Vrtc:{v:d,t:"doub"}}};function MK(p,d,K,A,x,M,G,D,P){ea.call(this,p,d,K,A,x,!0,M,P);
n.Mz(this.G,"rangedropinput");this.G.appendChild(this.l_);this.rI.setAttribute("style","width:"+(D?D:3.3)+"em");
this.G.appendChild(this.rI);this.eOT=n.b("span","rangecont");this.eOT.appendChild(this.wQ);this.YV=n.b("button");
this.YV.innerHTML="\u25BC";n.uw(this.YV,this.eie.bind(this));if(G!=!0)this.G.appendChild(this.YV);this.ib=new QF;
this.ib.G=this.eOT}MK.prototype=new ea;MK.prototype.eie=function(p){if(n.Or(this.ib.G))return;p.stopPropagation();
var d=this.G.getBoundingClientRect();this.wQ.setAttribute("style","width:"+d.width+"px;");var K=new y(n.E.s,!0);
K.data={j:n.H.uO,Fy:this.ib,x:d.left,y:d.top+d.height};this.n(K)};function nG(){QF.call(this);this.G=n.b("span","fitem strokebutton");
this.YF=[[null,null,null,""],[null,0,null,"4 2"],[1,1,null,"0 2"]];this.pB=JSON.parse(JSON.stringify(QG.Wh.default));
this.IG=n.b("button");this.G.appendChild(this.IG);this.IG.addEventListener("click",this.tG.bind(this),!1);
var p=n.b("canvas","gsicon");this.MZ=p.getContext("2d");this.IG.appendChild(p);var d=n.b("span");d.textContent=" \u25BC";
this.IG.appendChild(d);this.cN=new QF;this.cN.parent=this;this.cN.G=n.b("div","floatcont form");var K=this.cN.G;
K.setAttribute("style","width: 14em;");this.hZ=[new Me([12,40],[[19,5,2],[19,5,1],[19,5,0]]),new Mf([19,9,0],["<img src=\""+PIMG["caps/butt"]+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG["caps/round"]+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG["caps/square"]+"\" class=\"autoscale gsicon\" />"]),new Mf([19,9,1],["<img src=\""+PIMG["joins/miter"]+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG["joins/round"]+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG["joins/bevel"]+"\" class=\"autoscale gsicon\" />"]),new Pe([19,9,2])];
for(var A=0;A<this.hZ.length;A++){var x=this.hZ[A];K.appendChild(x.G);var M=A<4?n.E.f:"click";x.R(M,this.GX,this)}n.Ld(K);
this.mk=[];var G=this.eiO.bind(this);for(var A=0;A<this.YF.length;A++){var D=n.b("button","fitem");this.mk.push(D);
K.appendChild(D);D.addEventListener("click",G,!1);var p=n.b("canvas","gsicon"),P=p.getContext("2d");
D.appendChild(p);this.ePi(P,40,20,this.YF[A])}}nG.prototype=new QF;nG.prototype.tG=function(p){var d=this.IG.getBoundingClientRect(),K=new y(n.E.s,!0);
K.data={j:n.H.uO,Fy:this.cN,x:d.left,y:d.top+d.height+4};this.n(K)};nG.prototype.GX=function(p){var M$=this.hZ,d=M$.indexOf(p.target),K=[];
for(var A=0;A<4;A++)K.push(M$[A].A());this.pB=this.eIj(K);this.n(new y(n.E.f,!1))};nG.prototype.eiO=function(p){var d=this.mk.indexOf(p.currentTarget);
this.d(this.eIj(this.YF[d]));this.n(new y(n.E.f,!1))};nG.prototype.eIj=function(p){var d=JSON.parse(JSON.stringify(this.pB)),K=p[0],A=p[1],x=p[2],M=p[3];
if(K!=null)d.strokeStyleLineAlignment.v.strokeStyleLineAlignment=QG.Wh.zW[K];if(A!=null)d.strokeStyleLineCapType.v.strokeStyleLineCapType=QG.Wh.zR[A];
if(x!=null)d.strokeStyleLineJoinType.v.strokeStyleLineJoinType=QG.Wh.join[x];var G=d.strokeStyleLineDashSet.v=[];
M=M.split(" ");while((M.length&1)!=0)M.pop();for(var D=0;D<M.length;D++)G.push({t:"UntF",v:{type:"#Nne",val:parseInt(M[D])}});
return d};nG.prototype.l=function(){for(var p=0;p<this.hZ.length;p++)this.hZ[p].l()};nG.prototype.d=function(p){this.pB=JSON.parse(JSON.stringify(p));
var d=QG.Wh.zW.indexOf(p.strokeStyleLineAlignment.v.strokeStyleLineAlignment),K=QG.Wh.zR.indexOf(p.strokeStyleLineCapType.v.strokeStyleLineCapType),A=QG.Wh.join.indexOf(p.strokeStyleLineJoinType.v.strokeStyleLineJoinType),x=[],M=p.strokeStyleLineDashSet.v;
for(var G=0;G<M.length;G++)x.push(M[G].v.val);var M$=this.hZ;M$[0].d(d);M$[1].d(K);M$[2].d(A);M$[3].d(x.join(" "));
var D=[];for(var P=0;P<4;P++)D.push(M$[P].A());this.ePi(this.MZ,40,16,D)};nG.prototype.A=function(){return JSON.parse(JSON.stringify(this.pB))};
nG.prototype.ePi=function(p,d,K,A){var x=A[0],M=A[1],G=A[2],D=A[3].split(" ").map(parseFloat);n.wc(p.canvas,d,K);
var P=Math.min(5,this.pB.strokeStyleLineWidth.v.val);for(var a=0;a<D.length;a++)D[a]*=P;p.clearRect(0,0,d,K);
p.setLineDash(D);p.lineCap=["butt","round","square"][M];p.lineJoin=["miter","round","bevel"][G];p.lineWidth=P;
p.beginPath();p.moveTo(0,K/2);p.lineTo(d*2,K/2);p.stroke()};function eF(p){Ms.call(this,p,!1,"contourbutton",34,16,Qn.eU);
this.dp=new Pe([12,86],null,16);this.dp.R("input",this.RO,this);this.cN.G.appendChild(this.dp.G);this.Y_=null;
this.by="";this.xg=null;this.d(Pd.Kj())}eF.prototype=new Ms;eF.prototype.l=function(){Ms.prototype.l.call(this);
this.dp.l()};eF.prototype.tb=function(p){this.d(this.Y_[p.target.A()]);this.n(new y(n.E.f))};eF.prototype.RO=function(p){this.by=this.dp.A().toLowerCase();
this.etv()};eF.mG=!1;eF.prototype.Ja=function(){if(!this.rw)return;var p=this.At;if(p==null||!eF.mG){var d=new y(n.E.s,!0);
d.data={j:n.H.YN,gD:{url:"rsrc/basic/fa_basic.csh"}};this.n(d);eF.mG=!0}else{var K=Math.floor(38*n.F()),A=Math.floor(38*n.F());
this.xg=[];for(var x=0;x<p.length;x++)this.xg.push(eF.etw(p[x],K,A));this.etv();this.rw=!1}};eF.prototype.etv=function(){var p=Math.floor(38*n.F()),d=Math.floor(38*n.F());
this.Y_=[];var K=[],A=[],x=this.At;for(var M=0;M<x.length;M++){if(x[M].WX.toLowerCase().indexOf(this.by)==-1)continue;
this.Y_.push(x[M]);K.push(this.xg[M]);A.push(x[M].WX)}this.EJ.DX(K,A,p,d)};eF.prototype.d=function(p){this._n=eF.clone(p);
this.ZQ()};eF.prototype.ZQ=function(){var p=Math.floor(23*n.F()),d=Math.floor(23*n.F()),K=eF.etw(this._n,p,d);
this.uH.setAttribute("src",K);n.Cp(this.uH,p,d)};eF.prototype.A=function(){return eF.clone(this._n)};
eF.clone=function(p){return{WX:p.WX,im:p.im,Z:V.mK.el(p.Z),dC:p.dC.clone()}};eF.gM=null;eF.Rs=null;eF.etw=function(p,d,K){var A=V.mK.el(p.Z),x=p.dC,M=Math.min(d/x.t,K/x.D)*.9,G=new QI;
G.translate(-.5,-.5);G.scale(.95,.95);G.translate(.5,.5);G.scale(M*x.t,M*x.D);Z.e.RF(A,G);var D=new V.mK;
D.Z=A;var P=D.gW();P.rect.x=Math.floor((d-P.rect.t)/2);P.rect.y=Math.floor((K-P.rect.D)/2);var a=Z.p(P.rect.r()*4);
Z.Pk(a,4278190080);Z.an(P.channel);Z.qF(P.channel,a,0);Z.qF(P.channel,a,1);Z.qF(P.channel,a,2);var e=eF;
if(e.gM==null)e.gM=n.b("canvas");var f=e.gM,N=f.getContext("2d");if(f.width!=d||f.height!=K||e.Rs==null){f.width=d;
f.height=K;e.Rs=N.createImageData(d,K)}var Y=e.Rs;Z.Pk(Y.data,4294967295);Z.PE(a,P.rect,Y.data,new R(0,0,d,K));
N.putImageData(Y,0,0);return f.toDataURL()};function Gn(p){Ms.call(this,p,!1,"ICCButton",16,12,Qn.eu,!0);
this.EJ.or(1)}Gn.prototype=new Ms;Gn.prototype._k=function(){var p="Arabica 12,Ava 614,Azrael 93,Bourbon 64,Byers 11,Clayton 33,Clouseau 54,Cobi 3,Contrail 35,Cubicle 99,Django 25,Domingo 145,Faded 47,Folger 50,Fusion 88,Hyla 68,Chemical 168,Korben 214,Lenox 340,Lucky 64,McKinnon 75,Milo 5,Neon 770,Paladin 1875,Pasadena 21,Pitaya 15,Reeve 38,Remy 24,Sprocket 231,Teigen 28,Trent 18,Tweed 71,Vireo 37,Zed 32,Zeke 39".split(",");
for(var d=0;d<p.length;d++)p[d]="luts/"+p[d]+".CUBE";return p};Gn.prototype.tb=function(p){this.d(this.At[p.target.A()]);
this.n(new y(n.E.f))};Gn.prototype.Ja=function(){if(!this.rw)return;var p=Math.floor(1*n.F()),d=Math.floor(1*n.F()),K=[],A=[],x=this.At;
for(var M=0;M<x.length;M++){var G=x[M].Nm.v.split("\\").pop().split("/").pop();A.push(G);K.push(Gn.XN(x[M],p,d))}this.EJ.DX(K,A,p,d);
this.rw=!1};Gn.prototype.d=function(p){this._n=JSON.parse(JSON.stringify(p));this.ZQ()};Gn.XN=function(p,d,K){var A=n.b("canvas"),G="ICC / 3DL / look / cube";
A.width=d;A.height=K;var x=A.getContext("2d"),M=Math.floor(14*n.F());x.font=M+"px sans-serif";if(p.Nm)G=p.Nm.v.split("\\").pop().split("/").pop();
x.fillText(G,10,M);return A.toDataURL()};Gn.prototype.ZQ=function(){var p=Math.floor(120*n.F()),d=Math.floor(20*n.F());
this.uH.setAttribute("src",Gn.XN(this._n,p,d));n.Cp(this.uH,p,d)};Gn.prototype.A=function(){return JSON.parse(JSON.stringify(this._n))};
function Bv(){QF.call(this);this.vg=null;this.G=n.b("span","fitem");this.Ps=new tg([14,9]);this.Yo=new MK(null,0,150,"pt",1,!0,null,null,[19,2,5]);
this.xE=new nG;this.Pb=[this.Ps,this.Yo,this.xE];for(var p=0;p<this.Pb.length;p++){var d=this.Pb[p];
this.G.appendChild(d.G);d.parent=this;d.R(n.E.f,this.GX,this)}}Bv.prototype=new QF;Bv.prototype.l=function(){for(var p=0;
p<this.Pb.length;p++)this.Pb[p].l()};Bv.prototype.Ei=function(p,d){this.Ps.Ei(p,d)};Bv.prototype.GX=function(p){var d=this.vg,K=this.Ps.A(),A=K.rv;
d.strokeEnabled.v=A!=0;if(A!=0){d.strokeStyleContent.v=K.dm;K.dm.classID=QG.Wh.XJ[A-1]}d.strokeStyleLineWidth.v.val=this.Yo.A();
if(p.target==this.xE)d=this.xE.A();this.vg=d;this.n(new y(n.E.f,!1))};Bv.prototype.d=function(p,d,K){this.vg=JSON.parse(JSON.stringify(d));
var A=d.strokeEnabled.v,x=d.strokeStyleContent.v,M=A?{rv:1+QG.Wh.XJ.indexOf(x.classID),dm:x}:{rv:0};
this.Ps.d(p,M,K);this.Yo.d(d.strokeStyleLineWidth.v.val);this.xE.d(d)};Bv.prototype.A=function(){return JSON.parse(JSON.stringify(this.vg))};
function nm(p,d){QF.call(this);this.G=n.b("span","fitem");this.IQ=["front","union","difference","intersection"];
var K=[[18,0],[18,1],[18,2],[18,3]];this.Mw=[];this.YW=0;for(var A=0;A<this.IQ.length;A++){var x=new Qa("<img src=\""+PIMG["set/"+this.IQ[A]]+"\" class=\"autoscale gsicon\" />",!1,K[A]);
x.R("click",this.eim,this);this.G.appendChild(x.G);this.Mw.push(x)}this.Mw[0].uy()}nm.prototype=new QF;
nm.prototype.A=function(){return this.IQ[this.YW]};nm.prototype.d=function(p){this.YW=this.IQ.indexOf(p);
for(var d=0;d<this.Mw.length;d++)this.Mw[d].qD();this.Mw[this.YW].uy()};nm.prototype.eim=function(p){this.d(this.IQ[this.Mw.indexOf(p.currentTarget)]);
this.n(new y(n.E.f,!1))};nm.prototype.l=function(){for(var p=0;p<this.Mw.length;p++)this.Mw[p].l()};
function Pe(p,d,K,A){QF.call(this);var x=n.Kc(),M="";this.G=n.b("span","fitem tinput");if(p){this.xk=p;
this.l_=n.b("label","flabel");this.G.appendChild(this.l_);this.l_.setAttribute("for",x);this.l()}if(A==null){this.rI=n.b("input","");
this.rI.setAttribute("type","text")}else this.rI=n.b("textarea","scrollable");this.rI.setAttribute("id",x);
if(K)M+="width:"+K+"em;";if(A){this.rI.setAttribute("rows",A)}if(M!="")this.rI.setAttribute("style",M);
this.G.appendChild(this.rI);if(d){this.WO=n.b("span","");this.WO.textContent=d;this.G.appendChild(this.WO)}this.rI.addEventListener("change",this.Po.bind(this),!1);
this.rI.addEventListener("input",this.eiH.bind(this),!1)}Pe.prototype=new QF;Pe.prototype.l=function(){if(this.xk)this.l_.textContent=Qc.get(this.xk)+":"};
Pe.prototype.g$=function(p){this.l_.textContent=p};Pe.prototype.d=function(p){this.rI.value=p==null?"":p};
Pe.prototype.A=function(){return this.rI.value};Pe.prototype.xP=function(){this.rI.select();this.rI.focus()};
Pe.prototype.Po=function(p){this.n(new y(n.E.f,!1))};Pe.prototype.eiH=function(p){this.n(new y("input",!1))};
function Qo(p,d,K,A,x,M){ea.call(this,p,d,K,A,x,!0,M);n.Mz(this.G,"trangeinput");this.G.appendChild(this.l_);
this.G.appendChild(this.rI);var G=n.b("span","rangecont");this.G.appendChild(G);G.appendChild(this.wQ);
this.wQ.setAttribute("style","width:97%;")}Qo.prototype=new ea;function BC(){QF.call(this);this.Ov=[10,!0,!0];
this.G=n.b("span","");this.wM=[new MK([12,24],0,255),new Ql("Anti-alias"),new Ql([12,25])];for(var p=0;
p<3;p++){var d=this.wM[p];d.parent=this;d.d(this.Ov[p]);this.G.appendChild(d.G);d.R(n.E.f,this.GX,this)}}BC.prototype=new QF;
BC.prototype.GX=function(){for(var p=0;p<3;p++)this.Ov[p]=this.wM[p].A();this.n(new y(n.E.f,!1))};BC.prototype.d=function(p){this.Ov=p.slice(0);
for(var d=0;d<3;d++)this.wM[d].d(p[d])};BC.prototype.A=function(){return this.Ov.slice(0)};BC.prototype.l=function(){for(var p=0;
p<3;p++)this.wM[p].l()};function BK(p,d){QF.call(this);if(d==null)d=!1;this.xg=[];this.eUH=0;this.eUh=0;
this.Ip=0;this.cr=[];this.Wt=[];for(var K in Z.Fl.type){if(K=="warpCustom"&&!d)continue;this.cr.push(K);
this.Wt.push(Z.Fl.type[K])}this.G=n.b("span","fitem warpbutton");this.cN=new QF;this.cN.G=n.b("div","floatcont");
if(p){this.GG=p;this.l_=n.b("label","flabel");this.G.appendChild(this.l_)}this.j=n.b("button");this.G.appendChild(this.j);
this.j.addEventListener("click",this.tG.bind(this),!1);this.GO=new eT(!0);this.cN.G.appendChild(this.GO.G);
this.GO.R(n.E.f,this.eiI,this);this.l()}BK.prototype=new QF;BK.prototype.g$=function(p){this.l_.textContent=p};
BK.prototype.l=function(){if(this.GG)this.l_.innerHTML=Qc.get(this.GG)+":";this.xg=[];var p=n.b("canvas",""),d=p.getContext("2d"),K=0;
d.font=Math.floor(13*n.F())+"px sans-serif";for(var A=0;A<this.cr.length;A++){K=Math.max(K,d.measureText(Qc.get(Z.Fl.type[this.cr[A]])).width)}var x=this.eUH=Math.floor(50*n.F()+K),M=this.eUh=Math.floor(23*n.F());
p.width=x;p.height=M;this.cN.G.setAttribute("style","width:"+Math.floor(8+x/n.F())+"px;");d.font=Math.floor(13*n.F())+"px sans-serif";
d.lineWidth=1;d.strokeStyle="#000000";var G=Math.floor(16*n.F()),D=new R(0,0,G,G);for(var A=0;A<this.cr.length;
A++){var P=this.cr[A];d.clearRect(0,0,p.width,p.height);var a=Z.Fl.Fl(D,P,!0,.3,0,0),e=Z._.MF(D);e.$.push("M","L","M","L");
e.B.push(0,G/2,G,G/2);e.B.push(G/2,0,G/2,G);e=Z._.e$(e);e=Z._.eL(e,G/5);Z.tO.apply(a,e.B,D);Z._.u(e.B,new QI(1,0,0,1,Math.floor(8*n.F())+.5,Math.floor(3*n.F())+.5),e.B);
d.beginPath();Typr.U.pathToContext({cmds:e.$,crds:e.B},d);d.stroke();d.fillText(Qc.get(Z.Fl.type[P]),Math.floor(40*n.F()),Math.floor(16*n.F()));
this.xg.push(p.toDataURL())}this.GO.DX(this.xg,null,x,M);this.ZQ()};BK.prototype.tG=function(p){var d=this.j.getBoundingClientRect(),K=new y(n.E.s,!0);
K.data={j:n.H.uO,Fy:this.cN,x:d.left,y:d.top+d.height+4};this.n(K)};BK.prototype.eiI=function(p){var d=new y(n.E.s,!0);
d.data={j:n.H.Ka,Fy:this.cN};this.n(d);this.Ip=p.target.A();this.ZQ();this.n(new y(n.E.f))};BK.prototype.ZQ=function(){this.GO.QF(this.Ip);
this.j.innerHTML="<img src=\""+this.xg[this.Ip]+"\" class=\"gsicon\" />";var p=this.eUH,d=this.eUh;n.Cp(this.j.firstChild,p,d)};
BK.prototype.A=function(){return this.cr[this.Ip]};BK.prototype.d=function(p){this.Ip=this.cr.indexOf(p);
this.ZQ()};function PS(p,d,K){QF.call(this);if(p==null)p=!1;if(d==null)d=!1;if(K==null)K=!1;this.eSx=d;
this.Fl=null;this.xY=new BK([12,22],K);this.xY.parent=this;this.xY.R(n.E.f,this.Pc,this);this.Ku=new Me([22,0],[[22,4,0],[22,4,1]]);
this.Ku.R(n.E.f,this.Pc,this);var A=p?MK:Qo;this.xT=new A([22,1],-100,100,"%");this.DQ=new A("Horizontal Distortion:",-100,100,"%");
this.DM=new A("Vertical Distortion:",-100,100,"%");this.xT.parent=this.DQ.parent=this.DM.parent=this;
this.xT.R(n.E.f,this.Pc,this);this.DQ.R(n.E.f,this.Pc,this);this.DM.R(n.E.f,this.Pc,this)}PS.prototype=new QF;
PS.prototype.l=function(){this.xY.l();this.Ku.l();this.xT.l();var p=this.eSx?1:100;this.DQ.g$(Qc.get([22,2]).substring(0,p)+":");
this.DM.g$(Qc.get([22,3]).substring(0,p)+":")};PS.prototype.Pc=function(){var p=this.Fl,d=this.xY.A(),K=p.warpStyle.v.warpStyle;
if(d=="warpCustom")Z.Fl.Gt(Z.Fl.aJ(p),p);else delete p.customEnvelopeWarp;p.warpStyle.v.warpStyle=this.xY.A();
p.warpRotate.v.Ornt=["Hrzn","Vrtc"][this.Ku.A()];p.warpValue.v=this.xT.A();p.warpPerspective.v=this.DQ.A();
p.warpPerspectiveOther.v=this.DM.A();if(d=="warpNone"||d=="warpCustom"){p.warpValue.v=0;p.warpPerspective.v=0;
p.warpPerspectiveOther.v=0}else if(K=="warpNone"||K=="warpCustom")p.warpValue.v=50;this.n(new y(n.E.f,!1));
this.d(p)};PS.prototype.A=function(p){return JSON.parse(JSON.stringify(this.Fl))};PS.prototype.d=function(p){this.Fl=JSON.parse(JSON.stringify(p));
this.xY.d(p.warpStyle.v.warpStyle);this.Ku.d(p.warpRotate.v.Ornt=="Hrzn"?0:1);this.xT.d(p.warpValue.v);
this.DQ.d(p.warpPerspective.v);this.DM.d(p.warpPerspectiveOther.v);var d=p.warpStyle.v.warpStyle,K=d=="warpNone"||d=="warpCustom",A=[this.Ku,this.xT,this.DQ,this.DM];
for(var x=0;x<A.length;x++)if(K)A[x].gH();else A[x].Hm()};function MR(p){QF.call(this);this.G=n.b("div");
this.Yx=p;this.IB=!1;this.fc=new QP(0,0);this.OH="position:relative;overflow:hidden;";this.nR=null;this.GH=new n.rT(this.G);
this.mO("grab");this.Iy=n.b("canvas","canv");this.G.appendChild(this.Iy);this.MZ=this.Iy.getContext("2d");
this.eUb=null;this.dL=null;this.YC=null;this.Ya=0;this.Yg=0;this.Yr=0;this.eSJ=this.eBq.bind(this);this.eKe=null;
this.U=new ng({t:1,D:1});this.YZ=null;this.nB=null;this.eSg=this.ro.bind(this);this.eKu=this.oB.bind(this);
this.eKl=this.zZ.bind(this);this.eSr=this.Ky.bind(this);this.eKk=0;this.Gv=null;this.eQa(this.Iy);this.RN(this)}MR.prototype=new QF;
MR.prototype.AC=function(p){var d=this.nR;this.IB=p.Q(B.Rv);if(this.IB)d="grab";this.GH._$(d,this.OH);
if(p.Q(B.DV)){var K=0;if(p.Q(B.nv))K=1;if(p.Q(B.CR))K=-1;if(K!=0){this.eMW(new QP(this.Iy.width/2,this.Iy.height/2),K==1)}}};
MR.prototype.mO=function(p){this.nR=p;this.GH._$(p,this.OH)};MR.prototype.eQa=function(p){n.uw(p,this.eSg);
n.Go(p);p.addEventListener("wheel",this.eSr,!1)};MR.prototype.RN=function(p){p.R("viewchange",this.eiz,this)};
MR.prototype.eiz=function(p){var d=this.U.v,K=p.currentTarget.bl();this.U.v=K.v;this.U.J=K.J.clone();
if(d!=K.v)this.zP();this.gx()};MR.prototype.bl=function(){return{v:this.U.v,J:this.U.J}};MR.prototype.d=function(p,d){var K=p[0].Uo;
if(this.dL!=null&&this.dL[0].Uo.GR(K)){}else{this.U._b={t:K.t,D:K.D};this.U.J=new QP(0,0);this.U.v=1}this.dL=p;
this.zP();this.bj();this.Ya=0;this.Yg=0;this.Yr=d==null?0:d;this.eBq()};MR.prototype.Ky=function(p){p.preventDefault();
if(p.deltaY==0||Date.now()-this.eKk<100)return;var d=n.Cu(p);d.x=n.F()*d.x;d.y=n.F()*d.y;this.eKk=Date.now();
this.eMW(d,p.deltaY<0)};MR.prototype.eMW=function(p,d){r.ws.M$(this.U,p,d);this.enC()};MR.prototype.eii=function(){var p=this.U,d=p._b;
this.U.v=r.ws.vz(d.t,d.D,p.W.t,p.W.D);this.enC()};MR.prototype.enC=function(){this.zP();this.n(new y("viewchange"));
this.n(new y("zoom"))};MR.prototype.zP=function(){this.YC=[];var p=this.U.v;for(var d=0;d<this.dL.length;
d++){var K=this.dL[d],A=new Uint8Array(K.data),x;if(p>=1)x={nM:A,rect:K.Uo};else x=Z.Bi(A,K.Uo,p);this.YC.push(x)}};
MR.prototype.bj=function(){clearTimeout(this.eKe)};MR.prototype.gx=function(){if(this.dL==null||!n.Or(this.Iy))return;
var p=this.eUb,d=this.Iy.width,K=this.Iy.height,G,D;if(p==null||p.width!=d||p.height!=K){p=this.eUb=this.MZ.createImageData(d,K);
console.log("creating image data")}var A=this.dL[this.Ya],x=this.YC[this.Ya],M=this.U;if(M.v<=1){var P=x.rect.clone();
P.x=M.J.x+Math.floor((M.W.t-x.rect.t)/2);P.y=M.J.y+Math.floor((M.W.D-x.rect.D)/2);G=x.nM;D=P}else{var a=M.Zz(),e=M.sZ(),f=new R(0,0,a.t*M.v,a.D*M.v);
f.x=a.x*M.v+e.x;f.y=a.y*M.v+e.y;if(M.DG==null||M.DG.length!=a.r()*4){M.DG=Z.p(a.r()*4)}if(M.LS==null||M.LS.length!=f.r()*4){M.LS=Z.p(f.r()*4)}Z.Pk(M.DG,0);
Z.PE(x.nM,x.rect,M.DG,a);Z.scale.La(M.DG,a.t,a.D,M.LS,f.t,f.D,M.v);G=M.LS;D=f}var e=M.sZ();Z.Tf(p.data,M.W.t,M.W.D,8,-e.x,-e.y);
Z.h.gQ("norm",G,D,p.data,M.W,M.W,1);this.MZ.setTransform(1,0,0,1,0,0);this.MZ.putImageData(p,0,0);if(M.v<1)e=D;
var N=e.x,Y=e.y,l=e.t,h=e.D;this.MZ.clearRect(N,Y,-1e3,h);this.MZ.clearRect(N+l,Y,1e3,h);this.MZ.clearRect(N-1e3,Y,l+2e3,-1e3);
this.MZ.clearRect(N-1e3,Y+h,l+2e3,1e3);var s=MR.eBL(M.v,"#ffffff");this.MZ.putImageData(s,0,M.W.D-s.height)};
MR.eBw={};MR.eBL=function(p,d){var K="z"+p+","+d,A=MR.eBw[K];if(A)return A;var x=Math.round(50*n.F()),M=Math.round(18*n.F()),G=n.b("canvas"),D=G.getContext("2d");
G.width=x;G.height=M;D.fillStyle="rgba(1,1,1,1)";D.fillRect(0,0,x,M);D.font=Math.round(11*n.F())+"px monospace";
D.fillStyle=d;var P=p*100;if(P<100)P=P.toFixed(2);P=P+"%";var a=D.measureText(P).width;D.fillText(P,(x-a)/2,Math.round(M*.7));
A=MR.eBw[K]=D.getImageData(0,0,x,M);return A};MR.prototype.eBq=function(){var p=this.dL,d=p.length,K=this.Ya,A=this.dL[K],x=(K+1)%d;
this.gx();if(d!=1&&p[x].Uo.GR(A.Uo)){var M=A.Xh?parseInt(A.Xh.split(",").pop()):30;if(M==0)M=16;if(x==0)this.Yg++;
if(this.Yr==0||this.Yg<this.Yr)this.eKe=setTimeout(this.eSJ,M)}this.Ya=x};MR.prototype.dq=function(p,d){if(p<=0||d<=0)return;
var K=Math.floor(p*n.F()),A=Math.floor(d*n.F());this.U.W=new R(0,0,K,A);this.Iy.width=K;this.Iy.height=A;
this.Iy.setAttribute("style","width:"+K/n.F()+"px; height:"+A/n.F()+"px; display:block;");this.gx()};
MR.prototype.ro=function(p){this.Gv=p.target;n.AG(window,this.eKu);n.AJ(window,this.eKl);this.YZ=n.Cu(p,this.Iy);
this.YZ.x*=n.F();this.YZ.y*=n.F();this.fc=this.YZ;this.nB=this.U.J.clone();if(this.Yx&&this.Gv==this.Iy&&!this.IB)this.n(new y("mousedown"))};
MR.prototype.oB=function(p){var d=this.U,K=this.dL[this.Ya].Uo.clone();K.t*=d.v;K.D*=d.v;var A=n.Cu(p,this.Iy);
A.x*=n.F();A.y*=n.F();this.fc=A;if(this.Yx&&this.Gv==this.Iy&&!this.IB)this.n(new y("mousemove"));else if(!d.W.iV(K)){var x=A.x-this.YZ.x,M=A.y-this.YZ.y;
d.J.x=this.nB.x+Math.round(x);d.J.y=this.nB.y+Math.round(M);this.n(new y("viewchange"))}};MR.prototype.zZ=function(p){n.rH(window,this.eKu);
n.rE(window,this.eKl);if(p.detail>1){this.U.v=1;this.U.J.pf(0,0);this.gx()}if(this.Yx&&this.Gv==this.Iy&&!this.IB)this.n(new y("mouseup"))};
MR.prototype.m$=function(){return this.U.FT(this.fc.x,this.fc.y)};function el(){QF.call(this);this.Gc=null;
this.Dv=null;this.Kh=null;this.G$=null;this.emP="";this.Gd=[];this.Gr=0;this.IO=[];this.cZ=0;this.hG=null;
var p=this.G=n.b("div",""),d=this.eSb=n.b("div","form");d.setAttribute("style","line-height:0; margin-bottom:0.5em;");
p.appendChild(d);var K=this.GG=n.b("span");d.appendChild(K);K.setAttribute("style","font-size:1.2em; font-weight:bold; margin-right:3em;");
var A=this.emF=new Ql([25,2,0]);A.d(!0);d.appendChild(A.G);A.R(n.E.f,this.Hx,this);var x=this.YY=new Ql([25,2,1]);
x.d(!1);d.appendChild(x.G);x.R(n.E.f,this.Hx,this);var M=new GJ(" ");d.appendChild(M.G);var G=this.Yj=new Pe([25,1,1]);
d.appendChild(G.G);G.R(n.E.f,this.Hx,this);this.PZ=new nC(14);this.PZ.ezK(3);d.appendChild(this.PZ.G);
this.PZ.parent=this;this.PZ.R(n.E.f,this.eis,this);var D=this.eSl=new Qa([25,1,2],null,null,!0);d.appendChild(D.G);
D.R("click",this.mR,this);this.eSj=this.eiA.bind(this);this.mt=n.b("div","svggallery scrollable");p.appendChild(this.mt);
this.mt.addEventListener("scroll",this.eih.bind(this))}el.prototype=new QF;el.prototype.Ei=function(p){this.emr=p};
el.prototype.l=function(){this.GG.textContent=Qc.get([25,0]);this.PZ.l();this.emF.l();this.YY.l();this.Yj.l();
this.eSl.l()};el.prototype.dq=function(p,d){d-=26;this.Gc=new QP(p,d);this.eSb.setAttribute("style","width:"+p+"px");
this.mt.setAttribute("style","width:"+p+"px; height:"+d+"px");if(n.Or(this.G))this.Hx()};el.prototype.d=function(p){this.Dv=p;
this.Hx()};el.prototype.eih=function(p){var d=this.mt;if(d.scrollTop+d.clientHeight+10>=d.scrollHeight){this.Hx(!0)}};
el.prototype.eis=function(p){this.Kh=null;this.Hx()};el.prototype.eiA=function(p){if(Date.now()-this.cZ<2e3)return;
this.cZ=Date.now();this.Gr=this.IO.indexOf(p.currentTarget);var d=this.z_(this.Dv.x,this.Dv.y);if(d[1]){var K=d[1].largeImageURL,A=new XMLHttpRequest;
A.responseType="arraybuffer";A.open("GET",K,!0);A.onload=this.eiJ.bind(this);A.send();return}this.eOl(d)};
el.prototype.eiJ=function(p){var d=p.target.response,K=QH.BU(d),A=QH.If(K),x=A.W$(d),M=this.z_(this.Dv.x,this.Dv.y,[d,x[0].Uo.t,x[0].Uo.D]);
this.eOl(M)};el.prototype.eOl=function(p){var d=p[0],K=QH.BU(d),A=QH.If(K),x=new QZ("template.psd");
A.W$(d,x);var M=new y("tempready",!0);M.data={_b:x};this.n(M)};el.prototype.mR=function(p){var d=p.target;
this.Gd=[];this.Hx()};el.prototype.eqP=function(p){console.log(p.target.response);var d=JSON.parse(p.target.response);
this.G$=d.hits;this.Hx()};el.prototype.Hx=function(p){if(this.Dv==null||this.Gc==null||this.emr==null)return;
if(this.Gc.x<=0)return;var d=this.Dv.x,K=this.Dv.y;if(Math.min(d,K)<50)return;if(p!=!0){this.IO=[];n.hM(this.mt);
this.mt.scrollTop=0}if(this.IO.length>300)return;var A=Math.min(1,300/Math.max(d,K)),x=this.Gc.clone();
x.x-=20;var M=Math.max(1,Math.floor(x.x/(d*A))),G=Math.max(1,Math.ceil(x.y/(K*A)));A=x.x/M/d;var D=M*G;
if(this.Kh==null){var P=this.emr.ET.a$();this.Kh=[];for(var a in P){var e=P[a],f=e[3];if(!this.PZ.R$(e))continue;
if(e[5]==null||e[5].slice(0,2)=="gf")continue;this.Kh.push(e)}if(this.Kh.length==0)this.Kh.push(P.DejaVuSans)}var N=this.YY.A(),Y=this.Yj.A().trim();
this.Yj.q_(N);if(N&&(this.G$==null||Y!=this.emP)){var l=new XMLHttpRequest,h="https://pixabay.com/api/?image_type=photo"+(Y==""?"":"&q="+encodeURIComponent(Y))+"&per_page=200&page=1&key=10554583-a5eacb61c2e61105fdfb6eb88";
l.open("GET",h,!0);l.onload=this.eqP.bind(this);l.onerror=function(H){console.log(H.target.response)};
l.send();this.emP=Y;return}A*=(d*A-5)/(d*A);var s=this.IO.length;for(var J=0;J<D;J++){var u=this.Gr=s+J;
if(this.Gd[u]==null)this.Gd[u]=Math.floor(Math.random()*4294967295);var Q=this.z_(Math.round(d*A),Math.round(K*A)),W=Q[0];
W=v.Il(new Uint8Array(W));var q=n.b("span");q.innerHTML=W;this.IO.push(q);this.mt.appendChild(q);q.addEventListener("click",this.eSj,!1)}};
el.prototype.z_=function(p,d,K){var A=this.YY.A(),x=this.emF.A(),M=A&&this.G$.length!=0?this.G$:null;
if(x&&!A)M=null;if(x&&A&&(this.Gr&1)==0)M=null;return e_.Ek(p,d,this.Gd[this.Gr],this.Kh,K?K:M)};function BZ(){QF.call(this);
this.G=n.b("div");this.r$=null;this.eEu=null;this.YT=-1;this.Dz={JPG:[{HQ:new Qo([12,52,0],0,100,"%"),It:70},{HQ:new Ql("attach metadata"),It:!1}],TIFF:[{HQ:new Ql("attach metadata"),It:!1}],WEBP:[{HQ:new Qo([12,52,0],0,100,"%"),It:70}],GIF:[{HQ:new Qo([12,52,0],0,100,"%"),It:100}],PNG:[{HQ:new Qo([12,52,0],0,100,"%"),It:100},{HQ:new Ql("don't use palettes"),It:!1}],PDF:[{HQ:new Pe([12,52,1]),It:""},{HQ:new Qo([12,52,0],0,100,"%"),It:100},{HQ:new Ql("rasterize all"),It:!1},{HQ:new Ql("rasterize text"),It:!1},{HQ:new Ql("vectorize text"),It:!1}],EMF:[{HQ:new Pe([12,52,1]),It:""},{HQ:new Ql("rasterize all"),It:!1},{HQ:new Ql("rasterize text"),It:!1},{HQ:new Ql("vectorize text"),It:!1}],SVG:[{HQ:new Ql("add raster graphics"),It:!0},{HQ:new Ql("add hidden layers"),It:!1},{HQ:new Ql("vectorize text"),It:!1},{HQ:new Ql("rasterize text"),It:!1},{HQ:new Ql("add layer names"),It:!0},{HQ:new Ql("pretty-print"),It:!0}],RAW:[{HQ:new Mf([12,72],["1","3","4"]),It:2},{HQ:new Mf([12,34],["8 Bits","16 Bits"]),It:0},{HQ:new Mf("Byte Order",["12-34","34-12"]),It:0}],anim:[{HQ:new Qo("Speed",25,400,"%"),It:100},{HQ:new MK("Repeat (0 = Forever)",0,10," \xD7",0,!1,!0),It:0},{HQ:new Ql("reverse frames"),It:!1}],slcs:[{HQ:new Ql("As Slices"),It:!0}]};
for(var p in this.Dz){var d=this.Dz[p];for(var K=0;K<d.length;K++){d[K].HQ.d(d[K].It);d[K].HQ.R(n.E.f,this.zs,this)}}}BZ.prototype=new QF;
BZ.prototype.eqK=function(){this.YT=-1};BZ.prototype.l=function(){for(var p in this.Dz)for(var d=0;d<this.Dz[p].length;
d++)this.Dz[p][d].HQ.l()};BZ.prototype.zs=function(){this.Hx();this.n(new y(n.E.f,!1))};BZ.prototype.Hx=function(){var p=this.r$,d=p[0],K=p[1],A=p[2],x=this.Dz[d];
if(x==null)x=[];else x=x.slice(0);if(K)x=x.concat(this.Dz.anim);if(["GIF","PNG","JPG"].indexOf(d)!=-1&&A)x=x.concat(this.Dz.slcs);
if(d+" "+K!=this.YT){this.YT=d+" "+K;n.hM(this.G);for(var M=0;M<x.length;M++){this.G.appendChild(x[M].HQ.G);
n.Ld(this.G)}}var G=this.eEu=[];for(var M=0;M<x.length;M++)G.push(x[M].HQ.A())};BZ.prototype.eKg=function(p,d,K){this.r$=[p,d,K];
this.Hx()};BZ.prototype.A=function(){return this.eEu.slice(0)};function nQ(){QF.call(this);this.G=n.b("span","fitem");
this.gI=!1;this.Yk=new Qa("No",!1,"Cancel");this.oj=new Qa("Yes",!1,"Confirm");this.G.appendChild(this.Yk.G);
this.G.appendChild(this.oj.G);this.Yk.R("click",this.qA,this);this.oj.R("click",this.qA,this);this.l()}nQ.prototype=new QF;
nQ.prototype.l=function(){this.Yk.g$(n.YD("cross",null,"autoscale"));this.oj.g$(n.YD("checkmark",null,"autoscale"))};
nQ.prototype.qA=function(p){this.gI=p.target==this.oj;this.n(new UIEvent("click"))};nQ.prototype.A=function(){return this.gI};
function T(p){QF.call(this);this.eSX=p;this.G=n.b("div","");this.ZY=[];this.eEy=[]}T.prototype=new QF;
T.prototype.zJ=function(p){};T.prototype.yJ=function(){return!1};T.prototype.dq=function(p,d){};T.prototype.Ei=function(p,d){};
T.prototype.WM=function(p){};T.prototype.d=function(p,d,K,A,x,M){var G=[];this.Eq(p,G,M);for(var D=0;
D<this.ZY.length;D++)this.ZY[D].d(G[D])};T.prototype.A=function(){var p=eq.Kj(this.eSX),d=[];for(var K=0;
K<this.ZY.length;K++)d.push(this.ZY[K].A());this.mg(p,d);return p};T.prototype.AC=function(p){};T.prototype.Pc=function(p){var d=this.eEy;
for(var K=0;K<d.length;K+=2){var A=this.ZY[d[K]],x=this.ZY[d[K+1]],M=A.A(),G=x.A();if(p.target==A)x.d(Math.max(M,G));
else A.d(Math.min(M,G))}this.n(new y(n.E.f))};T.prototype.l=function(){for(var p=0;p<this.ZY.length;
p++)this.ZY[p].l()};T.prototype.Mg=function(){n.Mz(this.G,"form");var p=this.ZY;for(var d=0;d<p.length;
d++){var K=p[d];K.parent=this;K.R(n.E.f,this.Pc,this);this.G.appendChild(K.G);if(K instanceof Ql&&p[d+1]instanceof Md)continue;
n.Ld(this.G)}};T.prototype.QQ=function(){return!1};T.prototype.Fg=function(p,d,K,A,x){};T.prototype.Yh=function(p,d,K,A,x){};
T.prototype.gi=function(p,d,K,A,x){};T.prototype.mg=function(p,d){};T.prototype.Eq=function(p,d){};T["\0\0\x03\xFD"]=function(){T.call(this,"\0\0\x03\xFD");
this.ZY.push(new Qo([12,56],.1,10,"px",!0));this.ZY.push(new Qo("Cleanliness",0,10,"px",!0));this.ZY.push(new Qo([12,38],.1,10,null,!0));
this.ZY.push(new Qo("Bristle Detail",0,10,null,!0));this.ZY.push(new Ql("Lighting"));this.ZY.push(new Qo("Shine",0,10,null,!0));
this.ZY.push(new nu([12,15]));this.Mg()};T["\0\0\x03\xFD"].prototype=new T;T["\0\0\x03\xFD"].prototype.Eq=function(p,d){var K="stylization cleanliness brushScale microBrush lightingOn specularity".split(" ");
for(var A=0;A<K.length;A++)d[A]=p[K[A]].v;d[6]=p.LghD.v};T["\0\0\x03\xFD"].prototype.mg=function(p,d){var K="stylization cleanliness brushScale microBrush lightingOn specularity".split(" ");
for(var A=0;A<K.length;A++)p[K[A]].v=d[A];p.LghD.v=d[6].DJ};T["\0\0\x03^"]=function(){T.call(this,"\0\0\x03^");
this.ZY.push(new Qo([24,3,1],0,30,"px"));this.ZY.push(new Qo([12,38],0,200,"%"));this.ZY.push(new Ql([4,11]));
this.ZY.push(new Qo("High",0,100,"%"));this.ZY.push(new Qo("Medium",0,100,"%"));this.ZY.push(new Qo("Low",0,100,"%"));
this.Mg()};T["\0\0\x03^"].prototype=new T;T["\0\0\x03^"].prototype.Eq=function(p,d){d[0]=p.blur.v;d[1]=p.textureScale.v*100;
d[2]=p.Scl.v==-1;var K=p.Dtl.v;d[3]=K[0].v*100;d[4]=K[1].v*100;d[5]=K[2].v*100};T["\0\0\x03^"].prototype.mg=function(p,d){p.blur.v=d[0];
p.textureScale.v=d[1]/100;p.Scl.v=d[2]?-1:1;var K=p.Dtl.v;K[0].v=d[3]/100;K[1].v=d[4]/100;K[2].v=d[5]/100};
T.LnsF=function(){T.call(this,"LnsF");this.ZY.push(new Qo([12,2],10,300,"%"));this.ZY.push(new Mf([12,44],["Lens 1","Lens 2","Lens 3","Lens 4"]));
this.ZY.push(new Qo("Position X",0,100,"%"));this.ZY.push(new Qo("Position Y",0,100,"%"));this.Mg()};
T.LnsF.prototype=new T;T.LnsF.prototype.Eq=function(p,d){d[0]=p.Brgh.v;d[1]=["Zm","Nkn","Nkn1","PnVs"].indexOf(p.Lns.v.Lns);
var K=p.FlrC.v;d[2]=Math.round(K.Hrzn.v*100);d[3]=Math.round(K.Vrtc.v*100)};T.LnsF.prototype.mg=function(p,d){p.Brgh.v=d[0];
p.Lns.v.Lns=["Zm","Nkn","Nkn1","PnVs"][d[1]];var K=p.FlrC.v;K.Hrzn.v=d[2]/100;K.Vrtc.v=d[3]/100};T.LnCr=function(){T.call(this,"LnCr");
this.ZY.push(new Qo([12,57],-100,100));this.ZY.push(new Qo([12,38],10,150,"%"));this.Mg()};T.LnCr.prototype=new T;
T.LnCr.prototype.Eq=function(p,d){d[0]=p.LnIa.v;d[1]=p.LnSi.v};T.LnCr.prototype.mg=function(p,d){p.LnIa.v=d[0];
p.LnSi.v=d[1]};T["\0\0\x02\xB1"]=function(){T.call(this,"\0\0\x02\xB1");this.ZY.push(new Qo([12,56],1,200," px"));
this.Mg()};T["\0\0\x02\xB1"].prototype=new T;T["\0\0\x02\xB1"].prototype.Eq=function(p,d){d[0]=p.Rds.v.val};
T["\0\0\x02\xB1"].prototype.mg=function(p,d){p.Rds.v.val=d[0]};T.GsnB=function(){T.call(this,"GsnB");
this.ZY.push(new Qo([12,56],.1,400,"px",1,!0));this.Mg()};T.GsnB.prototype=new T;T.GsnB.prototype.Eq=function(p,d){d[0]=p.Rds.v.val};
T.GsnB.prototype.mg=function(p,d){p.Rds.v.val=d[0]};T.MtnB=function(){T.call(this,"MtnB");this.ZY.push(new nu([12,15]));
this.ZY.push(new Qo([12,28],1,100," px"));this.Mg()};T.MtnB.prototype=new T;T.MtnB.prototype.Eq=function(p,d){d[0]=p.Angl.v;
d[1]=p.Dstn.v.val};T.MtnB.prototype.mg=function(p,d){p.Angl.v=d[0].DJ;p.Dstn.v.val=d[1]};T.RdlB=function(){T.call(this,"RdlB");
this.ZY.push(new Qo([12,57],1,100));this.ZY.push(new Mf([12,36],["Spin","Zoom"]));this.ZY.push(new Pu("Off X",0,1,null,2));
this.ZY.push(new Pu("Off Y",0,1,null,2));this.Mg()};T.RdlB.prototype=new T;T.RdlB.prototype.Eq=function(p,d){d[0]=p.Amnt.v;
d[1]=["Spn","Zm"].indexOf(p.BlrM.v.BlrM);d[2]=p.Cntr.v.Hrzn.v;d[3]=p.Cntr.v.Vrtc.v};T.RdlB.prototype.mg=function(p,d){p.Amnt.v=d[0];
p.BlrM.v.BlrM=["Spn","Zm"][d[1]];p.Cntr.v.Hrzn.v=d[2];p.Cntr.v.Vrtc.v=d[3]};T.Dspl=function(){T.call(this,"Dspl");
this.ZY.push(new Me([6,36,3],["a","b"]));this.ZY.push(new Qo([22,4,0],-100,100,"px"));this.ZY.push(new Qo([22,4,1],-100,100,"px"));
this.ZY.push(new Me([24,18,0],[[24,18,3],[24,18,2]]));this.Mg()};T.Dspl.prototype=new T;T.Dspl.prototype.Eq=function(p,d,K){this.ewN=[];
this.lK=[];var A=-1;if(K==null)K=this.eSy;else this.eSy=K;if(K)for(var x=0;x<K.length;x++){var M=K[x];
this.ewN.push(M.QR.trim());this.lK.push(M.Ak);if(M.Ak==p.DspF.v.pth)A=x}this.ZY[0].NC(this.ewN);d[0]=A==-1?0:A;
d[1]=p.HrzS.v;d[2]=p.VrtS.v;d[3]=["WrpA","RptE"].indexOf(p.UndA.v.UndA)};T.Dspl.prototype.mg=function(p,d){if(this.lK.length==0)return;
p.DspF.v.pth=this.lK[d[0]];p.HrzS.v=d[1];p.VrtS.v=d[2];p.UndA.v.UndA=["WrpA","RptE"][d[3]]};T.Pnch=function(){T.call(this,"Pnch");
this.ZY.push(new Qo([12,57],-100,100,"%"));this.Mg()};T.Pnch.prototype=new T;T.Pnch.prototype.Eq=function(p,d){d[0]=p.Amnt.v};
T.Pnch.prototype.mg=function(p,d){p.Amnt.v=d[0]};T["Plr "]=function(){T.call(this,"Plr ");this.ZY.push(new Mf(null,["Rect to Polar","Polar to Rect"]));
this.Mg()};T["Plr "].prototype=new T;T["Plr "].prototype.Eq=function(p,d){d[0]=["RctP","PlrR"].indexOf(p.Cnvr.v.Cnvr)};
T["Plr "].prototype.mg=function(p,d){p.Cnvr.v.Cnvr=["RctP","PlrR"][d[0]]};T.Rple=function(){T.call(this,"Rple");
this.ZY.push(new Qo([12,57],-999,999));this.ZY.push(new Me([12,14,0],[[19,8,0],[19,8,1],[19,8,2]]));
this.Mg()};T.Rple.prototype=new T;T.Rple.prototype.Eq=function(p,d){d[0]=p.Amnt.v;d[1]=["Sml","Mdm","Lrg"].indexOf(p.RplS.v.RplS)};
T.Rple.prototype.mg=function(p,d){p.Amnt.v=d[0];p.RplS.v.RplS=["Sml","Mdm","Lrg"][d[1]]};T["Shr "]=function(){T.call(this,"Shr ");
this.ZY.push(new n$(!0,!0));this.ZY.push(new Me([24,18,0],[[24,18,3],[24,18,2]]));this.Mg()};T["Shr "].prototype=new T;
T["Shr "].prototype.Eq=function(p,d){var K=new QI(0,255/127,255/127,0,-2,128),A=JSON.parse(JSON.stringify(p.ShrP.v));
Z.uX.u(A,K);d[0]=A;d[1]=["WrpA","RptE"].indexOf(p.UndA.v.UndA)};T["Shr "].prototype.mg=function(p,d){var K=new QI(0,255/127,255/127,0,-2,128);
K.an();Z.uX.u(d[0],K);p.ShrP.v=d[0];p.ShrE.v=d[0].length-1;p.UndA.v.UndA=["WrpA","RptE"][d[1]]};T.Sphr=function(){T.call(this,"Sphr");
this.ZY.push(new Qo([12,57],-100,100));this.ZY.push(new Me([12,36],["Normal",[22,4,0],[22,4,1]]));this.Mg()};
T.Sphr.prototype=new T;T.Sphr.prototype.Eq=function(p,d){d[0]=p.Amnt.v;d[1]=["Nrml","HrzO","VrtO"].indexOf(p.SphM.v.SphM)};
T.Sphr.prototype.mg=function(p,d){p.Amnt.v=d[0];p.SphM.v.SphM=["Nrml","HrzO","VrtO"][d[1]]};T.Twrl=function(){T.call(this,"Twrl");
this.ZY.push(new Qo([12,15],-999,999));this.Mg()};T.Twrl.prototype=new T;T.Twrl.prototype.Eq=function(p,d){d[0]=p.Angl.v};
T.Twrl.prototype.mg=function(p,d){p.Angl.v=d[0]};T.Wave=function(){T.call(this,"Wave");this.ZY.push(new Qo("Number of Generators",1,100));
this.ZY.push(new Pu("Min Length",1,999));this.ZY.push(new Pu("Max Length",1,999));this.ZY.push(new Pu("Min Ampl.",1,999));
this.ZY.push(new Pu("Max Ampl.",1,999));this.ZY.push(new Pu("Scale X",1,100,"%"));this.ZY.push(new Pu("Scale Y",1,100,"%"));
this.eEy=[1,2,3,4];this.ZY.push(new Mf([12,44],["Sine","Triangle",[12,93,3]]));this.ZY.push(new Me([24,18,0],[[24,18,3],[24,18,2]]));
this.ZY.push(new Pe("Randomizer Seed"));this.Mg()};T.Wave.prototype=new T;T.Wave.prototype.Eq=function(p,d){d[0]=p.NmbG.v;
d[1]=p.WLMn.v;d[2]=p.WLMx.v;d[3]=p.AmMn.v;d[4]=p.AmMx.v;d[5]=p.SclH.v;d[6]=p.SclV.v;d[7]=["WvSn","WvTr","WvSq"].indexOf(p.Wvtp.v.Wvtp);
d[8]=["WrpA","RptE"].indexOf(p.UndA.v.UndA);d[9]=p.RndS.v};T.Wave.prototype.mg=function(p,d){p.NmbG.v=d[0];
p.WLMn.v=d[1];p.WLMx.v=d[2];p.AmMn.v=d[3];p.AmMx.v=d[4];p.SclH.v=d[5];p.SclV.v=d[6];p.Wvtp.v.Wvtp=["WvSn","WvTr","WvSq"][d[7]];
p.UndA.v.UndA=["WrpA","RptE"][d[8]];var K=parseInt(d[9]);if(isNaN(K))K=248325464;K=Math.max(0,Math.min(268435455,K));
p.RndS.v=K;this.ZY[9].d(K)};T["\0\0\x02\xB5"]=function(){T.call(this,"\0\0\x02\xB5");this.ZY.push(new Qo([12,56],1,200," px"));
this.ZY.push(new Qo([4,13],1,255," px"));this.Mg()};T["\0\0\x02\xB5"].prototype=new T;T["\0\0\x02\xB5"].prototype.Eq=function(p,d){d[0]=p.Rds.v.val;
d[1]=p.Thsh.v};T["\0\0\x02\xB5"].prototype.mg=function(p,d){p.Rds.v.val=d[0];p.Thsh.v=d[1]};T.AdNs=function(){T.call(this,"AdNs");
this.ZY.push(new Qo([12,57],0,200," %"));this.ZY.push(new Me([12,58],[[12,59,0],[12,59,1]]));this.ZY.push(new Ql([12,60]));
this.Mg()};T.AdNs.prototype=new T;T.AdNs.prototype.Eq=function(p,d){d[0]=p.Nose.v.val;d[1]=["Unfr","Gsn"].indexOf(p.Dstr.v.Dstr);
d[2]=p.Mnch.v};T.AdNs.prototype.mg=function(p,d){p.Nose.v.val=d[0];p.Dstr.v.Dstr=["Unfr","Gsn"][d[1]];
p.Mnch.v=d[2]};T.DstS=function(){T.call(this,"DstS");this.ZY.push(new Qo([12,56],1,200," px"));this.ZY.push(new Qo([4,13],1,255," px"));
this.Mg()};T.DstS.prototype=new T;T.DstS.prototype.Eq=function(p,d){d[0]=p.Rds.v;d[1]=p.Thsh.v};T.DstS.prototype.mg=function(p,d){p.Rds.v=d[0];
p.Thsh.v=d[1]};T["Mdn "]=function(){T.call(this,"Mdn ");this.ZY.push(new Qo([12,56],1,200," px"));this.Mg()};
T["Mdn "].prototype=new T;T["Mdn "].prototype.Eq=function(p,d){d[0]=p.Rds.v.val};T["Mdn "].prototype.mg=function(p,d){p.Rds.v.val=d[0]};
T.ClrH=function(){T.call(this,"ClrH");this.ZY.push(new Qo([12,56],4,100," px"));for(var p=1;p<4;p++)this.ZY.push(new Qo("Angle "+p,0,90," \xB0"));
this.Mg()};T.ClrH.prototype=new T;T.ClrH.prototype.Eq=function(p,d){d[0]=p.Rds.v;for(var K=1;K<4;K++)d[K]=p["Ang"+K].v};
T.ClrH.prototype.mg=function(p,d){p.Rds.v=d[0];for(var K=1;K<4;K++)p["Ang"+K].v=d[K]};T.ClrH.prototype.l=function(){var p=this.ZY;
p[0].l();for(var d=1;d<4;d++)p[d].g$(Qc.get([12,15])+" "+d)};T.Crst=function(){T.call(this,"Crst");this.ZY.push(new Qo([12,61],3,100," px"));
this.Mg()};T.Crst.prototype=new T;T.Crst.prototype.Eq=function(p,d){d[0]=p.ClSz.v};T.Crst.prototype.mg=function(p,d){p.ClSz.v=d[0]};
T.Mztn=function(){T.call(this,"Mztn");this.ZY.push(new Me([12,44],"Fine Dots,Medium Dots,Grainy Dots,Coarse Dots,Short Lines,Medium Lines,Long Lines,Short Strokes,Medium Strokes,Long Strokes".split(","),null,[4,3,3]));
this.lK="FnDt MdmD GrnD CrsD ShrL MdmL LngL ShSt MdmS LngS".split(" ");this.Mg()};T.Mztn.prototype=new T;
T.Mztn.prototype.Eq=function(p,d){d[0]=this.lK.indexOf(p.MztT.v.MztT)};T.Mztn.prototype.mg=function(p,d){p.MztT.v.MztT=this.lK[d[0]]};
T["Msc "]=function(){T.call(this,"Msc ");this.ZY.push(new Qo([12,61],2,200," px"));this.Mg()};T["Msc "].prototype=new T;
T["Msc "].prototype.Eq=function(p,d){d[0]=p.ClSz.v.val};T["Msc "].prototype.mg=function(p,d){p.ClSz.v.val=d[0]};
T.Pntl=function(){T.call(this,"Pntl");this.ZY.push(new Qo([12,61],3,100," px"));this.Mg()};T.Pntl.prototype=new T;
T.Pntl.prototype.Eq=function(p,d){d[0]=p.ClSz.v};T.Pntl.prototype.mg=function(p,d){p.ClSz.v=d[0]};T["\0\0\x03\xE8"]=function(){T.call(this,"\0\0\x03\xE8");
this.ZY.push(new Qo([12,57],1,200,"%"));this.ZY.push(new Qo([12,56],0,200,"px",1,!0));this.Mg()};T["\0\0\x03\xE8"].prototype=new T;
T["\0\0\x03\xE8"].prototype.Eq=function(p,d){d[0]=p.Amnt.v.val;d[1]=p.Rds.v.val};T["\0\0\x03\xE8"].prototype.mg=function(p,d){p.Amnt.v.val=d[0];
p.Rds.v.val=d[1]};T.UnsM=function(){T.call(this,"UnsM");this.ZY.push(new Qo([12,57],1,200," %"));this.ZY.push(new Qo([12,56],0,200," px"));
this.ZY.push(new Qo([4,13],0,255," "));this.Mg()};T.UnsM.prototype=new T;T.UnsM.prototype.Eq=function(p,d){d[0]=p.Amnt.v.val;
d[1]=p.Rds.v.val;d[2]=p.Thsh.v};T.UnsM.prototype.mg=function(p,d){p.Amnt.v.val=d[0];p.Rds.v.val=d[1];
p.Thsh.v=d[2]};T.HghP=function(){T.call(this,"HghP");this.ZY.push(new Qo([12,56],1,200," px"));this.Mg()};
T.HghP.prototype=new T;T.HghP.prototype.Eq=function(p,d){d[0]=p.Rds.v.val};T.HghP.prototype.mg=function(p,d){p.Rds.v.val=d[0]};
T["Mxm "]=function(){T.call(this,"Mxm ");this.ZY.push(new Qo([12,56],1,200," px"));this.Mg()};T["Mxm "].prototype=new T;
T["Mxm "].prototype.Eq=function(p,d){d[0]=p.Rds.v.val};T["Mxm "].prototype.mg=function(p,d){p.Rds.v.val=d[0]};
T["Mnm "]=function(){T.call(this,"Mnm ");this.ZY.push(new Qo([12,56],1,200," px"));this.Mg()};T["Mnm "].prototype=new T;
T["Mnm "].prototype.Eq=function(p,d){d[0]=p.Rds.v.val};T["Mnm "].prototype.mg=function(p,d){p.Rds.v.val=d[0]};
T.Ofst=function(){T.call(this,"Ofst");this.ZY.push(new Qo([22,4,0],-1024,1024," px"));this.ZY.push(new Qo([22,4,1],-1024,1024," px"));
this.ZY.push(new Me([24,18,0],[[24,18,1],[24,18,2],[24,18,3]]));this.Mg()};T.Ofst.prototype=new T;T.Ofst.prototype.Eq=function(p,d){d[0]=p.Hrzn.v;
d[1]=p.Vrtc.v;d[2]=["Bckg","Rpt","Wrp"].indexOf(p.Fl.v.FlMd)};T.Ofst.prototype.mg=function(p,d){p.Hrzn.v=d[0];
p.Vrtc.v=d[1];p.Fl.v.FlMd=["Bckg","Rpt","Wrp"][d[2]]};T.Rept=function(){T.call(this,"Rept");this.ZY.push(new Pu([12,38],1,300," %"));
this.ZY.push(new Pu("Row Shift",-50,50," %"));this.ZY.push(new Pu("Space X",-99,200," %"));this.ZY.push(new Pu("Space Y",-99,200," %"));
this.ZY.push(new Ql([4,16,2]));this.ZY.push(new nu([12,15]));this.Mg()};T.Rept.prototype=new T;T.Rept.prototype.Eq=function(p,d){d[0]=p.Scl.v.val;
d[1]=p.Rsft.v.val;d[2]=p.SpcX.v.val;d[3]=p.SpcY.v.val;d[4]=p.SpcC.v;d[5]=p.Angl.v};T.Rept.prototype.mg=function(p,d){p.Scl.v.val=d[0];
p.Rsft.v.val=d[1];p.SpcX.v.val=d[2];p.SpcY.v.val=d[3];p.SpcC.v=d[4];p.Angl.v=d[5].DJ;return p};T.LqFy=function(){T.call(this,"LqFy");
this.Ga=!1;this.EY=null;this.eSk=null;this.O=0;this.Bq={lu:[[{O:{id:0,name:[24,1,0,1,0],ht:"liq/smudge"}}],[{O:{id:1,name:[24,1,0,1,1],ht:"liq/reconstruct"}}],[{O:{id:2,name:[24,1,0,1,2],ht:"liq/smooth"}}],[{O:{id:3,name:[24,1,0,1,3],ht:"liq/twirl"}}],[{O:{id:4,name:[24,1,0,1,4],ht:"liq/shrink"}}],[{O:{id:5,name:[24,1,0,1,5],ht:"liq/blow"}}],[{O:{id:6,name:[24,1,0,1,6],ht:"liq/pleft"}}]],keys:[]};
this.mU=new pn(this.Bq,!1);this.mU.jU(0);this.mU.R(n.E.s,this.eqV,this);this.lW=tb.UZ();this.Xn=null;
this.mM=[];this.Pd=-1;this.wp=null;this.eVv=null;this.lA=null;this.Gf=null;this.lN=null;var p=n.b("div","flexrow");
this.WP=p;this.G.appendChild(p);p.appendChild(this.mU.G);this.view=new MR(!0);this.view.dq(100,100);
this.view.R("mousedown",this.ro,this);this.view.R("mousemove",this.oB,this);this.view.R("mouseup",this.zZ,this);
this.view.R("zoom",this.Rk,this);p.appendChild(this.view.G);var d=n.b("div","form");p.appendChild(d);
this.IH=d;d.style.width="230px";this.ir=[new Qo([12,14,0],0,1e3,null,!1,!0),new Qo([12,74],0,100,null,!1,!1),new Qo([12,84],0,100,null,!1,!1),new Ql([12,46]),new Qo([12,0],0,100,null,!1,!1)];
var K=this.lW.Brsh.v;K.Dmtr.v.val=100;var A=[100,50,100,!1,100];for(var x=0;x<this.ir.length;x++){var M=this.ir[x];
M.d(A[x]);M.R(n.E.f,this.eqR,this);d.appendChild(M.G)}var G=new Qa("Reset",!0,null,!0);G.R("click",this.mR,this);
d.appendChild(G.G);this.uk=new QF;this.uk.G=n.b("div","floatcont");this.te=new Qa("Menu",!1,null,!0);
this.te.R("click",this.equ,this);var D=this.te.G;D.setAttribute("style","position:absolute; right:13px; top:47px")};
T.LqFy.prototype=new T;T.LqFy.prototype.yJ=function(){return!0};T.LqFy.prototype.zJ=function(p){this.IH.appendChild(p)};
T.LqFy.prototype.equ=function(p){var d=this.te.G.getBoundingClientRect();this.uk.G.appendChild(this.IH);
var K=new y(n.E.s,!0);K.data={j:n.H.uO,Fy:this.uk,x:d.right+d.width-290,y:d.top+d.height};this.n(K)};
T.LqFy.prototype.AC=function(p){this.Ga=p.Q(B.Od);var d=r.Ef.Hf(this.lW,p);if(d!=null){this.lW=d;this.Rk();
this.ir[0].d(d.Brsh.v.Dmtr.v.val)}else if(p.Q(B.DV)&&p.Q(B.CA)){var K=this.mM;if(p.Q(B.tS)){if(this.Pd+1<K.length)this.Pd++}else if(this.Pd>0)this.Pd--;
this.Xn.map=K[this.Pd].slice(0);this.nl(null)}else this.view.AC(p)};T.LqFy.prototype.eqV=function(p){if(p.data.j==n.H.ZA){this.O=p.data.O;
this.mU.jU(this.O)}};T.LqFy.prototype.eqR=function(p){var d=p.currentTarget,K=this.ir.indexOf(d),A=this.lW.Brsh.v;
if(K==0){A.Dmtr.v.val=d.A();this.Rk()}if(K>2)this.nl(null)};T.LqFy.prototype.xt=function(){var p=this.mM;
this.Pd++;p[this.Pd]=this.Xn.map.slice(0);while(p.length>this.Pd+1)p.pop();while(p.length>50){p=p.slice(1);
this.Pd--}};T.LqFy.prototype.ro=function(p){this.bX();this.EY=this.view.m$();this.eSk=new QP(0,0);this.R(n.E.ot,this.ms,this)};
T.LqFy.prototype.oB=function(p){var d=this.view.m$(),K=new QP(d.x-this.EY.x,d.y-this.EY.y);if(this.O==0||this.O==6)this.emB(K);
this.EY=d};T.LqFy.prototype.zZ=function(p){this.xt();this.bX()};T.LqFy.prototype.bX=function(){if(this.yM(n.E.ot,this.ms))this.removeEventListener(n.E.ot,this.ms,this)};
T.LqFy.prototype.ms=function(p){if(this.O!=0&&this.O!=6)this.emB(new QP(0,0))};T.LqFy.prototype.emB=function(p){var d=this.Xn,K=d.dv/this.wp.t,A=this.EY,x=this.lW.Brsh.v,M=x.Dmtr.v.val,G=Date.now(),D=d.dv,P=d.Ri,a=Math.sqrt(p.x*p.x+p.y*p.y),e=Math.max(1,Math.ceil(a/2)),f=p.x/e,N=p.y/e,Y=A.clone(),l=this.O,h=this.ir[1].A()/100,s=this.ir[2].A()/100,J=[.005,.015,0,0,.2,.2,.01,.01,.05,.35,.1,.1,.005,.015],u=J[l*2],Q=J[l*2+1],W=(1-h)*u+h*Q,q=M*K/2;
for(var H=0;H<e;H++){var C=[];Y.x+=f;Y.y+=N;Z.qI.eVJ(d.map,D,P,l,Y.x*K,Y.y*K,q,1,h,s,new QP(f*K,N*K),C,this.Ga);
Z.qI.eVV(D,P,d.map,C,W*s)}var k=new R(0,0,D,P),i=new R(A.x*K,A.y*K,0,0);i.WJ(M*K*.5,M*K*.5);var m=i.clone();
m.offset(p.x*K,p.y*K);i=i.ck(m);var w=new R(i.x/K,i.y/K,i.t/K,i.D/K);w=Z._.ND(w).pk(this.wp);this.nl(w)};
T.LqFy.prototype.Rk=function(){var p=Qr.FU(this.lW,null,this.view.bl().v);this.view.mO(p)};T.LqFy.prototype.d=function(p,d,K,A,x){K=K.clone();
if(d==null)return;if(!A.GR(K)){var M=K.ck(A),G=Z.p(M.r()*4);Z.PE(d,K,G,M);d=G;K=M}K.x=K.y=0;this.lA=d;
this.eVv=x;this.lN=d.slice(0);this.Gf=d.slice(0);this.wp=K;this.Xn=nA.RL(new Uint8Array(p.LqMe.v).buffer);
var D=K.t,P=K.D;if(this.Xn.dv/D<.22){this.Xn={dv:Math.floor(D/4),Ri:Math.floor(P/4)};this.Xn.map=new Float32Array(this.Xn.dv*this.Xn.Ri*2)}this.mM=[];
this.Pd=-1;this.xt();this.nl(null);this.Rk()};T.LqFy.prototype.A=function(){this.bX();var p=eq.Kj("LqFy"),d=new Uint8Array(nA.cF(this.Xn)),K=[];
for(var A=0;A<d.length;A++)K.push(d[A]);p.LqMe.v=K;return p};T.LqFy.prototype.dq=function(p,d){this.mU.dq(p,d);
var K=this.te.G,A=this.IH;this.WP.appendChild(A);this.WP.appendChild(K);if(p>450){A.style.marginLeft="1em";
this.WP.removeChild(K);this.view.dq(p-238-45,d)}else{A.style.marginLeft="";this.WP.removeChild(A);this.view.dq(p-40,d)}};
T.LqFy.prototype.l=function(){this.mU.l();for(var p=0;p<this.ir.length;p++)this.ir[p].l()};T.LqFy.prototype.mR=function(){this.bX();
this.Xn.map.fill(0);this.xt();this.nl(null)};T.LqFy.prototype.nl=function(p){var d=this.wp,K=this.lA,A=this.lN,x=this.Xn;
Z.qI.Ob(K,this.Gf,d.t,d.D,p,x.map,x.dv,x.Ri,0);if(this.ir[3].dA()){Z.PE(this.eVv,d,A,d,p?p:d);Z.h.gQ("norm",this.Gf,d,A,d,p?p:d,this.ir[4].A()/100)}else Z.tM(this.Gf,A);
this.view.d([{Uo:d,data:A.buffer}])};T.GEfc=function(){T.call(this,"GEfc");this.lA=null;this.lN=null;
this.wp=null;this.hG=null;var p=n.b("div","flexrow");this.WP=p;this.G.appendChild(p);this.view=new MR;
this.view.dq(100,100);p.appendChild(this.view.G);var d=n.b("div","form");p.appendChild(d);this.IH=d;
d.style.width="230px";d.style.marginLeft="1em";this.Iv=[];var K=[];this.mp={};for(var A in MF.names){this.Iv.push(A);
K.push(MF.names[A]);var x=new T.GEfc.xB(A);this.mp[A]=x;x.R(n.E.f,this.nl,this)}this.Wt=new Me(null,K);
d.appendChild(this.Wt.G);this.Wt.R(n.E.f,this.eqC,this);this.IE=n.b("div");d.appendChild(this.IE)};T.GEfc.prototype=new T;
T.GEfc.prototype.yJ=function(){return!0};T.GEfc.prototype.zJ=function(p){this.IH.appendChild(p)};T.GEfc.prototype.Ei=function(p,d){this.hG=p};
T.GEfc.prototype.dq=function(p,d){this.view.dq(p-240,d)};T.GEfc.prototype.eqC=function(p){var d=this.Iv[this.Wt.A()],K=MF.Kj(d),A=this.mp[d];
A.d(K);n.hM(this.IE);this.IE.appendChild(A.G);this.nl()};T.GEfc.prototype.d=function(p,d,K,A,x){var M=p.GEfk.v.GEft,G=this.Iv.indexOf(M);
if(G==-1){alert("Unsupported gallery filter");this.close();return}this.Wt.d(G);var D=this.mp[M];D.d(p);
n.hM(this.IE);this.IE.appendChild(D.G);K=K.clone();if(d==null)return;if(!A.GR(K)){var P=K.ck(A),a=Z.p(P.r()*4);
Z.PE(d,K,a,P);d=a;K=P}K.x=K.y=0;this.lA=d;this.lN=d.slice(0);this.wp=K;this.nl()};T.GEfc.prototype.A=function(){var p=this.Iv[this.Wt.A()];
return this.mp[p].A()};T.GEfc.prototype.nl=function(p){var d=this.wp,K=this.lA,A=this.lN,x=this.Iv[this.Wt.A()],M=this.mp[x].A(),G=this.hG;
function D(P){return{N:P>>>16,w:P>>>8&255,M:P&255}}eq.sg("GEfc",{rect:this.wp,buffer:this.lA},M,D(G.ou),D(G.Le),{rect:this.wp,buffer:this.lN},null);
this.view.d([{Uo:d,data:A.buffer}])};T.GEfc.prototype.l=function(){for(var p in this.mp)this.mp[p].l()};
T.GEfc.xB=function(p){QF.call(this);this.XJ=p;this.G=n.b("div");this.nL={};var d=MF.Kj(p);for(var K in d){var A;
if(K=="__name"||K=="classID"||K=="GEfk"||["LghI","FlRs"].indexOf(K)!=-1)continue;else if(K=="Sz")A=new Qo([12,14,0],1,50);
else if(K=="Dtl")A=new Qo("Detail",1,15);else if(K=="Shrp")A=new Qo("Sharpness",0,40);else if(K=="BrsT")A=new Me("Brush type","Simple,Light Rough,Dark Rough,Wide Sharp,Wide Blurry,Sparkle".split(","));
else if(K=="LghD")A=new Me("Light","Bottom,Bottom Left,Left,Top Left,Top,Top Right,Right,Bottom Right".split(","));
else if(K=="SDir")A=new Me([12,33],["Right Diagonal","Horizontal","Left Diagonal","Vertical"]);else if(K=="EdgW")A=new Qo("Edge Width",1,14);
else if(K=="EdgB")A=new Qo("Edge Brightness",0,20);else if(K=="Smth")A=new Qo([19,3,3],1,15);else if(K=="ClSz")A=new Qo([12,61],3,100);
else if(K=="BrdT")A=new Qo([7,9],1,20);else if(K=="HghS")A=new Qo([12,64],0,20);else if(K=="HlSz")A=new Qo([12,14,0],1,15);
else if(K=="Cntr")A=new Qo([12,3,0],0,50);else if(K=="ScrT")A=new Me([12,62],["Circle","Dot",[10,35]]);
else if(K=="SprR")A=new Qo("Spray Radius",0,25);else if(K=="StrL")A=new Qo("Stroke Length",0,20);else console.log(K);
A.R(n.E.f,this.oN,this);this.nL[K]=A;this.G.appendChild(A.G)}};T.GEfc.xB.prototype=new QF;T.GEfc.xB.prototype.oN=function(p){this.n(new y(n.E.f,!1))};
T.GEfc.xB.prototype.d=function(p){for(var d in this.nL){var K;if("Sz Dtl Shrp EdgW EdgB Smth ClSz BrdT HghS HlSz Cntr SprR StrL".split(" ").indexOf(d)!=-1)K=p[d].v;
else if(d=="BrsT")K=MF.e_I.indexOf(p[d].v[d]);else if(d=="LghD")K=MF.cK.indexOf(p[d].v[d]);else if(d=="ScrT")K=MF.cm.indexOf(p[d].v[d]);
else if(d=="SDir")K=MF.cu.indexOf(p[d].v.StrD);this.nL[d].d(K)}};T.GEfc.xB.prototype.A=function(){var p=MF.Kj(this.XJ);
for(var d in this.nL){var K=this.nL[d].A();if("Sz Dtl Shrp EdgW EdgB Smth ClSz BrdT HghS HlSz Cntr SprR StrL".split(" ").indexOf(d)!=-1)p[d].v=K;
else if(d=="BrsT")p[d].v[d]=MF.e_I[K];else if(d=="LghD")p[d].v[d]=MF.cK[K];else if(d=="ScrT")p[d].v[d]=MF.cm[K];
else if(d=="SDir")p[d].v.StrD=MF.cu[K]}return p};T.GEfc.xB.prototype.l=function(){for(var p in this.nL)this.nL[p].l()};
T.blnc=function(){T.call(this);var p=this.G;this.gI=null;this.nq=new Me([12,12],[[19,6,0],[19,6,1],[19,6,2]]);
this.nq.R(n.E.f,this.nl,this);p.appendChild(this.nq.G);this.Rx=[];for(var d=0;d<3;d++){var K=new Qo(QW.NS[d],-100,100);
K.R(n.E.f,this.Pc,this);this.Rx.push(K);p.appendChild(K.G)}this.Iw=new Ql([13,4]);this.Iw.R(n.E.f,this.Pc,this);
p.appendChild(this.Iw.G)};T.blnc.prototype=new T;T.blnc.prototype.l=function(){this.nq.l();for(var p=0;
p<3;p++)this.Rx[p].l();this.Iw.l()};T.blnc.prototype.d=function(p){this.gI=JSON.parse(JSON.stringify(p));
this.nl()};T.blnc.prototype.A=function(p){var d=["ShdL","MdtL","HghL"],K=this.gI[d[this.nq.A()]].v;for(var A=0;
A<3;A++)K[A].v=this.Rx[A].A();this.gI.PrsL.v=this.Iw.A();return JSON.parse(JSON.stringify(this.gI))};
T.blnc.prototype.nl=function(p){var d=["ShdL","MdtL","HghL"],K=this.gI[d[this.nq.A()]].v;for(var A=0;
A<3;A++)this.Rx[A].d(K[A].v);this.Iw.d(this.gI.PrsL.v)};T.brit=function(){T.call(this,"brit");this.ZY.push(new Qo([12,2],-150,150,""));
this.ZY.push(new Qo([12,3,0],-100,100,""));this.ZY.push(new Ql([12,3,1]));this.Mg()};T.brit.prototype=new T;
T.brit.prototype.Eq=function(p,d){d[0]=p.Brgh?p.Brgh.v:0;d[1]=p.Cntr?p.Cntr.v:0;d[2]=p.useLegacy?p.useLegacy.v:!1};
T.brit.prototype.mg=function(p,d){p.Brgh.v=d[0];p.Cntr.v=d[1];p.useLegacy.v=d[2]};T.curv=function(){T.call(this);
this.value=null;this.vY=null;var p=this.G;this.Ge=new Me([12,4],["RGB",[13,1,1],[13,1,4],[13,1,5]]);
this.Ge.R(n.E.f,this.gx,this);p.appendChild(this.Ge.G);this.XX=new Me(null,["Spline","Sketch"]);this.XX.R(n.E.f,this.eqZ,this);
p.appendChild(this.XX.G);this.WH=new n$;this.WH.R(n.E.f,this.zj,this);p.appendChild(this.WH.G);this.IR=new Bm("Sample from image",["#000000","#888888","#ffffff"]);
p.appendChild(this.IR.G)};T.curv.prototype=new T;T.curv.prototype.l=function(){this.Ge.l()};T.curv.prototype.eqZ=function(p){var d=MD.lG(this.value,0),K=d.length==256?1:0,A=this.XX.A();
if(K==A)return;var x=eq.Kj("curv");if(A==1){var M=[];for(var G=0;G<256;G++)M.push(G);MD.gB(x,0,M)}this.d(x);
this.Pc()};T.curv.prototype.zj=function(){MD.gB(this.value,this.Ge.A(),this.WH.A());this.Pc()};T.curv.prototype.gx=function(){var p=this.Ge.A(),d=MD.lG(this.value,p),K=d.length==256?1:0;
this.XX.d(K);if(this.vY)this.WH.WM(this.vY[p],this.vY[4]*[1,.33,.33,.33][p],["#ccc","#fcc","#cfc","#ccf"][p]);
this.WH.d(d)};T.curv.prototype.QQ=function(){return!0};T.curv.prototype.gi=function(p,d,K,A,x){var M=this.value,G=this.IR.A();
this.value=eq.Kj("curv");this.Pc();var D=r.Ib.QD(p,x,1),P=[D>>>16&255,D>>>8&255,D&255];for(var a=0;a<3;
a++){var e=MD.lG(M,1+a);if(G==0)e[0].v.Hrzn.v=P[a];if(G==1){var f=(P[0]+P[1]+P[2])*.333,N=Math.log(P[a]/255)/Math.log(f/255),Y=Math.min(999,Math.max(10,Math.round(100*N)));
if(e.length==2)e.splice(1,0,JSON.parse(JSON.stringify(e[0])));e[1].v.Hrzn.v=127-Math.log(Y/100)*127;
e[1].v.Vrtc.v=127}if(G==2)e[e.length-1].v.Hrzn.v=P[a];MD.gB(M,1+a,e)}this.d(M);this.Pc()};T.curv.prototype.d=function(p){this.value=p;
this.gx()};T.curv.prototype.WM=function(p){this.vY=p;this.gx()};T.curv.prototype.A=function(p){return JSON.parse(JSON.stringify(this.value))};
T.expA=function(){T.call(this,"expA");this.ZY.push(new Qo([12,5],-20,20,null,3));this.ZY.push(new Qo([12,6],-.5,.5,null,3));
this.ZY.push(new Qo([12,7],.01,6.99,null,3));this.Mg()};T.expA.prototype=new T;T.expA.prototype.Eq=function(p,d){d[0]=p.Exps.v;
d[1]=p.Ofst.v;d[2]=p.gammaCorrection.v};T.expA.prototype.mg=function(p,d){p.Exps.v=d[0];p.Ofst.v=d[1];
p.gammaCorrection.v=d[2]};T.grdm=function(){T.call(this,"grdm");this.ZY.push(new Be(!0,null,!0));this.ZY.push(new Ql([12,23,0]));
this.Mg()};T.grdm.prototype=new T;T.grdm.prototype.Eq=function(p,d){d[0]=p.Grad.v;d[1]=p.Rvrs?p.Rvrs.v:!1};
T.grdm.prototype.mg=function(p,d){p.Grad.v=d[0];p.Rvrs={t:"bool",v:d[1]}};T.grdm.prototype.Ei=function(p,d){this.ZY[0].RR(p.ou,p.Le);
if(d==Qn.ff||d==Qn.Py||d==Qn.aE)this.ZY[0].H_(p.tn)};T.selc=function(){T.call(this);var p=this.G;this.HY=[];
this.AB=null;this.nq=new Me([12,82],QW.cG.concat([[13,1,8],[13,1,13],[13,1,10]]));this.nq.R(n.E.f,this.oN,this);
p.appendChild(this.nq.G);for(var d=0;d<4;d++){var K=new Qo(QW.eUd[d],-100,100,"%");K.R(n.E.f,this.oN,this);
this.HY.push(K);p.appendChild(K.G)}this.Ia=new Ql([13,3]);p.appendChild(this.Ia.G);this.Ia.R(n.E.f,this.oN,this)};
T.selc.prototype=new T;T.selc.prototype.l=function(){this.nq.l();this.Ia.l();for(var p=0;p<4;p++)this.HY[p].l()};
T.selc.prototype.d=function(p){this.AB=JSON.parse(JSON.stringify(p));this.nl()};T.selc.prototype.A=function(p){return JSON.parse(JSON.stringify(this.AB))};
T.selc.prototype.oN=function(p){if(p.target!=this.nq){var d=this.AB,K=[];for(var A=0;A<4;A++)K[A]=this.HY[A].A();
Po.gB(d,this.nq.A(),K);d.Mthd={t:"enum",v:{CrcM:this.Ia.A()?"Absl":"Rltv"}}}this.nl();this.Pc()};T.selc.prototype.nl=function(){var p=this.AB,d=Po.lG(p,this.nq.A());
for(var K=0;K<4;K++)this.HY[K].d(d[K]);this.Ia.d(p.Mthd?p.Mthd.v.CrcM=="Absl":!1)};T.blwh=function(){T.call(this,"blwh");
this.ZY.push(new Ql([12,11]));this.ZY.push(new Md(!0));for(var p=0;p<6;p++)this.ZY.push(new Qo(QW.cG[p],-200,300));
this.Mg()};T.blwh.prototype=new T;T.blwh.prototype.Eq=function(p,d){d[0]=p.useTint.v;d[1]=p.tintColor.v;
var K="Rd Yllw Grn Cyn Bl Mgnt".split(" ");for(var A=0;A<6;A++)d[2+A]=p[K[A]].v};T.blwh.prototype.mg=function(p,d){p.useTint.v=d[0];
p.tintColor.v=d[1];var K="Rd Yllw Grn Cyn Bl Mgnt".split(" ");for(var A=0;A<6;A++)p[K[A]].v=d[2+A]};
T.hue2=function(){T.call(this);this.value=null;this.xu=null;this.eco=null;var p=this.G;this.nq=new Me([12,12],["Master"].concat(QW.cG));
this.nq.R(n.E.f,this.gx,this);p.appendChild(this.nq.G);this.Ax=new Qo([12,8],-180,180);this.Ax.R(n.E.f,this.bf,this);
p.appendChild(this.Ax.G);this.mc=new Qo([12,9],-100,100);this.mc.R(n.E.f,this.bf,this);p.appendChild(this.mc.G);
this.Iq=new Qo([12,10],-100,100);this.Iq.R(n.E.f,this.bf,this);p.appendChild(this.Iq.G);this.Ih=new Ql([12,11]);
this.Ih.R(n.E.f,this.eht,this);p.appendChild(this.Ih.G);this.ecr=new GJ("...",!0);p.appendChild(this.ecr.G)};
T.hue2.prototype=new T;T.hue2.prototype.l=function(){this.Ax.l();this.mc.l();this.Iq.l();this.Ih.l();
this.nq.l()};T.hue2.prototype.eht=function(p){var d=this.Ih.A();this.value.Clrz.v=d;if(d)this.nq.d(0);
this.gx();this.Pc()};T.hue2.prototype.bf=function(p){var d=this.value.Clrz.v,K=this.nq.A(),A=Ph.lG(this.value,K),x=K==0?A:A.Rx;
x[0]=this.Ax.A();var M=this.mc.A();x[1]=d?Math.max(0,M):M;x[2]=this.Iq.A();Ph.gB(this.value,K,A);this.gx();
this.Pc()};T.hue2.prototype.gx=function(){var p=this.value.Clrz?this.value.Clrz.v:!1,x="";this.Ih.d(p);
if(p)this.nq.gH();else this.nq.Hm();var d=this.nq.A(),K=Ph.lG(this.value,d),A=d==0?K:K.Rx;this.Ax.d(A[0]);
this.mc.d(A[1]);this.Iq.d(A[2]);if(!p){x+=Qc.get([5,8])+": ";var d=this.nq.A();if(d==0)x+=Qc.get([13,2]);
else x+=K.iK}this.ecr.d(x)};T.hue2.prototype.QQ=function(){return!0};T.hue2.prototype.Fg=function(p,d,K,A,x){var M=this.value;
this.value=eq.Kj("hue2");this.Pc();var G=r.Ib.QD(p,x,1),D=[G>>>16&255,G>>>8&255,G&255],P=Z.FE(D[0]/255,D[1]/255,D[2]/255);
this.nq.d(1+Math.round(P.Ri*6)%6);this.d(M);this.Pc();this.xu=x.x;this.eco=this.mc.A()};T.hue2.prototype.Yh=function(p,d,K,A,x){if(this.xu!=null){var M=x.x-this.xu;
M=Math.max(-100,Math.min(100,this.eco+.5*M));this.mc.d(M);this.bf()}};T.hue2.prototype.gi=function(p,d,K,A,x){this.xu=null};
T.hue2.prototype.d=function(p){this.value=JSON.parse(JSON.stringify(p));this.gx()};T.hue2.prototype.A=function(p){return JSON.parse(JSON.stringify(this.value))};
T.levl=function(){T.call(this);this.value=null;this.vY=null;this.Ew=[new QP(0,0),new QP(0,0),new QP(0,0),new QP(0,0),new QP(0,0)];
this.O_=-1;this.xH=this.wa.bind(this);this.xw=this.tc.bind(this);var p=this.G;this.Ge=new Me([12,4],["RGB",[13,1,1],[13,1,4],[13,1,5]]);
this.Ge.R(n.E.f,this.gx,this);p.appendChild(this.Ge.G);var d=n.b("div","");p.appendChild(d);var K=n.b("div","");
p.appendChild(K);this.Fs=n.b("canvas");d.appendChild(this.Fs);this.MZ=this.Fs.getContext("2d");this.lg=new QP(256,120);
this.Fs.setAttribute("style","display:block");n.wc(this.Fs,this.lg.x,this.lg.y,this.MZ);n.Go(this.Fs);
n.uw(this.Fs,this.tU.bind(this));this.MU=n.b("canvas","");K.appendChild(this.MU);this.BX=this.MU.getContext("2d");
this.tB=new QP(this.lg.x,40);this.MU.setAttribute("style","display:block");n.wc(this.MU,this.tB.x,this.tB.y,this.BX);
n.Go(this.MU);n.uw(this.MU,this.eh$.bind(this));var A=this.e$c=[];for(var x=0;x<5;x++){var M=new Pe(null,null,3);
A.push(M);M.R(n.E.f,this.ehK,this);(x<2||x==4?d:K).appendChild(M.G)}d.appendChild(A[1].G);A[4].G.setAttribute("style","margin: 0 4.7em");
A[3].G.setAttribute("style","margin:0 0 0 13em");this.IR=new Bm("Sample from image",["#000000","#888888","#ffffff"]);
p.appendChild(this.IR.G)};T.levl.prototype=new T;T.levl.prototype.l=function(){this.Ge.l()};T.levl.prototype.ehK=function(p){var d=[];
for(var K=0;K<5;K++){var A=255,x=1;if(K==4){A=999;x=100}var M=parseFloat(this.e$c[K].A());d[K]=Math.max(0,Math.min(A,M*x))}MW.gB(this.value,this.Ge.A(),d);
this.gx();this.Pc()};T.levl.prototype.gx=function(p){var d=this.lg.x,K=this.lg.y,A=this.Ge.A(),x=this.MZ;
x.clearRect(0,0,d,K);x.fillStyle="#cccccc";x.fillRect(8,8,d-16,K-16-8);if(this.vY){if(A==0){Z.set(this.vY[0],0);
var M=JSON.parse(JSON.stringify(this.value));MW.gB(M,0,[0,255,0,255,100]);var G=QW.eh("levl",M),D=[G.tK,G.Xm,G.vN];
for(var P=0;P<3;P++){var a=this.vY[1+P],e=D[P];for(var f=0;f<256;f++)this.vY[0][e[f]]+=a[f]}}var N=this.vY[A],Y=0;
for(var f=0;f<N.length;f++)Y+=N[f];x.fillStyle="#333333";x.beginPath();x.moveTo(8,K-16);for(var f=0;
f<256;f++){var l=55*N[f]/Y;x.lineTo(8+f/256*(d-16),Math.max(8,K-16-K*l))}x.lineTo(d-8,K-16);x.closePath();
x.fill()}var h=MW.lG(this.value,A);for(var f=0;f<5;f++)this.e$c[f].d(h[f]/(f==4?100:1));this.Ew[0].pf(8+h[0]/255*(d-16),K-14);
this.Ew[1].pf(8+h[1]/255*(d-16),K-14);var s=Math.log(h[4]/100)/Math.log(9.99);s=.5-s/2;this.Ew[4].pf(this.Ew[0].x+s*(this.Ew[1].x-this.Ew[0].x),K-14);
this.mo(x,this.Ew[0],"#000000");this.mo(x,this.Ew[1],"#ffffff");this.mo(x,this.Ew[4],"#777777");var d=this.tB.x,K=this.tB.y;
x=this.BX;x.clearRect(0,0,d,K);var J=x.createLinearGradient(0,0,d-16,0);J.addColorStop(0,"black");J.addColorStop(1,"white");
x.fillStyle=J;x.fillRect(8,8,d-16,16);this.Ew[2].pf(8+h[2]/255*(d-16),K-14);this.Ew[3].pf(8+h[3]/255*(d-16),K-14);
this.mo(x,this.Ew[2],"#000000");this.mo(x,this.Ew[3],"#ffffff")};T.levl.prototype.mo=function(p,d,K){p.fillStyle=K;
p.fillRect(d.x-5,d.y,10,10)};T.levl.prototype.tU=function(p){var d=n.Cu(p,this.Fs);for(var K=0;K<2;K++)if(QP.gG(this.Ew[K],d)<10)this.O_=K;
if(QP.gG(this.Ew[4],d)<10)this.O_=4;this.eHx()};T.levl.prototype.eh$=function(p){var d=n.Cu(p,this.MU);
for(var K=2;K<4;K++)if(QP.gG(this.Ew[K],d)<10)this.O_=K;this.eHx()};T.levl.prototype.eHx=function(p){if(this.O_==-1)return;
n.AG(document.body,this.xH);n.AJ(document.body,this.xw)};T.levl.prototype.wa=function(p){var d=MW.lG(this.value,this.Ge.A()),K=n.Cu(p,this.O_==2&&this.O_==3?this.MU:this.Fs),A=255*(K.x-8)/(this.lg.x-16);
A=Math.max(0,Math.min(255,A));if(this.O_==0)A=Math.min(A,d[1]-2);if(this.O_==1)A=Math.max(A,d[0]+2);
if(this.O_!=4)d[this.O_]=Math.round(A);else{var x=(A-d[0])/(d[1]-d[0]);x=1-2*x;x=Math.pow(9.99,x);d[4]=Math.min(999,Math.max(10,Math.round(x*100)))}MW.gB(this.value,this.Ge.A(),d);
this.gx();this.Pc()};T.levl.prototype.tc=function(p){n.rH(document.body,this.xH);n.rE(document.body,this.xw);
this.O_=-1};T.levl.prototype.QQ=function(){return!0};T.levl.prototype.gi=function(p,d,K,A,x){var M=this.value,G=this.IR.A();
this.value=eq.Kj("levl");this.Pc();var D=r.Ib.QD(p,x,1),P=[D>>>16&255,D>>>8&255,D&255];for(var a=0;a<3;
a++){var e=MW.lG(M,1+a);if(G==0)e[0]=P[a];if(G==1){var f=Math.log(P[a]/255)/Math.log((P[0]+P[1]+P[2])*.333/255);
e[4]=Math.min(999,Math.max(10,Math.round(100*f)))}if(G==2)e[1]=P[a];MW.gB(M,1+a,e)}this.d(M);this.Pc()};
T.levl.prototype.d=function(p){this.value=p;this.gx()};T.levl.prototype.WM=function(p){this.vY=p;this.gx()};
T.levl.prototype.A=function(p){return JSON.parse(JSON.stringify(this.value))};T.phfl=function(){T.call(this,"phfl");
this.ZY.push(new Md);this.ZY.push(new Qo([12,74],0,100,"%"));this.ZY.push(new Ql([13,4]));this.Mg()};
T.phfl.prototype=new T;T.phfl.prototype.Eq=function(p,d){d[0]=p.Clr.v;d[1]=p.Dnst.v;d[2]=p.PrsL.v};T.phfl.prototype.mg=function(p,d){var K=Z.k.iz(d[0]),A=p.Clr.v,x=Z.Jt(K.N,K.w,K.M);
A.Lmnc.v=x.Gs;A.A.v=x.V;A.B.v=x.M;p.Dnst.v=d[1];p.PrsL.v=d[2]};T.vibA=function(){T.call(this,"vibA");
this.ZY.push(new Qo([12,13],-100,100,null));this.ZY.push(new Qo([12,9],-100,100,null));this.Mg()};T.vibA.prototype=new T;
T.vibA.prototype.Eq=function(p,d){d[0]=p.vibrance?p.vibrance.v:0;d[1]=p.Strt?p.Strt.v:0};T.vibA.prototype.mg=function(p,d){p.vibrance.v=d[0];
p.Strt.v=d[1]};T.thrs=function(){T.call(this,"thrs");this.ZY.push(new Qo([4,13],1,255,null));this.Mg()};
T.thrs.prototype=new T;T.thrs.prototype.Eq=function(p,d){d[0]=p.Lvl.v};T.thrs.prototype.mg=function(p,d){p.Lvl.v=d[0]};
T.mixr=function(){T.call(this);var p=this.G;this.HY=[];this.AB=null;this.nq=new Me([12,4],[[13,1,1],[13,1,4],[13,1,5]]);
this.nq.R(n.E.f,this.oN,this);p.appendChild(this.nq.G);n.Ld(p);this.ER=new Ql([12,60]);p.appendChild(this.ER.G);
this.ER.R(n.E.f,this.oN,this);for(var d=0;d<4;d++){var K=new Qo([[13,1,1],[13,1,4],[13,1,5],[13,2]][d],-200,200,"%");
K.R(n.E.f,this.oN,this);this.HY.push(K);p.appendChild(K.G)}};T.mixr.prototype=new T;T.mixr.prototype.l=function(){this.nq.l();
this.ER.l();for(var p=0;p<4;p++)this.HY[p].l()};T.mixr.prototype.d=function(p){this.AB=JSON.parse(JSON.stringify(p));
this.nl()};T.mixr.prototype.A=function(p){return JSON.parse(JSON.stringify(this.AB))};T.mixr.prototype.oN=function(p){if(p.target!=this.nq){var d=QW.NO(this.AB);
if(p.target==this.ER){d.ER=this.ER.A();if(d.ER)d.S=[40,40,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];else d.S=[100,0,0,0,0,0,100,0,0,0,0,0,100,0,0,0,0,0,0,0]}else{var K=(d.ER?0:this.nq.A())*5,A=this.HY.indexOf(p.target);
d.S[K+(A<3?A:4)]=p.target.A()}this.AB=QW.eMi(d)}this.nl();this.Pc()};T.mixr.prototype.nl=function(){var p=QW.NO(this.AB);
this.ER.d(p.ER);var d=(p.ER?0:this.nq.A())*5;for(var K=0;K<4;K++)this.HY[K].d(p.S[d+(K<3?K:4)])};T.post=function(){T.call(this,"post");
this.ZY.push(new Qo([4,1],2,255,null));this.Mg()};T.post.prototype=new T;T.post.prototype.Eq=function(p,d){d[0]=p.Lvls.v};
T.post.prototype.mg=function(p,d){p.Lvls.v=d[0]};T.clrL=function(){T.call(this,"clrL");this.ZY.push(new Gn("LUTs"));
this.Mg()};T.clrL.prototype=new T;T.clrL.prototype.Eq=function(p,d){d[0]=p};T.clrL.prototype.mg=function(p,d){var K=d[0];
for(var A in K)p[A]=K[A]};T.clrL.prototype.Ei=function(p,d){if(d==Qn.ff||d==Qn.eu)this.ZY[0].H_(p.e$$)};
T.rplc=function(){T.call(this,"rplc");this.ZY.push(new Qo([12,92],0,200));this.ZY.push(new Md);this.ZY.push(new Qo([12,8],-180,180));
this.ZY.push(new Qo([12,9],-100,100));this.ZY.push(new Qo([12,10],-100,100));this.Mg()};T.rplc.prototype=new T;
T.rplc.prototype.Eq=function(p,d){d[0]=p.Fzns.v;d[1]=p.Mxm.v;d[2]=p.H.v;d[3]=p.Strt.v;d[4]=p.Lght.v};
T.rplc.prototype.mg=function(p,d){function K(x,M){M.Lmnc.v=x.Gs;M.A.v=x.V;M.B.v=x.M}p.Fzns.v=d[0];p.H.v=d[2];
p.Strt.v=d[3];p.Lght.v=d[4];var A=Z.k.iz(d[1]),x=Z.Jt(A.N,A.w,A.M);K(x,p.Mnm.v);K(x,p.Mxm.v)};T.fade=function(){T.call(this,"fade");
this.ZY.push(new Qo([12,0],0,100,"%"));this.ZY.push(new Me([12,19,0],eE.Wt,!1,eE.IX));this.Mg()};T.fade.prototype=new T;
T.fade.prototype.Eq=function(p,d){d[0]=p.Opct.v.val;d[1]=eE.Uh.indexOf(p.Md.v.BlnM)};T.fade.prototype.mg=function(p,d){p.Opct.v.val=d[0];
p.Md.v.BlnM=eE.Uh[d[1]]};function Qx(p,d){QF.call(this);if(p==null)return;this.id=d;this.tH=p;this.lS=null;
this.G=n.b("div","window "+d);this.zd=n.b("div","head");this.e$F=n.b("span","wname");this.zd.appendChild(this.e$F);
this.G.appendChild(this.zd);this.ua=this.ehi.bind(this);this.Mp=this.ehq.bind(this);this.Mc=this.ehN.bind(this);
n.Go(this.zd);n.uw(this.zd,this.ua);this.lP=n.b("span","cross");this.zd.appendChild(this.lP);Qx.prototype.l.call(this);
n.AJ(this.lP,this.eEC.bind(this));this.body=n.b("div","body");this.G.appendChild(this.body)}Qx.prototype=new QF;
Qx.prototype.ZX=function(){return!1};Qx.prototype.QQ=function(){return!1};Qx.prototype.l=function(){if(this.tH==null)return;
this.e$F.textContent=Qc.get(this.tH);var p=PIMG.__cross==null?"filter:invert(1);":"";this.lP.setAttribute("style","background-image:url("+PIMG.cross+");"+p)};
Qx.prototype.Fg=function(p,d,K,A,x){};Qx.prototype.Dc=function(p,d,K,A,x){};Qx.prototype.Yh=function(p,d,K,A,x){};
Qx.prototype.gi=function(p,d,K,A,x){};Qx.prototype.Tq=function(p,d,K,A,x){};Qx.prototype.AC=function(p,d,K,A){if(A.Q(B.ut)&&this.NI)this.NI()};
Qx.prototype.gJ=function(p){return!1};Qx.prototype.lV=function(p,d){return!0};Qx.prototype._$=function(p,d,K,A){};
Qx.prototype.Ei=function(p,d){};Qx.prototype.yJ=function(){return!1};Qx.prototype.jt=function(p,d){return p<450||d<450?new QP(0,0):new QP(150,150)};
Qx.prototype.dq=function(){};Qx.prototype.close=function(){this.n(new y(n.E.Gy))};Qx.prototype.ehi=function(p){this.lS=n.Cu(p,this.G);
n.AG(window,this.Mp);n.AJ(window,this.Mc)};Qx.prototype.ehq=function(p){var d=this.G.parentNode,K=n.Cu(p,d);
this.G.style.left=Math.round(K.x-this.lS.x)+"px";this.G.style.top=d.offsetTop+Math.max(0,Math.min(window.innerHeight-36,Math.round(K.y-this.lS.y)))+"px"};
Qx.prototype.ehN=function(p){n.rH(window,this.Mp);n.rE(window,this.Mc)};Qx.prototype.eEC=function(p){this.n(new y("closebtn"));
this.close()};function Mg(){Qx.call(this,[0,13,0],"account");this.LM=n.b("div","form padded scrollable");
this.LM.setAttribute("style","max-width:48em;  max-height:33em;");this.body.appendChild(this.LM);this.ly=[new Mg.rV,new Mg.mN(Mg.eoO),new Mg.mN(Mg.esA)];
for(var p=0;p<this.ly.length;p++)this.ly[p].parent=this;this.R("showpage",this.ehZ,this)}Mg.prototype=new Qx;
Mg.prototype.ehZ=function(p){n.hM(this.LM);this.LM.scrollTop=0;this.LM.appendChild(this.ly[p.data._W].G)};
Mg.prototype.l=function(){Qx.prototype.l.call(this);for(var p=0;p<this.ly.length;p++)this.ly[p].l()};
Mg.prototype._$=function(p,d,K){n.hM(this.LM);var A=this.ly[0];this.LM.appendChild(A.G);A._$();this.l()};
Mg.prototype.Ei=function(p,d){this._$(null,null,null)};Mg.rV=function(){QF.call(this);this.G=n.b("div");
var p=this.G,d,K,A="background-color: #00aa00;  text-shadow:none; padding:3px 7px; font-size:1.2em; font-weight:bold; color:#ffffff; cursor:pointer; margin:4px 0;";
this.vO=n.b("div");p.appendChild(this.vO);this.tv=new Qa([0,11],!1,null,!0);this.tv.G.setAttribute("style","background-color: rgba(200,0,0,1); color:#ffffff; margin:4px 6px 4px 0;");
this.tv.R("click",this.BP,this);p.appendChild(this.tv.G);this.lQ=new Qa([0,13,1],!1,null,!0);this.lQ.R("click",this.ewD,this);
p.appendChild(this.lQ.G);this.ln=new Qa("Contact",!1,null,!0);this.ln.R("click",this.ehb,this);p.appendChild(this.ln.G);
d=n.b("h2","");d.innerHTML="Account types";p.appendChild(d);K=n.b("table","");K.innerHTML="\t\t\t<table>\t\t\t\t<tr>   <th class=\"left\"></th><th>Free</th><th>Premium</th> </tr>\t\t\t\t<tr>   <td class=\"left\">Full Functionality</td><td class=\"yes\">\u2713</td><td class=\"yes\">\u2713</td>    </tr>\t\t\t\t<tr>   <td class=\"left\">No Ads</td><td class=\"no\"> </td><td class=\"yes\">\u2713</td>    </tr>\t\t\t\t<tr>   <td class=\"left\">Steps in History</td><td class=\"no\" style=\"font-size:1.3em\">30</td><td class=\"yes\">60</td>    </tr>\t\t\t\t<!--<tr class=\"lastrow\">   <td class=\"left\">Cost</td><td>Free</td><td><big>$5</big> per month</td>    </tr>-->\t\t\t</table>\t\t";
p.appendChild(K);var x=this.eeO=[[9,30,1],[10,90,1],[40,365,1],[15,30,5],[30,90,5],[120,365,5],[50,30,20],[100,90,20],[400,365,20],[40,30,1e3],[80,90,1e3],[300,365,1e3],[100,30,5e3],[200,90,5e3],[700,365,5e3],[200,30,2e4],[400,90,2e4],[1400,365,2e4]];
this.CD=[];for(var M=0;M<x.length;M++)this.CD.push(new Qa("Buy: $"+x[M][0],!1,null,!0));for(var M=0;
M<this.CD.length;M++){this.CD[M].G.setAttribute("style",A);this.CD[M].R("click",this.esa,this)}d=n.b("h2","");
d.innerHTML="Go Premium";p.appendChild(d);this.tw=new Qa("...",!0);this.tw.G.setAttribute("style",A);
p.appendChild(this.tw.G);K=this.ecH(3,["Single user",this.CD[0],this.CD[1],this.CD[2],"Team of 5",this.CD[3],this.CD[4],this.CD[5],"Team of 20",this.CD[6],this.CD[7],this.CD[8]]);
p.appendChild(K);this.e$L=new Ql("I accept",!0,"");p.appendChild(this.e$L.G);this.lB=new Qa([0,13,1],!1,null,!0);
this.lB.R("click",this.ewD,this);p.appendChild(this.lB.G);d=n.b("h2","");d.textContent="Team Settings";
p.appendChild(d);this.uz=new Ql("Join a team");p.appendChild(this.uz.G);this.uz.R(n.E.f,this.eVZ,this);
this.tV=new Pe("Email of a leader",null,14);p.appendChild(this.tV.G);n.Ld(p);this.Is=new Ql("Start a team");
p.appendChild(this.Is.G);this.Is.R(n.E.f,this.eVZ,this);var G=new GJ("Emails of other members:");p.appendChild(G.G);
n.Ld(p);this.aG=n.b("textarea");this.aG.setAttribute("rows",3);this.aG.setAttribute("cols",70);this.aG.setAttribute("style","display:block;tab-size:4;");
p.appendChild(this.aG);var D=new Qa("Save Team Settings",!1,null,!0);p.appendChild(D.G);D.R("click",this.esU,this);
var P=this.eeR=new Qa("More about Teams",!1,null,!0);p.appendChild(P.G);P.R("click",this.eVt,this);d=n.b("h2","");
d.innerHTML="Distributor Account";p.appendChild(d);this.t$=new Qa("...",!0);this.t$.G.setAttribute("style",A);
p.appendChild(this.t$.G);K=this.ecH(3,["1000 views/month",this.CD[9],this.CD[10],this.CD[11],"5000 views/month",this.CD[12],this.CD[13],this.CD[14],"20000 views/month",this.CD[15],this.CD[16],this.CD[17]]);
p.appendChild(K);this.tF=new Pe("Domain name (e.g. domain.com)",null,14);p.appendChild(this.tF.G);n.Ld(p);
var D=new Qa("Save Domain Settings",!1,null,!0);D.uy();p.appendChild(D.G);D.R("click",this.esR,this);
var P=new Qa("More about Distributors",!1,null,!0);p.appendChild(P.G);P.R("click",this.eVt,this)};Mg.rV.prototype=new QF;
Mg.rV.prototype.ewD=function(p){var d=new y("showpage",!0);d.data={_W:1};this.n(d)};Mg.rV.prototype.ehb=function(p){var d=new y("showpage",!0);
d.data={_W:2};this.n(d)};Mg.rV.prototype.l=function(){this.tv.g$(Qh.ds()?Qc.get([0,11]):Qc.get([0,10]));
this.lB.l();this.lQ.l();this.ln.l()};Mg.rV.prototype.eVt=function(p){var d=new y(n.E.s,!0);d.data={j:n.H.oh,link:"https://www.photopea.com/api/accounts#"+(p.target==this.eeR?"teams":"distributors")};
this.n(d)};Mg.rV.prototype.eVZ=function(p){var d=p.currentTarget==this.uz;this.uz.d(d);this.Is.d(!d)};
Mg.rV.prototype.esU=function(p){var d=this.uz.A(),K=this.tV.A().trim(),A=this.aG.value.trim();if(K.length>60){alert("Too long email address");
return}if(A.length>600){alert("Too many team members");return}A=A.split(",").join(" ").trim();A=A.replace(/\s+/g," ");
if(A=="")A=[];else A=A.split(" ");var x=Qh.cO();if(x==null)x={};if(x.acc==null)x.acc={};x.acc.team={jin:d,ldr:K,mmb:A};
Qh.Bt(x,this.zf.bind(this));alert("Saved!");this._$()};Mg.rV.prototype.esR=function(p){var d=this.tF.A().trim();
if(d.length==0){alert("Domain is empty.");return}if(!Qh.ds()){alert("You have to log in first.");return}if(Qh.AN().distrib=="0"){alert("Order a distributor account first.");
return}var K=Qh.cO();if(K==null)K={};if(K.acc==null)K.acc={};K.acc.dname=d;Qh.Bt(K,this.zf.bind(this));
alert("Saved!");this._$()};Mg.rV.prototype._$=function(){if(Qh.ds()){var p=Qh.AN();if(p==null)return;
this.vO.innerHTML="<span style=\"font-size:1.5em; margin-right:0.7em;\">"+p.name+"</span> "+p.email+" <br/>"}else this.vO.innerHTML="Logging In is free. Your environment settings will be synchronized across all devices. <br/>";
var d=Qh.ds()&&Qh.Fv();this.tw.G.style.display=d?"block":"none";if(d){var K=parseInt(p[n.Gh("!&|'&50")])-Date.now()*(1/1e3),A=parseInt(p.ptype),x;
if(A==-1)x="member of a team";else if(A==1)x="Single user";else x="Team of "+A;this.tw.g$("Premium active for "+Math.round(K/(60*60*24))+" more days! ("+x+")")}var M=Qh.ds()&&p.distrib*1e3>Date.now();
this.t$.G.style.display=M?"block":"none";if(M){var K=parseInt(p.distrib)-Date.now()/1e3,A=parseInt(p.ptype);
this.t$.g$("Distributor active for "+Math.round(K/(60*60*24))+" more days! ("+A+" visitos)")}var G=Qh.cO();
if(G&&G.acc&&G.acc.team){var D=G.acc.team;this.uz.d(D.jin);this.Is.d(!D.jin);this.tV.d(D.ldr);this.aG.value=D.mmb.join(", ")}else{this.uz.d(!0);
this.Is.d(!1);this.tV.d("");this.aG.value=""}if(G&&G.acc&&G.acc.dname)this.tF.d(G.acc.dname);else this.tF.d("")};
Mg.rV.prototype.ecH=function(p,d){var K=n.b("table");K.innerHTML="\t\t\t\t<table>\t\t\t\t\t<tr>   <th class=\"left\"></th><th>30 days</th><th>90 days</th> "+(p==3?"<th>365 days</th>":"")+" </tr>\t\t\t\t</table>\t\t\t";
for(var A=0;A<d.length;A+=p+1){var x=n.b("tr"),M;K.appendChild(x);M=n.b("td","left");x.appendChild(M);
M.innerHTML="<b>"+d[A]+"</b>";for(var G=0;G<p;G++){M=n.b("td");x.appendChild(M);M.appendChild(d[A+1+G].G)}}return K};
Mg.rV.prototype.esa=function(p){var d=this.CD.indexOf(p.currentTarget);if(!Qh.ds()){alert("You must log in before buying Premium");
return}if(this.e$L.A()==!1&&d<9){alert("You must accept Terms of Service");return}var K=this.eeO[d],A=K[1],x=K[2],M=Qh.ds()&&Qh.Fv();
if(M&&x<1e3){alert("You already have premium.");return}Qh.order(A,x,this.zf.bind(this));this.zT()};Mg.rV.prototype.zf=function(p){if(Qh.ds()&&Qh.AN().msg)alert(Qh.AN().msg);
this._$();this.zT()};Mg.rV.prototype.BP=function(p){if(Qh.ds()){Qh.eav();this.zT();this._$(null,null,null)}else Qh.BP(this.esD.bind(this))};
Mg.rV.prototype.esD=function(){var p=new y(n.E.s,!0);p.data={j:n.H.ePv};this.n(p)};Mg.rV.prototype.zT=function(){var p=new y(n.E.s,!0);
p.data={j:n.H.etj};this.n(p)};Mg.mN=function(p){QF.call(this);this.G=n.b("div");var d=this.G,K=this.ePE=new Qa([0,13,2],!1,null,!0);
K.R("click",this.esd,this);d.appendChild(K.G);var A=n.b("div","");A.innerHTML=p;d.appendChild(A)};Mg.mN.prototype=new QF;
Mg.mN.prototype.esd=function(p){var d=new y("showpage",!0);d.data={_W:0};this.n(d)};Mg.mN.prototype.l=function(){this.ePE.l()};
Mg.esA="\t\t<h1>Contact</h1>\t\t<p>Photopea.com is a service operated by Ivan Kuckir (I\u010C 04498411).</p>\t\t<ul>\t\t\t<li><b>Address</b>: H\xE1lkova 483, Kostelec nad Orlic\xED, Czech Republic</li>\t\t\t<li><b>E-mail</b>: support@photopea.com</li>\t\t\t<li><b>Phone number</b>: +420 604 592 737</li>\t\t</ul>\t\t<p>You can ask for a refund by writing us an email.</p>\t\t<p>You can pay with PayPal or your credit / debit card. Payments are processed instantly, your Premium account will be activated instantly.</p>\t";
Mg.eoO="\t\t<h1>Terms of Service</h1>\t\t\t\t<h2>What are these Terms?</h2>\t\t<p>\t\tThese terms form a binding contract between you and us (\"these Terms\") regarding your access to and use of any of our web sites, \t\tweb applications, services, products and Software that contain a link to these Terms (individually and collectively, the \"Service\"). \t\t</p>\t\t\t\t<h2>Changes to the Service or these Terms</h2>\t\t<p>\t\tWe may make changes to, update (or not update) or discontinue any part, element, functionality, availability or offering of the Service.\t\tWe may also make changes or updates to these Terms at any time and for any reason in our sole discretion, including complying with applicable law. \t\tIf we make any material changes to these Terms, we\u2019ll provide notice to you in any way we deem reasonable including, for example, \t\tby posting a notice of the change on our web site(s) or in-service, or by sending a notice to your email address if you\u2019ve given it to us.\t\t</p>\t\t\t\t<h2>Your content</h2>\t\t<p>\t\tThese Terms don\u2019t grant us (and we don\u2019t claim) any ownership rights in Your Content.\t\t</p>\t\t<p>\t\t<b>Posting Your Content.</b> By sharing, publishing (e.g. through Imgur), distributing or allowing others to \t\taccess Your Content through the Service You are solely responsible for the consequences of doing so and you acknowledge \t\tand agree that Your Content may be viewed worldwide. If you choose to make your personal information publicly available through the Service, \t\tyou do so at your own risk. You warrant that you have obtained all necessary licenses, \t\trights and permissions to use and grant all of the rights granted in these Terms\t\tto Your Content and that you will comply with any requirements or restrictions imposed by them.\t\t</p>\t\t<!--\t\t<p>\t\tWe have the right (but not the obligation) to pre-screen or monitor any Content or any user's access to the Service,\t\tand to remove or block access to any Content for any reason, or suspend or terminate any user's access to the Service for any reason. \t\tWe have no responsibility or liability with respect to any Content, including for any actions that we may take with respect \t\tto any Content that we determine violates these Terms.\t\t</p>\t\t-->\t\t\t\t<h2>Registering for the Service</h2>\t\t<p>\t\tYou may be required or permitted to register with us to access the Service or certain areas of the Service.\t\tYou agree to immediately notify us of any unauthorized use of your registration information (including all purchases).  \t\tYou may also be able to sign into the Service by using a third-party social networking platform account \t\t(such as Facebook, Google+ or Twitter). Your registration information (including your user name and password, \t\tand any social networking account with which you sign into the Service) is for your personal use only, and not for use by any other person. \t\tYou are responsible for maintaining the confidentiality of any password you may use to access the Service, and agree not to transfer your password or user name\t\tto any third party. You are fully responsible for all use of your registration information, \t\tand to ensure that you \"log out\"/exit from your account with the Service (if applicable) \t\tat the end of each session. We are not liable for any loss or damage arising from your failure to comply with any of the foregoing obligations. \t\t</p>\t\t\t\t<h1>Privacy Policy</h1>\t\t\t\t<p>\t\tBy voluntarily providing us with Personal Data, you are consenting to our use of it in accordance with this Privacy Policy. \t\tIf you provide Personal Data to the Service, you acknowledge and agree that such Personal Data may be transferred from your current location to our servers.\t\t</p>\t\t<p>Computer information collected:</p>\t\t\t\t<ul>\t\t\t\t<li><b>Third party tracking tools.</b> We use third party tracking tools to improve the performance and features of the Service (e.g. Google Analytics).\t\t\t\tSuch tools are created and managed by parties outside our control. As such, we are not responsible for what information is actually captured by such third parties \t\t\t\tor how such third parties use and protect that information.</li>\t\t\t\t\t\t\t\t<li><b>Name and email for the authorization.</b> You may use third-party services (such as Facebook or Google) to log into the Service. \t\t\t\tIn such case, we store your name and email address, that were provided to us by third-party services.</li>\t\t\t\t\t\t\t\t<li><b>Environment settings.</b> When you use the Service, environment settings (e.g. current language, current color theme) \t\t\t\tare stored at your computer in \"localData\".\t\t\t\tIt helps us provide you the same environment when you visit the Service next time.<br/>\t\t\t\tWhen you log into the Service, your environemnt settings are stored at our server. \t\t\t\t</li>\t\t\t\t\t\t\t\t<li><b>Payer information.</b> When you make an order inside the Service and you pay through a third-party service (e.g. PayPal), \t\t\t\twe may store the information about the payer, that we may receive from the third-party service \t\t\t\t(it usually contains the name, the email address and the physical address of the payer, but no card nambers or passwords).</li>\t\t</ul>\t\t\t\t";
function B$(){Qx.call(this,[11,14],"addguides");this.WA;this.hG={mq:{aX:0}};this.lU=null;var p=n.b("div","form");
this.body.appendChild(p);this.gP=new Pe([22,4,0],null,16);this.gP.R(n.E.f,this.xv,this);this.Io=new Pe([22,4,1],null,16);
this.Io.R(n.E.f,this.xv,this);this.lk=new Me(null,Z.ZG.eW);this.lk.R(n.E.f,this.xv,this);p.appendChild(this.gP.G);
p.appendChild(this.lk.G);n.Ld(p);p.appendChild(this.Io.G);this.oj=new Qa("OK",!0,null,!0);this.oj.R("click",this.NI,this);
p.appendChild(this.oj.G);this.R("closebtn",this.eow,this)}B$.prototype=new Qx;B$.prototype.lV=function(p,d){return p!=null};
B$.prototype.ZX=function(){return!0};B$.prototype.l=function(){Qx.prototype.l.call(this);this.gP.l();
this.Io.l();this.lk.l()};B$.prototype.Ei=function(p,d){var K=p.mq.aX;this.hG.mq.aX=K;this.lk.d(K)};B$.prototype._$=function(p,d){this.WA=p;
this.lU=JSON.stringify(p.tu);this.Hx()};B$.prototype.Hx=function(){var p=this.WA,d=p.tu,K=function(A,p,x,M){var G=[];
for(var D=0;D<A.length;D++)G.push(Z.ZG.bQ(A[D],p.Bk,x,M));return G.join(", ")};this.gP.d(K(d[1],p,this.hG,p.D));
this.Io.d(K(d[0],p,this.hG,p.t))};B$.prototype.xv=function(p){if(p&&p.currentTarget==this.lk)this.hG.mq.aX=this.lk.A();
else{var d=this.ecC(this.gP),K=this.ecC(this.Io),A=this.WA;A.tu=[K,d];A.nw=!0}this.Hx()};B$.prototype.ecC=function(p){var d=p==this.gP?this.WA.D:this.WA.t,K=p.A().replace(/,/g," ").replace(/  +/g," ").trim(),A=K==""?[]:K.split(" ");
for(var x=0;x<A.length;x++)A[x]=Z.ZG.eFs(A[x],this.WA.Bk,this.hG,d);return A};B$.prototype.eow=function(p){var d=this.WA;
d.tu=JSON.parse(this.lU);d.nw=!0;this.WA=null};B$.prototype.NI=function(p){this.xv(p);var d=new y(n.E.q,!0);
d.O=r.cz;d.data={j:"gids",UV:JSON.parse(this.lU),dz:JSON.parse(JSON.stringify(this.WA.tu))};this.WA=null;
this.close();this.n(d)};function eD(p){var d=eq.names[p];if(d==null)d=QW.names[p];if(p=="fade")d=[2,11];
Qx.call(this,d,"afw_"+p);this.vX=p;this.E$=null;this.lm=null;this.WH=new T[p];this.WH.R(n.E.f,this.Pc,this);
this.WH.parent=this;this.body.appendChild(this.WH.G);this.qk=new Ql([24,18,5]);this.qk.d(!0);this.qk.R(n.E.f,this.Pc,this);
this.e$z=new Qa("Reset",!0,null,!0);this.e$z.R("click",this.mR,this);this.oj=new Qa("OK",!0,null,!0);
this.oj.R("click",this.NI,this);if(this.WH.yJ())this.WH.zJ(this.oj.G);else{n.Mz(this.WH.G,"form");n.Mz(this.body,"flexrow");
this.WH.G.setAttribute("style","width:24em");var K=n.b("div");this.body.appendChild(K);K.setAttribute("style","width:8em; margin-left:1em; line-height:2.3em");
K.appendChild(this.oj.G);K.appendChild(this.e$z.G);K.appendChild(this.qk.G)}this.R("closebtn",this.QM,this)}eD.prototype=new Qx;
eD.prototype.ZX=function(){return!0};eD.prototype.yJ=function(){return this.WH!=null&&this.WH.yJ()};
eD.prototype.jt=function(){return this.WH.yJ()?new QP(0,0):Qx.prototype.jt()};eD.prototype.QQ=function(){return this.WH.QQ()};
eD.prototype.Fg=function(p,d,K,A,x){this.WH.Fg(p,d,K,A,x)};eD.prototype.Yh=function(p,d,K,A,x){this.WH.Yh(p,d,K,A,x)};
eD.prototype.gi=function(p,d,K,A,x){this.WH.gi(p,d,K,A,x)};eD.prototype.lV=function(p,d){if(this.vX=="fade")return eD.ecg(p);
return!0};eD.prototype.mR=function(p){this.WH.d(eq.Kj(this.vX));this.Pc()};eD.prototype.Pc=function(p){this.vC({j:"edit",jV:this.WH.A(),Nj:!this.qk.A()})};
eD.prototype.QM=function(p){this.vC({j:"cancel"})};eD.prototype.NI=function(p){if(!this.qk.A()){this.qk.d(!0);
this.Pc()}this.lm=this.WH.A();if(this.yJ())this.Pc();this.vC({j:"confirm"});this.close()};eD.prototype.l=function(){Qx.prototype.l.call(this);
this.qk.l();if(this.WH)this.WH.l()};eD.prototype.Ei=function(p,d){if(this.WH)this.WH.Ei(p,d)};eD.prototype.AC=function(p,d,K,A){if(this.WH&&this.WH.yJ())this.WH.AC(A);
else Qx.prototype.AC.call(this,p,d,K,A)};eD.prototype._$=function(p,d,K,A){this.E$=d.E$;var x=p.add.lnk2?p.add.lnk2:[],M,G,D=new R(0,0,p.t,p.D),P=p.L[p.Y[0]],a=null;
M=P.buffer;G=P.rect;if(this.yJ())a=p.zi(p.Y[0]-1);var e=eq.Kj(this.vX);if(d.E$==null){this.WH.d(e,M,G,D,a,x);
if(QW.names[this.vX]){if(A.Q(B.Od)&&this.lm)this.WH.d(this.lm);var f=Qv.Kq.getData(p),N=Z.$P(f[0].Qd);
this.WH.WM(N)}}else{var Y=!1,P=p.L[this.E$.o];if(P.fP()){var l=P.MT(p);M=l.buffer;G=l.rect;var h=P.add.SoLd.filterFX.v.filterFXList.v;
if(h[this.E$.index]){var s=h[this.E$.index].v.Fltr.v;this.WH.d(s,M,G,D,a,x);Y=!0}}if(!Y)this.WH.d(e,M,G,D,a,x)}if(!this.yJ())this.Pc()};
eD.prototype.vC=function(p){var d=new y(n.E.q,!0);p.vX=this.vX;p.E$=this.E$;d.data=p;d.O=eq.names[this.vX]||this.E$?r.qR:r.kt;
d.UQ=!0;this.n(d)};eD.prototype.dq=function(p,d){d=d-26;p=p-26;this.WH.dq(p,d)};eD.ecg=function(p){if(p==null)return!1;
var d=p.ED();if(d==null||!(d.data instanceof Array)||d.data.length!=p.Y.length)return!1;for(var K=0;
K<d.data.length;K++){var A=d.data[K];if(A.o<0&&p.$O[-1-A.o])return!0;if(A.o==null||p.L[A.o]==null||p.L[A.o].gq!=A.xn)return!1;
if(p.Y.indexOf(A.o)==-1)return!1}return!0};function PR(){Qx.call(this,[11,0],"camera");this.data=null;
this.lv=new QP(1,1);this.LM=n.b("div","form hbar");this.body.appendChild(this.LM);this.eIF=new Me(null,[]);
this.uJ=new Me([21,0],[[21,2],[21,1]]);this.LM.appendChild(this.uJ.G);this.lE=new Qa([11,0],!1,null,!0);
this.lE.R("click",this.eo_,this);this.LM.appendChild(this.lE.G);this.lw=new GJ("");this.LM.appendChild(this.lw.G);
this.lw.G.setAttribute("style","position:absolute;  left:14px; top:70px; z-index:1;");this.stream=null;
this.Of=n.b("video","");this.Of.setAttribute("autoplay","true");this.body.appendChild(this.Of);this.eFt=this.eWp.bind(this);
this.eFE=this.eWv.bind(this);this.ePw=this.eLp.bind(this);this.R("closebtn",this.eSP,this)}PR.prototype=new Qx;
PR.prototype.l=function(){Qx.prototype.l.call(this);this.uJ.l();this.lE.l();this.eLp()};PR.prototype.zi=function(){var p=this.Of.videoWidth,d=this.Of.videoHeight,K=n.b("canvas","");
K.width=p;K.height=d;var A=K.getContext("2d");A.drawImage(this.Of,0,0,p,d);var x=A.getImageData(0,0,p,d);
return{Uo:new R(0,0,p,d),data:x.data.buffer}};PR.prototype.eo_=function(p){if(this.uJ.A()==0)this.eoX();
else this.eoD()};PR.prototype.eoD=function(){var p=this.zi(),d={buffer:new Uint8Array(p.data),rect:p.Uo},K=new y(n.E.q,!0);
K.UQ=!0;K.O=r.aW;K.data={j:V.Op,Gi:d};this.n(K);alert(Qc.get([21,4]))};PR.prototype.eoX=function(){var p=this.zi(),d=es.uA("camera",[p]),K=new y(n.E.s,!0);
K.data={j:n.H.iA,_b:d};this.n(K);alert(Qc.get([21,5]))};PR.prototype._$=function(p,d,K){var A={video:{width:{ideal:6e3},height:{ideal:6e3}}};
if(navigator.mediaDevices.getUserMedia)navigator.mediaDevices.getUserMedia(A).then(this.eFt).catch(this.eFE);
else navigator.webkitGetUserMedia(A,this.eFt,this.eFE)};PR.prototype.eWp=function(p){this.stream=p;this.Of.srcObject=p;
this.Of.addEventListener("loadedmetadata",this.ePw,!1)};PR.prototype.eLp=function(p){this.dq(this.dv,this.Ri)};
PR.prototype.jt=function(p,d){return new QP(0,0)};PR.prototype.dq=function(p,d){var K=this.Of.videoWidth,A=this.Of.videoHeight;
this.lw.d(K+" x "+A+" px");this.lv.pf(K,A);this.dv=p;this.Ri=d;var x=p-28,M=d-28-30,G=this.lv.x/this.lv.y;
if(x/M>G)x=M*G;else M=x/G;this.Of.setAttribute("style","display: block; width: "+Math.round(x)+"px; height:"+Math.round(M)+"px;")};
PR.prototype.eWv=function(p){console.log("error",p);alert(Qc.get([21,6]));this.close()};PR.prototype.eSP=function(p){if(this.stream!=null){this.stream.getTracks()[0].stop();
this.Of.src="";this.stream=null}};function G$(){Qx.call(this,[7,8],"crange");this.WA=null;this.tL={Gs:73,V:4.45,M:4};
this.tz={Gs:73,V:4.45,M:4};var p=n.b("div","form");p.setAttribute("style","width:18em");this.body.appendChild(p);
this.jm=new Qo([12,92],0,200);this.jm.d(40);this.jm.R(n.E.f,this.nl,this);p.appendChild(this.jm.G);this.gM=n.b("canvas");
p.appendChild(this.gM);this.l$=new Mf([12,36],[[18,0],"\uFF0B","\u2014"]);p.appendChild(this.l$.G);this.eT=new Qa("OK",!0,null,!0);
this.eT.R("click",this.NI,this);this.body.appendChild(this.eT.G)}G$.prototype=new Qx;G$.prototype.lV=function(p,d){return p!=null};
G$.prototype.QQ=function(){return!0};G$.prototype.ZX=function(){return!0};G$.prototype.l=function(){Qx.prototype.l.call(this);
this.jm.l();this.l$.l()};G$.prototype.Fg=function(p,d,K,A,x){var M=p.U.FT(x.x,x.y);this.eRV(M.x,M.y)};
G$.prototype.eRV=function(p,d){var K=Math.min,A=Math.max,x=this.WA,M=A(0,K(x.t-1,Math.floor(p))),G=A(0,K(x.D-1,Math.floor(d))),D=x.zi(),P=(G*x.t+M)*4,a=D[P],e=D[P+1],f=D[P+2],N=Z.Jt(a,e,f),Y=this.l$.A(),l=this.tL,h=this.tz;
if(Y==0){this.tL=JSON.parse(JSON.stringify(N));this.tz=N}else if(Y==1){l.Gs=K(l.Gs,N.Gs);l.V=K(l.V,N.V);
l.M=K(l.M,N.M);h.Gs=A(h.Gs,N.Gs);h.V=A(h.V,N.V);h.M=A(h.M,N.M)}else if(Y==2){var s=(l.Gs+h.Gs)/2,J=(l.V+h.V)/2,u=(l.M+h.M)/2;
if(N.Gs<s)l.Gs=A(l.Gs,N.Gs+10);else h.Gs=K(h.Gs,N.Gs-10);if(N.V<J)l.V=A(l.V,N.V+1);else h.V=K(h.V,N.V-1);
if(N.M<u)l.M=A(l.M,N.M+1);else h.M=K(h.M,N.M-1)}this.nl()};G$.prototype.NI=function(p){var d=new y(n.E.q,!0);
d.O=r.$$;d.data={j:"crange",pV:this.tL,p$:this.tz,ql:this.jm.A()/200};d.UQ=!0;this.n(d);this.close()};
G$.prototype._$=function(p,d){this.WA=p;this.eRV(0,0)};G$.prototype.nl=function(){var p=this.WA,d=r.wJ.ePI(p,this.tL,this.tz,this.jm.A()/200),K=d.rect,A=d.channel,x=this.gM,M=x.getContext("2d"),G=Math.floor(230*n.F()),D=Math.floor(G*(K.D/K.t));
x.width=G;x.height=D;n.Cp(x,G,D);var P=Z.p(A.length*4);Z.Pk(P,4294967295);for(var a=0;a<3;a++)Z.qF(A,P,a);
var e=r.ge._x([P,K],new QI(G/K.t,0,0,D/K.D,0,0)),f=e.rect,N=new ImageData(new Uint8ClampedArray(e.buffer.buffer),f.t,f.D);
M.putImageData(N,0,0)};function ec(){Qx.call(this,[12,76,1],"createshape");this.Ov=null;var p=n.b("div","form");
p.setAttribute("style","width:20em");this.body.appendChild(p);this.NK=new MK([12,41],0,0,null,0,!1,!0);
p.appendChild(this.NK.G);n.Ld(p);this.gP=new MK([12,42],0,0,null,0,!1,!0);p.appendChild(this.gP.G);n.Ld(p);
this.lR=new Ql([19,5,3]);p.appendChild(this.lR.G);this.NK.d(100);this.gP.d(100);this.oj=new Qa("OK",!0,null,!0);
this.oj.R("click",this.NI,this);p.appendChild(this.oj.G)}ec.prototype=new Qx;ec.prototype.NI=function(p){this.Ov.ehL(this.Ov.ehh,this.NK.A(),this.gP.A(),this.lR.A());
this.close()};ec.prototype.l=function(){if(this.Ov)this.tH=Qc.get([5,3])+": "+Qc.get(this.Ov.eh_);Qx.prototype.l.call(this);
this.NK.l();this.gP.l();this.lR.l()};ec.prototype._$=function(p,d){this.Ov=d;this.l()};function MT(){Qx.call(this,[11,1],"colorpicker");
this.IW=null;this.vg=null;this.vq=null;this.uC=!1;this.BH=!1;var p=n.b("div","flexrow"),M,G;this.body.appendChild(p);
this.UK=new MN(256);this.UK.R(n.E.f,this.aL,this);p.appendChild(this.UK.G);var d=n.b("div","form");d.setAttribute("style","width:14.5em; margin-left:1em;");
p.appendChild(d);this.eFN=n.b("div","full");d.appendChild(this.eFN);this.eFb=n.b("div","full");d.appendChild(this.eFb);
var K=n.b("div","flexrow");d.appendChild(K);var A=n.b("div"),x=n.b("div");K.appendChild(A);K.appendChild(x);
M=["R","G","B"];G=A;this.lz=[];for(var D=0;D<3;D++){var P=new MK(M[D]+":",0,255,null,0,!1,!0);this.lz.push(P);
P.R(n.E.f,this.eSt,this);G.appendChild(P.G)}M=["H","S","B"];G=x;this.la=[];for(var D=0;D<3;D++){var a=0,e=360,f="\xB0";
if(D!=0){e=100;f="%"}var P=new MK(M[D]+":",a,e,f,0,!1,!0);this.la.push(P);P.R(n.E.f,this.eSM,this);G.appendChild(P.G)}this.gP=new Pe("Hex",null,6);
this.gP.R(n.E.f,this.aN,this);d.appendChild(this.gP.G);this.j_=n.b("input","fitem");this.j_.setAttribute("type","color");
this.j_.setAttribute("style","width:50px");this.j_.addEventListener("change",this.aN.bind(this),!1);
d.appendChild(this.j_);this.IJ=new pT(9);this.IJ.R(n.E.f,this.aN,this);d.appendChild(this.IJ.G);this.oj=new Qa("OK",!0,null,!0);
this.oj.R("click",this.NI,this);d.appendChild(this.oj.G);this.R("closebtn",this.QM,this);this.tq=!1}MT.prototype=new Qx;
MT.prototype.QQ=function(){return!0};MT.prototype.dq=function(p,d){this.UK.dq(Math.min(256,p-250),d)};
MT.prototype.aL=function(p){this.vg=this.UK.A();this.update()};MT.prototype.Fg=function(p,d,K,A,x){this.tq=!0;
this.eR$(p,x)};MT.prototype.Yh=function(p,d,K,A,x){if(!this.tq)return;this.eR$(p,x)};MT.prototype.gi=function(p,d,K,A,x){this.tq=!1};
MT.prototype.eR$=function(p,d){var K=r.Ib.QD(p,d,1),A=K&255,x=K>>8&255,M=K>>16&255;this.vg={N:M/255,w:x/255,M:A/255};
this.update()};MT.prototype.eSt=function(p){var d=this.lz,K=this.Iu(parseInt(d[0].A())),A=this.Iu(parseInt(d[1].A())),x=this.Iu(parseInt(d[2].A()));
this.vg={N:K/255,w:A/255,M:x/255};this.update()};MT.prototype.eSM=function(p){var d=this.la,K=this.WB(parseInt(d[0].A())/360),A=this.WB(parseInt(d[1].A())/100),x=this.WB(parseInt(d[2].A())/100);
this.vg=Z.uK(K,A,x);this.update()};MT.prototype.aN=function(p){var d;if(p.currentTarget==this.IJ)d=this.IJ.A();
else{d=p.currentTarget==this.gP?this.gP.A():this.j_.value;if(d.charAt(0)=="#")d=d.slice(1);if(d.length==3)d=d[0]+d[0]+d[1]+d[1]+d[2]+d[2];
d=Z.etA(d)}this.vg={N:(d>>16&255)/255,w:(d>>8&255)/255,M:(d&255)/255};this.update()};MT.prototype.YG=function(p){var d=p.N,K=p.w,A=p.M;
return Math.round(d*255)<<16|Math.round(K*255)<<8|Math.round(A*255)};MT.prototype.NI=function(p){this.ezf();
var d=this.YG(this.vg);this.vq(d);this.close();this.BH=!1;this.vg=null};MT.prototype.QM=function(p){this.ezf();
if(this.uC)this.vq(this.YG(this.IW));this.BH=!1;this.vg=null};MT.prototype.ezf=function(p){var d=new y(n.E.s,!0);
d.data={j:n.H.eEj};this.n(d)};MT.prototype.Ei=function(p,d){if(d!=Qn.Py)return;var K=p.ou;this.IJ.d(K);
if(this.vg!=null){this.vg={N:(K>>16&255)/255,w:(K>>8&255)/255,M:(K>>0&255)/255};this.update()}};MT.prototype._$=function(p,d){var K=d.es,A={N:(K>>16&255)/255,w:(K>>8&255)/255,M:(K>>0&255)/255};
if(this.vg==null){var x=new y(n.E.s,!0);x.data={j:n.H.Nn,$B:"crosshair",push:!0};this.n(x);this.tq=!1;
this.vq=d.fd;this.uC=!1;this.BH=d.bD;this.IW=JSON.parse(JSON.stringify(A));this.eFb.setAttribute("style","height:3em;background-color:#"+Z.rd(K)+";")}this.vg=A;
this.update()};MT.prototype.update=function(){var p=this.vg,d=this.YG(p),K=this.lz;K[0].d(Math.round(p.N*255));
K[1].d(Math.round(p.w*255));K[2].d(Math.round(p.M*255));this.gP.d(Z.rd(d));this.j_.value="#"+Z.rd(d);
this.eFN.setAttribute("style","height:3em;background-color:#"+Z.rd(d)+";");var A=Z.FE(p.N,p.w,p.M);K=this.la;
K[0].d(Math.round(A.Ri*360));K[1].d(Math.round(A.mQ*100));K[2].d(Math.round(A.jV*100));this.UK.d(p);
if(this.BH){this.vq(this.YG(this.vg));this.uC=!0}};MT.prototype.Iu=function(p){return Math.max(0,Math.min(255,p))};
MT.prototype.WB=function(p){return Math.max(0,Math.min(1,p))};function nw(){Qx.call(this,[11,2],"contoureditor");
this.eLK=null;this.wG=null;this.response=null;this.xN=n.b("div","cell");this.body.appendChild(this.xN);
this.ic=n.b("div","cell padded");this.body.appendChild(this.ic);var p=n.b("div","bordered padded vmargin");
this.xN.appendChild(p);this.WH=new n$;this.WH.R(n.E.f,this.zj,this);p.appendChild(this.WH.G);this.oj=new Qa("OK",!0,null,!0);
this.oj.R("click",this.close,this);this.ic.appendChild(this.oj.G);this.coords=n.b("div","");this.coords.setAttribute("style","width:250px");
this.xN.appendChild(this.coords);this.mm=new Pe("X (in)","%",4);this.uB=new Pe("Y (out)","%",4);this.IC=new Ql([19,3,0]);
this.mm.R(n.E.f,this.ip,this);this.uB.R(n.E.f,this.ip,this);this.IC.R(n.E.f,this.ip,this);this.coords.appendChild(this.mm.G);
this.coords.appendChild(this.IC.G);this.coords.appendChild(this.uB.G);this.R("closebtn",this.Zy,this)}nw.prototype=new Qx;
nw.prototype.l=function(){Qx.prototype.l.call(this);this.IC.l()};nw.prototype.zj=function(p){this.wG.Crv.v=this.WH.A();
this.response(this.wG);this.aZ()};nw.prototype.Zy=function(p){this.response(this.eLK)};nw.prototype._$=function(p,d){this.eLK=JSON.parse(JSON.stringify(d.W));
this.wG=d.W;this.response=d.response;this.WH.d(this.wG.Crv.v);this.aZ()};nw.prototype.aZ=function(){var p=this.WH.eeV();
this.coords.setAttribute("class",p==-1?"disabled":"");if(p==-1)return;var d=this.wG.Crv.v[p].v;this.mm.d(Math.round(d.Hrzn.v*(100/255)));
this.uB.d(Math.round(d.Vrtc.v*(100/255)));this.IC.d(d.Cnty.v)};nw.prototype.ip=function(p){var d=this.WH.eeV(),K=this.wG.Crv.v[d];
K.v.Hrzn.v=parseFloat(this.mm.A())*(255/100);K.v.Vrtc.v=parseFloat(this.uB.A())*(255/100);K.v.Cnty.v=this.IC.A();
this.wG.Crv.v.sort(function(A,x){return A.v.Hrzn.v-x.v.Hrzn.v});this.WH.d(this.wG.Crv.v,this.wG.Crv.v.indexOf(K));
this.aZ();this.response(this.wG)};function nf(){Qx.call(this,[11,3],"csize");this.li=0;this.LM=n.b("div","form");
this.LM.setAttribute("style","width:22em");this.body.appendChild(this.LM);this.ZK=new tr(!0,!0,!0,!0);
this.ZK.eaK(!1);this.LM.appendChild(this.ZK.G);this.lh=new Mf("Align with",[[8,7],[12,6]]);this.lh.R(n.E.f,this.eSp,this);
this.IY=new px([12,23,2],41);this.LM.appendChild(this.IY.G);this.IY.d(4);this.ls=new pX(!1);this.ls.eaT(new QP(0,0));
this.eT=new Qa("OK",!0,null,!0);this.eT.R("click",this.NI,this);this.body.appendChild(this.eT.G)}nf.prototype=new Qx;
nf.prototype.lV=function(p,d){return p!=null};nf.prototype.ZX=function(){return!0};nf.prototype.eSp=function(){var p=[this.IY.G,this.ls.G];
this.LM.removeChild(p[this.li]);this.li=this.lh.A();this.LM.appendChild(p[this.li])};nf.prototype.l=function(){Qx.prototype.l.call(this);
this.ZK.l();this.lh.l();this.IY.l();this.ls.l()};nf.prototype.NI=function(p){var d=this.ZK.A(),K=d.x,A=d.y,x=new y(n.E.Iz,!0);
x.data=r.pO.eeH(K,A,this.IY.A());this.close();this.n(x)};nf.prototype._$=function(p,d){this.ZK.d(new QP(p.t,p.D),p.Bk)};
function Pw(){Qx.call(this,[11,4],"duplinto");this.qb=null;this.DZ=null;var p=n.b("div","form");p.setAttribute("style","max-width:26em");
this.body.appendChild(p);this.uN=new Me([12,43],["abc","def"]);this.uN.R(n.E.f,this.eaE,this);p.appendChild(this.uN.G);
n.Ld(p);this._h=new Pe([12,48],null,14);p.appendChild(this._h.G);this.oj=new Qa("OK",!0,null,!0);this.oj.R("click",this.NI,this);
p.appendChild(this.oj.G)}Pw.prototype=new Qx;Pw.prototype.ZX=function(){return!0};Pw.prototype.l=function(){Qx.prototype.l.call(this);
this.uN.l();this._h.l()};Pw.prototype.eaE=function(p){var d=this.uN.A();if(d==this.DZ.length)this._h.Hm();
else this._h.gH()};Pw.prototype._$=function(p,d,K){this.qb=p;this.DZ=K;this._h.d(p.Y.length==0?"Layer":p.L[p.Y[0]].getName());
var A=[];for(var x=0;x<K.length;x++)A.push(K[x].name);A.push([11,7]);this.uN.NC(A);this.uN.d(K.indexOf(p));
this.eaE(null)};Pw.prototype.NI=function(p){var d=this.uN.A();if(d==this.DZ.length){var K=new QZ(this._h.A()+".psd");
K.t=this.qb.t;K.D=this.qb.D;K.buffer=Z.p(K.t*K.D*4);var A=K.sP();A.Hv("Background");K.Wz([A]);var x=new y(n.E.s,!0);
x.UQ=!0;x.data={j:n.H.iA,_b:K};this.n(x)}var M=this.qb.Un(null,this.qb!=this.DZ[d]),x=new y(n.E.q,!0);
x.data={j:V.Bj,L:M,KS:this.qb,Tk:this.DZ[d]};x.O=r.aW;x.UQ=!0;this.n(x);this.close()};function no(){Qx.call(this,[1,9],"eassets");
this.hG=null;this.rL=null;var p=n.b("div","form");p.setAttribute("style","width:32em");this.body.appendChild(p);
this.oU=n.b("span");p.appendChild(this.oU);n.Ld(p);this.Mk=[new Ql("Only layers / folders, whose name starts with \"-e-\""),new Ql("Remove parts outside the canvas"),new Ql("Trim transparent parts")];
for(var d=0;d<3;d++){var K=this.Mk[d];K.d(!0);K.R(n.E.f,this.Hx,this);p.appendChild(K.G);n.Ld(p)}this.th=new nB([12,14,0],["1x","2x","3x","4x"]);
this.th.d([!0,!1,!1,!1]);p.appendChild(this.th.G);n.eMJ(p);this.lD=["PNG","JPG","SVG"];this.RG=new Me([12,50],this.lD);
this.RG.R(n.E.f,this.eiB,this);p.appendChild(this.RG.G);this.Gm=new BZ;p.appendChild(this.Gm.G);this.eT=new Qa([1,9],!0,null,!0);
this.eT.R("click",this.NI,this);p.appendChild(this.eT.G);this.R("closebtn",this.mr,this)}no.prototype=new Qx;
no.prototype.eiB=function(p){this.Gm.eKg(this.lD[this.RG.A()])};no.prototype.mr=function(p){this.rL=null};
no.prototype.l=function(){Qx.prototype.l.call(this);this.RG.l();this.th.l();this.eT.l();this.Gm.l()};
no.prototype._$=function(p,d,K){this.rL=p;this.Hx()};no.prototype.Hx=function(p){var d=this.esO(),K="- - - "+d.length+" exportable layers";
this.oU.textContent=K;this.eiB(null)};no.prototype.esO=function(){var p=this.Mk[0].A(),d=[],K=this.rL;
for(var A=0;A<K.L.length;A++){var x=K.L[A],M=x.getName();if(!p&&!x.Ba()&&!x.rect.kQ()||M.startsWith("-e"))d.push(A)}return d};
no.prototype.Ei=function(p,d){this.hG=p};no.prototype.NI=function(p){var d=this.rL,K=[this.lD[this.RG.A()]],A=[this.Gm.A()],x=this.th.A(),M={},G={},D=this.esO(),P=[this.Mk[1].A(),this.Mk[2].A()];
for(var a=0;a<D.length;a++){var e=D[a],f=d.L[e],N=f.getName();if(G[N]!=null){G[N]++;N+=" "+G[N]}else G[N]=1;
var Y=f.Ml();f.qJ(!0);for(var l=0;l<x.length;l++){if(!x[l])continue;var h=l+1,s=r.Zl.eGv(d,K,h,this.hG,e,A,P);
for(var J=0;J<K.length;J++){var u=K[J],Q=N.slice(N.startsWith("-e-")?3:0)+(h==1?"":"-"+h+"x")+"."+u.toLowerCase();
M[Q]=new Uint8Array(s[J])}}f.qJ(Y)}var W=UZIP.encode(M),q=new y(n.E.s,!0);q.data={j:n.H.KW,data:W,name:"assets.zip"};
this.n(q)};function PO(){Qx.call(this,"File Info","finfo");this.ld=null;this.Xn=null;this.lZ=null;this.LM=n.b("div","form scrollable label12");
this.LM.setAttribute("style","width:35em;  height:38em;  margin-bottom:8px");this.body.appendChild(this.LM);
var p=n.b("div","form");this.body.appendChild(p);this.ts=new Me(null,["Hello"]);p.appendChild(this.ts.G);
this.eLD=new Qa("Add Parameter",!1,null,!0);p.appendChild(this.eLD.G);this.eLD.R("click",this.QL,this);
this.to=new Qa("=== S A V E ===",!1,null,!0);p.appendChild(this.to.G);this.to.R("click",this.in,this);
this.eLj=""}PO.prototype=new Qx;PO.prototype.jt=function(p,d){return p<450||d<450?new QP(0,0):new QP(150,100)};
PO.prototype.QL=function(p){if(this.lZ.length==0)return;var d=this.lZ[this.ts.A()],K=this.iB();K[d]=eI.tN[d][0];
this.Yp(K);this.Xn[d].G.scrollIntoView();this.Xn[d].xP()};PO.prototype.my=function(p){var d=this.iB();
delete d[p.currentTarget.ePc];this.Yp(d)};PO.prototype.in=function(p){var d=this.iB(),K=this.ld,A=!0;
for(var x in K)if(JSON.stringify(K[x])!=JSON.stringify(d[x]))A=!1;for(var x in d)if(JSON.stringify(K[x])!=JSON.stringify(d[x]))A=!1;
if(A)return;var M=new y(n.E.q,!0);M.O=r.aW;M.data={j:V.gV,vf:d};this.n(M);this.ld=d;this.Yp(d)};PO.eSB=function(p){function d(x){var M=x.toLowerCase();
return x==M}var K=p.split(":").pop();for(var A=1;A<K.length-1;A++){if(K[A]==K[A].toUpperCase()&&(d(K[A+1])||d(K[A-1]))){K=K.slice(0,A)+" "+K.slice(A);
A++}}return K};PO.prototype._$=function(p,d){this.ld=p.ZD;this.Yp(p.ZD)};PO.prototype.Yp=function(p){var d=this.LM,x=0;
n.hM(d);var K=this.Xn={},A=["tiff","exif","exif:GPS"],M=this.lZ=[],G=[];for(var D in eI.tN){var P=PO.eSB(D),a=0,f=15,N=null;
if(p[D]==null){M.push(D);G.push(P);continue}for(var e=0;e<A.length;e++)if(D.startsWith(A[e]))a=e;if(a!=x){n.eMJ(d);
x=a}if(D=="tiff:ImageDescription"||D=="dc:Keywords"){f=18.5;N=3}var Y=new Pe(P,null,f,N);K[D]=Y;var l=p[D];
if(l instanceof Array)l=l[1]==0?"---":l[0]+"/"+l[1];var h=new Qa("\u2716",null,Qc.get([5,4]));d.appendChild(h.G);
h.R("click",this.my,this);h.ePc=D;Y.d(l);d.appendChild(Y.G);n.Ld(d);if(D=="exif:GPSLongitude"&&p["exif:GPSLatitude"]){this.eLj=PO.eom(p["exif:GPSLatitude"])+","+PO.eom(p["exif:GPSLongitude"]);
var s=new Qa("Show on map",!1,null,!0);d.appendChild(s.G);n.Ld(d);s.R("click",this.eSu,this)}}this.ts.NC(G);
this.ts.d(0)};PO.prototype.iB=function(){var p=this.Xn,d=eI.tN,K={};for(var A in d){var x=d[A][0],M=typeof x;
if(x==null||p[A]==null)continue;var G=p[A].A();if(M=="number")G=parseFloat(G);else if(x instanceof Array&&x.length==2)G=G.split("/").map(parseFloat);
K[A]=G}return K};PO.eom=function(p){var d=p.length,K=p.slice(0,d-1).split(",").map(parseFloat),A=p.slice(d-1),x=K[0]+K[1]/60+K[2]/3600;
if(A!="N"&&A!="E")x=-x;return x};PO.prototype.eSu=function(p){window.open("https://maps.google.com?q="+this.eLj,"Map")};
function Mj(){Qx.call(this,[11,5],"gradienteditor");this.IW=null;this.vg=null;this.Zx=null;this.vq=null;
this.uC=!1;this.BH=!1;n.Mz(this.body,"form");this.ni=null;this._c=null;this.LP=-1;this.Gg=-1;this.Zf=0;
this.xH=this.wa.bind(this);this.xw=this.tc.bind(this);this.Fs=n.b("canvas","");this.MZ=this.Fs.getContext("2d");
this.Fs.setAttribute("style","display:block");this.LW=null;n.Go(this.Fs);n.uw(this.Fs,this.tU.bind(this));
this.jI=new MK([19,3,3],0,100,"%");this.jI.R(n.E.f,this.DE,this);this.jI.parent=this;this.body.appendChild(this.jI.G);
n.Ld(this.body);this.vh=new GJ([12,0]);this.body.appendChild(this.vh.G);this.Rt=n.b("div","bordered padded noalign");
this.body.appendChild(this.Rt);this.Xo=new MK([12,0],0,100,"%");this.Xo.parent=this;this.Xo.R(n.E.f,this.DE,this);
this.Rt.appendChild(this.Xo.G);this.vT=new MK([12,40],0,100,"%");this.vT.parent=this;this.vT.R(n.E.f,this.DE,this);
this.Rt.appendChild(this.vT.G);this.tx=new Qa([5,4],!1,null,!0);this.tx.R("click",this.eWc,this);this.Rt.appendChild(this.tx.G);
this.body.appendChild(this.Fs);n.Ld(this.body);this.e_m=new GJ([13,0]);this.body.appendChild(this.e_m.G);
this.II=n.b("div","bordered padded noalign");this.body.appendChild(this.II);this.nF=new Me([12,44],[[12,45],[12,46],[12,47]]);
this.nF.R(n.E.f,this.DE,this);this.II.appendChild(this.nF.G);this.Ay=new Md(!0);this.Ay.parent=this;
this.Ay.R(n.E.f,this.DE,this);this.II.appendChild(this.Ay.G);this.EA=new MK([12,40],0,100,"%");this.EA.parent=this;
this.EA.R(n.E.f,this.DE,this);this.II.appendChild(this.EA.G);this.tA=new Qa([5,4],!1,null,!0);this.tA.R("click",this.eeF,this);
this.II.appendChild(this.tA.G);this.oj=new Qa("OK",!0,null,!0);this.oj.R("click",this.NI,this);this.body.appendChild(this.oj.G);
this.R("closebtn",this.QM,this)}Mj.prototype=new Qx;Mj.prototype.QM=function(p){if(this.uC)this.vq(this.IW)};
Mj.prototype.l=function(){Qx.prototype.l.call(this);this.jI.l();this.vh.l();this.e_m.l();this.tx.l();
this.tA.l();this.Xo.l();this.vT.l();this.nF.l();this.EA.l()};Mj.prototype.Ei=function(p,d){this.Zx=p};
Mj.prototype._$=function(p,d){this.vg=JSON.parse(JSON.stringify(d.k));this.IW=JSON.parse(JSON.stringify(d.k));
this.ni=this._c=null;this.vq=d.fd;this.uC=!1;this.BH=d.bD;this.gx();this.Dn()};Mj.prototype.NI=function(p){var d=this.vg;
this.vq(d);this.close()};Mj.prototype.gJ=function(p){return p==B.dF||p==B.dB};Mj.prototype.AC=function(p,d,K,A){if(A.Q(B.dF)||A.Q(B.dB)){if(this._c)this.eWc();
if(this.ni)this.eeF()}};Mj.prototype.eWc=function(p){var d=this.vg.Trns.v;if(this._c==null||d.length==2)return;
d.splice(d.indexOf(this._c),1);this._c=null;this.gx();this.Dn()};Mj.prototype.eeF=function(p){var d=this.vg.Clrs.v;
if(this.ni==null||d.length==2)return;d.splice(d.indexOf(this.ni),1);this.ni=null;this.gx();this.Dn()};
Mj.prototype.gx=function(){var p=this.Fs,d=this.MZ,K=n.F();p.width=Math.floor(410*K);p.height=Math.floor(90*K);
n.Cp(p,p.width,p.height);this.LW=new R(0,0,Math.floor(380*K),Math.floor(32*K));this.LW.x=Math.floor((this.Fs.width-this.LW.t)/2);
this.LW.y=Math.floor((this.Fs.height-this.LW.D)/2);var A=this.LW,x=A.t,M=A.D,G=A.x,D=A.y,P=new R(0,0,x,M),a=d.getImageData(0,0,x,M),e=new Uint8Array(a.data.buffer);
Z.Tf(e,x,M,8,0,0);var f=Z.p(x*M*4);Z.k.kg(this.vg,f,P,[1/x,0,0,1/M],x/2,M/2,!1,0,this.Zx.ou,this.Zx.Le);
Z.h.gQ("norm",f,A,e,A,A,1);d.clearRect(0,0,p.width,p.height);d.putImageData(a,G,D);var N=this.vg.Trns.v,Y=this.vg.Clrs.v,l=Z.k.hI(Y,this.Zx.ou,this.Zx.Le),h=Math.round(6*n.F()),s=Math.round(14*n.F()),J=this._c?this._c.v:null,u=this.ni?this.ni.v:null;
for(var Q=0;Q<N.length;Q++){var W=N[Q].v,q=Math.round(255-255*W.Opct.v.val/100);if((W==J||N[Q-1]&&N[Q-1].v==J||Q==this.Gg)&&Q!=0){d.fillStyle="#000000";
d.fillRect(G-3+x*(N[Q-1].v.Lctn.v+(W.Lctn.v-N[Q-1].v.Lctn.v)*W.Mdpn.v/100)/4096,D-6-2,6,6)}if(W==J){d.fillStyle="#ffffff";
d.fillRect(G-h+x*(W.Lctn.v/4096)-2,D-2-s-2,2*h+4,s+4)}d.fillStyle="rgb("+q+","+q+","+q+")";d.fillRect(G-h+x*(W.Lctn.v/4096),D-2-s,2*h,s)}for(var Q=0;
Q<Y.length;Q++){var H=Y[Q].v,C=l[Q];if((H==u||Y[Q-1]&&Y[Q-1].v==u||Q==this.LP)&&Q!=0){d.fillStyle="#000000";
d.fillRect(G-3+x*(Y[Q-1].v.Lctn.v+(H.Lctn.v-Y[Q-1].v.Lctn.v)*H.Mdpn.v/100)/4096,D+M+2,6,6)}if(H==u){d.fillStyle="#ffffff";
d.fillRect(G-h+x*(H.Lctn.v/4096)-2,D+M+2-2,2*h+4,s+4)}d.fillStyle="rgb("+Math.round(C.N)+", "+Math.round(C.w)+","+Math.round(C.M)+")";
d.fillRect(G-h+x*(H.Lctn.v/4096),D+M+2,2*h,s)}if(this.BH){this.vq(this.vg);this.uC=!0}};Mj.prototype.Dn=function(){this.jI.d(Math.round(100*this.vg.Intr.v/4096));
var p=this.vg.Trns.v,d=this.vg.Clrs.v,K=this._c!=null,A=this.Gg!=-1;this.Xo.q_(K);this.vT.q_(K||A);this.tx.q_(K);
if(K){this.Rt.setAttribute("style","");var x=this._c.v;this.vT.d(Math.round(100*x.Lctn.v/4096));this.Xo.d(x.Opct.v.val)}if(A)this.vT.d(p[this.Gg].v.Mdpn.v);
var K=this.ni!=null,A=this.LP!=-1;this.nF.q_(K);this.Ay.q_(K);this.EA.q_(K||A);this.tA.q_(K);if(K){this.II.setAttribute("style","");
var M=this.ni.v;this.EA.d(Math.round(100*M.Lctn.v/4096));var G=M.Type.v.Clry;this.nF.d(["FrgC","BckC","UsrS"].indexOf(G));
if(G=="FrgC")this.Ay.dT(this.Zx.ou);if(G=="BckC")this.Ay.dT(this.Zx.Le);if(G=="UsrS")this.Ay.d(M.Clr.v)}if(A)this.EA.d(d[this.LP].v.Mdpn.v)};
Mj.prototype.DE=function(p){var d=Math.round(4096*this.jI.A()/100);this.vg.Intr.v=d;var K=this.vg.Trns.v,A=this.vg.Clrs.v;
if(this._c!=null){var x=this._c.v;x.Lctn.v=Math.round(4096*(this.vT.A()/100));x.Opct.v.val=this.Xo.A()}if(this.ni!=null){var M=this.ni.v;
M.Lctn.v=Math.round(4096*(this.EA.A()/100));if(p.target==this.Ay)this.nF.d(2);var G=this.nF.A();M.Type.v.Clry=["FrgC","BckC","UsrS"][G];
if(G==2)M.Clr={t:"Objc",v:this.Ay.A()};else if(M.Clr)delete M.Clr}if(this.Gg!=-1)K[this.Gg].v.Mdpn.v=this.vT.A();
if(this.LP!=-1)A[this.LP].v.Mdpn.v=this.EA.A();this.gx()};Mj.prototype.tU=function(p){var d=n.Cu(p,this.Fs),K=(d.x*n.F()-this.LW.x)/this.LW.t,A=(d.y*n.F()-this.LW.y)/this.LW.D,x=this.vg.Trns.v,M=this.vg.Clrs.v,G=null,D=null,P=-1,a=-1;
if(A<1)for(var e=0;e<x.length;e++){var f=x[e].v;if(Math.abs(f.Lctn.v/4096-K)<.02)G=x[e];if(e>0)if(Math.abs((x[e-1].v.Lctn.v+(f.Lctn.v-x[e-1].v.Lctn.v)*f.Mdpn.v/100)/4096-K)<.01)P=e}if(A>0)for(var e=0;
e<M.length;e++){var N=M[e].v;if(Math.abs(N.Lctn.v/4096-K)<.02)D=M[e];if(e>0)if(Math.abs((M[e-1].v.Lctn.v+(N.Lctn.v-M[e-1].v.Lctn.v)*N.Mdpn.v/100)/4096-K)<.01)a=e}if(D==null&&G==null&&P==-1&&a==-1){if(A<0){var f={t:"Objc",v:{classID:"TrnS",Opct:{t:"UntF",v:{type:"#Prc",val:100}},Lctn:{t:"long",v:0},Mdpn:{t:"long",v:50}}};
f.v.Lctn.v=Math.round(K*4096);x.push(f);x.sort(this.YB);G=f}if(A>1){var M=this.vg.Clrs.v,Y=Z.k.hI(M,this.Zx.ou,this.Zx.Le),l=Z.k.qv(this.vg,Y,K),N={t:"Objc",v:{classID:"Clrt",Clr:{t:"Objc",v:Z.k.wI({N:l&255,w:l>>8&255,M:l>>16&255})},Type:{t:"enum",v:{Clry:"UsrS"}},Lctn:{t:"long",v:0},Mdpn:{t:"long",v:50}}};
N.v.Lctn.v=Math.round(K*4096);M.push(N);M.sort(this.YB);D=N}}if(D!=null)a=-1;if(G!=null)P=-1;if(D!=null||G!=null||P>-1||a>-1){this._c=G;
this.ni=D;this.Gg=P;this.LP=a;this.Dn();this.gx();n.AG(window,this.xH);n.AJ(window,this.xw)}};Mj.prototype.wa=function(p){var d=n.Cu(p,this.Fs),K=n.F()*(d.x-this.LW.x)/this.LW.t,A=n.F()*(d.y-this.LW.y)/this.LW.D;
K=Math.max(0,Math.min(1,K));var x=this.vg.Trns.v,M=this.vg.Clrs.v;if(this._c!=null){var G=this._c.v;
G.Lctn.v=Math.round(4096*K);var D=x.indexOf(this._c);if(D!=-1&&A<-1&&x.length>2)x.splice(D,1);if(D==-1&&A>-1)x.push(this._c);
x.sort(this.YB)}if(this.ni!=null){var P=this.ni.v;P.Lctn.v=Math.round(4096*K);var a=M.indexOf(this.ni);
if(a!=-1&&A>1.5&&M.length>2)M.splice(a,1);if(a==-1&&A<1.5)M.push(this.ni);M.sort(this.YB)}if(this.Gg>-1){var G=x[this.Gg].v;
G.Mdpn.v=Math.max(5,Math.min(95,Math.round(100*(K*4096-x[this.Gg-1].v.Lctn.v)/(G.Lctn.v-x[this.Gg-1].v.Lctn.v))))}if(this.LP>-1){var P=M[this.LP].v;
P.Mdpn.v=Math.max(5,Math.min(95,Math.round(100*(K*4096-M[this.LP-1].v.Lctn.v)/(P.Lctn.v-M[this.LP-1].v.Lctn.v))))}if(this._c!=null||this.ni!=null||this.Gg>-1||this.LP>-1){this.Dn();
this.gx()}};Mj.prototype.tc=function(p){n.rH(window,this.xH);n.rE(window,this.xw);if(Date.now()-this.Zf<300){if(this.LP!=-1||this.Gg!=-1){var d=(this.LP!=-1?this.vg.Clrs.v[this.LP]:this.vg.Trns.v[this.Gg]).v;
d.Mdpn.v=50;this.Dn();this.gx()}else if(this.ni!=null)this.Ay.eIM()}this.Zf=Date.now()};Mj.prototype.YB=function(p,d){return p.v.Lctn.v-d.v.Lctn.v};
function Bt(){Qx.call(this,[11,10],"isize");this.LM=n.b("div","form");this.LM.setAttribute("style","width:20em");
this.body.appendChild(this.LM);this.ZK=new tr(!0,!0);this.LM.appendChild(this.ZK.G);this.RM=new Ql("Resample");
this.RM.d(!0);this.LM.appendChild(this.RM.G);this.RM.R(n.E.f,this.eSH,this);this.XX=new Me([12,14,1],[[12,14,2],[12,14,3],"Bicubic Sharper"]);
this.XX.d(1);this.LM.appendChild(this.XX.G);this.eT=new Qa("OK",!0,null,!0);this.eT.R("click",this.NI,this);
this.body.appendChild(this.eT.G)}Bt.prototype=new Qx;Bt.prototype.lV=function(p,d){return p!=null};Bt.prototype.ZX=function(){return!0};
Bt.prototype.eSH=function(p){var d=this.RM.A(),K=this.ZK,A=this.XX;if(d)A.Hm();else A.gH();if(d)K.eaG();
else K.ezj()};Bt.prototype.l=function(){Qx.prototype.l.call(this);this.XX.l();this.ZK.l()};Bt.prototype.NI=function(p){this.close();
var d=this.ZK.A(),K=d.x,A=d.y,x=this.XX.A();if(!this.RM.A())x=null;var M=new y(n.E.Iz,!0);M.data=r.pO.ePu(K,A,this.ZK.ecj(),x);
this.n(M)};Bt.prototype._$=function(p,d){this.ZK.d(new QP(p.t,p.D),p.Bk)};function PV(){Qx.call(this,"Import RAW","importraw");
var p=n.b("div","flexrow"),d=n.b("div");this.body.appendChild(p);this.body.appendChild(d);var K=n.b("div","form");
K.setAttribute("style","width:16em");p.appendChild(K);var A=n.b("div","form");A.setAttribute("style","width:14em");
p.appendChild(A);this.Ov=null;this.e_F=null;this.uH=null;this.e_D=[];this.zG=[new tr(!0,!0),new Mf([12,72],["1","3","4"]),new Mf([12,34],["8 Bits","16 Bits"]),new Mf("Byte Order",["12-34","34-12"]),new Me("Guesses",[])];
for(var x=0;x<this.zG.length;x++){var M=this.zG[x];if(x!=0)M.d(0);M.R(n.E.f,x==4?this.ee_:this.oN,this);
var G=x==0?K:x==4?d:A;G.appendChild(M.G)}this.gM=n.b("canvas");this.Eh=this.gM.getContext("2d");this.body.appendChild(this.gM);
this.eT=new Qa("OK",!0,null,!0);this.eT.R("click",this.NI,this);this.body.appendChild(this.eT.G)}PV.prototype=new Qx;
PV.prototype.l=function(){Qx.prototype.l.call(this);var p=this.zG;for(var d=0;d<p.length;d++)p[d].l()};
PV.prototype.NI=function(p){this.close();var d=this.zG[0].A(),K=es.uA(this.e_F,[{data:this.uH,Uo:new R(0,0,d.x,d.y)}]),A=new y(n.E.s,!0);
A.data={j:!0?n.H.iA:n.H.bW,_b:K};this.n(A)};PV.prototype._$=function(p,d){this.Ov=new Uint8Array(d.tJ);
this.e_F=d.QR;var K=this.Ov.length,A=[1,3,4],x=0,M=0,G=1,D=1,P=this.e_D=[];for(var a=0;a<3;a++){for(var e=1;
e<3;e++){var f=A[a],N=f*e,Y=Math.round(K/N);if(Y!=K/N)continue;for(var l=0;l<=4e3;l++)for(var h=0;h<=4e3;
h++)if(l*h==Y){var s=0;if(l==h)s+=64;if(Math.round(l/100)==l/100&&Math.round(h/100)==h/100)s+=32;if(Math.round(l/10)==l/10&&Math.round(h/10)==h/10)s+=16;
if(Math.round(l/2)==l/2&&Math.round(h/2)==h/2)s+=8;P.push([l,h,f,e,s])}}}var J=function(H,C){if(C[4]!=H[4])return C[4]-H[4];
var k=Math.max(H[0],H[1])/Math.min(H[0],H[1]),i=Math.max(C[0],C[1])/Math.min(C[0],C[1]);if(k!=i)return k-i;
return C[0]-H[0]};P.sort(J);var u=this.zG,Q=[];for(var W=0;W<P.length;W++){var q=P[W];Q.push(q[0]+" x "+q[1]+", "+q[2]+"c, "+q[3]*8+"-bit")}u[4].NC(Q);
u[4].d(0);this.ee_(null)};PV.prototype.ee_=function(p){var d=this.zG,K=this.e_D[this.zG[4].A()];d[0].d(new QP(K[0],K[1]),72);
d[1].d([1,3,4].indexOf(K[2]));d[2].d([1,2].indexOf(K[3]));this.oN()};PV.prototype.oN=function(p){var d=this.zG,K=d[0].A(),A=K.x,x=K.y,M=8+8*d[2].A(),G=this.Ov;
if(M==16&&d[3].A()==1){G=G.slice(0);for(var D=0;D<G.length;D+=2){var P=G[D];G[D]=G[D+1];G[D+1]=P}}var a=this.uH=UPNG.toRGBA8.decodeImage(G,A,x,{tabs:{},ctype:[0,2,6][d[1].A()],depth:M}),e=this.gM,f=this.Eh,N=[a,new R(0,0,A,x)];
Z.iW(N);for(var D=0;D<N.length;D+=2)if(N[D+1].D<300){a=N[D];A=N[D+1].t;x=N[D+1].D;break}e.width=A;e.height=x;
n.Cp(e,A,x);var Y=new ImageData(new Uint8ClampedArray(a.buffer),A,x);f.putImageData(Y,0,0)};function Mh(p,d,K){QF.call(this);
this.G=n.b("div","");this.Uh=p;this._J=null;this.Rn=d==null?!1:d;this.tC=null;this.jD=K;this.lf=[];this.ug=[];
this.RB=[];this.hZ=[];this.RU=0;this._J=this.eSa(Mh.hZ[p]);this.Mg()}Mh.prototype=new QF;Mh.prototype.eSV=function(){for(var p=0;
p<this.hZ.length;p++){n.xj(this.hZ[p],"selected");if(this.RB[p]instanceof Ql)this.RB[p].d(!1)}};Mh.prototype.eSc=function(p){var d=this.eSF.bind(this);
for(var K=0;K<this.RB.length;K++){var A=n.b("div","listitem");this.hZ.push(A);if(K>0)A.textContent="\u2003";
A.appendChild(this.RB[K].G);if(QG.ePK.indexOf(this.Uh)!=-1){var x=new Qa("+");x.uy();x.G.style.float="right";
A.appendChild(x.G);var M=new Qa("\u2B0D");M.uy();M.G.style.float="right";M.G.style["margin-right"]="2px";
A.appendChild(M.G)}A.addEventListener("click",d,!1);p.appendChild(A)}};Mh.D_=function(p,d){var K=d.getBoundingClientRect();
return(p.clientY-K.top)/K.height};Mh.prototype.eSF=function(p){var d=p.target.tagName.toLowerCase();
if(d=="input"){return}if(d=="button"){var K=new y(n.E.q,!0),A=p.target.textContent=="+",x=A?0:Mh.D_(p,p.target)<.5?-1:1;
if(A)K.data={j:"st_dupsingle",o:this.parent.data.o,Lt:this.jD};else K.data={j:"st_movsingle",o:this.parent.data.o,Lt:this.jD,enp:x};
K.O=r.Ic;K.UQ=!0;this.n(K);K=new y("redrawall",!0);K.data={enp:x};this.n(K);return}n.Zy(p);this.iU();
this.RU=this.hZ.indexOf(p.currentTarget);this.n(new y("showme"))};Mh.prototype.iU=function(){if(this._J.enab&&this._J.enab.A()==!1)this.vC({wS:"enab",S:!0})};
Mh.prototype.eSz=function(){var p=this.hZ[this.RU];if(p)n.Mz(p,"selected");return this.ug[this.RU]};
Mh.prototype.eSa=function(p){var d={};for(var K=0;K<p.length;K++){var A=p[K],x=null;if(A=="----")x={G:n.b("hr")};
if(A=="\n")x={G:n.b("br")};if(A=="blOptions")x=new GJ([14,10]);if(A=="brst")x=new MultiCheck([12,72],["R","G","B"]);
if(A=="knko")x=new Me("Knockout",[[13,1,0],"Shallow","Deep"]);if(A=="enab")x=new Ql(QG.names[QG.order.indexOf(this.Uh)]);
if(A=="lrMd"||A=="Md")x=new Me([12,19,0],eE.Wt,!1,eE.IX);if(A=="Opct")x=new Pu([12,0],0,100,"%");if(A=="iOpa")x=new Pu([12,26],0,100,"%");
if(A=="blIf")x=new nZ;if(A=="ShdN")x=new Pu([12,68],0,100,"%");if(A=="lagl"||A=="Angl")x=new nu([12,15]);
if(A=="uglg")x=new Ql([12,27]);if(A=="Dstn")x=new Pu([12,28],0,200,"px");if(A=="Ckmt")x=new Pu([12,29],0,100,"%");
if(A=="blur")x=new Pu([12,14,0],0,200,"px");if(A=="TrnS"||A=="MpgS")x=new pW([12,21]);if(A=="Nose")x=new Pu([12,30],0,100,"%");
if(A=="layerConceals")x=new Ql([12,31]);if(A=="AntA"||A=="antialiasGloss")x=new Ql("Anti-alias");if(A=="GlwT")x=new Me([12,32],QG.sr.names);
if(A=="glwS")x=new Me([12,70],QG.sr.eu$);if(A=="Inpr")x=new Pu([12,12],1,100,"%");if(A=="bvlS")x=new Me([12,22],QG.tm.style);
if(A=="bvlT")x=new Me([12,32],QG.tm.euF);if(A=="bvlD")x=new Me(null,QG.tm.dir);if(A=="srgR")x=new Pu([12,34],0,1e3,"%");
if(A=="Sftn")x=new Pu([12,35],0,20,"px");if(A=="Lald")x=d.lagl;if(A=="hglM"||A=="sdwM")x=new Me([12,36],eE.Wt,!1,eE.IX);
if(A=="hglC"||A=="sdwC")x=new Md;if(A=="hglO"||A=="sdwO")x=new Pu([12,0],0,100,"%");if(A=="Invr"||A=="InvT")x=new Ql([4,11]);
if(A=="Sz")x=new Pu([12,14,0],1,200,"px");if(A=="Styl")x=new Me([12,40],QG.stroke.names);if(A=="PntT")x=new Me([12,66],QG.stroke.euw);
if(A=="Clr")x=new Md(!0);if(A=="Grad"){x=new Be(!0,[12,37],!0);x.d(JSON.parse(QG.gR.eBh).v)}if(A=="Rvrs")x=new Ql([12,23,0]);
if(A=="Dthr")x=new Ql("Dither");if(A=="Type")x=new Me([12,22],QG.k.names.slice(0,this.Uh=="FrFX"?6:5));
if(A=="Ptrn")x=new Py([12,62]);if(A=="Scl")x=new Pu([12,38],10,500,"%",0,!0);if(A=="Algn")x=new Ql([12,39]);
if(A=="Ofst")x=new pX(!0);if(A=="phase")x=new pX(!1);if(A=="useShape")x=new Ql([12,21]);if(A=="useTexture")x=new Ql([12,67]);
if(A=="textureDepth")x=new Pu([12,34],-300,300,"%");var M=A=="----"||A=="\n"?A+K:A;if(x!=null)d[M]=x}return d};
Mh.prototype.eSD=function(p){var d=this.ug[this.RU];for(var K=0;K<p.length;K++){var A=this._J[p[K]];
if(A&&d.contains(A.G))d.removeChild(A.G)}};Mh.prototype.eSZ=function(p){var d=this.ug[this.RU];for(var K=0;
K<p.length;K++){var A=this._J[p[K]];if(A&&!d.contains(A.G))d.appendChild(A.G)}};Mh.prototype.Ei=function(p,d){if(this._J==null)return;
var K=d==Qn.ff;if(this._J.Grad){this._J.Grad.RR(p.ou,p.Le);if(K||d==Qn.Py||d==Qn.aE)this._J.Grad.H_(p.tn)}if(this._J.Ptrn){if(K||d==Qn.eO)this._J.Ptrn.H_(p.ps)}if(this._J.TrnS){if(K||d==Qn.Mj)this._J.TrnS.H_(p.je)}if(this._J.MpgS){if(K||d==Qn.Mj)this._J.MpgS.H_(p.je)}};
Mh.prototype.l=function(){for(var p=0;p<this.lf.length;p++)this.lf[p].l();for(var d in this._J)if(this._J[d]instanceof QF)this._J[d].l()};
Mh.prototype.Mg=function(){for(var p in this._J){var d=this._J[p];d.parent=this;if(d instanceof QF)d.R(n.E.f,this.eSY,this);
if(this.ug.length==0||p=="useShape"||p=="useTexture"){var K=new GJ(d.ecb()),A=n.b("div","bordered padded");
if(this.Rn==!1){A.appendChild(K.G);A.appendChild(n.b("hr",""))}this.lf.push(K);this.ug.push(A);this.RB.push(d)}else this.ug[this.ug.length-1].appendChild(d.G)}};
Mh.prototype.update=function(p,d){if(this._J==null)return;if(this.Rn)this.tC=JSON.parse(JSON.stringify(d));
for(var K in d){if("Opct iOpa hglO sdwO Dstn Ckmt blur Nose Scl Sz Inpr Angl srgR Sftn textureDepth ShdN".split(" ").indexOf(K)!=-1)this._J[K].d(d[K].v.val);
if("enab brst knko Clr hglC sdwC uglg Grad TrnS MpgS Rvrs Dthr Algn Invr InvT Ptrn layerConceals useShape useTexture Ofst phase blIf".split(" ").indexOf(K)!=-1){this._J[K].d(d[K].v,p)}if(["Md","hglM","sdwM"].indexOf(K)!=-1)this._J[K].d(eE.Uh.indexOf(d[K].v.BlnM));
if(K=="lrMd"){var A=(d.Ba?[[15,10,27]]:[]).concat(eE.Wt),x=(d.Ba?[1]:[]).concat(eE.IX);this._J[K].NC(A,x);
this._J[K].d(d[K].v)}if(K=="lagl"){var M=d.uglg&&d.uglg.v?p.zz():d.lagl.v.val;this._J[K].d(M)}if(K=="Lald"){var M=d.uglg&&d.uglg.v?p.UM():d.Lald.v.val;
this._J[K].d(null,M)}if(K=="Type")this._J[K].d(QG.k.types.indexOf(d.Type.v.GrdT));if(K=="Styl")this._J[K].d(QG.stroke.types.indexOf(d.Styl.v.FStl));
if(K=="PntT"){var G=QG.stroke.$h.indexOf(d.PntT.v.FrFl);this._J[K].d(G);if(!this.Rn){this.eSD(QG.Za.concat(QG.xM.concat(QG.xU)));
this.eSZ([QG.Za,QG.xM,QG.xU][G])}}if(K=="GlwT")this._J[K].d(QG.sr.types.indexOf(d.GlwT.v.BETE));if(K=="glwS")this._J[K].d(QG.sr.eKO.indexOf(d.glwS.v.IGSr));
if(K=="bvlS")this._J[K].d(QG.tm.types.indexOf(d.bvlS.v.BESl));if(K=="bvlT")this._J[K].d(QG.tm.euI.indexOf(d.bvlT.v.bvlT));
if(K=="bvlD")this._J[K].d(["In","Out"].indexOf(d.bvlD.v.BESs))}};Mh.prototype.eSY=function(p){for(var d in this._J){if(this._J[d]!=p.target)continue;
var K=null,A=!1;if("Opct iOpa hglO Nose Scl sdwO Inpr srgR textureDepth ShdN".split(" ").indexOf(d)!=-1)K={type:"#Prc",val:p.target.A()};
if(["Dstn","Ckmt","blur","Sz","Sftn"].indexOf(d)!=-1)K={type:"#Pxl",val:p.target.A()};if(["Angl","lagl"].indexOf(d)!=-1)K={type:"#Ang",val:p.target.A().DJ};
if("enab brst knko Clr hglC sdwC Grad TrnS MpgS Rvrs Dthr Algn Invr InvT Ptrn layerConceals lrMd useShape useTexture AntA antialiasGloss Ofst phase blIf".split(" ").indexOf(d)!=-1)K=p.target.A();
if(["Md","hglM","sdwM"].indexOf(d)!=-1)K={BlnM:eE.Uh[p.target.A()]};if(d=="uglg"){K=p.target.A();A=!0}if(d=="PntT"){K={FrFl:QG.stroke.$h[p.target.A()]};
A=!0}if(d=="Lald")K={type:"#Ang",val:p.target.A().alt};if(d=="Type")K={GrdT:QG.k.types[p.target.A()]};
if(d=="Styl")K={FStl:QG.stroke.types[p.target.A()]};if(d=="GlwT")K={BETE:QG.sr.types[p.target.A()]};
if(d=="glwS")K={IGSr:QG.sr.eKO[p.target.A()]};if(d=="bvlS")K={BESl:QG.tm.types[p.target.A()]};if(d=="bvlT")K={bvlT:QG.tm.euI[p.target.A()]};
if(d=="bvlD")K={BESs:["In","Out"][p.target.A()]};this.vC({wS:d,S:K});if(A){if(this.Rn)this.update(null,this.tC);
else{var x=this.parent,M=x._b,G=this.jD,D=M.L[x.data.o].add.lmfx[QG.mV[G[0]]].v[G[1]].v;this.update(M,D)}}}};
Mh.prototype.vC=function(p){if(this.Rn){this.tC[p.wS].v=p.S;this.n(new y(n.E.f))}else{p.j="changeprop";
p.o=this.parent.data.o;p._W=this.jD;var d=new y(n.E.q,!0);d.data=p;d.O=r.Ic;d.UQ=!0;this.n(d);this.n(new y("afterchange",!0))}};
Mh.prototype.A=function(){return JSON.parse(JSON.stringify(this.tC))};Mh.hZ={bops:"blOptions lrMd Opct iOpa ---- blIf".split(" "),DrSh:"enab Md Clr Opct lagl uglg Dstn Ckmt blur TrnS Nose layerConceals".split(" "),IrSh:"enab Md Clr Opct lagl uglg Dstn Ckmt blur TrnS Nose".split(" "),OrGl:["enab","Md","Opct","Nose","\n","Clr","Grad","----","GlwT","Ckmt","blur","TrnS","Inpr","ShdN"],IrGl:["enab","Md","Opct","Nose","\n","Clr","Grad","----","GlwT","glwS","Ckmt","blur","TrnS","Inpr","ShdN"],ebbl:["enab","bvlS","bvlT","bvlD","srgR","blur","Sftn","----","lagl","Lald","uglg","TrnS","\n","hglM","hglC","hglO","sdwM","sdwC","sdwO","useShape","MpgS","Inpr","useTexture","Ptrn","Scl","textureDepth","InvT","Algn","phase"],SoFi:["enab","Md","Opct"].concat(QG.Za),GrFl:["enab","Md","Opct"].concat(QG.xM),patternFill:["enab","Md","Opct"].concat(QG.xU),ChFX:"enab Md Clr Opct lagl Dstn blur MpgS Invr".split(" "),FrFX:["enab","Sz","Styl","\n","Md","Opct","PntT","\n"].concat(QG.Za.concat(QG.xM.concat(QG.xU)))};
function eO(){Qx.call(this,[11,6],"layerstyle");this.eRr=-1;this.data={};this._b=null;this.hG=null;this.RP=[];
this.jA=[];n.Mz(this.body,"flexrow");this.xN=n.b("div","bordered");this.xN.setAttribute("style","min-width:13em;");
this.body.appendChild(this.xN);this.c_=n.b("div","");this.c_.setAttribute("style","width:25em; padding-left: 1em;");
this.body.appendChild(this.c_);this.ic=n.b("div","form");this.ic.setAttribute("style","padding-left: 1em; width:7em;");
this.body.appendChild(this.ic);this.oj=new Qa("OK",!0,null,!0);this.oj.R("click",this.NI,this);this.ic.appendChild(this.oj.G);
this.jp=new Qa([12,87],!0,null,!0);this.jp.R("click",this.eST,this);this.ic.appendChild(this.jp.G);this.uj=new pb;
this.uj.parent=this;this.uj.R(n.E.f,this.eSf,this);this.ic.appendChild(this.uj.G);this.R("closebtn",this.QM,this);
this.R("redrawall",this.eeh,this)}eO.prototype=new Qx;eO.prototype.ZX=function(){return!0};eO.prototype.eSf=function(p){var d=this.uj.A();
this.vC({j:"setstl",S:d.gF});this.eeh(null)};eO.prototype.eST=function(p){var d=this._b,K=this.data.o;
if(K==null)K=d.Y[0];var A=this._b.L[K],x=QL.eK$(A),M=new y(n.E.s,!0);M.data={j:n.H.aA,oJ:"add",gD:Qn._X,EW:[JSON.parse(JSON.stringify(x))]};
this.n(M)};eO.prototype.eeS=function(p){this.data.index=p.currentTarget.jD;this.ij(p.currentTarget.jD)};
eO.prototype.eeh=function(p){this._$(this._b,this.data)};eO.prototype.ij=function(p,d){n.hM(this.c_);
for(var K=0;K<this.RP.length;K++)this.RP[K].eSV();var A=p==0?this.RP[0]:this.jA[p[0]][p[1]];this.c_.appendChild(A.eSz());
if(d)A.iU();var x=this._b;if(x){var M=x.L[this.data.o];this.RP[0].update(x,Qv.AQ.kA(x,M));var G=M.add.lmfx;
if(G==null)return;for(var K=0;K<QG.order.length;K++){var D=G[QG.mV[K]].v;for(var P=0;P<D.length;P++)this.jA[K][P].update(x,D[P].v)}}if(d)A.iU()};
eO.prototype.l=function(){Qx.prototype.l.call(this);this.jp.l();this.uj.l();for(var p=0;p<this.RP.length;
p++)this.RP[p].l()};eO.prototype._$=function(p,d){var K=d.o==null;this.data.o=d.o;this.data.index=d.index;
d=this.data;this._b=p;if(K)d.o=p.Y.length==0?p.L.length-1:p.Y[0];n.hM(this.xN);var A=p.L[d.o].add.lmfx;
this.iT();this.RP=[new Mh("bops",!1,0)];this.jA=[];for(var x=0;x<QG.order.length;x++){this.jA.push([]);
var M=A==null?[]:A[QG.mV[x]].v;for(var G=0;G<M.length;G++){var D=new Mh(QG.order[x],!1,[x,G]);this.RP.push(D);
this.jA[x].push(D)}if(M.length==0){var D=new Mh(QG.order[x],!1,[x,0]);this.RP.push(D);this.jA[x].push(D)}}this.l();
this.etF(this.hG,Qn.ff);for(var x=0;x<this.RP.length;x++){this.RP[x].parent=this;this.RP[x].eSc(this.xN);
this.RP[x].R("showme",this.eeS,this)}if(d.index==null||d.index==0||!K&&A[QG.mV[d.index[0]]].v.length==0){this.ij(0)}else this.ij(d.index,K);
this.R("afterchange",this.iT,this)};eO.prototype.iT=function(p){var d=this._b,K=this.data.o;if(K==null)K=d.Y[0];
var A=this._b.L[K],x=QL.eK$(A);this.uj.d(x,d.add.Patt?d.add.Patt:[],d.zz(),d.UM())};eO.prototype.Ei=function(p,d){this.hG=p;
this.etF(p,d);if(d==Qn._X||d==Qn.ff){this.uj.H_([p.Qk,p.ps])}if(d==Qn.eU){}};eO.prototype.etF=function(p,d){for(var K=0;
K<this.RP.length;K++)this.RP[K].Ei(p,d)};eO.prototype.QM=function(p){this.vC({j:"cancel"})};eO.prototype.NI=function(p){this.vC({j:"confirm"});
this.close()};eO.prototype.vC=function(p){p.o=this.data.o;var d=new y(n.E.q,!0);d.data=p;d.O=r.Ic;d.UQ=!0;
this.n(d);this.iT()};eO.eQi=function(p){var d=[{name:[14,10],uu:!0}];for(var K=0;K<QG.names.length;K++)d.push({name:QG.names[K]});
if(p){d[d.length-1].uu=!0;d.push({name:"Styles To Separate Layers",C:function(A){return{C:A!=null&&A.Y.length!=0&&A.L[A.Y[0]].add.lmfx!=null}}})}return d};
eO.eBT=function(p){var d=[{z:n.E.s,a:{j:n.H.Ae,$u:"layerstyle"}}];for(var K=0;K<QG.names.length;K++)d.push({z:n.E.s,a:{j:n.H.Ae,$u:"layerstyle",index:[K,0]}});
if(p){var A={classID:"Mk",null:Pq.bt("Lyr"),Usng:{t:"obj ",v:[{t:"prop",v:{classID:"Prpr",keyID:"Lefx"}},{t:"Enmr",v:{classID:"Lyr",typeID:"Ordn",enum:"Trgt"}}]}};
d.push({z:n.E.Iz,a:{LG:"make",Qz:A}})}return d};eO.eOY=function(p){var d=[];if(p)d.push({name:[6,48,0,0],us:!0},{name:[6,48,0,1],us:!0},{name:[6,48,0,2],us:!0,uu:!0});
for(var K in QW.names)d.push({name:QW.names[K],uu:QW.eQq.indexOf(K)!=-1,us:T[K]!=null});return d};eO.eUG=function(p){var d=[];
if(p)for(var K=0;K<3;K++)d.push({z:n.E.Iz,a:r.aa.Lb(K)});for(var A in QW.names){var x=eq.Kj(A);for(var M in QW.NB)if(QW.NB[M]==A)x.classID=M;
var G={LG:"make",Qz:{classID:"Mk",null:Pq.bt("AdjL"),Usng:{t:"Objc",v:{classID:"AdjL",Type:{t:"Objc",v:x}}}}};
d.push({z:n.E.Iz,a:G})}return d};function PD(){Qx.call(this,"Merge Channels","mergechannels");this.jy=null;
var p=n.b("div","form");this.body.appendChild(p);this.zG=[];for(var d=0;d<3;d++){var K=new Me(QW.NS[d],[]);
this.zG.push(K);p.appendChild(K.G);n.Ld(p)}this.oj=new Qa("OK",!0,null,!0);this.oj.R("click",this.NI,this);
p.appendChild(this.oj.G)}PD.prototype=new Qx;PD.prototype.l=function(){Qx.prototype.l.call(this);for(var p=0;
p<3;p++)this.zG[p].l()};PD.prototype._$=function(p,d,K,A){this.jy=K;var x=[];for(var M=0;M<K.length;
M++)x.push(K[M].name);for(var M=0;M<3;M++){var G=this.zG[M];G.NC(x);G.d(Math.min(M,K.length-1))}};PD.prototype.NI=function(p){var d=this.jy,K=d[0],A=new y(n.E.Iz,!0);
A.data=QZ.$q(K.t,K.D,K.Bk,"Merged Document","Wht");this.n(A);var x=[];for(var M=0;M<3;M++)x.push(d[this.zG[M].A()].zi());
var K=d[d.length-1],G=K.L[0],D=G.buffer;for(var M=0;M<D.length;M+=4){D[M]=x[0][M];D[M+1]=x[1][M];D[M+2]=x[2][M]}G.i();
K.i();this.close()};function MX(){Qx.call(this,[1,10],"script");var p=n.b("div","form");p.setAttribute("style","width:44em");
this.body.appendChild(p);this.hG=null;this.mk=[];this.jB=[];this.eIp;var d=this.to=new Qa([1,2],!1,null,!0);
d.R("click",this.in,this);p.appendChild(d.G);var K=new Qa("JS Reference",!1,null,!0);K.R("click",this.eec,this);
p.appendChild(K.G);p.appendChild(new GJ("Demos:").G);this.eIL=[];var A=MX.qe;for(var x=0;x<A.length;
x++){var M=new Qa(A[x].Mu,!1,null,!0);this.eIL.push(M);p.appendChild(M.G);M.R("click",this.eez,this)}this.aG=n.b("textarea");
this.aG.setAttribute("rows",16);this.aG.setAttribute("style","display:block;tab-size:4; font-family:monospace;width:100%;");
p.appendChild(this.aG);var G=new Qa("Run",!0,null,!0);G.R("click",this.NI,this);p.appendChild(G.G);this.eIA=n.b("div");
p.appendChild(this.eIA)}MX.prototype=new Qx;MX.prototype.l=function(){this.to.l()};MX.prototype.in=function(){var p=this.eIp;
if(p==null)p="script.jsx";var d=new y(n.E.s,!0);d.data={j:n.H.Ae,$u:"namewindow",xl:p.slice(0,p.length-4),eRt:this.eee.bind(this)};
this.n(d)};MX.prototype.eee=function(p){var d=this.aG.value,K=v.GZ(d),A=new y(n.E.s,!0);A.data={j:n.H.LJ,tJ:K.buffer,uo:p+".jsx",eP$:!0};
this.n(A)};MX.prototype.eeE=function(p){var d=this.mk.indexOf(p.target),K=this.eIp=this.hG.Jx.Hu[this.jB[d]],A=K,x=new Uint8Array(A),M=v.Il(x,0,x.length);
this.aG.value=M};MX.prototype._$=function(p,d,K){this.aG.value=MX.qe[0].YK;this.eHM()};MX.prototype.eHM=function(){var p=this.hG.Jx,d=this.eIA;
n.hM(d);this.mk=[];this.jB=[];d.textContent="Saved scripts: ";for(var K in p.Hu){if(K.endsWith(".jsx")){var A=new Qa(K,!1,null,!0);
this.mk.push(A);this.jB.push(K);A.R("click",this.eeE,this);d.appendChild(A.G)}}};MX.prototype.Ei=function(p,d){this.hG=p;
if(d==Qn.pT)this.eHM()};MX.prototype.eec=function(p){var d=new y(n.E.s,!0);d.data={j:n.H.oh,link:"https://www.adobe.com/content/dam/acom/en/devnet/photoshop/pdfs/photoshop-cc-javascript-ref-2019.pdf"};
this.n(d)};MX.prototype.NI=function(p){var d=new y(n.E.s,!0);d.data={j:n.H.iZ,EC:this.aG.value};this.n(d)};
MX.prototype.eez=function(p){var d=this.eIL.indexOf(p.currentTarget);this.aG.value=MX.qe[d].YK};MX.qe=[{Mu:"Hello",YK:"\nalert(\"Hello Photopea!\");\n"},{Mu:"Process Layers",YK:"\nvar lays = app.activeDocument.layers;\n\nfor(var i=0; i<lays.length; i++)\n{\n"+"\t//lays[i].visible = false;\n"+"\t//lays[i].opacity = 50;\n"+"\tlays[i].name = \"My Layer \"+i;\n}"},{Mu:"Clone Layers",YK:"\nvar orig = app.activeDocument.activeLayer;\n"+"var cnt = 12;\n"+"var angle = Math.floor(360 / cnt);\n"+"\n"+"for(var i=1; i<cnt; i++)\n"+"{\n"+"\tvar nlay = orig.duplicate();\n"+"\t//nlay.translate(30*i, 20*i);\n"+"\tnlay.rotate(angle * i, AnchorPosition.BOTTOMCENTER);\n"+"}"}];
function PY(){Qx.call(this,[11,7],"newproject");this.data=null;this.jy=null;var p=n.b("div","flexrow");
this.BS=p;this.body.appendChild(p);var d=n.b("div","form");this.LM=d;p.appendChild(d);this._h=new Pe([12,48]);
d.appendChild(this._h.G);n.Ld(d);this.ZK=new tr(!0);this.ZK.d(new QP(1280,720),72);this.ZK.R(n.E.f,this.qM,this);
d.appendChild(this.ZK.G);this.jO=new Me([12,46],[[13,1,8],[13,1,9],[12,46]]);d.appendChild(this.jO.G);
d.appendChild(n.b("hr"));this.eT=new Qa([12,49],!0,null,!0);this.eT.R("click",this.NI,this);d.appendChild(this.eT.G);
var K=PY.Ov,A=[];for(var x=0;x<K.length;x++)A.push(K[x].name);this.XM=new Mf(null,A);this.XM.R(n.E.f,this.eER,this);
d.appendChild(this.XM.G);this.XM.G.style["margin-top"]="1em";this.XU=new eT(!0);this.XU.R(n.E.f,this.eeo,this);
d.appendChild(this.XU.G);this.eER();this.Dk=new el;this.Dk.parent=this;this.Dk.G.setAttribute("style","margin-left:1em");
this.Dk.R("tempready",this.eeW,this)}PY.prototype=new Qx;PY.prototype.Ei=function(p,d){this.Dk.Ei(p)};
PY.prototype.jt=function(p,d){return new QP(Math.max(0,Math.min(70,(p-690)/2)),p>d?Math.max(0,Math.min(50,(d-400)/2)):0)};
PY.prototype.dq=function(p,d){this.LM.setAttribute("style","width:"+Math.min(p,338)+"px");this.XU.G.style.height=d-260+"px";
var K=this.Dk.G,A=K.parentNode;if(p<500){if(A!=null)this.BS.removeChild(K)}else{if(A==null)this.BS.appendChild(K)}this.Dk.dq(p-360,d-35)};
PY.prototype.qM=function(){this.Dk.d(this.ZK.A())};PY.prototype.eeo=function(p){var d=this.XU.A(),K=PY.Ov[this.XM.A()].Rx[d],A=K[4];
if(A==0)A=72;var x=K[1],M=K[2],G=["px","%","mm","in"].indexOf(K[3]),D=[1,1,25.4/A,1/A][G];x/=D;M/=D;
this.ZK.d(new QP(Math.round(x),Math.round(M)),A);this.ZK.eal(G);this.XU.QF(d);this.qM()};PY.prototype.eER=function(p){var d=PY.Ov[this.XM.A()].Rx,K=[],A=[],x=Math.round(106*n.F()),M=Math.round(106*n.F()),G=0;
for(var D=0;D<d.length;D++)G=Math.max(G,d[D][1],d[D][2]);for(var D=0;D<d.length;D++){var P=d[D],a=P[1]+" x "+P[2]+" "+P[3];
if(P[3]=="in")a=(P[1]*25.4).toFixed(0)+" x "+(P[2]*25.4).toFixed(0)+" mm";if(P[3]=="mm")a=(P[1]/25.4).toFixed(1)+" x "+(P[2]/25.4).toFixed(1)+" in";
if(P[4])a=a+" @ "+P[4]+" ppi";A.push(a);K.push(PY.XN(P,x,M,G))}this.XU.DX(K,A,x,M)};PY.XN=function(p,d,K,A){var x=n.b("canvas",""),M=x.getContext("2d");
x.width=d;x.height=K;var G=Math.round(d/8),D=Math.floor(11*n.F()),P=p[1],a=p[2];M.fillStyle="#000000";
M.font=Math.round(D*.9)+"px \"Open Sans\", Sans-Serif";var e=P+" x "+a+" "+p[3],f=M.measureText(e);M.fillText(e,Math.round((d-f.width)/2),K-Math.round(G/2));
if(p[0]!=null){M.font="bold "+D+"px \"Open Sans\", Sans-Serif";var e=p[0],f=M.measureText(e);M.fillText(e,Math.round((d-f.width)/2),K-Math.round(G/2)-Math.round(D*1.3))}K-=Math.round(2.5*D);
var N=Math.min((d-G)/P,(K-G)/a);N*=.5+.5*(Math.max(P,a)/A);var Y=(d-P*N)/2,l=(K-a*N)/2;M.strokeRect(Math.round(Y)+.5,Math.round(l)+.5,Math.round(P*N),Math.round(a*N));
return x.toDataURL()};PY.prototype.l=function(){Qx.prototype.l.call(this);this.ZK.l();this._h.l();this.jO.l();
this.eT.l();this._h.d(Qc.get([11,7]));this.XM.l();this.Dk.l()};PY.prototype.NI=function(p){var d=this.ZK.A(),K=d.x,A=d.y;
this.close();var x=new y(n.E.Iz,!0);x.data=QZ.$q(K,A,this.ZK.ecj(),this._h.A(),["Wht","Trns","BckC"][this.jO.A()]);
this.n(x);this.eEz()};PY.prototype.eeW=function(p){var d=p.data._b,K=new y(n.E.s,!0);K.data={j:n.H.iA,_b:d};
this.n(K);this.close();this.eEz()};PY.prototype.eEz=function(){var p=this.jy[this.jy.length-1],d=this.data.eGC;
if(d)GC.TJ(function(){var K=new XMLHttpRequest,A="https://www.googleapis.com/drive/v3/files?"+GC.yW();
K.open("POST",A,!0);K.setRequestHeader("Content-Type","application/json");K.addEventListener("load",function(x){var M=JSON.parse(x.target.response);
p.og={file:M,jK:"psd"};alert(p.name+" created in Google Drive")});K.send(JSON.stringify({name:p.name,ezU:[d]}))})};
PY.prototype._$=function(p,d,K,A){this.jy=K;if(p!=null&&p.P!=null){var x=new R(0,0,p.t,p.D).pk(p.P.rect);
this.ZK.d(new QP(x.t,x.D))}this.data=d;this.qM();this._h.xP();if(window.ClipboardItem)es.eEN(this.eex.bind(this))};
PY.prototype.eex=function(p){if(p=="granted")es.sE(this,this.eed.bind(this))};PY.prototype.eed=function(p,d){this.ZK.d(new QP(d.t,d.D))};
PY.Ov=[{name:"Social",Rx:[["FB Page Cover",1640,664,"px",0],["FB Shared Image",1200,630,"px",0],["FB Event Image",1920,1080,"px",0],["FB Group Header",1640,856,"px",0],["Instagram",1080,1080,"px",0],["Youtube Profile",800,800,"px",0],["Youtube Cover",2560,1440,"px",0],["Twitter Profile",400,400,"px",0],["Twitter Header",1500,500,"px",0]]},{name:[12,88,4],Rx:[["A3",297,420,"mm",300],["A4",210,297,"mm",300],["A5",148,210,"mm",300],["B3",353,500,"mm",300],["B4",250,353,"mm",300],["B5",176,250,"mm",300],["Letter",8.5,11,"in",300],["Ledger",11,17,"in",300],["Business Card",3.5,2,"in",300]]},{name:[12,88,0],Rx:[["Wallet",2,3,"in",300],["Enprint",3.5,5,"in",300],[null,5,7,"in",300],[null,8,12,"in",300],[null,12,18,"in",300],[null,16,24,"in",300],[null,20,30,"in",300],[null,24,36,"in",300]]},{name:[12,88,1],Rx:[["VGA",640,480,"px",0],["XGA",1024,768,"px",0],["HD",1280,720,"px",0],[null,1366,768,"px",0],[null,1600,900,"px",0],["Full HD",1920,1080,"px",0],["2K",2048,1080,"px",0],["UHD",3840,2160,"px",0],["4K",4096,2160,"px",0]]},{name:[12,88,2],Rx:[["iPhone 4",640,900,"px",326],["iPhone 5",640,1136,"px",326],["iPhone 6 7 8",750,1334,"px",326],["iPhone 6+ 7+ 8+",1080,1920,"px",401],["iPhone X",1125,2436,"px",458],["Samsung A5",720,1280,"px",0],["Samsung S5",1080,1920,"px",0],["Samsung S6",1440,2560,"px",0],["Samsung S8+",1440,2560,"px",0],["Google Pixel",1080,1920,"px",0],["iPad Mini 4",1536,2048,"px",0],["iPad Air 2",1536,2048,"px",0],["iPad Pro 9.7\"",1536,2048,"px",0],["iPad Pro 10.5\"",1668,2224,"px",0],["iPad Pro 12.9\"",2048,2732,"px",0]]},{name:[12,88,3],Rx:[["Small Square",200,200,"px",0],["Square",250,250,"px",0],["Medium Rect",300,250,"px",0],["Large Rect",336,280,"px",0],["Mobile Leaderboard",320,50,"px",0],["Large Mobile",320,100,"px",0],["Banner",468,60,"px",0],["Leaderboard",728,90,"px",0],["Large Leaderboard",970,90,"px",0],["Billboard",970,250,"px",0],["Vertical Rect",240,400,"px",0],["Skyscraper",120,600,"px",0],["Wide Skyscraper",160,600,"px",0],["Half Page",300,600,"px",0],["Portrait",300,1050,"px",0]]},{name:"2\u1D3A",Rx:[[null,16,16,"px",0],[null,32,32,"px",0],[null,64,64,"px",0],[null,128,128,"px",0],[null,256,256,"px",0],[null,512,512,"px",0],[null,1024,1024,"px",0],[null,2048,2048,"px",0],[null,4096,4096,"px",0]]}];
function nD(p,d,K){Qx.call(this,d,"sel_"+p);this.j=p;var A=n.b("div","form");this.body.appendChild(A);
this._h=new MK(d,0,255,null,0,!1,!0);A.appendChild(this._h.G);this._h.d(1);var x=n.b("span");x.textContent=K;
A.appendChild(x);n.Ld(A);this.eRC=new Ql("Apply at canvas bounds");if(p!="border")A.appendChild(this.eRC.G);
this.oj=new Qa("OK",!0,null,!0);this.oj.R("click",this.NI,this);A.appendChild(this.oj.G)}nD.prototype=new Qx;
nD.prototype.lV=function(p,d){if(p==null)return;if(p.P==null)alert("No selection!");return p.P!=null};
nD.prototype.NI=function(p){var d=new y(n.E.Iz,!0);d.data=r.wJ.eWu(this.j,this._h.A(),this.eRC.A());
d.UQ=!0;this.n(d);this.close()};nD.prototype.l=function(){Qx.prototype.l.call(this);if(this._h)this._h.l()};
nD.prototype._$=function(p,d){};function Pj(p,d){Qx.call(this,d,p);this.Ov=null;this.LM=n.b("div","form");
this.body.appendChild(this.LM);this._h=new Pe(d);this.LM.appendChild(this._h.G);this.oj=new Qa("OK",!0,null,!0);
this.oj.R("click",this.NI,this);this.LM.appendChild(this.oj.G)}Pj.prototype=new Qx;Pj.prototype.NI=function(p){var d=this._h.A();
if(this.Ov.eRt)this.Ov.eRt(d);else{var K=this.Ov.eRG,A=new y(K.z,!0);A.O=K.O;A.data=K.a;A.data.S=d;A.UQ=!0;
this.n(A)}this.close()};Pj.prototype.l=function(){Qx.prototype.l.call(this);if(this._h)this._h.l()};
Pj.prototype._$=function(p,d){this.Ov=d;this._h.d(d.xl);this._h.xP()};function PT(){Qx.call(this,[1,5],"open_from_url");
this.WC=null;var p=n.b("div","form");this.body.appendChild(p);this.tX=new Pe("URL",null,22);p.appendChild(this.tX.G);
this.tX.R(n.E.f,this.NI,this);n.Ld(p);this.uJ=new Mf([21,0],[[21,2],[21,1]]);p.appendChild(this.uJ.G);
this.eT=new Qa("OK",!0,null,!0);this.eT.R("click",this.NI,this);p.appendChild(this.eT.G)}PT.prototype=new Qx;
PT.prototype.l=function(){Qx.prototype.l.call(this);this.uJ.l()};PT.prototype._$=function(p,d,K){this.tX.xP();
this.WC=null;if(p&&K.indexOf(p)!=-1)this.WC=K.indexOf(p)};PT.prototype.NI=function(p){var d=new y(n.E.s,!0),K=this.tX.A();
d.data={j:n.H.YN,gD:{url:K,ep:!0,WC:this.uJ.A()==1?this.WC:null}};this.n(d);this.close()};function BL(){Qx.call(this,[12,79],"preferences");
this.hG=null;var p=n.b("div","form");this.body.appendChild(p);this.hZ=[new Ql([8,2]),new Ql([8,4]),new Me([12,80,3],[[12,93,3],[12,80,4]]),new Pu([12,80,5],1,100,null,2),new Me(null,Z.ZG.eW),new Me([12,80,6],Z.ZG.eW)];
for(var d=0;d<this.hZ.length;d++){var K=this.hZ[d];p.appendChild(K.G);if(d!=3)n.Ld(p);K.R(n.E.f,this.xv,this)}}BL.prototype=new Qx;
BL.prototype.l=function(){Qx.prototype.l.call(this);for(var p=0;p<this.hZ.length;p++)this.hZ[p].l()};
BL.prototype._$=function(p,d,K){};BL.prototype.Ei=function(p,d){this.hG=p;this.hZ[0].d(p.mq.tu);this.hZ[1].d(p.mq.UT);
this.hZ[2].d(p.mq.BQ);this.hZ[3].d(p.mq.sp);this.hZ[4].d(p.mq.sB);this.hZ[5].d(p.mq.aX)};BL.prototype.xv=function(p){var M$=this.hZ,d=JSON.parse(JSON.stringify(this.hG.mq));
d.tu=M$[0].A();d.UT=M$[1].A();d.BQ=M$[2].A();d.sp=M$[3].A();d.sB=M$[4].A();d.aX=M$[5].A();if(d.sB!=4)d.sp=Math.round(d.sp);
var K=new y(n.E.s,!0);K.data={j:n.H.aA,gD:Qn.pF,dx:d};this.n(K)};function tx(){Qx.call(this,[11,8],"saveforweb");
this.eRj="";this.R("closebtn",function(){this.Hl.bj()},this);this._K=new QP(512,512);this._b=null;this.Hw=null;
this.ezP=null;this.hG=null;n.Mz(this.body,"flexrow");var p=n.b("div"),d=n.b("div");this.body.appendChild(p);
this.body.appendChild(d);this.II=n.b("div","imgcont");p.appendChild(this.II);this.Hl=new MR;this.Hl.dq(this._K.x,this._K.y);
this.JN=n.b("span");p.appendChild(this.JN);this.LM=n.b("div","form cell");this.LM.setAttribute("style","width:15em; padding-left:1em;");
d.appendChild(this.LM);this.Hj=new Me([12,50],QH.NJ());this.LM.appendChild(this.Hj.G);this.Hj.R(n.E.f,this.Hx,this);
this.ZK=new tr(!1,!0);this.ZK.R(n.E.f,this.Hx,this);this.LM.appendChild(this.ZK.G);this.Gm=new BZ;this.Gm.R(n.E.f,this.Hx,this);
this.LM.appendChild(this.Gm.G);this.ju=new Qa([1,2],!0,null,!0);this.ju.R("click",this.NI,this);this.LM.appendChild(this.ju.G)}tx.prototype=new Qx;
tx.prototype.lV=function(p,d){return p!=null};tx.prototype.l=function(){Qx.prototype.l.call(this);this.ZK.l();
this.Hj.l();this.Gm.l();this.ju.l()};tx.prototype.NI=function(p){var d=this._b.name.split(".")[0],K=QH.NJ()[this.Hj.A()],A=this.Hw,x=d+"."+K.toLowerCase(),M=this._b,G=M.ey;
if(G.length!=0&&(K=="JPG"||K=="PNG"||K=="GIF")&&this.Gm.A().pop()){var D="<!DOCTYPE html>\n<html>\n<style>div {position:absolute;}</style>\n<head></head>\n<body>\n",P=[],a={},e=new R(0,0,M.t,M.D),f=M.zi();
for(var N=0;N<G.length;N++)P.push(r.GP.Ua(G,N));P.reverse();var Y=Z.rect.kL([0,0,M.t,M.D],P);for(var N=0;
N<Y.length;N++){var l=Y[N],h=new R(l[0],l[1],l[2]-l[0],l[3]-l[1]),s=l.length==5?G[l[4]].v:null,J=Z.p(h.r()*4);
Z.PE(f,e,J,h);var u="img/img"+(N+1)+"."+K.toLowerCase();a[u]=new Uint8Array(QH[K]._B([[J.buffer,0]],h.t,h.D,this.Gm.A()));
D+="<div style=\"background-image:url('"+u+"'); left:"+h.x+"px; top:"+h.y+"px; width:"+h.t+"px; height:"+h.D+"px\">";
if(s&&s.url.v!="")D+="\n\t<a href=\""+s.url.v+"\" target=\""+s.null.v+"\" style=\"display:block;width:100%;height:100%;\"></a>\n";
D+="</div>\n"}D+="</body>\n</html>\n";var Q=Z.p(Math.round(D.length*1.5)),W=v.IU(D,Q,0);a["index.html"]=Q.slice(0,W);
A=UZIP.encode(a);x=d+".zip"}var q=new y(n.E.s,!0);q.data={j:n.H.KW,data:A,name:x};this.n(q);this.Hl.bj();
this.close()};tx.prototype._$=function(p,d){if(d.WG!=null)this.Hj.d(d.WG);this._b=p;var K=p.t+","+p.D;
if(K!=this.eRj){this.eRj=K;this.ZK.d(new QP(p.t,p.D))}this.Gm.eqK();this.Hx(null,!0)};tx.prototype.jt=function(p,d){return new QP(Math.max(0,Math.min(150,(p-770)/2)),Math.max(0,Math.min(150,(d-590)/2)))};
tx.prototype.dq=function(p,d){this.dv=p;this.Ri=d;this._K.x=Math.min(512,p-26-214);this._K.y=Math.min(512,d-45);
if(this._b==null)return;var K=this.ZK.A(),p=K.x,d=K.y,A=QH.NJ()[this.Hj.A()],x=QH[A],f="<span style=\"width:",N="display:inline-block; text-align:right;\">";
if(x.aw){var M=p,G=d,D;if(A=="PDF"||x.Nj){M=this._K.x;G=this._K.y}else{M=Math.min(p+20,this._K.x);G=Math.min(d+20,this._K.y)}this.II.firstChild.setAttribute("style","display:block; width:"+M+"px; height:"+G+"px;")}else{if(x.Nj){M=this._K.x;
G=this._K.y}else{var P=this.ezP,a=P[0].Uo,M=a.t,G=a.D;this.Hl.dq(Math.max(50,Math.min(M/n.F(),this._K.x)),Math.max(50,Math.min(G/n.F(),this._K.y)))}}var e=this.Hw.byteLength,Y=A+":"+f+64+"px;"+N+tx.Ym(e)+"</span>";
if(this._K.x>200)Y+=f+90+"px; opacity:"+.5+";"+N+e.toLocaleString()+" B</span>";this.JN.innerHTML=Y};
tx.Ym=function(p){var d=0;while(p>>>d+10!=0)d+=10;var K=(p/(1<<d)).toFixed(1),A=["B","KB","MB","GB"][Math.floor(d/10)];
return K+" "+A};tx.prototype.Ei=function(p,d){this.hG=p};tx.prototype.Hx=function(p,d){var K=this.ZK.A(),A=K.x,x=K.y,M=this.Hj.A(),G=QH.NJ()[M],D=QH.yX(this._b)[0].length,P=["GIF","PNG","WEBP"].indexOf(G)!=-1&&D>1,f="";
if(P&&d&&(A*x>1024*1024||A*x*D>800*800*50)){var a=window.confirm("Your animation is large ("+A+" x "+x+" px). Should we scale it down 50%?");
if(a){this.ZK.d(new QP(A>>>1,x>>>1));A=A>>>1;x=x>>>1}}this.Gm.eKg(G,P,this._b.ey.length!=0);var e=this.Gm.A();
this.Hw=QH.Tr(this._b,G,A,x,e,this.hG);if(this.Hw==null){this._b=null;return}n.hM(this.II);this.Hl.bj();
var N=QH[G];if(N.Nj){this.II.innerHTML="<div></div>";f+="width:0px"}else if(N.aw){var Y=A,l=x,h;if(G=="PDF"){h=URL.createObjectURL(new Blob([this.Hw],{type:"application/pdf"}))}else{h=URL.createObjectURL(new Blob([this.Hw],{type:"image/svg+xml"}))}this.II.innerHTML="<iframe src=\""+h+"\"></iframe>"}else{var s=this.ezP=N.W$(this.Hw),J=s[0].Uo,Y=J.t,l=J.D;
this.Hl.d(s,s.length>1?e[e.length-2]:0);this.II.appendChild(this.Hl.G);f="background: rgba(0,0,0,0);"}this.II.setAttribute("style","display:block; background-size:"+16/n.F()+"px;"+f);
this.dq(this.dv,this.Ri)};function eA(){Qx.call(this,[11,13],"shortcuts");var p=this.BS=n.b("div","scrollable");
p.setAttribute("style","min-width:700px; max-height:500px; padding:1.5em");this.body.appendChild(p);
this.ewl()}eA.prototype=new Qx;eA.prototype.l=function(){Qx.prototype.l.call(this);this.ewl()};eA.prototype.ewl=function(){var p="<div style=\"column-count:3; column-gap:3em; column-rule-width:1px;\" class=\"\">",d="";
d+="<h2 style=\"margin-top:0;\">Main Menu</h2>";d+=p;d+=this.mf([[0,0],"---",[1,0],"Ctrl + O",[1,2],"Ctrl + S",[1,3],"Shift+Ctrl + S",[1,8],"Alt+Shift+Ctrl + S",[0,1],"---",[2,0],"Shift + Ctrl + Z",[2,1],"Ctrl + Z",[5,0],"Ctrl + X",[5,1],"Ctrl + C",[5,2],"Ctrl + V",[2,2],"Delete",[2,3],"Alt + Backspace",[10,16],"Alt + Ctrl + T",[12,79],"Ctrl + K",[3],"---",[4,1],"Ctrl + L",[4,2],"Ctrl + M",[4,5],"Ctrl + U",[4,11],"Ctrl + I",[0,3],"---",[6,0],"Ctrl + J",[6,6,0],"Alt + Ctrl + G",[6,9],"Ctrl + G",[6,10],"Ctrl + E",[0,5],"---",[7,0],"Ctrl + A",[7,1],"Ctrl + D",[7,2],"Shift+Ctrl + I",[0,7],"---",[8,0],"Ctrl + +",[8,1],"Ctrl + -",[8,3],"Ctrl + R",[8,2],"Ctrl + ;",[8,4],"Ctrl + '",[11,13],"?"]);
d+="</div>";d+="<h2 style=\"margin-top:1.5em;\">Navigation</h2>";d+=p;d+=this.mf("Vertical scroll,Wheel,Horizontal scroll,Ctrl + Wheel,Zooming,Alt + Wheel".split(","));
d+="</div>";d+="<h2 style=\"margin-top:1.5em;\">Quick tools (press to enable, release to disable)</h2>";
d+=p;d+=this.mf([[10,11],"Ctrl",[10,7],"Spacebar",[10,17],"Ctrl + Spacebar"]);d+="</div>";d+="<h2 style=\"margin-top:1.5em;\">Tools</h2>";
d+=p;var K=[];for(var A=0;A<eA.Bq.length;A+=3)K.push(eA.Bq[A],eA.Bq[A+1]);d+=this.mf(K);d+=this.mf(["abc",null,[24,16],"---",[22,7,1],"D",[22,7,0],"X","Decrease Brush Size","[","Increase Brush Size","]","Decrease Hardness","{","Increase Hardness","}"]);
d+="</div>";this.BS.innerHTML=d};eA.prototype.mf=function(p){var d="",K=!0;for(var A=0;A<p.length;A+=2){var x=p[A],M=p[A+1];
if(M==null){K=!1;continue}var G=n.eGN(Qc.get(x));if(M=="---"){if(!K)d+="<br/>";d+="<div style=\"font-weight:bold; border-bottom: 1px solid;\">"+G+"</div>"}else d+="<div>"+G+" <span style=\"float:right; font-weight:bold;\">"+M+"</span> </div>";
K=!1}return d};eA.Bq=[[10,11],"V",0,[10,15],"M",1,[10,4],"M",2,[10,9],"L",5,[10,14],"L",6,[10,10],"L",7,[10,37],"W",8,[10,12],"W",9,[10,2],"C",10,[10,39],"C",11,[10,40],"C",12,[10,41],"C",13,[10,5],"I",14,[10,36],"I",16,[10,24],"J",18,[10,25],"J",19,[10,26],"J",20,[10,43],"J",22,[10,0],"B",23,[10,38],"B",24,[10,42],"B",25,[10,1],"S",27,[10,3],"E",31,[10,6],"G",34,[10,13],"G",35,[10,18],null,36,[10,19],null,37,[10,20],null,38,[10,21],"O",39,[10,22],"O",40,[10,23],"O",41,[10,8],"T",47,[10,29],"P",42,[10,30],"P",43,[10,27],"A",51,[10,28],"A",52,[10,32],"U",54,[10,33],"U",55,[10,35],"U",57,[10,34],"U",56,[10,31],"U",58,[10,7],"H",59,[10,17],"Z",61];
function GG(){Qx.call(this,[8,11,1],"soptions");this.FB=null;var p=n.b("div","form");p.style.width="20em";
this.body.appendChild(p);this.QP={Nm:[12,48],url:"URL",null:[12,71]};this.hZ={};for(var d in this.QP){var K=new Pe(this.QP[d],null,15);
this.hZ[d]=K;p.appendChild(K.G)}var A=new Qa("OK",!0,null,!0);A.R("click",this.NI,this);p.appendChild(A.G)}GG.prototype=new Qx;
GG.prototype._$=function(p,d,K){var A=d.S;this.FB=JSON.stringify(A);for(var x in this.QP){if(A[x])this.hZ[x].d(A[x].v)}};
GG.prototype.NI=function(p){var d=JSON.parse(this.FB);for(var K in this.QP){var A=this.hZ[K].A();d[K]={t:"TEXT",v:A}}var x=new y(n.E.q,!0);
x.O=r.DI;x.data=d;x.UQ=!0;this.n(x);this.close()};function eb(){Qx.call(this,[2,3],"fill");this.hG=null;
this.WA=null;var p=n.b("div","form padded");p.style.width="22em";this.body.appendChild(p);this.oT="FrgC BckC Clr Blck Gry Wht contentAware".split(" ");
this.wx=new Me([2,3],[[12,45],[12,46],[12,47],[13,1,10],[13,1,7],[13,1,8],[6,48,0,3]]);this.wx.R(n.E.f,this.ePP,this);
p.appendChild(this.wx.G);this.II=n.b("span");p.appendChild(this.II);this.zU=new Md;this.zU.parent=this;
this.zU.dT(0);this.jH=new Me([12,19,0],eE.Wt,!1,eE.IX);p.appendChild(this.jH.G);this.QG=new Pu([12,0],0,100,"%",0,!1);
this.QG.d(100);p.appendChild(this.QG.G);this.eT=new Qa("OK",!0,null,!0);this.eT.R("click",this.NI,this);
this.body.appendChild(this.eT.G)}eb.prototype=new Qx;eb.prototype.lV=function(p,d){return p!=null};eb.prototype.ZX=function(){return!0};
eb.prototype.ePP=function(){var p=this.wx.A()==2,d=this.zU.G,K=this.II;if(p)K.appendChild(d);else if(K.contains(d))K.removeChild(d)};
eb.prototype.l=function(){Qx.prototype.l.call(this);this.wx.l();this.jH.l();this.QG.l()};eb.prototype.NI=function(p){if(!this.WA.ux())return;
var d=new y(n.E.Iz,!0),K=this.wx.A();d.data=r.Ef.Lb(this.oT[K],eE.ok[this.jH.A()],this.QG.A()/100,this.zU.A());
this.close();this.n(d)};eb.prototype._$=function(p,d){this.WA=p};eb.prototype.Ei=function(p,d){this.hG=p};
function eg(){Qx.call(this,[14,9],"stroke");this.hG=null;this.LM=n.b("div","form");this.LM.setAttribute("style","width:24em");
this.body.appendChild(this.LM);this.xE=new Mh("FrFX",!0);this.xE.parent=this;var p=["Sz","Styl","Md","Opct"].concat(QG.Za);
for(var d=0;d<p.length;d++){var K=this.xE._J[p[d]].G;this.LM.appendChild(K)}this.ezv=!1;this.eT=new Qa("OK",!0,null,!0);
this.eT.R("click",this.NI,this);this.body.appendChild(this.eT.G)}eg.prototype=new Qx;eg.prototype.lV=function(p,d){return p!=null};
eg.prototype.ZX=function(){return!0};eg.prototype.l=function(){Qx.prototype.l.call(this);this.xE.l()};
eg.prototype.NI=function(p){var d=new y(n.E.q,!0);d.O=r.tT;d.data={j:"stroke",eqz:this.xE.A()};this.close();
this.n(d)};eg.prototype._$=function(p,d){if(!this.ezv){var K=QG.oA[QG.order.indexOf("FrFX")];K=JSON.parse(K);
this.xE.update(p,K);this.ezv=!0}var K=this.xE.A(),A=this.hG.ou;K.Clr.v=Z.k.wI({N:A>>16&255,w:A>>8&255,M:A&255});
this.xE.update(p,K)};eg.prototype.Ei=function(p,d){this.hG=p};function Pn(){Qx.call(this,[11,9],"textwarp");
this.hZ=new PS;this.hZ.R(n.E.f,this.Pc,this);this.hZ.parent=this;this.LM=n.b("div","form");this.LM.setAttribute("style","width:20em");
this.body.appendChild(this.LM);this.LM.appendChild(this.hZ.xY.G);this.LM.appendChild(this.hZ.Ku.G);this.LM.appendChild(this.hZ.xT.G);
this.LM.appendChild(this.hZ.DQ.G);this.LM.appendChild(this.hZ.DM.G);this.eT=new Qa("OK",!0,null,!0);
this.eT.R("click",this.NI,this);this.LM.appendChild(this.eT.G);this.R("closebtn",this.QM,this)}Pn.prototype=new Qx;
Pn.prototype.ZX=function(){return!0};Pn.prototype.l=function(){Qx.prototype.l.call(this);this.hZ.l()};
Pn.prototype.Pc=function(p){var d=this.hZ.A();this.qp({j:"warp",Fl:d})};Pn.prototype.qp=function(p){var d=new y(n.E.q,!0);
d.O=r.jY;d.data=p;d.UQ=!0;this.n(d)};Pn.prototype.QM=function(p){this.qp({j:"warpCancel"})};Pn.prototype.NI=function(p){this.qp({j:"warpConfirm"});
this.close()};Pn.prototype._$=function(p,d){var K=p.L[p.Y[0]];this.hZ.d(K.add.TySh._u)};function Pg(){Qx.call(this,"Raw Photopea","rawpea");
this.uH=null;this.Er=null;this.jv=null;this.ezz=0;this.de=null;this.Y$=null;this.ezw=500;this.ezV=500;
this.R("closebtn",this.XC,this);n.Mz(this.body,"flexrow");var p=n.b("div"),d=n.b("div"),x="<svg  class=\"autoscale gsicon\" viewBox=\"0 0 14 18\" width=\"14\" height=\"18\" fill=\"black\"><path d=\"M14,6 L10,6 L10,0 L4,0 L4,6 L0,6 L7,13 L14,6 L14,6 Z M0,14 L0,16 L14,16 L14,14 Z\" /></svg>";
d.setAttribute("style","padding-left: 1em");this.body.appendChild(p);this.body.appendChild(d);this.gM=n.b("canvas");
p.appendChild(this.gM);this.KZ=new PQ(225);this.KZ.or(4);d.appendChild(this.KZ.G);this.LM=n.b("div");
this.LM.setAttribute("style","width:18em;");d.appendChild(this.LM);this.ezC=new GJ("Hi",!0);this.LM.appendChild(this.ezC.G);
this.nL=[new Qo("Temperature",2e3,13e3),new Qo("Tint",-150,150),new Qo([4,3],-4,4,null,!0),new Qo([12,3,0],-100,100)];
for(var K=0;K<this.nL.length;K++){var A=this.nL[K];A.d(0);A.R(n.E.f,this.nl,this);this.LM.appendChild(A.G);
if(K==1)this.LM.appendChild(n.b("hr"))}this.eT=new Qa([1,0],!0,null,!0);this.eT.R("click",this.NI,this);
this.LM.appendChild(this.eT.G);this.jE=new Qa(x+" JPG",!0,null,!0);this.jE.R("click",this.ePt,this);
this.LM.appendChild(this.jE.G);this.jE.G.style.marginTop="6px"}Pg.prototype=new Qx;Pg.prototype.yJ=function(){return!0};
Pg.prototype.jt=function(){return new QP(0,0)};Pg.prototype.dq=function(p,d){this.ezw=p-274;this.ezV=d-32;
if(this.uH)this.e$e()};Pg.prototype.l=function(){Qx.prototype.l.call(this);this.eT.l();for(var p=0;p<this.nL.length;
p++)this.nL[p].l()};Pg.prototype.ePt=function(p){var d=this.uH,K=this.Er,A=Z.p(d.width*d.height*4);Z.Pk(A,4294967295);
Z.raw.Kx(K,A,d,this.cg());var x=QH.JPG._B([[A.buffer]],K.pU,K.pK,[85]),M=new y(n.E.s,!0);M.data={j:n.H.KW,data:x,name:"photo.jpg"};
this.n(M)};Pg.prototype.NI=function(p){var d=this.uH,K=this.Er,A=Z.p(d.width*d.height*4);Z.Pk(A,4294967295);
Z.raw.Kx(K,A,d,this.cg());var x=eI.sf(d),d={Uo:new R(0,0,K.pU,K.pK),data:A.buffer,ZD:x},M=es.uA("Raw Photo",[d]),G=new y(n.E.s,!0);
G.data={j:n.H.iA,_b:M};this.n(G);this.XC();this.close()};Pg.prototype.XC=function(){this.uH=null;this.Er=null;
this.de=null;this.Y$=null};Pg.prototype._$=function(p,d,K,A){this.uH=d.Yq;this.Er=Z.raw.eot(this.uH);
var x=this.Er;this.ezC.d(x.pU+" x "+x.pK+", "+(x.pU*x.pK/1e6).toFixed(1)+" MPx");var M=Z.raw.eWw(d.Yq);
this.jv=pt.ta(M);this.nL[0].d(this.jv.Di);this.nL[1].d(this.jv.jS);for(var G=2;G<this.nL.length;G++)this.nL[G].d(0);
this.e$e()};Pg.prototype.Ei=function(p,d){this.KZ.dT(p$.iJ[p.xi]["--text-color"])};Pg.prototype.e$e=function(){var p=this.Er,d=p.pU,K=p.pK,A=1;
while(d/A>this.ezw*n.F()||K/A>this.ezV*n.F())A++;var x=Math.floor(d/A),M=Math.floor(K/A);this.de={nM:new Float32Array(x*M*3),pU:x,pK:M};
var G=this.gM.getContext("2d");this.Y$=G.createImageData(x,M);Z.Pk(this.Y$.data,4294967295);var D=1/(A*A);
for(var P=0;P<M;P++)for(var a=0;a<x;a++){var e=0,f=0,N=0,Y=(a+1)*A,l=(P+1)*A;for(var h=P*A;h<l;h++)for(var s=a*A;
s<Y;s++){var J=(h*d+s)*3;e+=this.Er.nM[J];f+=this.Er.nM[J+1];N+=this.Er.nM[J+2]}var u=(P*x+a)*3;this.de.nM[u]=e*D;
this.de.nM[u+1]=f*D;this.de.nM[u+2]=N*D}this.nl()};Pg.prototype.nl=function(){var p=this.uH,d=this.de.pU,K=this.de.pK,A=d*K,x=this.gM,M=x.getContext("2d");
x.width=d;x.height=K;n.Cp(x,d,K);Z.raw.Kx(this.de,new Uint8Array(this.Y$.data.buffer),p,this.cg());M.putImageData(this.Y$,0,0);
var G=Z.$P(this.Y$.data);for(var D=0;D<4;D++)for(var P=1;P<256;P++)if(G[D][P]==0)G[D][P]=G[D][P-1];for(var D=0;
D<4;D++)for(var P=1;P<256;P++)if(G[D][P]==0)G[D][P]=G[D][P-1];this.KZ.d(G)};Pg.prototype.cg=function(){var p=[];
for(var d=0;d<this.nL.length;d++)p.push(this.nL[d].A());return p};function eJ(){Qx.call(this,[11,11],"vbitmap");
this.Ov=null;this.Qt=null;this.jw=null;this.QO=null;this.rL=null;this.sK=this.gx.bind(this);this.LM=n.b("div","form hbar");
this.body.appendChild(this.LM);this.Rm=new Pu([12,82],2,50,null);this.Rm.R(n.E.f,this.gx,this);this.LM.appendChild(this.Rm.G);
this.zG="";this.RE=new Ql([12,81]);this.RE.R(n.E.f,this.gx,this);this.LM.appendChild(this.RE.G);this.RV=new Ql("Segmentize");
this.RV.R(n.E.f,this.gx,this);this.LM.appendChild(this.RV.G);this.eT=new Qa("OK",!1,null,!0);this.eT.R("click",this.NI,this);
this.LM.appendChild(this.eT.G);var p=n.b("div","flexrow"),d=16;this.body.appendChild(p);this.vp=new MR;
this.vp.R("viewchange",this.eFM,this);this.Iy=n.b("canvas");this.Iy.setAttribute("style","margin-left: 1px; cursor:grab;");
this.MZ=this.Iy.getContext("2d");var K=Z.p(16*16*4);Z.Tf(K,d,d,8,0,0);this.jc=Z.scale.YP(K,d,d);this.vp.eQa(this.Iy);
p.appendChild(this.vp.G);p.appendChild(this.Iy)}eJ.prototype=new Qx;eJ.prototype.yJ=function(){return!0};
eJ.prototype.jt=function(){return new QP(0,0)};eJ.prototype.ZX=function(){return!0};eJ.prototype.dq=function(p,d){d=d-26-30;
p=Math.floor((p-28)/2);n.wc(this.Iy,p,d);this.vp.dq(p,d)};eJ.prototype.AC=function(p,d,K,A){this.vp.AC(A)};
eJ.prototype.l=function(){Qx.prototype.l.call(this);this.Rm.l();this.RE.l();this.RV.l();this.eT.l()};
eJ.prototype._$=function(p,d){this.rL=p;var K=p.L[p.Y[0]],A=Z.IK.py(K.buffer.buffer,K.rect.t,K.rect.D).eRz,x=A/((K.rect.t-2)*(K.rect.D-2));
this.RE.d(x<.75);this.RV.d(x<.75);var M=K.rect.clone();M.x=M.y=0;this.Ov={Uo:M,data:K.buffer.buffer.slice(0)};
this.Qt=null;this.vp.d([this.Ov]);this.Rm.d(20);setTimeout(this.sK,20)};eJ.prototype.gx=function(){var p=!0,d=Date.now(),K=this.Ov,A=this.RE.A(),x=this.RV.A(),M=A||x,G=A+","+x;
if(M&&(this.Qt==null||this.zG!=G)){this.zG=G;console.log("recomputing");var D=new Uint8Array(K.data.slice(0)),P=15,a=35,e=K.Uo.t,f=K.Uo.D;
if(A){eq.iI(D,D,e,f,P,Z.uP.TF,[a],2)}if(p){console.log("denoise",Date.now()-d);d=Date.now()}if(x){var N=Z.IK.BO(D,e,f),Y=N.Ix,l=new Uint8Array(Y*4);
for(var h=0;h<Y;h++){var s=h*4,J=h*6,u=1/N.vU[J+5];l[s]=N.vU[J]*u;l[s+1]=N.vU[J+1]*u;l[s+2]=N.vU[J+2]*u}for(var h=0;
h<D.length;h+=4){var Q=N.uT[h>>>2]*4;D[h]=l[Q];D[h+1]=l[Q+1];D[h+2]=l[Q+2]}}this.Qt={Uo:K.Uo.clone(),data:D.buffer};
if(p){console.log("segm",Date.now()-d);d=Date.now()}}if(M)K=this.Qt;var D=new Uint8Array(K.data),e=K.Uo.t,f=K.Uo.D;
for(var h=0;h<D.length;h+=4){if(D[h+3]<10)D[h]=D[h+1]=D[h+2]=D[h+3]=0}var W=Z.IK.eUF(D,e,f,this.Rm.A(),M?.1:2e-4);
if(p){console.log("doclipart",Date.now()-d);d=Date.now()}var q=W.uT.slice(0);for(var h=0;h<q.length;
h++)q[h]++;var H=new Uint8Array((e+2)*(f+2));Z.Qj(q,new R(1,1,e,f),H,new R(0,0,e+2,f+2));var C=Math.round((e+2)*(f+2)/1e4),k=pk.BK(H,e+2,f+2,Math.min(12,C)),i=pk.zu(k),m=new QI(1,0,0,1,-1,-1);
for(var h=0;h<i.length;h++)Z._.u(i[h].path.B,m,i[h].path.B);this.QO=i;this.jw=W;if(p){console.log("trace",Date.now()-d);
d=Date.now()}for(var h=0;h<i.length;h++){var w=i[h];for(var S=h+1;S<i.length;S++){var o=i[S];if(W.cb[o.color-1].est.q[3]>.05||o.parent!=h)continue;
var O=o.path.$.slice(1);O.reverse();O=["M"].concat(O);var t=[],k=o.path.B.length;for(var c=0;c<k;c+=2){t[c]=o.path.B[k-2-c];
t[c+1]=o.path.B[k-2-c+1]}Z._.concat(w.path,{B:t,$:O})}}for(var h=0;h<i.length;h++){var w=i[h],g=W.cb[w.color-1].est.q;
if(g[3]<=.05){i.splice(h,1);h--;continue}}for(var h=1;h<i.length;h++){var j=i[h-1],w=i[h];if(j.color==w.color){Z._.concat(j.path,w.path);
i.splice(h,1);h--;continue}}this.eFM()};eJ.prototype.eFM=function(p){if(this.QO==null)return;var d=this.Ov.Uo.t,K=this.Ov.Uo.D,A=this.QO,x=this.jw.cb,M=this.MZ,G=this.vp.bl();
M.setTransform(1,0,0,1,0,0);M.clearRect(0,0,M.canvas.width,M.canvas.height);M.translate(M.canvas.width/2,M.canvas.height/2);
M.scale(G.v,G.v);M.translate(G.J.x/G.v-d/2,G.J.y/G.v-K/2);M.scale(1/G.v,1/G.v);M.fillStyle=this.jc;M.fillRect(0,0,d*G.v,K*G.v);
M.scale(G.v,G.v);var D=[];for(var P=0;P<x.length;P++){var a=x[P].est.q;D.push({N:Math.round(255*a[0]),w:Math.round(255*a[1]),M:Math.round(255*a[2]),V:Math.round(255*a[3])})}for(var P=0;
P<A.length;P++){var e=A[P],a=D[e.color-1];if(a.V==0)continue;M.fillStyle="rgba("+a.N+","+a.w+","+a.M+","+a.V/255+")";
M.beginPath();Typr.U.pathToContext({crds:e.path.B,cmds:e.path.$},M);M.fill()}};eJ.prototype.NI=function(p){var d=this.QO,K=d.length==1,A=this.rL,x=A.Y[0],M=A.L[x],G=A.L.slice(0,x);
if(!K)G.push(A.dN());for(var D=0;D<d.length;D++){var P=d[D],a=this.jw.cb[P.color-1].est.q;Z._.u(P.path.B,new QI(1,0,0,1,M.rect.x,M.rect.y),P.path.B);
var e=A.sP();e.Hv("Path "+D);G.push(e);e.opacity=Math.round(a[3]*255);e.Wm|=16;e.add.SoCo={classID:"null",Clr:{t:"Objc",v:Z.k.wI({N:255*a[0],w:255*a[1],M:255*a[2]})}};
e.add.vmsk=new V.mK;e.add.vstk=JSON.parse(JSON.stringify(QG.Wh.default));e.add.vmsk.Z=Z._.Li(P.path,!1);
e.add.vogk=[];e.oK();e.u_(A)}var f=G[G.length-1];if(!K){var e=A.sP();e.Hv(M.getName());e.add.lsct=ew.rK;
e.yk="pass";e.Wm=24;G.push(e);f=e}var N=M.add.lmfx;if(N)f.add.lmfx=JSON.parse(JSON.stringify(N));for(var D=x+1;
D<A.L.length;D++)G.push(A.L[D]);var Y=new y(n.E.q,!0);Y.UQ=!0;Y.O=r.aW;Y.data={j:V.CE,uv:G,PD:[x+d.length+(K?-1:1)],hH:[11,11]};
this.n(Y);this.close()};function eo(p){Qx.call(this,[[7,11],"Magic Cut"][p],["redge","magiccut"][p]);
this.PK=p;this.Ov={};this.Zm=null;this.gn=null;this.rL=null;this.Ra=null;this.ev=null;this.mM=[];this.Pd=-1;
this.LM=n.b("div","form hbar");this.body.appendChild(this.LM);this.Cm=new pj;this.Cm.parent=this;this.Cm.R(n.E.f,this.Rk,this);
this.LM.appendChild(this.Cm.G);var d=p==0?["#ffffff","#888888","#000000"]:["#00dd00","#888888","#ff0000"],K=p==0?[[12,45],"Unknown",[12,46]]:[[12,45],"Erase",[12,46]];
this.j$=new Bm(null,d,K,28);this.LM.appendChild(this.j$.G);this.wW=new MK([7,9],0,50,null);this.wW.parent=this;
this.wW.R(n.E.f,[this.eRB,this.gx][p],this);this.LM.appendChild(this.wW.G);var A=this.etQ=new Qa([2,2],!1,null,!0);
A.R("click",this.XC,this);this.LM.appendChild(A.G);var x=this.etM=new Qa([12,90],!1,null,!0);x.R("click",function(D){alert(p==0?Qc.get([15,7,1]):"Mark the object with Green, background with Red.",5e3)},this);
this.LM.appendChild(x.G);var M=n.b("span","form");this.LM.appendChild(M);M.setAttribute("style","position:absolute;  right:0px");
this.QK=new Bm([12,46],["checker","white","black"]);this.QK.R(n.E.f,this.eak,this);M.appendChild(this.QK.G);
this.jF=new Me(null,[[6,13],[6,2],[17,2]]);M.appendChild(this.jF.G);this.eT=new Qa("OK",!1,null,!0);
this.eT.R("click",this.NI,this);M.appendChild(this.eT.G);var G=n.b("div","flexrow");this.body.appendChild(G);
this.uY=new MR(!0);this.Rq=new MR;this.uY.RN(this.Rq);this.Rq.RN(this.uY);this.uY.R("mousedown",this.ro,this);
this.uY.R("mousemove",this.oB,this);this.uY.R("mouseup",this.zZ,this);this.uY.R("zoom",this.Rk,this);
G.appendChild(this.uY.G);G.appendChild(this.Rq.G)}eo.prototype=new Qx;eo.prototype.lV=function(p,d){var K=p!=null&&!p.L[p.Y[0]].rect.kQ();
if(!K)alert("The layer is empty.");return K};eo.prototype.yJ=function(){return!0};eo.prototype.jt=function(){return new QP(0,0)};
eo.prototype.ZX=function(){return!0};eo.prototype.dq=function(p,d){d=d-26-33;p=Math.floor((p-28)/2);
this.uY.dq(p,d);this.Rq.dq(p,d)};eo.prototype.l=function(){Qx.prototype.l.call(this);this.Cm.l();this.wW.l();
this.eT.l();this.QK.l();this.jF.l();this.etQ.l();this.etM.l()};eo.prototype.Ei=function(p,d){this.gn=p;
if(d==Qn.hK||d==Qn.ff){this.Cm.H_(p.hx);this.Cm.d(tb.UZ(),p.hx.Im,p.hx.eN)}};eo.prototype.AC=function(p,d,K,A){this.Ra=A;
var x=r.Ef.Hf(this.Cm.A(),A);if(x!=null){this.Cm.d(x);this.Rk()}else if(A.Q(B.DV)&&A.Q(B.CA)){var M=this.mM,G=0;
if(A.Q(B.tS)){if(this.Pd+1<M.length)G=1}else if(this.Pd>0)G=-1;if(G!=0){this.Pd+=G;var D=this.Pd,P=this.Ov;
if(G==1)Z.PE(M[D][2],M[D][0],P.Ll,P.rect);else Z.PE(M[D+1][1],M[D+1][0],P.Ll,P.rect);P.Rh=P.rect;this.gx()}}else this.uY.AC(A)};
eo.prototype.xt=function(p){var d=this.Ov,K=this.mM,A=Z.p(p.r()*4);Z.PE(d.Qm,d.rect,A,p);d.Qm=null;var x=Z.p(p.r()*4);
Z.PE(d.Ll,d.rect,x,p);this.Pd++;K[this.Pd]=[p.clone(),A,x];while(K.length>this.Pd+1)K.pop();while(K.length>50){K=K.slice(1);
this.Pd--}};eo.prototype.Rk=function(){var p=this.gn,d=Qr.FU(this.Cm.A(),p.hx.Im,this.uY.bl().v);this.uY.mO(d)};
eo.prototype.ro=function(p){var d=this.gn,K=this.Ov,A=this.Ra,x=this.Cm.A(),M=this.uY.m$(),G=[16777215,8421504,0][this.j$.A()];
this.Zm=new Qr(x,d.hx.list[0].Im,d.hx.list[0].eN,{Xo:1,CU:!0},G,d.Le,K.rect);K.Qm=K.Ll.slice(0);if(A!=null&&A.Q(B.tS)&&this.ev){this.Zm.moveTo(this.ev.x,this.ev.y);
this.Zm.lineTo(M.x,M.y)}else this.Zm.moveTo(M.x,M.y);this.e_z()};eo.prototype.oB=function(p){var d=this.Ov,K=this.uY.m$();
this.Zm.lineTo(K.x,K.y);this.e_z()};eo.prototype.zZ=function(p){this.ev=this.uY.m$();this.xt(this.Zm.sy());
this.gx()};eo.prototype.e_z=function(){var p=this.Ov,d=this.Zm,K=d.$l();if(K.kQ())return;p.Rh=K;Z.h.gQ("norm",d.tR(),d.rl(),p.Ll,p.rect,K,1);
this.eRc()};eo.prototype.XC=function(p){var d=this.Ov;d.Qm=d.Ll.slice(0);d.Rh=d.rect;Z.Pk(d.Ll,[4278190080,4292730333][this.PK]);
this.xt(d.rect);this.gx()};eo.prototype._$=function(p,d){this.rL=p;var K=p.L[p.Y[0]],A=K.rect.clone(),x=A.t,M=A.D;
this.wW.d(this.PK==0?3:x*M<3e6?3:0);this.j$.d(p.P==null?0:1);this.wW.gH();if(this.PK==0&&p.P!=null||this.PK==1)this.wW.Hm();
var G=this.PK,D=Z.p(A.r()),P=new Float32Array(A.r());if(G==0&&p.P){Z.Qj(p.P.channel,p.P.rect,D,A);var a=Z.p(A.r());
for(var e=0;e<M;e++)for(var f=0;f<x;f++){var N=e*x+f,Y=D[N];if(f>0&&D[N-1]!=Y||f<x-1&&D[N+1]!=Y||e>0&&D[N-x]!=Y||e<M-1&&D[N+x]!=Y)a[N]=255}Z.style.Lf(a,P,x,M)}else P.fill(1e9);
A.x=A.y=0;this.Ov={rect:A,nM:K.buffer,ga:D,EZ:P,no:Z.p(A.r()*4),xf:Z.p(A.r()*4),Ll:Z.p(A.r()*4),Qm:null,yK:null,Rh:A,eac:{}};
if(G==0)this.eRB();else{this.Ov.eac=r.uM.eMZ(p);var l=this.Ov.Ll;Z.Pk(l,4287137928);var h=Z.To.getSelection(K.buffer,x,M),s=Math.round(x/60),J=Math.round(.7*M);
for(var e=0;e<M;e++)for(var f=0;f<x;f++){var u=(e*x+f)*4,Q=h[u>>>2];Q=Q>128?255:128;if(e<s||e<J&&(f<s||f>x-1-s))Q=0;
l[u]=l[u+1]=l[u+2]=Q}this.gx()}this.mM=[1];this.Pd=0;this.uY.eii();var W=this.Cm.A();W.Brsh.v.Dmtr.v.val=Math.round(A.t/(G==0?10:20));
this.Cm.d(W);this.Rk()};eo.prototype.eRB=function(){var p=this.Ov,d=p.rect.r(),K=this.wW.A(),A=p.ga.slice(0);
for(var x=0;x<d;x++)if(p.EZ[x]<K)A[x]=128;Z.Pk(p.Ll,4294967295);Z.qF(A,p.Ll,0);Z.qF(A,p.Ll,1);Z.qF(A,p.Ll,2);
p.Rh=p.rect;this.gx()};eo.prototype.gx=function(){var p=this.Ov,x,M=0,G=0,D=0;this.eRc();var d=p.rect,K=Z.p(d.r()),A=p.nM;
Z.$m(p.Ll,K,0);for(var P=0;P<K.length;P++){var a=K[P];if(a==0)M++;else if(a==255)G++;else D++}if(M*G*D!=0){if(this.PK==0)x=Z.uL.uL(d,A,K);
else{var e=Date.now(),f=this.Ov.eac;Z.tM(K,f.qc);r.uM.JB(f,!0);var N=Math.ceil(this.wW.A()/2);if(N==0){x=A.slice(0);
Z.qF(f.P,x,3)}else{var Y=f.P.slice(0),l=f.P.slice(0),h=d.t,s=d.D;for(var J=0;J<N;J++){for(var u=1;u<s-1;
u++)for(var Q=1;Q<h-1;Q++){var P=u*d.t+Q,W=Y[P];if(Y[P-h]!=W||Y[P-1]!=W||Y[P+1]!=W||Y[P+h]!=W)l[P]=128;
else l[P]=W}var q=Y;Y=l;l=q}x=Z.uL.uL(d,A,Y,20,!1)}}}else{x=A.slice(0);Z.qF(K,x,3)}if(d.GR(p.rect))p.yK=x;
else Z.PE(x,d,p.yK,p.rect);this.eak()};eo.prototype.eRc=function(p){var d=this.Ov,K=d.Rh;Z.PE(d.nM,d.rect,d.no,d.rect,K,!0);
var A=d.Ll;if(this.PK==1){var x=new Uint32Array(256);x[0]=4278190335;x[255]=4278255360;var M=d.rect.r();
A=A.slice(0);var G=new Uint32Array(A.buffer);for(var D=0;D<M;D+=2){G[D]=x[G[D]&255];G[D+1]=x[G[D+1]&255]}}Z.h.gQ("norm",A,d.rect,d.no,d.rect,K,.3);
this.uY.d([{Uo:d.rect,data:d.no.buffer}])};eo.prototype.eak=function(p){var d=this.Ov;Z.Pk(d.xf,[0,4294967295,4278190080][this.QK.A()]);
Z.h.gQ("norm",d.yK,d.rect,d.xf,d.rect,d.rect,1);this.Rq.d([{Uo:d.rect,data:d.xf.buffer}])};eo.prototype.NI=function(p){var d=this.rL,K=this.Ov,A=this.jF.A(),x=d.L[d.Y[0]],M=new y(n.E.q,!0);
M.UQ=!0;var G=x.rect.clone();if(A==0&&x.Ml()||A!=0&&!x.Ml()){M.O=r.aW;M.data={j:V.zQ,o:d.Y[0]};this.n(M)}if(d.P!=null){M.O=r.$$;
M.data={j:"fromAction",Cs:r.wJ.Zu()};this.n(M)}if(A==0){var D=d.L.slice(0),P=d.sP();P.Hv(x.getName());
D.splice(d.Y[0]+1,0,P);P.rect=G;P.buffer=K.yK;P.i();M.O=r.aW;M.data={j:V.CE,uv:D,PD:[d.Y[0]+1],hH:[7,11]};
this.n(M)}if(A==1){var a=x.gW();M.O=r.aW;M.data={j:V.v_,eoe:!0};this.n(M);var e=x.gW();e.channel=Z.p(G.r());
e.rect=G;e.color=0;e.dJ=!0;Z.$m(K.yK,e.channel,3);if(a){var f=e.HN(a);e.rect=f.rect;e.channel=f.channel;
e.color=f.color}e.bB();x.u_()}if(A==2){var N={rect:G,channel:Z.p(G.r())};Z.$m(K.yK,N.channel,3);M.O=r.$$;
M.data={j:"setsel",P:N,hH:this.tH};this.n(M)}this.close()};function PU(){Qx.call(this,[1,13],"locstor");
this.hG=null;this.cr=[];var p=this.body,d=n.b("p");d.textContent="These files are loaded every time you start Photopea.";
p.appendChild(d);this.ein=0;this.jh=n.b("span");p.appendChild(this.jh);this.jh.setAttribute("style","display:inline-block;  width:12em;  font-weight:bold;");
this.my=new Qa([5,4],!1,null,!0);this.my.R("click",this.ePk,this);p.appendChild(this.my.G);this.CM=new eT(!0);
this.CM.parent=this;this.CM.or(1);this.CM.R(n.E.f,this.ePV,this);p.appendChild(this.CM.G);this.CM.G.setAttribute("style","width: 40em; height: 25em")}PU.prototype=new Qx;
PU.prototype.l=function(){Qx.prototype.l.call(this);this.jh.textContent=Qc.get([13,2])+": "+tx.Ym(this.ein);
this.my.l()};PU.prototype.Ei=function(p,d){this.hG=p;if(d==Qn.pT)this._$()};PU.prototype._$=function(p,d){var K=this.hG.Jx.Hu,P=0;
this.cr=[];for(var A in K)this.cr.push(A);this.cr.sort(function(f,N){f=f.split(".");N=N.split(".");return f[1]==N[1]?f[0]<N[0]?-1:1:f[1]<N[1]?-1:1});
var x=Math.floor(100*n.F()),M=Math.floor(16*n.F()),G=[],D=[];for(var a=0;a<this.cr.length;a++){var A=this.cr[a],e=PU.XN(A,K[A],x,M);
G.push(e);D.push(A);P+=K[A].byteLength}this.CM.DX(G,D,x,M);this.ein=P;this.l()};PU.prototype.ePV=function(p){this.CM.QF(this.CM.A())};
PU.prototype.ePk=function(p){var d=this.CM.A();if(d==-1){alert("Select a file first.");return}this.CM.d(-1);
var K=this.hG.Jx.Hu;delete K[this.cr[d]];var A=new y(n.E.s,!0);A.data={j:n.H.aA,gD:Qn.pT};this.n(A)};
PU.XN=function(p,d,K,A){var x=n.b("canvas"),D=0;x.width=K;x.height=A;var M=x.getContext("2d"),G=p.split(".").pop().toLowerCase();
for(var P=0;P<G.length;P++)D+=G.charCodeAt(P)*613<<8*P;M.fillStyle="#"+Z.rd(D&16777215);M.fillRect(0,0,20,A);
var a=Math.floor(14*n.F());M.fillStyle="#000000";M.font="bold "+a+"px sans-serif";var e=(A-a)/2,f=tx.Ym(d.byteLength),N=M.measureText(f);
M.fillText(f,K-12-N.width,A-e);return x.toDataURL()};function GU(p,d,K){Qx.call(this,d,"cwindow");this.etK=new QP(K[0],K[1]-33);
this.LM=n.b("div","form");this.LM.setAttribute("style","width:"+(K[2]-K[0])+"px; height:"+(K[3]-K[1])+"px");
this.body.appendChild(this.LM)}GU.prototype=new Qx;GU.prototype.jt=function(p,d){return this.etK.clone()};
function QJ(p,d,K,A){QF.call(this);this.name=p;this.etm=K;this.dn=A;this.HJ=n.b("div","");this.HJ.setAttribute("draggable","true");
this.GQ=n.b("div","pbody");this.xb=new Qa("",!1,"");this.xb.parent=this;this.eir=n.b("span","cross");
this.Bo=n.b("span","label");var x=this.eGO.bind(this);this.HJ.addEventListener("mousedown",this.eGS.bind(this),!1);
this.HJ.addEventListener("contextmenu",x,!1);this.xb.G.addEventListener("contextmenu",x,!1);this.eir.addEventListener("mousedown",this.mr.bind(this),!1);
this.HJ.appendChild(this.Bo);if(d)this.HJ.appendChild(this.eir);this.nj=!1;this.js=new p_([{name:[1,12]}]);
this.js.R("select",this.mr,this);this.Bo.textContent=p}QJ.prototype=new QF;QJ.prototype.qV=function(){return null};
QJ.prototype.Yu=function(){return new QP(0,0)};QJ.prototype.l=function(){var p=Qc.get(this.name),d=this.dv==0?22:Math.round(2+this.dv/50),K=p.length>d;
this.Bo.textContent=K?p.slice(0,d-2):p;if(K)for(var A=0;A<2;A++){var x=n.b("span");x.textContent=p.charAt(d-2+A);
x.setAttribute("style","opacity:"+(.6-A*.4));this.Bo.appendChild(x)}var M=p.split(" "),G=M.length==2?M[0].substring(0,2)+M[1][0]:p.substring(0,3);
if(G.charCodeAt(0)>=11776)G=G.substring(0,1);var D=this.etm;if(D==null)this.xb.g$(G,p);else{if(D.indexOf("\"")==-1)this.xb.g$("<img src=\""+D+"\" alt=\""+p+"\" height=\"20\" />",p)}};
QJ.prototype.enable=function(){this.GQ.setAttribute("class","pbody")};QJ.prototype.disable=function(){this.GQ.setAttribute("class","pbody disabled")};
QJ.prototype.Ei=function(p,d){};QJ.prototype._$=function(p,d,K){};QJ.prototype.dq=function(p,d){};QJ.prototype.Jz=function(p){this.name=p;
this.l()};QJ.prototype.aU=function(){};QJ.prototype.eGS=function(p){if(p.button==0)this.n(new y("select",!1))};
QJ.prototype.eGO=function(p){n.Zy(p);if(this.dn!=null&&isNaN(this.dn))return;var d=n.Cu(p,document.body),K=this.js;
K.update(null);K.l();K.parent=this;var A=new y(n.E.s,!0);A.data={j:n.H.uO,Fy:K,x:d.x+1,y:d.y+1};this.n(A)};
QJ.prototype.q$=function(){this.mr({})};QJ.prototype.mr=function(p){if(p.stopPropagation)p.stopPropagation();
if(this.dn!=null&&!isNaN(this.dn)){var d=new y(n.E.s,!0);d.data={j:n.H.Ka,Fy:this.js};this.n(d);d.data={j:n.H.aA,gD:Qn.aD,S:parseFloat(this.dn),oJ:"del"};
this.n(d)}else if(this.eoM())this.n(new y(n.E.Gy,!1))};QJ.prototype.eoM=function(p){return!0};QJ.prototype.Fg=function(p,d,K,A,x){};
QJ.prototype.Yh=function(p,d,K,A,x){};QJ.prototype.gi=function(p,d,K,A,x){};QJ.Qh=function(p,d){if(p.childElementCount!=0)return;
var K=p.textContent;this.lO=this.eGT.bind(this);this.eql=this.ete.bind(this);this.QB=d;this.aY=p;this.etR=K;
var A=n.b("input","");A.setAttribute("type","text");A.setAttribute("size","10");A.setAttribute("value",K);
n.hM(p);p.appendChild(A);A.select();A.focus();p.addEventListener("keyup",this.lO,!1);document.body.addEventListener("mousedown",this.eql,!1)};
QJ.Qh.prototype.eGT=function(p){var d=B.ov,K=d(p.code,B.ut);if(d(p.code,B.qo)||K)this.eoU(K)};QJ.Qh.prototype.ete=function(p){var d=p.target;
if(d.tagName&&d.tagName.toLowerCase()=="input")return;this.eoU(!0)};QJ.Qh.prototype.eoU=function(p){var d=this.aY;
d.removeEventListener("keyup",this.lO);document.body.removeEventListener("mousedown",this.eql);if(p){var K=d.firstChild.value;
this.QB(K)}else{n.hM(d);d.textContent=this.etR}};QJ.dh={Ze:"0",etG:"1",aW:"2",etO:"3",etU:"4",Yc:"5",CSS:"6",hK:"7",eti:"8",eth:"9",ets:"10",etN:"11",eQU:"12",Py:"13",bF:"14",eQH:"15",eQW:"16",iM:"17",eQx:"18"};
function tX(){QJ.call(this,[9,9],!1,null,QJ.dh.etN);this.hG=null;this.yu=[0,0];this.r$=n.b("div","padded scrollable");
this.r$.setAttribute("style","width:260px;  height:260px");this.GQ.appendChild(this.r$);this.R(n.E.f,this.zs,this);
this.Lk=n.b("div","lpfoot");this.GQ.appendChild(this.Lk);this.mk=[];var p="<svg  class=\"gsicon\" viewBox=\"0 0 14 18\" width=\"14\" height=\"18\" fill=\"black\">",d="</svg>",K=p+"<path d=\"M14,6 L10,6 L10,0 L4,0 L4,6 L0,6 L7,13 L14,6 L14,6 Z M0,14 L0,16 L14,16 L14,14 Z\" />"+d,A=p+"<path d=\"M0,2 L14,9 L0,16 Z\" />"+d;
this.eha=p+"<circle cx=\"7\" cy=\"9\" r=\"6\" />"+d;this.etz=p+"<path d=\"M2,4 L12,4 L12,14 L2,14 Z\" />"+d;
var x=[this.eha,A,"lrs/folder","lrs/newlayer","lrs/bin",K],M=[[15,8,0],[5,8],[15,8,1],[15,8,2],[5,4],[1,2]];
for(var G=0;G<x.length;G++){var D=x[G];if(1<G&&G!=x.length-1)D="<img src=\""+PIMG[x[G]]+"\" class=\"gsicon\" />";
var P=new Qa(D,!1,M[G]);P.R("click",this.eGH,this);this.Lk.appendChild(P.G);this.mk.push(P)}}tX.prototype=new QJ("");
tX.prototype.l=function(){QJ.prototype.l.call(this);for(var p=0;p<this.mk.length;p++)this.mk[p].l()};
tX.prototype.eGH=function(p){var d=this.mk.indexOf(p.currentTarget),K=this.yu,A=this.hG,x=A.vn;if(d==0){var M,G=A.Qu;
if(x.length==0){alert("Create an Action Set first.");return}if(K.length<2){alert("Select a target action first.");
return}if(G==null){M=this.etz;G=this.yu}else{M=this.eha;G=null}this.mk[0].g$(M);A.Qu=G}else if(d==1)this.eQD();
else if(d==2||d==3){var D={hH:"Action Set "+x.length,W:[],exp:!0};if(d==2||x.length==0){K=[x.length];
x.push(D)}if(d==3){var P=x[K[0]].W;K=[K[0],P.length];P.push({hH:"Action "+P.length,color:0,W:[],eat:!1,shift:!1,exp:!0,_W:P.length})}this.yu=K;
this.nl()}else if(d==4){var a;if(K.length==1)a=x;else if(K.length==2)a=x[K[0]].W;else a=x[K[0]].W[K[1]].W;
var e=K.length-1;a.splice(K[e],1);if(a.length==0)K.pop();else while(K[e]>=a.length)K[e]--;if(K.length==0)K.push(0);
this.nl()}else if(d==5){if(x.length==0){alert("No Actions Present.");return}var f=new y(n.E.s,!0);f.data={j:n.H.Ls,eza:Qn.q,Lt:K[0]};
this.n(f)}};tX.prototype.zs=function(p){var d=this.hG.vn,K=p.data.j,A=p.data.CB;if(K=="sel")this.yu=A;
if(K=="fold"){if(A.length==1)d[A[0]].exp=!d[A[0]].exp;else d[A[0]].W[A[1]].exp=!d[A[0]].W[A[1]].exp}if(K=="enab"){var x=d[A[0]].W[A[1]].W[A[2]];
x.C=!x.C}if(K=="nchange"){if(A.length==1)d[A[0]].hH=p.data.GY;else d[A[0]].W[A[1]].hH=p.data.GY}this.nl()};
tX.prototype.Ei=function(p,d){this.hG=p;if(d==Qn.q||d==Qn.ff)this.nl()};tX.prototype.nl=function(){if(this.hG==null)return;
n.hM(this.r$);var p=this.hG.vn;if(p.length==0)return;var d=JSON.stringify(this.yu);for(var K=0;K<p.length;
K++){var A=p[K],x=new tX.Dq([K],d,A.exp,A.hH.split("=").pop());x.parent=this;this.r$.appendChild(x.G);
if(!A.exp)continue;for(var M=0;M<A.W.length;M++){var G=A.W[M],x=new tX.Dq([K,M],d,G.exp,G.hH.split("=").pop());
x.parent=this;this.r$.appendChild(x.G);if(!G.exp)continue;for(var D=0;D<G.W.length;D++){var P=G.W[D],x=new tX.Dq([K,M,D],d,null,Qc.get(Pq.eU$(P)),P.C);
x.parent=this;this.r$.appendChild(x.G)}}}};tX.prototype.eQD=function(){var p=this.hG.vn,d=this.yu;if(p.length==0){alert("No Actions Present");
return}if(d.length==1){alert("Select an Action first");return}if(this.hG.Qu!=null){alert("You can not apply actions while recording actions");
return}if(d.length==1)d.push(0);var K=p[d[0]],A=K.W[d[1]],x=new y(n.E.s,!0);x.data={j:n.H.LZ,ZU:[A.hH,K.hH]};
this.n(x)};tX.Dq=function(p,d,K,A,x){QF.call(this);this.CB=p;var M=this.CB.length-1;this.G=n.b("div","layeritem"+(JSON.stringify(p)==d?" selected":""));
this.zd=n.b("div","head");this.G.appendChild(this.zd);this.zd.setAttribute("style","height:24px");this.yH=n.b("div","headL");
this.zd.appendChild(this.yH);if(M!=0){var G=n.b("div");G.style.width=M*20+"px";this.yH.appendChild(G)}if(K!=null){var D=this.eta=n.b("div",K?"open":"closed");
this.yH.appendChild(D)}else{var P=this.etq=n.b("div","cmark");P.setAttribute("style","background-size:12px 12px; opacity:"+(x?1:.3));
this.yH.appendChild(P)}if(M==0){var a=n.b("div","folder");this.yH.appendChild(a)}var e=this.Bo=n.b("div","label");
e.textContent=A;this.yH.appendChild(e);this.G.addEventListener("mouseup",this.mT.bind(this),!1)};tX.Dq.prototype=new QF;
tX.Dq.prototype.mT=function(p){if(p.detail==1&&p.target.tagName.toLowerCase()!="input"){var d="sel";
if(p.target==this.eta)d="fold";if(p.target==this.etq)d="enab";var K=new y(n.E.f,!0);K.data={j:d,CB:this.CB};
this.n(K)}else if(this.CB.length<3)var A=new QJ.Qh(this.Bo,this.QB.bind(this))};tX.Dq.prototype.QB=function(p){var d=new y(n.E.f,!0);
d.data={j:"nchange",GY:p,CB:this.CB};this.n(d)};function QT(){QJ.call(this,[9,3],!1,null,QJ.dh.hK);this.At=null;
this.Bp=null;this.hG=null}QT.prototype=new QJ("");QT.prototype.Qx=function(){var p=n.b("div","");this.GQ.appendChild(p);
this.xN=n.b("div","bordered cell");this.xN.setAttribute("style","width:10em; height:28.5em;");p.appendChild(this.xN);
this.hZ=[];this.jW=null;this.wA=[];var d=this.eQC.bind(this);this.RP=[new QT.$F,new QT.jQ,new QT.QV,new QT.qg];
for(var K=0;K<this.RP.length;K++){var A=n.b("div","listitem"),x=this.RP[K].Zv,M=null;if(K==0){this.jW=new GJ(x);
A.appendChild(this.jW.G)}else{M=new Ql(x,!1);M.R(n.E.f,this.eQA,this);A.appendChild(M.G)}this.wA.push(M);
this.xN.appendChild(A);this.hZ.push(A);A.addEventListener("click",d,!1)}this.c_=n.b("div","cell padded");
p.appendChild(this.c_);for(var K=0;K<this.RP.length;K++)this.RP[K].R("brushchange",this.eQd,this);this.setItem(0);
this.Fs=n.b("canvas","");this.Fs.width=Math.floor(380*n.F());this.Fs.height=Math.floor(80*n.F());n.Cp(this.Fs,this.Fs.width,this.Fs.height);
p.appendChild(this.Fs);this.MZ=this.Fs.getContext("2d");this.gx()};QT.prototype.aU=function(){if(this.xN){this.gx();
return}this.Qx();this.l();this.Ei(this.hG,Qn.ff)};QT.prototype.l=function(){QJ.prototype.l.call(this);
if(this.xN==null)return;this.jW.l();for(var p=1;p<this.wA.length;p++)this.wA[p].l();for(var p=0;p<this.RP.length;
p++)this.RP[p].l()};QT.prototype.eQd=function(p){var d=this.RP.indexOf(p.currentTarget),K=JSON.parse(JSON.stringify(this.RP[d].Bp)),A=new y(n.E.s,!0);
A.data={j:n.H.aA,gD:Qn.ee,Bp:K};this.n(A)};QT.prototype.eQA=function(p){this.eG_(this.wA.indexOf(p.currentTarget),p.currentTarget.dA())};
QT.prototype.eQC=function(p){var d=this.hZ.indexOf(p.currentTarget);if(p.target.tagName.toLowerCase()=="input")return;
if(this.wA[d]&&!this.wA[d].dA()){this.wA[d].uy();this.eG_(d,!0)}this.setItem(d)};QT.prototype.eG_=function(p,d){this.RP[p].YR(d)};
QT.prototype.setItem=function(p){for(var d=0;d<this.RP.length;d++)this.hZ[d].setAttribute("class","listitem");
if(this.c_.firstChild)this.c_.removeChild(this.c_.firstChild);this.hZ[p].setAttribute("class","listitem selected");
this.c_.appendChild(this.RP[p].G)};QT.prototype.Ei=function(p,d){this.hG=p;if(this.xN==null)return;if(d==Qn.hK||d==Qn.ff){this.At=p.hx;
for(var K=0;K<this.RP.length;K++)this.RP[K].H_(this.At)}if(d==Qn.ee||d==Qn.ff){this.Bp=p.hx.yv;this.gx()}if(d==Qn.Py)this.gx()};
QT.prototype.gx=function(){if(this.Bp)this.enable();else{this.disable();return}if(!n.Or(this.GQ))return;
var p=this.hG;for(var d=0;d<this.RP.length;d++){this.RP[d].d(this.Bp);if(this.wA[d])this.wA[d].d(this.RP[d].dA())}var K=JSON.parse(JSON.stringify(this.Bp));
K.Brsh.v.Dmtr.v.val=Math.min(K.Brsh.v.Dmtr.v.val,50);var A=new R(0,0,this.Fs.width,this.Fs.height),x=new Qr(K,this.At?this.At.Im:null,this.At?this.At.eN:null,{Xo:1},p.ou,p.Le,A),M=40*n.F(),G=300*n.F();
x.moveTo(M,M);for(var d=0;d<=G;d+=10)x.lineTo(M+d,M+20*Math.sin(2*Math.PI*d/G));x.finish();var D=this.MZ.createImageData(A.t,A.D);
Z.PE(x.tR(),x.rl(),D.data,A);this.MZ.putImageData(D,0,0)};QT.rW=function(p){QF.call(this);this.Zv=p;
this.G=n.b("div","");this.Bp=null};QT.rW.prototype=new QF;QT.rW.prototype.H_=function(p){};QT.rW.prototype.d=function(p){this.Bp=JSON.parse(JSON.stringify(p));
this.G.setAttribute("class",this.dA()?"":"disabled");this.gx()};QT.rW.prototype.YR=function(p){};QT.rW.prototype.dA=function(){return!1};
QT.rW.prototype.l=function(){};QT.rW.prototype.gx=function(){};QT.rW.prototype.Da=function(){this.n(new y("brushchange"))};
QT.$F=function(){QT.rW.call(this,[15,0]);this.At=null;this.ehJ=null;this.RW=new eT(!0);this.G.appendChild(this.RW.G);
this.RW.R(n.E.f,this.eQr,this);this.RW.G.style.height="10.7em";this.RD=new Qo([12,14,0],1,1e3," px",0,!0);
this.RD.R(n.E.f,this.eQb,this);this.Rg=new Qo([12,15],0,359," \xB0");this.Rg.R(n.E.f,this.eQY,this);
this.RZ=new Qo([12,16],0,100," %");this.RZ.R(n.E.f,this.eQl,this);this.Rl=new Qo([12,17],0,100," %");
this.Rl.R(n.E.f,this.eQy,this);this.Rj=new Qo([12,18],1,300," %");this.Rj.R(n.E.f,this.eMu,this);this.hZ=[this.RD,this.Rg,this.RZ,this.Rl,this.Rj]};
QT.$F.prototype=new QT.rW;QT.$F.prototype.l=function(){this.RD.l();this.Rg.l();this.RZ.l();this.Rl.l();
this.Rj.l()};QT.$F.prototype.dA=function(){return!0};QT.$F.prototype.H_=function(p){this.At=p;var d=[],K=Math.floor(30*n.F()),A=Math.floor(40*n.F());
for(var x=0;x<p.list.length;x++){var M=p.list[x].v,G=Qr.XN(M,p.Im,p.eN,K,A);d.push(G)}this.RW.DX(d,null,K,A)};
QT.$F.prototype.gx=function(){var p=this.Bp.Brsh.v,d=p.classID!=this.ehJ;this.ehJ=p.classID;if(d)for(var K=0;
K<this.hZ.length;K++)if(this.G.contains(this.hZ[K].G))this.G.removeChild(this.hZ[K].G);this.RD.d(p.Dmtr.v.val);
if(d)this.G.appendChild(this.RD.G);this.Rg.d(p.Angl.v.val);if(d)this.G.appendChild(this.Rg.G);if(p.classID=="computedBrush"||p.classID=="sampledBrush"){this.RZ.d(p.Rndn.v.val);
if(d)this.G.appendChild(this.RZ.G)}if(p.classID=="computedBrush"){this.Rl.d(p.Hrdn.v.val);if(d)this.G.appendChild(this.Rl.G)}this.Rj.d(p.Spcn.v.val);
if(d)this.G.appendChild(this.Rj.G)};QT.$F.prototype.eQr=function(p){this.Bp=this.At.list[this.RW.A()].v;
this.Da()};QT.$F.prototype.eQb=function(p){this.Bp.Brsh.v.Dmtr.v.val=p.target.A();this.Da()};QT.$F.prototype.eQY=function(p){this.Bp.Brsh.v.Angl.v.val=p.target.A();
this.Da()};QT.$F.prototype.eQl=function(p){this.Bp.Brsh.v.Rndn.v.val=p.target.A();this.Da()};QT.$F.prototype.eQy=function(p){this.Bp.Brsh.v.Hrdn.v.val=p.target.A();
this.Da()};QT.$F.prototype.eMu=function(p){this.Bp.Brsh.v.Spcn.v.val=p.target.A();this.Da()};QT.jQ=function(){QT.rW.call(this,[15,1]);
this.QH=new Qo([15,4,0],0,100," %");this.QH.R(n.E.f,this.eMH,this);this.G.appendChild(this.QH.G);this.Qw=new Qo([15,4,1],0,100," %");
this.Qw.R(n.E.f,this.eMv,this);this.G.appendChild(this.Qw.G);this.Qc=new Qo([15,4,2],0,100," %");this.Qc.R(n.E.f,this.eMV,this);
this.G.appendChild(this.Qc.G);this.Qi=new Qo([15,4,3],0,100," %");this.Qi.R(n.E.f,this.eMF,this);this.G.appendChild(this.Qi.G);
this.Qq=new Qo([15,4,4],0,100," %");this.Qq.R(n.E.f,this.eML,this);this.G.appendChild(this.Qq.G)};QT.jQ.prototype=new QT.rW;
QT.jQ.prototype.l=function(){this.QH.l();this.Qw.l();this.Qc.l();this.Qi.l();this.Qq.l()};QT.jQ.prototype.dA=function(){return this.Bp.useTipDynamics.v};
QT.jQ.prototype.YR=function(p){this.Bp.useTipDynamics.v=p;tb.Iu.$A(this.Bp);this.Da()};QT.jQ.prototype.gx=function(){var p=this.Bp;
if(p.useTipDynamics.v==!1)return;this.QH.d(p.szVr.v.jitter.v.val);this.Qw.d(p.minimumDiameter.v.val);
this.Qc.d(p.angleDynamics.v.jitter.v.val);this.Qi.d(p.roundnessDynamics.v.jitter.v.val);this.Qq.d(p.minimumRoundness.v.val)};
QT.jQ.prototype.eMH=function(p){this.Bp.szVr.v.jitter.v.val=p.target.A();this.Da()};QT.jQ.prototype.eMv=function(p){this.Bp.minimumDiameter.v.val=p.target.A();
this.Da()};QT.jQ.prototype.eMV=function(p){this.Bp.angleDynamics.v.jitter.v.val=p.target.A();this.Da()};
QT.jQ.prototype.eMF=function(p){this.Bp.roundnessDynamics.v.jitter.v.val=p.target.A();this.Da()};QT.jQ.prototype.eML=function(p){this.Bp.minimumRoundness.v.val=p.target.A();
this.Da()};QT.QV=function(){QT.rW.call(this,[15,2]);this.QA=new Qo([15,5,0],0,1e3," %");this.QA.R(n.E.f,this.eM_,this);
this.G.appendChild(this.QA.G);this.QJ=new Qo([15,5,1],1,20);this.QJ.R(n.E.f,this.eMI,this);this.G.appendChild(this.QJ.G);
this.QZ=new Qo([15,5,2],0,100," %");this.QZ.R(n.E.f,this.eMR,this);this.G.appendChild(this.QZ.G)};QT.QV.prototype=new QT.rW;
QT.QV.prototype.l=function(){this.QA.l();this.QJ.l();this.QZ.l()};QT.QV.prototype.dA=function(){return this.Bp.useScatter.v};
QT.QV.prototype.YR=function(p){this.Bp.useScatter.v=p;tb.Iu.$A(this.Bp);this.Da()};QT.QV.prototype.gx=function(){var p=this.Bp;
if(p.useScatter.v==!1)return;this.QA.d(p.scatterDynamics.v.jitter.v.val);this.QJ.d(p.Cnt.v);this.QZ.d(p.countDynamics.v.jitter.v.val)};
QT.QV.prototype.eM_=function(p){this.Bp.scatterDynamics.v.jitter.v.val=p.target.A();this.Da()};QT.QV.prototype.eMI=function(p){this.Bp.Cnt.v=p.target.A();
this.Da()};QT.QV.prototype.eMR=function(p){this.Bp.countDynamics.v.jitter.v.val=p.target.A();this.Da()};
QT.qg=function(){QT.rW.call(this,[15,3]);this.Qr=new Qo([15,6,0],0,100," %");this.Qr.R(n.E.f,this.epH,this);
this.G.appendChild(this.Qr.G);this.Ax=new Qo([15,6,1],0,100," %");this.Ax.R(n.E.f,this.epq,this);this.G.appendChild(this.Ax.G);
this.Qb=new Qo([15,6,2],0,100," %");this.Qb.R(n.E.f,this.epy,this);this.G.appendChild(this.Qb.G);this.QY=new Qo([15,6,3],0,100," %");
this.QY.R(n.E.f,this.enK,this);this.G.appendChild(this.QY.G)};QT.qg.prototype=new QT.rW;QT.qg.prototype.l=function(){this.Qr.l();
this.Ax.l();this.Qb.l();this.QY.l()};QT.qg.prototype.dA=function(){return this.Bp.useColorDynamics.v};
QT.qg.prototype.YR=function(p){this.Bp.useColorDynamics.v=p;tb.Iu.$A(this.Bp);this.Da()};QT.qg.prototype.gx=function(){var p=this.Bp;
if(p.useColorDynamics.v==!1)return;this.Qr.d(p.clVr.v.jitter.v.val);this.Ax.d(p.H.v.val);this.Qb.d(p.Strt.v.val);
this.QY.d(p.Brgh.v.val)};QT.qg.prototype.epH=function(p){this.Bp.clVr.v.jitter.v.val=p.target.A();this.Da()};
QT.qg.prototype.epq=function(p){this.Bp.H.v.val=p.target.A();this.Da()};QT.qg.prototype.epy=function(p){this.Bp.Strt.v.val=p.target.A();
this.Da()};QT.qg.prototype.enK=function(p){this.Bp.Brgh.v.val=p.target.A();this.Da()};function Pk(){QJ.call(this,[9,0],!1,null,QJ.dh.Ze);
this.GQ.setAttribute("style","min-width:200px;");this.WP=n.b("div","hpbody scrollable");this.WP.style.height="160px";
this.GQ.appendChild(this.WP);this.eto=-1;this.jx=[]}Pk.prototype=new QJ("");Pk.prototype._$=function(p){n.hM(this.WP);
if(p==null)return;var d=0;for(var K=0;K<p.history.length;K++)if(K<=p.PO&&!p.history[K].rj)d=K;for(var K=0;
K<p.history.length;K++){var A=p.history[K];if(A.rj)continue;var x=new GH(A,K,d);x.parent=this;this.WP.appendChild(x.G);
this.jx.push(x)}if(p.PO==p.history.length-1)this.aU()};Pk.prototype.aU=function(){this.WP.scrollTop=this.WP.scrollHeight};
Pk.prototype.l=function(){QJ.prototype.l.call(this);for(var p=0;p<this.jx.length;p++)this.jx[p].l()};
function GH(p,d,K){QF.call(this);this.index=d;this.G=n.b("div",d==K?"listitem selected":"listitem");
this.xk=p.name;this.l();if(d>K)this.G.style.opacity=.4;this.G.addEventListener("click",this.Fg.bind(this),!1)}GH.prototype=new QF;
GH.prototype.l=function(){this.G.textContent=Qc.get(this.xk)};GH.prototype.Fg=function(p){if(this.index==this.parent.eto)return;
this.vC({j:"h_itemchange",index:this.index})};GH.prototype.vC=function(p){var d=new y(n.E.q,!0);d.data=p;
d.O=r.Ze;this.n(d)};function PF(){QJ.call(this,[9,10],!1,null,QJ.dh.etU);var p=n.b("div","padded");this.GQ.appendChild(p);
this.KZ=new PQ(256);p.appendChild(this.KZ.G);this.etW=[];this.UR=[];var d=["Mean:","Pixels:"];for(var K=0;
K<d.length;K++){var A=new GJ(d[K]);this.etW.push(A);p.appendChild(A.G);var x=new GJ("hi");this.UR.push(x);
p.appendChild(x.G);n.Ld(p)}this.WA=null}PF.prototype=new QJ("");PF.prototype._$=function(p){this.WA=p;
this.nl()};PF.prototype.nl=function(){var p=this.WA,a=0;if(!n.Or(this.GQ))return;if(p==null||p.Y.length==0){this.KZ.d(Z.$P(Z.p(4)));
this.UR[0].d("");this.UR[1].d("");return}var d=p.zi(),K=new R(0,0,p.t,p.D),A=K.r();if(p.P){var x=p.P.rect,M=Z.p(x.r()*4);
Z.PE(d,K,M,x);Z.f$(p.P.channel,M);d=M;K=x;var G=p.P.channel;A=0;for(var D=0;D<G.length;D++)A+=G[D];A=Math.round(A/255)}var P=Z.$P(d);
this.KZ.d(P);for(var D=0;D<256;D++)a+=D*(.333*P[1][D]+.333*P[2][D]+.333*P[3][D]);this.UR[0].d((a/A).toFixed(1)+"");
this.UR[1].d(A+"")};PF.prototype.Ei=function(p,d){this.KZ.dT(p$.iJ[p.xi]["--text-color"])};PF.prototype.l=function(){QJ.prototype.l.call(this);
this.KZ.l()};PF.prototype.aU=function(){this.nl()};function Gw(){QJ.call(this,[9,8],!1,null,QJ.dh.etG);
this.r$=n.b("div","padded");this.GQ.appendChild(this.r$);this.hX=new pT(10);this.r$.appendChild(this.hX.G);
this.r$.appendChild(n.b("hr"));this.yw=new eX;this.yw.parent=this;this.r$.appendChild(this.yw.rB);this.hX.R(n.E.f,this.eGs,this);
this.yw.R(n.E.f,this.eGs,this)}Gw.prototype=new QJ("");Gw.prototype.eGs=function(p){var d;if(p.target==this.hX)d=this.hX.A();
else{var K=this.yw.A();d=Math.round(K.N)<<16|Math.round(K.w)<<8|Math.round(K.M)}var A=new y(n.E.s,!0);
A.data={j:n.H.aA,gD:Qn.Py,hE:0,S:d};this.n(A)};Gw.prototype.Ei=function(p,d){var K=p.ou,A=d==Qn.ff;if(d==Qn.Py||A){this.hX.d(K);
this.yw.d({N:K>>>16&255,w:K>>>8&255,M:K>>>0&255,WR:"Color #"+Z.rd(K)})}if(d==Qn.aq||A){var x=p.esp;this.yw.H_(x)}};
function pQ(){QJ.call(this,[12,72],!1,null,QJ.dh.eQW);this.Ql=null;this.ag=null;this.WP=n.b("div","lpbody scrollable");
this.Lk=n.b("div","lpfoot");this.GQ.appendChild(this.WP);this.GQ.appendChild(this.Lk);this.jJ=[];this.R("click",this.hB,this);
this.tD=[];pQ.YJ([[17,2],"Save Selection as Channel",[5,3],[5,4]],this.tD,this.Lk,this.uG.bind(this),this.hP.bind(this));
this.esF=new p_([{name:"Merge Channels",us:!0}]);this.esF.R("select",this.dQ,this)}pQ.prototype=new QJ("");
pQ.prototype.dQ=function(p){var d=new y(n.E.s,!0);d.data={j:n.H.Ae,$u:"mergechannels"};this.n(d)};pQ.prototype.qV=function(){return this.esF};
pQ.YJ=function(p,d,K,A,x){for(var M=0;M<p.length;M++){var G=new Qa("W",!1,p[M]);d.push(G);n.uw(G.G,A);
K.appendChild(G.G);var D=G.G;D.addEventListener("drop",x,!1);D.addEventListener("dragover",function(P){P.preventDefault()},!1);
D.addEventListener("dragenter",n.Zy,!1)}};pQ.he=function(p,d){for(var K=0;K<p.length;K++)if(p[K].G==d.currentTarget)return K};
pQ.prototype.uG=function(p){var d=pQ.he(this.tD,p);if(d==0)this.n(pq.hV(!0,null,p));else{d--;var K=new y(n.E.Iz,!0),A={classID:"null"};
if(d==0)A.null={t:"obj ",v:[{t:"prop",v:{classID:"Chnl",keyID:"fsel"}}]};else if(d==1)A.Nw={t:"Objc",v:{classID:"Chnl",ClrI:{t:"enum",v:{MskI:"SlcA"}},Opct:{t:"long",v:50}}};
else A.null=Pq.bt("Chnl",!0);K.data={LG:["duplicate","make","delete"][d],Qz:A};this.n(K)}};pQ.prototype.hP=function(p){var d=pQ.he(this.tD,p);
if(d==2){var K=new y(n.E.Iz,!0),A={classID:"null"};A.null=Pq.bt("Chnl",!0);K.data={LG:"duplicate",Qz:A};
this.n(K)}else this.uG(p)};pQ.prototype.RK=function(p){var d=this.jJ,K=d[p];if(K==null){var A=n.b("canvas");
K=A.getContext("2d");d.push(K)}return K};pQ.prototype.hB=function(p){var d=this.Ql.slice(0),K=p.data._W,A=d[0]+d[1]+d[2],x=this.ag;
if(-5<K&&K<0){var M=-K-1;if(p.data.jN){if(M==0)d=A==3?[0,0,0]:[1,1,1];else{if(d[M-1]==0)d[M-1]=1;else if(!0)d[M-1]=0}}else{if(M==0)d=[1,1,1];
else{d=[0,0,0];d[M-1]=1}x.Mv=[]}var G=new y(n.E.q,!0);G.O=r.zF;G.data={j:"setcls",GU:d};this.n(G);return}if(-1<K){var D=x.L[K],P=D.gq==1?D.gW():D.MT(x).g;
if(p.data.jN)P.hW=!P.hW;else{for(var a=0;a<x.$O.length;a++)x.$O[a].hW=!1;x.Mv=[]}}else{var e=-K-5,P=x.$O[e];
if(p.data.jN)P.hW=!P.hW;else{for(var a=0;a<x.$O.length;a++)x.$O[a].hW=!1;P.hW=!0;x.Mv=[e]}}x.nw=x.Yi=!0};
pQ.prototype.aU=function(){this.Hx()};pQ.prototype._$=function(p){this.ag=p;this.Hx()};pQ.prototype.Hx=function(){var p=this.ag,d=this.WP,D=34,P=34,l=4;
n.hM(d);if(p==null||!n.Or(d))return;var K=p.t,A=p.D,x=new R(0,0,K,A),M=this.Ql=p.U.GU.slice(0),G=M[0]+M[1]+M[2];
if(K>A)P=Math.round(P*A/K);else D=Math.round(D*K/A);var a=["RGB"].concat(QW.NS);for(var e=0;e<4;e++){var f=this.RK(e);
Z.Bn.ej(f,D,P,x,p.zi(),x,!1,e==0?null:e-1);var N=e==0?G==3:M[e-1]==1,Y=new pq(-1-e,!0,!0,f,a[e],N,N);
Y.parent=this;d.appendChild(Y.G)}for(var e=0;e<p.Y.length;e++){var h=p.L[p.Y[e]],s=h.gq;if(s!=1&&s!=3)continue;
var J=s==1?h.gW():h.MT(p).g,f=this.RK(l+e);l++;Z.Bn.er(f,D,P,x,J);var Y=new pq(p.Y[e],!0,!0,f,h.getName()+(s==1?"":" Filter")+" Mask",!0,J.hW);
Y.parent=this;d.appendChild(Y.G)}for(var e=0;e<p.$O.length;e++){var J=p.$O[e],f=this.RK(l+e);Z.Bn.er(f,D,P,x,J);
var Y=new pq(-5-e,!0,J.name=="Quick Mask",f,J.name,p.Mv.indexOf(e)!=-1,J.hW,r.aW,{j:V.Gw,hE:"rnm",_W:e});
Y.parent=this;d.appendChild(Y.G)}};pQ.prototype.dq=function(p,d){this.WP.style.height=d-9-25+"px"};pQ.prototype.l=function(){QJ.prototype.l.call(this);
this.Hx();pQ.eGo(this.tD,["lrs/makesel","lrs/mask","lrs/newlayer","lrs/bin"])};pQ.eGo=function(p,d){for(var K=0;
K<p.length;K++){var A=p[K];A.g$(n.YD(d[K]))}};function pq(p,d,K,A,x,M,G,D,P){QF.call(this);this.G=n.b("div","layeritem");
this.etD=p;this.etJ=d;this.etC=K;this.Eh=A;this.etg=D;this.etZ=P;this.zd=n.b("div",M?"head selected":"head");
this.zd.setAttribute("style","height: "+40+"px");var a=n.b("div","headL"),e=n.b("div","headR"),f=15;
this.G.appendChild(this.zd);this.zd.appendChild(a);this.zd.appendChild(e);this.dU=n.b("div","eye");if(1<n.F()&&n.F()<1.5)f=f/n.F();
this.dU.setAttribute("style","background-size: "+f+"px "+f+"px;");this.dU.style.opacity=G?1:.2;if(d)a.appendChild(this.dU);
this.vu=n.b("div","thumb");this.vu.appendChild(A.canvas);a.appendChild(this.vu);this._C=n.b("div","label");
if(K)this._C.style.fontStyle="italic";this._C.textContent=Qc.get(x);a.appendChild(this._C);var N=this.zd;
N.setAttribute("draggable","true");this.zd.addEventListener("mousedown",this.env.bind(this),!1)}pq.prototype=new QF;
pq.prototype.QB=function(p){var d=new y(n.E.q,!0);d.O=this.etg;d.data=this.etZ;d.data.name=p;this.n(d)};
pq.prototype.env=function(p){var d=p.ctrlKey||p.metaKey,K=this.etD;if(!this.etC&&p.detail==2&&p.target==this._C){var A=new QJ.Qh(this._C,this.QB.bind(this))}else if(d&&p.target==this.Eh.canvas){this.n(pq.hV(this.etJ,K,p))}else{var x=new y("click",!0);
x.data={_W:K,jN:p.target==this.dU,jZ:d};this.n(x)}};pq.hV=function(p,d,K){var A=0;if(K.shiftKey)A++;
if(K.altKey)A+=2;var x=new y(n.E.q,!0);x.O=r.$$;if(p)x.data={j:"fromchannel",ZU:[d,0,A]};else x.data={j:"frompath",ZU:[d,0,A]};
return x};function tY(){QJ.call(this,[8,9],!1,null,QJ.dh.iM);this.Ql=null;this.ag=null;this.WP=n.b("div","lpbody scrollable");
this.Lk=n.b("div","lpfoot");this.GQ.appendChild(this.WP);this.GQ.appendChild(this.Lk);this.GQ.addEventListener("click",this.enV.bind(this),!1);
this.jJ=[];this.R("click",this.hB,this);this.tD=[];pQ.YJ([[17,2],[5,3],[5,4]],this.tD,this.Lk,this.uG.bind(this),this.hP.bind(this))}tY.prototype=new QJ("");
tY.prototype.uG=function(p){var d=pQ.he(this.tD,p),K;if(d==0)K=pq.hV(!1,null,p);else{var K=new y(n.E.q,!0);
K.O=r.IV;K.data={j:"pathedit",hE:["new","del"][d-1]}}this.n(K)};tY.prototype.hP=function(p){this.uG(p)};
tY.prototype.RK=function(p){var d=this.jJ,K=d[p];if(K==null){var A=n.b("canvas");K=A.getContext("2d");
d.push(K)}return K};tY.prototype.enV=function(p){if(p.target==this.WP){var d=this.ag;d.wV=[];d.BJ=[];
d.Yi=!0;d.nw=!0}};tY.prototype.hB=function(p){var d=p.data._W,K=this.ag,A=p.data.jZ,x=0,M,G;if(d<0){x=-1-d;
M=K.wV;G=K.BJ}else{var D=K.zu()[0];for(var P=0;P<D.length;P++){var a=D[P]._W;if(a==d)break;if(a>=0)x++}M=K.BJ;
G=K.wV}if(A){var e=M.indexOf(x);if(e==-1)M.push(x);else M.splice(e,1)}else{while(M.length!=0)M.pop();
while(G.length!=0)G.pop();M.push(x)}K.Yi=!0;K.nw=!0};tY.prototype.aU=function(){this.Hx()};tY.prototype._$=function(p){this.ag=p;
this.Hx()};tY.prototype.Hx=function(){var p=this.ag,d=this.WP,D=34,P=34;n.hM(d);if(p==null||!n.Or(d))return;
var K=p.t,A=p.D,x=new R(0,0,K,A),M=this.Ql=p.U.GU.slice(0),G=M[0]+M[1]+M[2];if(K>A)P=Math.round(P*A/K);
else D=Math.round(D*K/A);var a=p.zu(),e=a[0];for(var f=0;f<e.length;f++){var N=e[f],Y=this.RK(f);Z.Bn.ezg(Y,D,P,x,N.add.vmsk);
var l=new pq(N._W,!1,N._W>=-1,Y,N.name,a[1].indexOf(f)!=-1,!1,r.IV,{j:"pathedit",hE:"rnm",_W:N._W});
l.parent=this;d.appendChild(l.G)}};tY.prototype.dq=function(p,d){this.WP.style.height=d-9-25+"px"};tY.prototype.l=function(){QJ.prototype.l.call(this);
this.Hx();pQ.eGo(this.tD,["lrs/makesel","lrs/newlayer","lrs/bin"])};function P_(p){QJ.call(this,[9,p?4:5],!1,null,p?QJ.dh.eth:QJ.dh.ets);
this.GQ.setAttribute("style","min-width:240px;");this.etb=p;this.wj=null;this.hG=null}P_.prototype=new QJ("");
P_.prototype.Qx=function(){this.wj=new Ps;var p=this.wj,d=this.GQ;p.parent=this;if(this.etb){var K=n.b("div","marged");
d.appendChild(K);K.appendChild(p.OD.G);d.appendChild(n.b("hr"));var A=n.b("div","marged");d.appendChild(A);
A.appendChild(p.Oy.G);A.appendChild(p.Up.G);var x=n.b("div","marged");d.appendChild(x);x.appendChild(p.UB.G);
d.appendChild(n.b("hr"));var M=n.b("div","marged");d.appendChild(M);M.appendChild(p.bM.G);M.appendChild(p.bv.G);
var G=n.b("div","marged");d.appendChild(G);G.appendChild(p.bc.G);G.appendChild(p.UO.G);d.appendChild(n.b("hr"));
var D=n.b("div","marged");d.appendChild(D);D.appendChild(p.PP.G);D.appendChild(p.Pt.G);D.appendChild(p.PQ.G);
D.appendChild(p.Pp.G);D.appendChild(p.PB.G);D.appendChild(p.Pn.G);D.appendChild(p.PU.G);D.appendChild(p.Pm.G)}else{var K=n.b("div","marged");
d.appendChild(K);K.appendChild(p.bA.G);K.appendChild(p.bC.G);K.appendChild(p.bJ.G);K.appendChild(p.eQN.G);
K.appendChild(p.eMr.G);K.appendChild(p.eQg.G);K.appendChild(p.epn.G);d.appendChild(n.b("hr"));var A=n.b("div","marged");
d.appendChild(A);A.appendChild(p.Ly.G);A.appendChild(p._V.G);A.appendChild(p._I.G);d.appendChild(n.b("hr"));
var x=n.b("div","marged");d.appendChild(x);x.appendChild(p._R.G);x.appendChild(p._A.G);x.appendChild(p.bo.G)}};
P_.prototype.aU=function(){if(!n.Or(this.GQ))return;if(this.wj==null){this.Qx();if(this.hG)this.wj.Rp(this.hG);
this.wj.l()}};P_.prototype.l=function(){QJ.prototype.l.call(this);if(this.wj)this.wj.l()};P_.prototype.Ei=function(p,d){this.hG=p;
if(d!=Qn.ff&&d!=Qn.ar&&d!=Qn.ec&&d!=Qn.pG)return;if(this.wj)this.wj.Rp(p)};function PC(){QJ.call(this,[13,0],!1,null,QJ.dh.Py);
this.jr=0;this.esJ=0;this.hG=null;var p=n.b("div","flexrow padded");this.GQ.appendChild(p);var d=n.b("div");
p.appendChild(d);this.jX=[];for(var K=0;K<2;K++){var A=new Md;this.jX.push(A);A.R("click",this.enD,this);
d.appendChild(A.G)}this.UK=new MN(192);this.UK.R(n.E.f,this.aL,this);p.appendChild(this.UK.G)}PC.prototype=new QJ("");
PC.prototype.enD=function(p){this.jr=this.jX.indexOf(p.currentTarget);this.nl()};PC.prototype.aL=function(p){var d=this.UK.A();
this.UK.d(d);var K=Math.round(d.N*255)<<16|Math.round(d.w*255)<<8|Math.round(d.M*255),A=new y(n.E.s,!0);
A.data={j:n.H.aA,gD:Qn.Py,hE:this.jr,S:K};this.n(A);this.esJ=Date.now()};PC.prototype.nl=function(){var p=this.hG,d=this.jr,K=[p.ou,p.Le];
for(var A=0;A<2;A++){var x=this.jX[A],M=x.G.style;x.dT(K[A]);if(A==d)delete M.borderColor;else M.borderColor="var(--bg-color)"}var G=K[d];
if(Date.now()-this.esJ>100)this.UK.d({N:(G>>>16)/255,w:(G>>>8&255)/255,M:(G&255)/255})};PC.prototype.Ei=function(p,d){this.hG=p;
if(d==Qn.ff||d==Qn.Py)this.nl()};PC.prototype.aU=function(){this.nl()};function ev(){QJ.call(this,"CSS",!1,null,QJ.dh.CSS);
this.WA=null;var p=n.b("div","padded");this.GQ.appendChild(p);this.aG=n.b("textarea");this.aG.setAttribute("rows",16);
this.aG.setAttribute("style","display:block;tab-size:4; font-family:monospace; width:98%; min-width:270px;");
p.appendChild(this.aG)}ev.prototype=new QJ("");ev.prototype._$=function(p){this.WA=p;this.nl()};ev.prototype.Ei=function(p,d){if(d==Qn.ec)this.nl()};
ev.prototype.nl=function(){var p=this.WA;if(p==null||p.Y.length==0)return;if(!n.Or(this.GQ))return;var d=p.L[p.Y[0]],K=CSS.eFV(d,p);
if(K.length!=0)this.aG.value=K.join(";\n")+";";else this.aG.value=""};ev.prototype.aU=function(){this.nl()};
function ed(){QJ.call(this,[9,6],!1,null,QJ.dh.etO);this.GQ.setAttribute("style","min-width:240px;");
this.WA=null;this.hG=null;var p=n.b("div","marged row");this.GQ.appendChild(p);var d=n.b("div","cell");
d.setAttribute("style","width:10em");p.appendChild(d);var K=n.b("div","cell");K.setAttribute("style","width:10em");
p.appendChild(K);this.etY=new GJ("R:");this.eQt=new GJ("G:");this.eQM=new GJ("B:");this.GQ.appendChild(n.b("hr",""));
var A=n.b("div","marged row");this.GQ.appendChild(A);var d=n.b("div","cell");d.setAttribute("style","width:10em");
var K=n.b("div","cell");K.setAttribute("style","width:10em");A.appendChild(d);A.appendChild(K);this.mm=new GJ("");
d.appendChild(this.mm.G);n.Ld(d);this.uB=new GJ("");d.appendChild(this.uB.G);this.NK=new GJ("");K.appendChild(this.NK.G);
n.Ld(K);this.gP=new GJ("");K.appendChild(this.gP.G);this.mm.d("X: 100 px");this.uB.d("Y: 100 px");this.NK.d("W: 0");
this.gP.d("H: 0")}ed.prototype=new QJ("");ed.prototype.Yh=function(p,d,K,A,x){var M=p.U.FT(x.x,x.y),G=new QP(Math.floor(M.x),Math.floor(M.y));
if(!1){var D=0,P=0,a=0;if(!x.Fj&&!p.emg()&&new R(0,0,p.t,p.D).Bf(G)){var e=p.zi(),f=p.t*G.y+G.x<<2;D=e[f+0];
P=e[f+1];a=e[f+2]}this.etY.d("R: "+D);this.eQt.d("G: "+P);this.eQM.d("B: "+a)}this.mm.d("X: "+Z.ZG.bQ(G.x,p.Bk,K,p.t));
this.uB.d("Y: "+Z.ZG.bQ(G.y,p.Bk,K,p.D));this.hL()};ed.prototype.hL=function(){var p=this.WA,d=this.hG,K=0,A=0;
if(p&&d){if(p.U.yg){K=p.U.yg.t;A=p.U.yg.D}else if(p.P){K=p.P.rect.t;A=p.P.rect.D}K=Z.ZG.bQ(Math.abs(K),p.Bk,d,p.t);
A=Z.ZG.bQ(Math.abs(A),p.Bk,d,p.D)}this.NK.d(Qc.get([12,41]).charAt(0)+": "+K);this.gP.d(Qc.get([12,42]).charAt(0)+": "+A)};
ed.prototype.l=function(){QJ.prototype.l.call(this);this.hL()};ed.prototype._$=function(p,d,K){this.WA=p;
this.hG=K;this.hL()};function Mc(){QJ.call(this,[9,1],!1,null,QJ.dh.aW);this.y$=null;this._b=null;this.DZ=null;
this.zd=n.b("div","lphead");this.WP=n.b("div","lpbody scrollable");this.Lk=n.b("div","lpfoot");this.dH=new Me(null,eE.Wt,!1,eE.IX);
this.dH.R(n.E.f,this.enj,this);this.zd.appendChild(this.dH.G);this.yd=new MK([12,0],0,100,"%",0);this.yd.R(n.E.f,this.enX,this);
this.yd.parent=this;this.zd.appendChild(this.yd.G);this.Rf=new nB("<img src=\""+PIMG["lrs/lock"]+"\" class=\"autoscale gsicon\" />",[[12,76,2],[12,40],[7,0]]);
this.Rf.R(n.E.f,this.eBE,this);this.zd.appendChild(this.Rf.G);this.ze=new MK([12,26],0,100,"%",0);this.ze.R(n.E.f,this.eOp,this);
this.ze.parent=this;this.tD=[];this.YJ();this.GQ.appendChild(this.zd);this.GQ.appendChild(this.WP);this.GQ.appendChild(this.Lk);
this.GQ.addEventListener("contextmenu",n.Zy,!1);var p=[{name:[14,10]},{name:[14,11],uu:!0},{name:[6,0]},{name:[11,4]},{name:[5,4],uu:!0},{name:[6,7]},{name:"New Smart Obj. via Copy",C:function(M){return{C:M.L[M.Y[0]].add.SoLd!=null}},uu:!0},{name:[6,8],C:function(M){var G=M.L[M.Y[0]];
if(G.add.TySh||G.add.SoLd||G.add.SoCo||G.add.GdFl||G.add.PtFl)return{C:!0};return{C:!1}}},{name:[6,34],C:function(M){var G=M.L[M.Y[0]];
return{C:G.add.lmfx!=null&&!G.Ba()}}},{name:[6,40],uu:!0,C:function(M){var G=M.L[M.Y[0]];return{C:G.add.TySh!=null}}},{name:"",uu:!0,C:function(M){var G=M.L[M.Y[0]],D=G.add.TySh,P=D?D.Nf:null;
return{C:D!=null&&P.Curve==null,FQ:Qc.get(D&&QM.EE(P)==0?[16,3,1]:[16,3,0])}}},{name:[6,6,0],uu:!0,C:function(M){return{C:M.gf(M.Y[0]),qq:M.L[M.Y[0]].wr}}},{name:[11,6],uu:!0,sub:[{name:[5,1],C:function(M){var G=M.L[M.Y[0]];
return{C:G.add.lmfx!=null}}},{name:[5,2]},{name:[2,2],C:function(M){var G=M.L[M.Y[0]];return{C:G.add.lmfx!=null}}}]},{name:[6,10],C:function(M){return{C:M.Y.length==1&&M.Y[0]!=0&&!M.L[M.Y[0]].Ba()}}},{name:[6,12,0],C:function(M){return{C:M.Y.length>1||M.L[M.Y[0]].Ba()}}},{name:[6,12,1],uu:!0},{name:[13,0],sub:function(){var M=[[13,1,0],[13,1,1],[13,1,2],[13,1,3],[13,1,4],[13,1,5],[13,1,6],[13,1,7]],G=[];
for(var D=0;D<M.length;D++)G.push({name:M[D]});return G}()}];this.tt=[null,{z:n.E.q,O:r.$$,a:{j:"fromlayer",ZU:[null,0,0]}},V.RY,{z:n.E.s,a:{j:n.H.Ae,$u:"duplinto"}},V.Ry,{z:n.E.Iz,a:{LG:"newPlacedLayer"}},V.$e,{z:n.E.Iz,a:{LG:"rasterizeLayer",Qz:{classID:"rasterizeLayer",null:Pq.bt("Lyr",!0)}}},V.$G,V.ePF,{z:n.E.q,O:r.jY,a:{j:"switchPntPrgr"}},V.PL,null,V.Pi,V.nN,V.$t,V.hl];
this.c_=new p_(p);this.c_.R("select",this.dQ,this);var d=[{name:[6,45],C:function(M){var G=M.L[M.Y[0]];
return{C:G.MT(M).g==null}}},{name:[6,47]}];this.eQv=[V.go,V.$n];this.jf=new p_(d);this.jf.R("select",this.dQ,this);
var K=[{name:"enab/disab",C:function(M){return{FQ:Qc.get(M.L[M.Y[0]].gW().isEnabled?[6,15]:[6,14])}}},{name:[6,22]},{name:[5,8],C:function(M){return{C:M.ux(!1,!0)}}}];
this.eQE=[V.PA,V.qK,V.$p];this.Xt=new p_(K);this.Xt.R("select",this.dQ,this);var A=[{name:"enab/disab",C:function(M){return{FQ:Qc.get(M.L[M.Y[0]].MT(M).g.isEnabled?[6,42]:[6,41])}}},{name:[6,46]}];
this.eQw=[V.nk,V.gA];this.XQ=new p_(A);this.XQ.R("select",this.dQ,this);var x=[{name:"enab/disab",C:function(M){return{FQ:Qc.get(M.L[M.Y[0]].add.vmsk.isEnabled?[6,17]:[6,16])}}},{name:[6,24]}];
this.eQR=[V.qU,V.qw];this.XB=new p_(x);this.XB.R("select",this.dQ,this);this.XO=new p_(eO.eOY(!0),eO.eUG(!0));
this.esN=new p_(eO.eQi(),eO.eBT());this.R("rclick",this.enb,this)}Mc.prototype=new QJ("");Mc.prototype.Yu=function(){return new QP(253,0)};
Mc.prototype.dQ=function(p){var d=p.target.iC(),K=d[0],A;if(p.target==this.c_)A=this.tt;if(p.target==this.jf)A=this.eQv;
if(p.target==this.Xt)A=this.eQE;if(p.target==this.XB)A=this.eQR;if(p.target==this.XQ)A=this.eQw;if(p.target==this.XO)A=this.eiW;
if(p.target==this.esN)A=this.eix;if(A[K]==null){if(K==0){var x=new y(n.E.s,!0);x.data={j:n.H.Ae,$u:"layerstyle",o:this._b.Y[0]};
this.n(x)}else{var M=new y(n.E.q,!0);M.O=r.Ic;M.data={j:["st_copy","st_paste","st_clear"][d[1]],o:this._b.Y[0]};
this.n(M)}return}if(A[K].z!=null){var G=A[K],M=new y(G.z,!0);M.O=G.O;M.data=G.a;p.target.n(M);return}var M=new y(n.E.q,!0);
if(p.target==this.XO)M.data=A[K];else M.data={j:A[K]};if(A[K]==V.hl)M.data.eQu=d[1];M.O=r.aW;p.target.n(M)};
Mc.prototype.enb=function(p){var d=this._b,K=p.data,x;if(d.Y.indexOf(K.o)==-1){var A={j:V.GJ,o:p.target.aY.index,Pj:K.gq};
this.vC(A)}if(d.Y.indexOf(K.o)==-1)return;if(K.gq==1){x=this.Xt}else if(K.gq==2){x=this.XB}else if(K.gq==3){x=this.XQ}else if(K.eQh){x=this.jf}else{x=this.c_}x.l();
x.update(d);x.parent=this;var M=new y(n.E.s,!0);M.data={j:n.H.uO,Fy:x,x:K.Vv.x+1,y:K.Vv.y+1};this.n(M)};
Mc.prototype.l=function(){QJ.prototype.l.call(this);this.dH.l();this.yd.l();this.Rf.l();this.ze.l();
if(this._b)this._$(this._b);var p="lrs/link lrs/fx lrs/adj lrs/mask lrs/folder lrs/newlayer lrs/bin".split(" ");
for(var d=0;d<this.tD.length;d++){var K=this.tD[d];K.g$(n.YD(p[d]))}};Mc.prototype._$=function(p,d){if(p==null)n.Mz(this.GQ,"disabled");
else n.xj(this.GQ,"disabled");this._b=p;this.DZ=d;if(this.y$!=null){this.WP.removeChild(this.y$.WP);
this.y$=null}if(p==null)return;this.y$=new ML(p.root,this,p,{es:0});this.WP.appendChild(this.y$.WP);
if(p.Y.length==0)n.Mz(this.zd,"disabled");else{n.xj(this.zd,"disabled");if(p.Y.length==1&&p.NA)this.y$.etI(p.Y);
var K=p.L[p.Y[0]];if(K.Ba()){this.dH.NC([[15,10,27]].concat(eE.Wt),[1].concat(eE.IX));var A=eE.ok.indexOf(K.yk);
this.dH.d(A+1)}else{this.dH.NC(eE.Wt,eE.IX);var A=eE.ok.indexOf(K.yk);this.dH.d(A)}this.yd.d(Math.round(100*K.opacity/255));
this.Rf.d([K.uF(1),K.uF(2),K.uF(31)]);this.ze.d(Math.round(100*(K.add.iOpa!=null?K.add.iOpa/255:1)))}};
Mc.prototype.dq=function(p,d){var K=this.zd.getBoundingClientRect().height;K=Math.max(K,52);if(K>68)K=Math.max(K,76);
var A=d-(K+35);this.WP.style.height=A+"px"};Mc.prototype.enj=function(p){this.vC({j:V.G_,dx:this.dH.A()})};
Mc.prototype.enX=function(p){this.vC({j:V.Gz,dx:Math.round(255*this.yd.A()/100)})};Mc.prototype.eBE=function(p){this.vC({j:V.qY,dx:[this.Rf.A(),[1,2,31]]})};
Mc.prototype.eOp=function(p){this.vC({j:V.Br,dx:Math.round(255*this.ze.A()/100)})};Mc.prototype.eOF=function(p){this.eGj(p,this.XO)};
Mc.prototype.eOr=function(p){this.eGj(p,this.esN)};Mc.prototype.eGj=function(p,d){var K=p.currentTarget;
if(n.Or(d.G))return;p.stopPropagation();var A=K.getBoundingClientRect();d.l();d.update(this._b);d.parent=this;
var x=new y(n.E.s,!0);x.data={j:n.H.uO,Fy:d,x:A.left,y:A.top,epB:!0};this.n(x)};Mc.prototype.eOb=function(p){this.vC({j:V.emi})};
Mc.prototype.eUP=function(p){this.vC({j:V.gp})};Mc.prototype.eUp=function(p){this.vC({j:V.zH})};Mc.prototype.eUu=function(p){this.vC({j:V.Ry})};
Mc.prototype.eU_=function(p){this.vC({j:V.qn})};Mc.prototype.vC=function(p){var d=new y(n.E.q,!0);d.data=p;
d.O=r.aW;this.n(d)};Mc.prototype.YJ=function(){var p=[[6,54,0],[11,6],[6,1],[6,21],[6,20],[6,13],[6,31]],d=[this.eU_,this.eOr,this.eOF,this.eOb,this.eUP,this.eUp,this.eUu],K=this.eUI.bind(this);
for(var A=0;A<p.length;A++){var x=new Qa("W",!1,p[A]);this.tD.push(x);n.uw(x.G,d[A].bind(this));this.Lk.appendChild(x.G);
if(A>=p.length-3){var M=x.G;M.addEventListener("drop",K,!1);M.addEventListener("dragover",function(G){G.preventDefault()},!1);
M.addEventListener("dragenter",n.Zy,!1)}}};Mc.prototype.eUI=function(p){n.Zy(p);var d=0,K=this.tD;while(K[d].G!=p.currentTarget)d++;
K[d].qD();var A=p.dataTransfer.getData("Text");if(A=="")return;var A=JSON.parse(A);if(A.Rd=="l"){var x={j:[V.OO,V.RY,V.Ry][d-4]};
if(this._b.Y.indexOf(A.Lt)==-1)x.o=A.Lt;this.vC(x)}if(d!=6)return;if(A.Rd=="sm"||A.Rd=="s"){var M=new y(n.E.q,!0);
M.O=r.Ic;M.data={j:A.Rd=="sm"?"st_clear":"st_delsingle",o:A.Lt,Lt:A.gU};this.n(M)}if(A.Rd=="fm"||A.Rd=="f"){this.vC({j:A.Rd=="fm"?V.$n:V.eMk,src:A.Lt,gU:A.gU})}if(A.Rd=="m"||A.Rd=="vm"){this.vC({j:A.Rd=="m"?V.qK:V.qw,o:A.Lt})}};
function ML(p,d,K,A){QF.call(this);this.parent=d;this.aY=p;this.Xu=[];this.G=n.b("div","layeritem");
var x=p.o,Q=15,b=!1;this.zd=n.b("div",K.Y.indexOf(p.index)!=-1?"head selected":"head");if(p.o.add.artb!=null)n.Mz(this.zd,"artb");
this.zd.setAttribute("style","height: "+(x.eme+10)+"px");var M=n.b("div","headL"),G=n.b("div","headR"),D=n.b("div","lpineck");
this.WP=n.b("div","lpibody");this.G.appendChild(this.zd);this.zd.appendChild(M);this.zd.appendChild(G);
if(x.Nh()||x.fP())if(x.nV())this.G.appendChild(D);var P=this.zd;P.setAttribute("draggable","true");P.addEventListener("dragstart",this.h_.bind(this),!1);
P.addEventListener("drop",this.ib.bind(this),!1);P.addEventListener("dragover",this.ho.bind(this),!1);
P.addEventListener("dragenter",n.Zy,!1);P.addEventListener("dragleave",this.hh.bind(this),!1);var a=[],e=[],f=n.b("div");
this.dU=n.b("div","eye");f.appendChild(this.dU);var N=n.b("div","space");this._C=n.b("div","label");
this._C.textContent=x.getName();this.XH=n.b("div","lock");this.Qf=n.b("div","arfx");var Y=this.eKd.bind(this),l=this.eKA.bind(this);
this.zd.addEventListener("click",l,!1);this.zd.addEventListener("contextmenu",Y,!1);var h=[0,16711680,16748544,16763904,4513024,22015,11141375,7829367],s=x.add.lclr==null?0:h[x.add.lclr];
if(s==0)s=A.es;var J=[s>>16,s>>8&255,s&255];for(var u=0;u<3;u++){J[u]=Math.round(.5*J[u]+.5*220)}if(1<n.F()&&n.F()<1.5)Q=Q/n.F();
f.setAttribute("style","background-color:rgba("+J.join(",")+","+(s==0?0:1)+");");this.dU.setAttribute("style","background-size: "+Q+"px "+Q+"px;");
var W=this.eUx.bind(this);f.addEventListener("mousedown",W,!1);f.addEventListener("mouseover",W,!1);
this._C.addEventListener("click",this.eKh.bind(this),!1);this.Qf.addEventListener("click",this.eKD.bind(this),!1);
a[0]=f;a[1]=N;a[10]=this._C;if(x.Ba()){var q=n.b("div","arrow"),H=n.b("div","folder");q.addEventListener("click",this.eUA.bind(this),!1);
a[2]=q;a[3]=H;if(x.add.lsct==ew.rK){for(var u=p.children.length-1;u>=0;u--){var C=new ML(p.children[u],d,K,{es:s});
this.Xu.push(C);this.WP.appendChild(C.G)}this.G.appendChild(this.WP)}q.setAttribute("class",x.add.lsct==ew.rK?"open":"closed")}else{this.vu=n.b("div","thumb");
a[5]=this.vu;this.vu.appendChild(x.sS.canvas)}var k=x.gW();if(k){this.Me=n.b("div","chain");this.d_=n.b("div","thumb");
this.d_.setAttribute("draggable","true");this.d_.appendChild(p.o.emK.canvas);this.Me.style.opacity=k.LQ?1:0;
this.Me.addEventListener("click",this.eUr.bind(this),!1)}var i=x.ti()&&x.add.vmsk;if(x.add.vmsk&&!i){this.MP=n.b("div","chain");
this.vH=n.b("div","thumb");this.vH.setAttribute("draggable","true");this.vH.appendChild(p.o.emH.canvas);
this.MP.style.opacity=x.add.vmsk.LQ?1:0;this.MP.addEventListener("click",this.eUX.bind(this),!1)}if(x.fP()&&x.MT(K).g){this.yA=n.b("div","thumb");
this.yA.appendChild(p.o.euB.canvas);this.yA.addEventListener("click",l,!1);this.yA.addEventListener("contextmenu",Y,!1)}if(x.Nh()){D.addEventListener("contextmenu",Y,!1);
var m=new Mc.gE(Qc.get([12,1]),"sm","layerstyle",p.depth,0,null);m.parent=this;D.appendChild(m.G);var w=x.add.lmfx,S=w.masterFXSwitch.v;
m.qJ(S);for(var u=0;u<QG.order.length;u++){var o=w[QG.mV[u]].v;if(o.length==0)continue;for(var O=0;O<o.length;
O++){var m=new Mc.gE(Qc.get(QG.names[u]),"s","layerstyle",p.depth,1,[u,O]);m.qJ(S&&o[O].v.enab.v);m.parent=this;
D.appendChild(m.G)}}}if(x.fP()){var m=new Mc.gE(Qc.get([12,55]),"fm",null,p.depth,0,-1,x.MT(K).g?this.yA:null);
m.parent=this;D.appendChild(m.G);this.esl=m.G;this.esl.addEventListener("contextmenu",Y,!1);var w=x.add.SoLd.filterFX.v,t=w.filterFXList.v,S=w.enab.v;
m.qJ(S);for(var u=t.length-1;u>=0;u--){var c=t[u].v,g=c.filterID.v,j=v.Ws(g);if(QW.eZ[j])j=QW.eZ[j];
var _=c.Nm.v;if(eq.names[j])_=Qc.get(eq.names[j]);if(QW.names[j])_=Qc.get(QW.names[j]);var U=T[j]||eq.Bq[j]?"afw_"+j:null,m=new Mc.gE(_,"f",U,p.depth,1,u);
m.qJ(S&&c.enab.v);m.parent=this;D.appendChild(m.G)}}if(K.L.indexOf(x)==K.Y[0]){var $=x.gq,I;if($<=0)I=this.vu;
else if($==1)I=this.d_;else if($==3)I=this.yA;if(I)I.setAttribute("class","thumb active");if(x.BC&&this.vH)this.vH.setAttribute("class","thumb active")}f.style.opacity=x.Ml()?1:.25;
N.setAttribute("style","width:"+Math.max(0,p.depth-1)*18+"px");var E=x.add.lspf!=null&&x.add.lspf!=0;
this.XH.style.opacity=x.uF(31)?1:.5;a[4]=x.wr?n.b("div","clipp"):null;a[6]=k?this.Me:null;a[7]=k?this.d_:null;
a[8]=x.add.vmsk&&!i?this.MP:null;a[9]=x.add.vmsk&&!i?this.vH:null;var z=x.yQ,QS=K.Y;if(z!=0)for(var u=0;
u<QS.length;u++)if(K.L[QS[u]].yQ==z){b=!0;break}e[0]=b?n.b("div","link"):null;e[1]=E?this.XH:null;e[2]=x.Nh()?n.b("div","lrfx"):null;
e[3]=x.Nh()||x.fP()?this.Qf:null;this.Qf.setAttribute("class",x.nV()?"arfx open  gsicon":"arfx closed  gsicon");
var QQ=a;for(var u=0;u<QQ.length;u++)if(QQ[u])M.appendChild(QQ[u]);QQ=e;for(var u=0;u<QQ.length;u++)if(QQ[u])G.appendChild(QQ[u])}ML.prototype=new QF;
ML.prototype.etI=function(p){var d=this.aY.index;if(p.indexOf(d)!=-1){if(this.G.scrollIntoView)this.G.scrollIntoView({block:"nearest"})}for(var K=0;
K<this.Xu.length;K++)this.Xu[K].etI(p)};ML.D_=function(p,d){var K=d.getBoundingClientRect();return(p.clientY-K.top)/K.height};
ML.prototype.h_=function(p){p.stopPropagation();var d=p.target==this.d_?"m":p.target==this.vH?"vm":"l";
p.dataTransfer.setData("Text",JSON.stringify({Rd:d,Lt:this.aY.index}))};ML.prototype.hh=function(p){n.Zy(p);
this.QC()};ML.prototype.ib=function(p){n.Zy(p);this.QC();var d=p.dataTransfer.getData("Text"),K=this.parent._b,A=ML.D_(p,this.zd),x=this.aY.index;
if(A>.8){var M=!0,G=K.root.AX(x);while(G.parent!=null){var D=G.parent,P=D.children;if(P.indexOf(G)!=0)M=!1;
G=G.parent}if(M){x=0;A=1}}if(d==""){n.eBN(p,this,this.parent.DZ.indexOf(K),x+(A>.5?0:1))}else if(d!="--panel"){var d=JSON.parse(d),a=d.Rd;
if(a=="l")this.vC({j:V.hQ,source:d.Lt,target:x,rS:A});else if(a=="m"||a=="vm")this.vC({j:a=="m"?V.NN:V.Ng,src:d.Lt,Cw:x,xr:p.altKey});
else ML.eQs(p,d,this)}};ML.eQs=function(p,d,K,A){var x=d.Rd,M=K.aY.index,G=d.Lt;if(x=="s"||x=="sm")K.vC({j:V.gw,src:G,Cw:M,gU:d.gU,xr:p.altKey});
if(x=="f"||x=="fm")K.vC({j:V.eGU,src:G,Cw:M,gU:d.gU,Ts:A==null?0:A,xr:p.altKey})};ML.prototype.ho=function(p){n.Zy(p);
var d=ML.D_(p,this.zd);this.QC();var K="border-"+(d>.5?"bottom":"top");if(this.aY.o.Ba()&&.5<d&&d<.8)K="border";
this.zd.style[K]="0.2em solid rgba(0,0,0,0.5)"};ML.prototype.QC=function(p){this.zd.style.border="none"};
ML.eQo=-1;ML.hD=!1;ML.eMQ=function(p){ML.hD=!1;document.body.removeEventListener("mouseup",ML.eMQ)};
ML.prototype.eUx=function(p){if(p.button!=0)return;if(p.type=="mousedown"){ML.hD=!0;document.body.addEventListener("mouseup",ML.eMQ,!1)}if(p.type=="mouseover"&&(!ML.hD||ML.eQo==this.aY.index))return;
n.Zy(p);this.vC({j:V.zQ,o:this.aY.index});ML.eQo=this.aY.index};ML.prototype.eUA=function(p){this.vC({j:V.eEM,o:this.aY.index})};
ML.prototype.eUr=function(p){this.vC({j:V.Bu,o:this.aY.index})};ML.prototype.eUX=function(p){this.vC({j:V.NZ,o:this.aY.index})};
ML.prototype.eKh=function(p){if(p.detail==1)return;this.zd.setAttribute("draggable","false");var d=new QJ.Qh(this._C,this.QB.bind(this))};
ML.prototype.QB=function(p){this.vC({j:V.hJ,o:this.aY.index,name:p})};ML.prototype.eKD=function(p){this.vC({j:V.eVH,o:this.aY.index})};
ML.prototype.eKd=function(p){if(this.eMn(p,p.target,this.gq(p)))return;var d=p.sourceCapabilities;if(d)d=d.firesTouchEvents;
if(p.button!=2&&d!=!0)return;var K=new y("rclick",!0);K.data={o:this.aY.index,gq:this.gq(p),Vv:n.Cu(p,document.body),eQh:p.currentTarget==this.esl};
this.n(K)};ML.prototype.gq=function(p){var d=p.target,K=d.parentNode;return K==this.vH?2:K==this.d_?1:K==this.vu?0:K==this.yA?3:-1};
ML.prototype.eKA=function(p){var d=p.target,a=0;if(d==this.dU||d==this.Qf||d==this.Me||d==this.MP||d.tagName&&d.tagName.toLowerCase()=="input")return;
var K=this.gq(p),A=this.parent._b,x=this.aY.index,M=A.L[x];if(d==this.XH){this.vC({j:V.qY,o:x,dx:[[0,0,0,0,0],[0,1,2,3,31]]});
return}if(p.button==0&&p.detail==2){if(d==this._C)return;var G=new y(n.E.s,!0),D=new y(n.E.Iz,!0);if(K==0&&(QW.get(M.add)||M.add.SoCo||M.add.GdFl||M.add.PtFl))G.data={j:n.H.Ko,$u:QJ.dh.Yc};
else if(K!=0&&K!=-1)G.data={j:n.H.Ko,$u:QJ.dh.Yc};else if(K==0&&M.add.SoLd)D.data={LG:"placedLayerEditContents",Qz:{classID:"placedLayerEditContents"}};
else if(K==0&&M.add.TySh)G.data={j:n.H.ZA,O:r.jY};else G.data={j:n.H.Ae,$u:"layerstyle",o:x};this.n(D.data?D:G);
if(K==0&&M.add.TySh){var P=new y(n.E.q,!0);P.O=r.jY;P.data={j:"editCurr",nW:x};this.n(P)}return}if(this.eMn(p,d,K))return;
if(p.button!=0)return;var e={j:V.GJ,o:x,Pj:K};this.vC(e);if(p.altKey){if(K==1||K==3){var P=new y(n.E.q,!0);
P.O=r.iQ;P.data={j:"mskView",S:a!=0?0:p.shiftKey?1:2};this.n(P)}else{this.vC({j:V.PL,o:x})}return}};
ML.prototype.eMn=function(p,d,K){if((p.ctrlKey||p.metaKey)&&(K==0||K==1||K==2)){var A=0;if(p.shiftKey)A++;
if(p.altKey)A+=2;var x=new y(n.E.q,!0);x.O=r.$$;x.data={j:"fromlayer",ZU:[this.aY.index,K,A]};this.n(x);
return!0}return!1};ML.prototype.vC=function(p){var d=new y(n.E.q,!0);d.data=p;d.O=r.aW;this.n(d)};Mc.gE=function(p,d,K,A,x,M,G){QF.call(this);
this.eoG=d;this.MO=K;this.index=M;this.G=n.b("div","styleitem");this.zd=n.b("div","head");this.zt=n.b("div","eye gsicon");
this._C=n.b("div","label");this.G.appendChild(this.zd);this.zd.appendChild(this.zt);if(G){this.d_=G;
this.zd.appendChild(this.d_);this.zd.setAttribute("style","height: "+(G.firstChild.height/n.F()+10)+"px")}this._C.innerHTML=p;
this.G.setAttribute("style","margin-left: "+(24+A*16+x*22)+"px");this.zd.appendChild(this._C);this.zt.addEventListener("click",this.emp.bind(this),!1);
var D=this.G;D.setAttribute("draggable","true");D.addEventListener("dragstart",this.h_.bind(this),!1);
if(!0){D.addEventListener("drop",this.ib.bind(this),!1);D.addEventListener("dragover",this.ho.bind(this),!1);
D.addEventListener("dragenter",n.Zy,!1);D.addEventListener("dragleave",this.hh.bind(this),!1)}this.G.addEventListener("click",this.gi.bind(this),!1)};
Mc.gE.prototype=new QF;Mc.gE.prototype.h_=function(p){p.stopPropagation();p.dataTransfer.setData("Text",JSON.stringify({Rd:this.eoG,Lt:this.parent.aY.index,gU:this.index}))};
Mc.gE.prototype.hh=function(p){n.Zy(p);this.QC()};Mc.gE.prototype.ib=function(p){n.Zy(p);this.QC();var d=p.dataTransfer.getData("Text");
if(d=="")return;var d=JSON.parse(d);ML.eQs(p,d,this.parent,this.index+(ML.D_(p,this.zd)>.5?0:1))};Mc.gE.prototype.ho=function(p){n.Zy(p);
var d=ML.D_(p,this.zd)>.5;this.QC();var K="border-"+(d?"bottom":"top");this.zd.style[K]="0.2em solid rgba(0,0,0,0.5)"};
Mc.gE.prototype.QC=function(p){this.zd.style.border="none"};Mc.gE.prototype.qJ=function(p){var d=15;
if(1<n.F()&&n.F()<1.5)d=d/n.F();this.zt.setAttribute("style","background-size: "+d+"px "+d+"px;");this.zt.style.opacity=p?1:.2};
Mc.gE.prototype.gi=function(p){if(p.target==this.zt)return;if(p.detail!=1&&this.MO!=null){var d=this.parent.aY.index,K=new y(n.E.s,!0);
if(this.MO.indexOf("afw_")==0)K.data=Qv.UX.emt(this.MO.slice(4),{o:d,index:this.index});else K.data={j:n.H.Ae,$u:this.MO,o:d,index:this.index};
this.n(K)}};Mc.gE.prototype.emp=function(p){var d={fm:V.OR,f:V.OY,sm:V.BY,s:V.Bl}[this.eoG];this.parent.vC({j:d,o:this.parent.aY.index,index:this.index})};
function eC(){QJ.call(this,"Guide Guy",!1,null,QJ.dh.eQH);this.WA=null;this.ir=[];var p=n.b("div","form padded");
this.GQ.appendChild(p);p.setAttribute("style","width:200px");this.GQ.appendChild(p);var d=n.b("canvas"),K=d.getContext("2d");
d.width=d.height=160;var A=[32,0,16,160,0,32,160,16,0,112,160,16],x="Margin Left,Margin Top,Margin Right,Margin Bottom,Column Count,Row Count,Column Width,Row Height,Column Gap,Row Gap".split(","),M=[0,0,0,0,0,0,0,0,0,0];
for(var G=0;G<10;G++){K.clearRect(0,0,160,160);K.setTransform(1,0,0,1,80,80);K.rotate((G&3)*Math.PI/2);
K.translate(-80,-80);K.fillStyle="rgba(0,0,0,0.3)";if(G<4){for(var D=0;D<12;D+=4){K.fillStyle=D==0?"#000000":"rgba(0,0,0,0.3)";
K.fillRect(A[D],A[D+1],A[D+2],A[D+3])}}else if(G<6){var P=8*6;K.fillRect(0,0,P,160);K.fillRect(8*7,0,P,160);
K.fillStyle="#000000";K.fillRect(8*14,0,P,160)}else if(G<8){K.fillRect(0,0,16,160);K.fillRect(160-16,0,16,160);
K.fillRect(32,0,160-64,160);K.fillStyle="#000000";K.fillRect(32,80-8,160-64,8*1)}else{K.fillRect(0,0,8*7,160);
K.fillRect(8*13,0,160,160);K.fillStyle="#000000";K.fillRect(8*7,80-8,8*6,8*1)}var a="<img src=\""+d.toDataURL()+"\" class=\"autoscale gsicon\" /> ",e=new MK(a,0,200,G==4||G==5?null:"px",null,null,null,4,x[G]);
e.parent=this;e.R(n.E.f,this.emR,this);e.d(M[G]);e.l();this.ir.push(e);p.appendChild(e.G)}var f=["Add Guides","Clear Guides"];
this.mk=[];for(var G=0;G<f.length;G++){var N=new Qa(f[G],!0,null,!0);this.mk.push(N);N.R("click",this.YX,this);
p.appendChild(N.G)}for(var G=0;G<6;G++){K.setTransform(1,0,0,1,80,80);K.rotate(Math.floor(G/3)*Math.PI/2);
K.translate(-80,-80);K.clearRect(0,0,160,160);K.fillStyle="rgba(0,0,0,0.3)";K.fillRect(0,0,160,160);
K.clearRect(16,16,128,128);K.fillStyle="#000000";var Y=G%3;K.fillRect([0,9,18][Y]*8,0,16,160);var a="<img src=\""+d.toDataURL()+"\" class=\"autoscale gsicon\" /> ",N=new Qa(a,!1,null,!1);
this.mk.push(N);N.R("click",this.YX,this);p.appendChild(N.G)}}eC.prototype=new QJ("");eC.prototype.emR=function(p){var d=this.ir,K=d.indexOf(p.target),A=Math.floor(K/2),x=K&1,M=[];
for(var G=0;G<4;G++)M.push(d[2*G+x].A());var D=-1;if(A==2&&M[2]!=0&&M[3]!=0&&M[4]!=0)D=4;if(A==3&&M[3]!=0&&M[2]!=0&&M[4]!=0)D=4;
if(A==4&&M[4]!=0&&M[2]!=0&&M[3]!=0)D=3;if(D!=-1)d[2*D+x].d(0)};eC.prototype.YX=function(p){var d=this.WA,K=this.mk.indexOf(p.target),A=[[],[]];
if(d==null)return;var x=d.P?d.P.rect:new R(0,0,d.t,d.D),M=x.t,G=x.D;if(K==0){var D=[[],[]];for(var P=0;
P<this.ir.length;P++)D[P&1].push(this.ir[P].A());A=[eC.eMq(D[0],x.x,x.x+M),eC.eMq(D[1],x.y,x.y+G)];r.Zl.vc(A,d.tu)}else if(K==1){}else{K-=2;
var a=Math.floor(K/3),A=[[],[]];A[a].push([x.x,x.x+M/2,x.x+M,x.y,x.y+G/2,x.y+G][K]);r.Zl.vc(A,d.tu)}var e=function(f,N){return f-N};
A[0].sort(e);A[1].sort(e);this.emC(A)};eC.prototype.eWU=function(p){var d=this.eiy.indexOf(p.target)};
eC.prototype.emC=function(p){var d=new y(n.E.q,!0);d.O=r.cz;d.data={j:"gids",dz:p};this.n(d)};eC.eMq=function(p,d,K){var A=[],x=p[2],M=p[3],G=p[4],D=0;
if(x==0)D++;if(M==0)D++;if(G==0)D++;if(D>1&&x==0&&M==0){if(p[0]!=0)A.push(d+p[0]);if(p[1]!=0)A.push(K-p[1]);
return A}var P=K-d-p[0]-p[1];if(x==0){if(G==0){x=Math.floor(P/M);G=(P-x*M)/(x-1)}else{x=1;while(M*x+G*(x-1)+M+G<=P)x++}}else if(x!=0&&M!=0){if(x*M>P)x=Math.floor(P/M);
G=(P-x*M)/(x-1)}A.push(d+p[0],K-p[1]);var M=(P-G*(x-1))/x;for(var a=1;a<x;a++){if(G==0)A.push(d+p[0]+a*M);
else A.push(d+p[0]+a*M+(a-1)*G,d+p[0]+a*M+a*G)}return A};eC.prototype._$=function(p){this.WA=p};function MO(){QJ.call(this,[9,2],!1,null,QJ.dh.Yc);
this.eog=null;this.rL=null;this.hG=null;this.eoZ=-1}MO.prototype=new QJ("");MO.prototype.Qx=function(){this.r$=n.b("div","padded");
this.r$.style.width="22em";this.GQ.appendChild(this.r$);var p=n.b("span","fitem");this.r$.appendChild(p);
this.PT=[new Qa([0,3]),new Qa([12,73]),new Qa([12,91,0])];for(var d=0;d<this.PT.length;d++){var K=this.PT[d];
K.R("click",this.emN,this);p.appendChild(K.G)}this.r$.appendChild(n.b("hr"));this.yN=new MO.$j;this.yN.parent=this;
this.zM=new MO.MG;this.zM.parent=this;this.XE=new MO.uU;this.XE.parent=this;this.eWE=[this.yN,this.zM,this.XE];
this.r$.appendChild(this.yN.G)};MO.prototype.emN=function(p){var d=this.PT.indexOf(p.currentTarget);
this.le(d);this.epv(d==1?this.zM.zn:-1)};MO.prototype.le=function(p){for(var d=0;d<3;d++){this.PT[d].qD();
var K=this.eWE[d].G;if(K.parentNode==this.r$&&d!=p)this.r$.removeChild(K);if(K.parentNode!=this.r$&&d==p)this.r$.appendChild(K)}this.PT[p].uy()};
MO.prototype.epv=function(p){var d=this.rL.Y[0],K=this.rL.L[d],A=p+1;if(p==1&&K.BC)return;var x=new y(n.E.q,!0);
x.O=r.aW;if(p!=1&&K.BC){x.data={j:V.GJ,o:d,Pj:2};this.n(x)}x.data={j:V.GJ,o:d,Pj:A};this.n(x)};MO.prototype.l=function(){QJ.prototype.l.call(this);
if(this.r$==null)return;this._$(this.rL);for(var p=0;p<3;p++){this.PT[p].l();this.eWE[p].l()}};MO.prototype.aU=function(){if(!n.Or(this.GQ))return;
if(this.r$==null){this.Qx();this.Ei(this.hG,Qn.ff);this._$(this.eog);this.l()}};MO.prototype._$=function(p){this.eog=p;
if(this.r$==null)return;this.yN._$(p);this.zM._$(p);this.XE._$(p);if(p==null||p.Y.length==0){n.Mz(this.GQ,"disabled");
this.rL=null;return}else n.xj(this.GQ,"disabled");var d=p.Y[0],K=p.L[d],A=p.zu(),x=A[0],M=A[1];if(M.length!=0){var G=x[M[0]],D=G.add.vogk,P=!1;
if(D)for(var a=0;a<D.length;a++){var e=D[a].v,f=e.keyShapeInvalidated;if(f&&f.v||e.keyOriginType==null)continue;
P=!0;d=G._W}}if(p!=this.rL||this.eoZ!=d){this.rL=p;this.eoZ=d;if(P)this.le(2);else if(K.gq<1&&!K.BC)this.le(0);
else this.le(1)}this.PT[1].q_(this.zM.zn!=-1);this.PT[2].q_(P)};MO.prototype.Ei=function(p,d){this.hG=p;
if(this.yN)this.yN.Ei(p,d)};MO.$j=function(){QF.call(this);this.G=n.b("div","form");this.eeI=new GJ("Hello");
this.G.appendChild(this.eeI.G);this.Mm=null;this.eei=null;this.rL=null;this.ePx=-1;this.ePd=null;this.cx=new Md(!0);
this.cx.parent=this;this.cx.R(n.E.f,this.euS,this);this.Oo=n.b("div","marged hiline");this.Oo.appendChild(this.cx.G);
this.Wf=new Mh("GrFl",!0);this.Wf.parent=this;this.Wf.R(n.E.f,this.euU,this);this.Lo=n.b("div","marged hiline");
var p="Grad Rvrs Type Algn Angl Dthr Scl Ofst".split(" ");for(var d=0;d<p.length;d++){var K=this.Wf._J[p[d]].G;
this.Lo.appendChild(K)}this.xs=new Mh("patternFill",!0);this.xs.parent=this;this.xs.R(n.E.f,this.euE,this);
this.Lx=n.b("div","marged hiline");var p=["Ptrn","Scl","Algn","phase"];for(var d=0;d<p.length;d++){var K=this.xs._J[p[d]].G;
this.Lx.appendChild(K)}this.xy={};for(var A in QW.names){if(T[A]==null)continue;this.xy[A]=new T[A];
this.xy[A].R(n.E.f,this.eus,this);this.xy[A].parent=this}var x=this.epo=n.b("div","marged hiline");this.Xw=MO.hN(["W","H","X","Y"],null,x,this.hd,this);
this.QL=new Me([12,46],[[13,1,8],[13,1,10],[13,1,9],[12,47]]);this.QL.R(n.E.f,this.hd,this);x.appendChild(this.QL.G);
this.zO=new Md(!1);this.zO.parent=this;this.zO.R(n.E.f,this.hd,this);x.appendChild(this.zO.G)};MO.$j.prototype=new QF;
MO.$j.prototype.l=function(){for(var p in this.xy)this.xy[p].l();this.Wf.l();this.xs.l();this.QL.l();
for(var d=0;d<4;d++)this.Xw[d].l()};MO.$j.prototype.hd=function(p){var d=MO.hg(this.Xw),K=V.etB(new R(d[2],d[3],d[0],d[1])),A=this.QL.A(),x={classID:"artboard",artboardRect:{t:"Objc",v:K},Clr:{t:"Objc",v:this.zO.A()},artboardBackgroundType:{t:"long",v:A+1}},M=new y(n.E.q,!0);
M.O=r.aW;M.data={j:V.Nl,$Y:x};this.n(M)};MO.$j.prototype.euS=function(p){var d=this.rL,K=d.Y[0];if(d.L[K].add.SoCo==null)return;
var A=JSON.parse(JSON.stringify(d.L[K].add.SoCo));A.Clr.v=this.cx.A();this.hC({rv:1,dm:A})};MO.$j.prototype.euU=function(p){var d=this.rL,K=d.Y[0];
if(d.L[K].add.GdFl==null)return;this.hC({rv:2,dm:this.Wf.A()})};MO.$j.prototype.euE=function(p){this.hC({rv:3,dm:this.xs.A()})};
MO.$j.prototype.hC=function(p){this.eO_(r.aW,{j:V.sW,gO:[this.rL.Y[0]],qs:!0,S:p})};MO.$j.prototype.eus=function(p){this.eO_(r.kt,{j:"edit_layer",S:this.eei.A()})};
MO.$j.prototype.eO_=function(p,d){var K=new y(n.E.q,!0);K.O=p;K.data=d;this.n(K)};MO.$j.prototype._$=function(p){var d=Qc.get([0,3]),K=null;
this.rL=p;if(p&&p.L.length>0&&p.Y.length!=0){var A=p.L[p.Y[0]],x=QW.get(A.add);if(x!=null&&this.xy[x]!=null){K=this.xy[x].G;
this.eei=this.xy[x];this.xy[x].d(A.add[x]);if(p.Y[0]!=this.ePx){var M=p.zi(p.Y[0]-1);this.ePd=Z.$P(M)}this.xy[x].WM(this.ePd);
d=Qc.get(QW.names[x])}if(A.add.SoCo){K=this.Oo;this.cx.d(A.add.SoCo.Clr.v);d=Qc.get([6,48,0,0])}if(A.add.GdFl){K=this.Lo;
this.Wf.update(p,A.add.GdFl);d=Qc.get([6,48,0,1])}if(A.add.PtFl){K=this.Lx;this.xs.update(p,A.add.PtFl);
d=Qc.get([6,48,0,2])}if(A.add.artb){var G=A.add.artb,D=A.Rb();K=this.epo;this.QL.d(G.artboardBackgroundType.v-1);
if(G.Clr)this.zO.d(G.Clr.v);MO.LU(this.Xw,[D.t,D.D,D.x,D.y]);d="Artboard"}this.ePx=p.Y[0]}if(K!=this.Mm){if(this.Mm)this.G.removeChild(this.Mm);
if(K!=null)this.G.appendChild(K);this.Mm=K}this.eeI.d(d)};MO.$j.prototype.Ei=function(p,d){this.Wf.Ei(p,d);
this.xs.Ei(p,d);for(var K in this.xy)this.xy[K].Ei(p,d)};MO.MG=function(){QF.call(this);this.G=n.b("div","form");
this.rL=null;this.zn=0;var p=n.b("span","fitem");this.G.appendChild(p);this.PT=[new Qa([6,2]),new Qa([6,3]),new Qa([6,50])];
for(var d=0;d<this.PT.length;d++){var K=this.PT[d];K.R("click",this.eub,this);p.appendChild(K.G)}this.fY=new Qo([12,74],0,255);
this.fY.R(n.E.f,this.oN,this);this.G.appendChild(this.fY.G);this.eB=new Qo([7,6],0,500,"px",2,!0);this.eB.R(n.E.f,this.oN,this);
this.G.appendChild(this.eB.G)};MO.MG.prototype=new QF;MO.MG.prototype.oN=function(p){var d=this.fY.A(),K=this.eB.A(),A=new y(n.E.q,!0);
A.O=r.aW;A.data={j:V.gb,rt:this.rL.Y[0],FB:{ZE:this.zn,fY:d,eB:K}};this.n(A)};MO.MG.prototype.l=function(){for(var p=0;
p<this.PT.length;p++)this.PT[p].l();this.fY.l();this.eB.l()};MO.MG.prototype._$=function(p){this.rL=p;
this.Hx()};MO.MG.prototype.eub=function(p){this.Hx(this.PT.indexOf(p.currentTarget));this.parent.epv(this.zn)};
MO.MG.prototype.Hx=function(p){var d=this.rL,K=this.PT;for(var A=0;A<3;A++){var x=K[A];x.qD();x.gH()}if(d==null||d.L.length==0||d.Y.length==0)return;
var M=-1,G=d.L[d.Y[0]];if(G.fP()&&G.MT(d).g!=null){K[2].Hm();M=2}if(G.add.vmsk){K[1].Hm();M=1}if(G.gW()){K[0].Hm();
M=0}if(p!=null)M=p;else if(G.BC)M=1;else if(G.gq==3)M=2;else if(G.gq==1)M=0;this.zn=M;if(M==-1){this.fY.gH();
this.eB.gH();return}var D=G.eBW(M);this.fY.Hm();this.eB.Hm();this.fY.d(D.fY);this.eB.d(D.eB);K[M].uy()};
MO.uU=function(){QF.call(this);this.G=n.b("div","form");this.XV=1;this.ML=n.b("div");this.Cm=MO.hN(["W","H","X","Y"],[12,51],this.ML,this.eUm,this);
this.MR=n.b("div");var p=["\u250F","\u2513","\u2517","\u251B"];this.zv=MO.hN(p,[12,91,2],this.MR,this.eUm,this)};
MO.uU.prototype=new QF;MO.uU.prototype.l=function(){n.bP(this.Cm[0],this.Cm[1]);for(var p=2;p<5;p++){this.Cm[p].l()}this.zv[4].l()};
MO.hN=function(p,d,K,A,x){var M=n.b("div","numlist");K.appendChild(M);var G=[];for(var D=0;D<4;D++){var P=new MK(p[D],0,0,null,1,!1,!0);
P.R(n.E.f,A,x);M.appendChild(P.G);G.push(P);if(D==1||D==3)n.Ld(M)}if(d){G[4]=new Ql(d);G[4].d(!0);K.appendChild(G[4].G)}return G};
MO.LU=function(p,d){for(var K=0;K<4;K++)p[K].d(d[K])};MO.hg=function(p){var d=[];for(var K=0;K<4;K++)d[K]=p[K].A();
return d};MO.uU.prototype.eUm=function(p){var d=this.Cm.indexOf(p.currentTarget),K=this.zv.indexOf(p.currentTarget),A=[null,null,null,null],x=[null,null,null,null];
if(d!=-1){var M=MO.hg(this.Cm),G=this.Cm[4].A();M[0]=Math.max(1,M[0]);M[1]=Math.max(1,M[1]);if(G&&d==0)M[1]=M[0]/this.XV;
if(G&&d==1)M[0]=M[1]*this.XV;A[0]=M[2];A[1]=M[3];A[2]=A[0]+M[0];A[3]=A[1]+M[1]}if(K!=-1){var M=MO.hg(this.zv);
x[K]=Math.max(0,M[K]);if(this.zv[4].A())for(var D=0;D<4;D++)x[D]=x[K];var P=x[3];x[3]=x[2];x[2]=P}var a=new y(n.E.q,!0);
a.O=r.aW;a.data={j:V.Nr,dC:A,esg:x};this.n(a)};MO.uU.prototype._$=function(p){if(p==null)return;var d=this.ML.parentNode!=null,K=this.MR.parentNode!=null,A=Z.B$.cg(p),x=A[0],M=A[1];
if(x){if(!d)this.G.appendChild(this.ML);this.XV=(x[2]-x[0])/(x[3]-x[1]);MO.LU(this.Cm,[x[2]-x[0],x[3]-x[1],x[0],x[1]])}else if(d)this.G.removeChild(this.ML);
if(M){if(!K)this.G.appendChild(this.MR);var G=M[2];M[2]=M[3];M[3]=G;MO.LU(this.zv,M)}else if(K)this.G.removeChild(this.MR)};
function Mn(p){QJ.call(this,p.name,!0);this._b=p;this.gn=null;this.cW=[];this.X$=!1;this.EY={x:0,y:0,Fj:!1};
this.MW=!0;this.zV=document.createElement("canvas");this.z$=this.zV.getContext("2d");this.Iy=document.createElement("canvas");
this.W=this.Iy.getContext("2d");var d=16,K=Z.p(16*16*4);Z.Tf(K,d,d,8,0,0);this.jc=Z.scale.YP(K,d,d);
this.epW=this.ro.bind(this);this.zD=this.oB.bind(this);this.eGQ=this.zZ.bind(this);var A=this.GQ;n.uw(A,this.epW);
n.AG(A,this.zD);A.addEventListener("wheel",this.Ky.bind(this),!1);A.addEventListener("contextmenu",this.euf.bind(this),!1);
this.PY=0;this.XF="";this.ur=4;A.addEventListener("touchmove",n.Gx,!1)}Mn.prototype=new QJ;Mn.prototype.eoM=function(){if(this._b.ZV())return window.confirm(Qc.get([22,6,3])+" "+this._b.name+". "+Qc.get([22,6,4]));
return!0};Mn.prototype.Gx=function(p){p.preventDefault()};Mn.prototype.eKN=function(p){var d=-1,K=this.cW;
for(var A=0;A<K.length;A++)if(K[A].pointerId==p.pointerId)d=A;return d};Mn.prototype.ro=function(p){this.cW.push(p);
if(this.cW.length==1){var d=p.button!=null&&p.button!=0?"rdown":"down",K=new y("mouse",!0);K.action=d;
this.um(p,K);this.n(K);n.rH(this.GQ,this.zD);n.AG(window,this.zD);n.AJ(window,this.eGQ)}if(this.cW.length==2){this.emq("multidown");
this.X$=!0}};Mn.prototype.oB=function(p){var d=this.eKN(p);if(d!=-1)this.cW[d]=p;if(this.cW.length>1){this.emq("multimove")}if(this.X$)return;
var K=new y("mouse",!0);K.action="move";this.um(p,K);this.n(K)};Mn.prototype.zZ=function(p){var d=this.cW,K=this.eKN(p);
d.splice(K,1);if(d.length==0){var A=p.button!=null&&p.button!=0?"rup":"up",x=new y("mouse",!0);x.action=A;
this.um(p,x);this.n(x);n.rH(window,this.zD);n.rE(window,this.eGQ);n.AG(this.GQ,this.zD);this.X$=!1}};
Mn.prototype.Ky=function(p){this.Gx(p);if(p.deltaX==0&&p.deltaY==0)return;var d=new y("mouse",!0);d.action="scroll";
d.jZ=p.ctrlKey;this.um(p,d);this.n(d)};Mn.prototype.euf=function(p){n.Zy(p);var d=p.sourceCapabilities;
if(d)d=d.firesTouchEvents;if(d){var K=new y("mouse",!0);this.um(p,K);K.action="rdown";this.n(K);K.action="rup";
this.n(K)}};Mn.prototype.emq=function(p){var d=this.cW,K=n.F(),A=[];for(var x=0;x<d.length;x++){var M=A[x]=n.Cu(d[x],this.GQ);
M.x*=K;M.y*=K}var G=new y("mouse",!0);G.action=p;G.Ck=A;this.n(G)};Mn.prototype.um=function(p,d,K){var A=this.cW.length!=0;
if(d.action!="up"){var x=n.F();if(K==null)K=n.Cu(p,this.GQ);this.EY=d.zg={x:x*K.x,y:x*K.y,Fj:A};var M=n.Cu(p,document.body);
d.zg.XW=M.x;d.zg.hq=M.y}else this.EY=d.zg={x:this.EY.x,y:this.EY.y,Fj:A};d.zg.VE=1;if(p.pressure!=null&&p.pressure!=0)d.zg.VE=p.pressure*2;
if(p.deltaX!=null){var G=p.deltaMode==0?1:40;d.n$=new QP(p.deltaX*G,p.deltaY*G)}};Mn.prototype.Ei=function(p,d){this.gn=p};
Mn.prototype._$=function(p){this.aU();this.nl()};Mn.prototype.dq=function(p,d){if(p<=0||d<=0)return;
this.dv=p;this.Ri=d;var K=this._b,A=n.F();K.U.W.t=Math.floor(p*A);K.U.W.D=Math.floor(d*A);n.wc(this.Iy,p,d);
n.wc(this.zV,p,d);n.wc(X.Pu(),p,d);if(K.U.v==0)K.U.v=r.ws.vz(K.t,K.D,p*A,d*A);this.MW=!0;this.nl()};
Mn.prototype.aU=function(){var p=this.GQ.firstChild;if(!X.Ug&&p==X.Pu()||X.Ug&&p==this.Iy)this.GQ.removeChild(p);
this.GQ.appendChild(X.Ug?X.Pu():this.Iy)};Mn.prototype.nl=function(){if(X.Ug!=this.ur){this.PY=0;this.XF="";
this.MW=!0}this.ur=X.Ug;if(this.gn==null)return;if(X.Ug)this.euk();else this.sK();var p=this._b;this.PY=p.U.v;
this.XF=JSON.stringify(p.U.GU);this.MW=!1};Mn.prototype.euk=function(){if(X.Ug&&Mn.eGF==null)Mn.eGF=new Mn._t(!1);
if(X.Ug&&Mn.eGR==null)Mn.eGR=new Mn._t(!0);var p=this._b,D;if(p.mA==null)return;var d=p.U,K=d.W.t,A=d.W.D,x=X.Eh;
this.W.clearRect(0,0,d.W.t,d.W.D);var M=this.euc(p);if(d.$T==null)d.$T=new X.dY(d.W.t,d.W.D);if(M)d.$T.set(this.Iy);
else{X.El(d.$T);X.cD(0)}var G=new R(0,0,p.t*d.v,p.D*d.v);G.x=Math.round((K-p.t*d.v)/2+d.J.x);G.y=Math.round((A-p.D*d.v)/2+d.J.y);
var P=[0,0,0,0],a=[];if(p.add.artd){P=Mn.se(p);var e=p.t,f=p.D;D=Mn.eGR;for(var N=0;N<p.L.length;N++){var Y=p.L[N],l=Y.add.artb;
if(l==null||!Y.Ml())continue;var h=Y.Rb();a.push(h.x/e,h.y/f,h.t/e,h.D/f)}if(a.length>32*4){a=a.slice(0,32*4)}while(a.length<32*4){a.push(0,0,0,0)}}else D=Mn.eGF;
X.Bg(K,A);X.cD(0);X.Bg(K,A);D._z();D._E(d.$T.Ni,p.mA.Ni,new Float32Array([G.x/K,G.y/A,G.t/K,G.D/A]),new Float32Array([8/K,8/A]),p.t,p.D,1/p.U.v,K,A,new Float32Array(a),new Float32Array(P),new Float32Array(Z.EI.HF(Z.EI.Ue(d.GU))));
x.drawArrays(x.TRIANGLES,0,6)};Mn.se=function(p){var d=p.add.artd.canvasColor;if(d==null)return[0,0,0,0];
return Mn.eHn(d)};Mn.eHn=function(p){var d=Z.k.iz(p.v),K=[d.N/255,d.w/255,d.M/255,1];for(var A=0;A<4;
A++)K[A]=Math.min(1,K[A]);return K};Mn.Dd=function(p,d){var K=p[2]*255;if(X.Ug)K=d?0:Math.max(1,K);return"rgba("+p[0]*255+","+p[1]*255+","+K+","+p[3]+")"};
Mn.sn=function(p){if(X.Ug)for(var d=0;d<p.length;d+=4){if(p[d+2]==0)p[d+2]++}};Mn.prototype.sK=function(){var p=this._b;
if(p.buffer==null)return;var d=p.U,K=d.W.t,A=d.W.D;this.z$.clearRect(0,0,d.W.t,d.W.D);this.W.clearRect(0,0,d.W.t,d.W.D);
if(p.add.artd==null){}else{this.W.fillStyle=Mn.Dd(Mn.se(p));this.W.fillRect(0,0,d.W.t,d.W.D)}var x=d.sZ(),M=d.W.pk(x);
this.W.save();this.W.translate(x.x,x.y);if(p.add.artd==null){this.W.fillStyle=this.jc;this.W.fillRect(0,0,x.t,x.D)}this.W.restore();
var G=p.t!=d.bu.t||p.D!=d.bu.D;if(G)d.bu.pf(0,0,p.t,p.D);var D=JSON.stringify(d.GU);if(d.v<=1){if(d.v!=this.PY||D!=this.XF||p.g_){if(d.v!=this.PY||d.LS==null||G)d.LS=this.W.createImageData(Math.max(1,x.t),Math.max(1,x.D));
if(d.v<1){var P=Z.Bi(p.buffer,new R(0,0,p.t,p.D),d.v,new Uint8Array(d.LS.data.buffer))}else Z.tM(p.buffer,d.LS.data);
Z.EI.US(d.LS.data,d.LS.data,Z.EI.Ue(d.GU))}this.z$.putImageData(d.LS,x.x,x.y);this.W.drawImage(this.zV,M.x,M.y,M.t,M.D,M.x,M.y,M.t,M.D)}else{var a=d.Zz(),e=new R(0,0,a.t*d.v,a.D*d.v);
e.x=a.x*d.v+x.x;e.y=a.y*d.v+x.y;if(d.v!=this.PY||this.MW){d.DG=Z.p(a.r()*4);d.LS=this.W.createImageData(e.t,e.D)}Z.set(d.DG,0);
Z.PE(this._b.buffer,new R(0,0,p.t,p.D),d.DG,a);Z.scale.La(d.DG,a.t,a.D,d.LS.data,e.t,e.D,d.v);Z.EI.US(d.LS.data,d.LS.data,Z.EI.Ue(d.GU));
this.z$.putImageData(d.LS,e.x,e.y);this.W.drawImage(this.zV,0,0)}this.euc(p)};Mn.prototype.euc=function(p){var d=p.U,K=d.GU[0]+d.GU[1]+d.GU[2],A=!1,x=[];
for(var M=0;M<p.Y.length;M++){var G=p.L[p.Y[M]],D=G.gq;if(D!=1&&D!=3)continue;var P=D==1?G.gW():G.MT(p).g;
if(P.hW)x.push(P)}for(var M=0;M<p.$O.length;M++)if(p.$O[M].hW)x.push(p.$O[M]);for(var M=0;M<x.length;
M++){var P=x[M];this.evL(P.channel,P.rect,d,x.length==1&&K==0?2:1,P.color,P.es);A=!0}var a=this.gn;A=this.eHB(p,this.W,d)||A;
if(p.P&&a.nQ&&a.mq.nK){this.evL(p.P.channel,p.P.rect,d,0,0,null);A=!0}return A};Mn.prototype.evL=function(p,d,K,A,x,M){var G=K.sZ(),D,P,a,e=0;
if(M)e=Math.round(M.M)<<16|Math.round(M.w)<<8|Math.round(M.N);if(K.v<=1){D=d.clone();D.x=Math.round(D.x*K.v);
D.y=Math.round(D.y*K.v);D.t=Math.floor(D.t*K.v);D.D=Math.floor(D.D*K.v);P=p;if(K.v<1){if(K.OS==null||K.OS.length<d.r()>>>1){console.log("here");
K.OS=Z.p(d.r()>>>1)}P=K.OS;var f=Z.fv(p,d,K.v,P);D.t=f.rect.t;D.D=f.rect.D}if(K.WU==null||K.WU.length!=D.r()*4)K.WU=Z.p(D.r()*4);
else Z.Pk(K.WU,0);var N=K.W.clone();N.offset(-G.x,-G.y);a=D.pk(N)}else{var Y=K.Zz();D=new R(Y.x*K.v,Y.y*K.v,Y.t*K.v,Y.D*K.v);
if(K.WU==null||K.WU.length!=D.r()*4){K.OS=Z.p(D.r());K.WU=Z.p(D.r()*4)}var l=Z.p(Y.r());Z.set(l,x);Z.Qj(p,d,l,Y);
Z.scale.ex(l,Y.t,Y.D,K.OS,D.t,D.D,K.v);Z.Pk(K.WU,0);P=K.OS}if(A==0)Z.P.e_d(P,K.WU,D,a);else{var h=G.x,s=G.y,J=G.t,u=G.D;
a=D.pk(new R(0,0,J,u));if(K.v<=1){this.W.fillStyle=A==2?Mn.Dd([x/255,x/255,x/255,1]):Mn.Dd([M.N/255,M.w/255,M.M/255,.5*(1-x/255)]);
var Q=h,W=Q+a.x,q=W+a.t,H=Q+J,C=s,k=C+a.y,i=k+a.D,m=C+u;this.W.fillRect(h,C,J,k-C);this.W.fillRect(h,k,W-Q,i-k);
this.W.fillRect(q,k,H-q,i-k);this.W.fillRect(h,i,J,m-i)}Z.P.e_A(P,K.WU,D,a,A,e)}Mn.sn(K.WU);if(K.v<=1)this.z$.clearRect(0,0,K.W.t,K.W.D);
if(D.r()!=0){var w=new ImageData(new Uint8ClampedArray(K.WU.buffer),D.t,D.D);this.z$.putImageData(w,G.x+D.x,G.y+D.y);
this.W.drawImage(this.zV,0,0)}};Mn.prototype.eHB=function(p,d,K){var A=p.K.ty||p.K._H||p.K.ny||p.K.CI.length!=0||p.K.nt.length!=0,x=this.gn,M=x.mq,G=K.sZ(),D=new QI(K.v,0,0,K.v,G.x+.5,G.y+.5),P=p$.iJ[x.xi],a=Math.round(12*n.F());
if(p.add.artd){var e=Mn.se(p)[0];e=e<.5?e+.5:e-.5;e=""+Math.round(e*255).toString(16);while(e.length<2)e="0"+e;
d.fillStyle="#"+e+e+e;d.font=a+"px sans-serif";for(var f=0;f<p.L.length;f++){var N=p.L[f];if(N.add.artb==null||!N.Ml())continue;
var Y=N.Rb(),l=new QP(Y.x,Y.y);l=D.zK(l);d.fillText(N.getName(),Math.round(l.x),Math.round(l.y-6));A=!0}}var h=Mn.Dd([.1,.5,1,1]),s=Mn.Dd([1,1,1,1]);
if(x.nQ&&M.uE){d.fillStyle=d.strokeStyle=h;d.lineWidth=1.5;var J=p.zu(),u=J[0],Q=J[1];for(var W=0;W<Q.length;
W++){var N=u[Q[W]],q=N.add.vmsk,H=q.Z,C=Z._.ZT(H);this.DD(C,D,d);d.stroke();A=!0;var k=Math.round(3*n.F()),i=H.length-3;
for(var f=0;f<q.K_.length;f++){var m=Z.e.kX(H,q.K_[f]);if(m==null)continue;var w=G.x+m.x*K.v,S=G.y+m.y*K.v;
d.beginPath();var o=f==0;if(q.nI)o=!o;if(o){d.moveTo(w-k,S-k);d.lineTo(w+k,S+k);d.moveTo(w-k,S+k);d.lineTo(w+k,S-k);
d.stroke()}else{d.arc(w,S,k*1,0,2*Math.PI);d.fill()}A=!0}if(p.Y.length!=1)continue;var O=-1;for(var f=0;
f<H.length;f++){if(H[f].type>5)continue;if(H[f].type==0||H[f].type==3){if(H[f].Ez!=-1)O++;continue}if(q.Y.indexOf(O)!=-1){var w=G.x+H[f].I.x*K.v,S=G.y+H[f].I.y*K.v;
d.fillRect(Math.round(w-k+.5),Math.round(S-k+.5),2*k-1,2*k-1)}if(q.HM.indexOf(f)!=-1){var t=[H[f].I];
d.beginPath();d.moveTo(G.x+H[f].Gp.x*K.v,G.y+H[f].Gp.y*K.v);d.lineTo(G.x+H[f].I.x*K.v,G.y+H[f].I.y*K.v);
d.lineTo(G.x+H[f].UL.x*K.v,G.y+H[f].UL.y*K.v);d.stroke();if(!H[f].I.GR(H[f].Gp))t.push(H[f].Gp);if(!H[f].I.GR(H[f].UL))t.push(H[f].UL);
for(var c=0;c<t.length;c++){var m=t[c],w=G.x+m.x*K.v,S=G.y+m.y*K.v;if(c==0&&(H[f].type==2||H[f].type==5))d.fillRect(Math.round(w-1.2*k),Math.round(S-1.2*k),Math.round(2.4*k),Math.round(2.4*k));
else{d.beginPath();d.arc(w,S,k*1.2,0,2*Math.PI);d.fill();if(c!=0)d.fillStyle=s;d.beginPath();d.arc(w,S,k*.8,0,2*Math.PI);
d.fill();d.fillStyle=h}}}A=!0}}}d.fillStyle=d.strokeStyle=Mn.Dd([0,0,0,1],!0);d.lineWidth=1;if(p.K.ty){this.DD(p.K.ty,D,d);
d.fill()}if(p.K._H){this.DD(p.K._H,D,d);d.stroke()}for(var g in p.K.gZ)if(p.K.gZ[g]._H){this.DD(p.K.gZ[g]._H,D,d);
d.stroke()}d.beginPath();var k=4*n.F(),j=p.K.dd;for(var f=0;f<j.length;f+=2){A=!0;var w=G.x+j[f]*K.v,S=G.y+j[f+1]*K.v;
d.rect(w-k+.5,S-k+.5,2*k-1,2*k-1)}d.stroke();var j=p.K.eoC;d.beginPath();var k=4*n.F();for(var f=0;f<j.length;
f+=2){A=!0;var w=G.x+j[f]*K.v,S=G.y+j[f+1]*K.v;d.moveTo(w+k-.5,S);d.arc(w,S,k-.5,0,2*Math.PI)}d.fill();
var j=p.K.xJ;d.fillStyle=Mn.Dd([1,1,1,1]);d.beginPath();var k=6*n.F();for(var f=0;f<j.length;f+=2){A=!0;
var w=G.x+j[f]*K.v,S=G.y+j[f+1]*K.v;d.moveTo(w+k-.5,S);d.arc(w,S,k-.5,0,2*Math.PI)}d.fill();var k=4*n.F();
for(var f=0;f<j.length;f+=2){A=!0;var w=G.x+j[f]*K.v,S=G.y+j[f+1]*K.v;d.fillStyle=Mn.Dd(p.K.$Z.indexOf(f>>>1)!=-1?[0,.6,1,1]:[.7,.7,.7,1]);
d.beginPath();d.moveTo(w+k-.5,S);d.arc(w,S,k-.5,0,2*Math.PI);d.fill()}if(p.K.CI.length!=0){for(var f=0;
f<p.K.CI.length;f++){var _=p.K.CI[f],U=_[1];d.putImageData(new ImageData(new Uint8ClampedArray(_[0].buffer),U.t,U.D),U.x,U.y)}}if(p.K.EZ){A=!0;
var $=p.K.EZ,I=$.yO,C={$:[],B:[]};for(var f=0;f<$.XA.length;f++)Z._.concat(C,Z._.MF($.XA[f]));C.B=C.B.concat(I);
for(var f=0;f<I.length;f+=4)C.$.push("M","L");d.strokeStyle=Mn.Dd([.9,.2,.2,1]);this.DD(C,D,d);d.stroke();
var E=n.F();for(var f=0;f<I.length;f+=4){var w=I[f],S=I[f+1],b=I[f+2],z=I[f+3],QS=Math.sqrt((z-S)*(z-S)+(b-w)*(b-w));
QS=Z.ZG.bQ(QS,p.Bk,x,S==z?p.t:p.D);var QQ=new QP((w+b)/2,(S+z)/2);QQ=D.zK(QQ);d.fillStyle=Mn.Dd([.9,.2,.2,1]);
var Qe=d.measureText(QS),QB=Qe.width;d.fillRect(QQ.x-QB/2-2.5*E,QQ.y-7.5*E,QB+5*E,15*E);d.fillStyle=Mn.Dd([1,1,1,1]);
d.fillText(QS,QQ.x-QB/2,QQ.y+4*E)}}if(x.nQ){d.lineWidth=1;if(M.UT){var QU=Z.ZG.k_(M.sp,p,M.sB),Qt=QU;
if(M.sB==4)Qt*=p.D/p.t;this.BF(p,G,d,QU,Qt,1,M.BQ);A=!0}if(M.yr&&p.U.v>7){this.BF(p,G,d,1,1,.5,M.BQ);
A=!0}if(M.tu){d.beginPath();d.strokeStyle=Mn.Dd([0,1,1,1]);for(var f=0;f<p.tu[0].length;f++){var F=Math.round(p.U.RI(p.tu[0][f],0).x)+.5;
d.moveTo(F,0);d.lineTo(F,p.U.W.D)}for(var f=0;f<p.tu[1].length;f++){var L=Math.round(p.U.RI(0,p.tu[1][f]).y)+.5;
d.moveTo(0,L);d.lineTo(p.U.W.t,L)}d.closePath();d.stroke()}var Qu=p.ey;if(M.ey&&Qu.length!=0){var QK=d.font;
d.font=Math.round(a*.8)+"px sans-serif";var Qm=[],ei=[];for(var f=0;f<Qu.length;f++){var Qp=r.GP.Ua(Qu,f);
Qm.push(Qp);if(p.WN.indexOf(f)!=-1)ei.push(Qp)}Qm.reverse();var QO=Date.now();Qm=Z.rect.kL([0,0,p.t,p.D],Qm);
d.translate(.5,.5);for(var c=0;c<2;c++)for(var f=0;f<Qm.length;f++){var QE=Qm[f],O=QE[4],Qi=O!=null?Qu[O]:null;
if(Qi&&c==0||Qi==null&&c==1)continue;var QV=p.U.RI(QE[0],QE[1]),Q$=p.U.RI(QE[2],QE[3]),w=Math.round(QV.x),S=Math.round(QV.y),b=Math.round(Q$.x),z=Math.round(Q$.y);
d.strokeStyle=d.fillStyle=Mn.Dd(Qi?[0,.7,.7,1]:[.8,.8,.8,1]);d.beginPath();d.moveTo(w,S);d.lineTo(b,S);
d.lineTo(b,z);d.lineTo(w,z);d.closePath();d.stroke();var eS=f+1,Qe=d.measureText(eS),QB=Qe.width;d.fillRect(w-.5,S-.5,Math.round(QB+a/2),a);
d.fillStyle=Mn.Dd([1,1,1,1]);d.fillText(eS,w+a/4,Math.round(S+a*.8)-.5)}for(var f=0;f<ei.length;f++){var QE=ei[f],QV=p.U.RI(QE[0],QE[1]),Q$=p.U.RI(QE[2],QE[3]),w=Math.round(QV.x),S=Math.round(QV.y),b=Math.round(Q$.x),z=Math.round(Q$.y);
d.strokeStyle=d.fillStyle=Mn.Dd([0,.7,.7,1]);d.beginPath();d.moveTo(w,S);d.lineTo(b,S);d.lineTo(b,z);
d.lineTo(w,z);d.closePath();d.stroke();var Qs=[w,S,b,S,b,z,w,z];for(var Qw=0;Qw<Qs.length;Qw+=2){var F=Qs[Qw],L=Qs[Qw+1],Q_=Qs[Qw+2&7],QN=Qs[Qw+3&7];
d.fillRect(F-2.5,L-2.5,4,4);d.fillRect(Math.round((F+Q_)/2)-2.5,Math.round((L+QN)/2)-2.5,4,4)}}d.translate(-.5,-.5);
d.font=QK;A=!0}}d.strokeStyle=Mn.Dd([1,0,0,1]);if(p.K.ny){this.DD(p.K.ny,D,d);d.stroke()}if(x.qa){if(p.U.AD==null||p.U.AD.width!=p.U.W.t||p.U.Hb.height!=p.U.W.D){p.U.AD=d.createImageData(p.U.W.t,Z.ZG.gt);
p.U.Hb=d.createImageData(Z.ZG.gt,p.U.W.D)}var P=p$.iJ[x.xi],K=p.U,eK=K.v*p.t/2,Qz=K.v*p.D/2,eQ=[1,p.Bk,p.Bk/2.54,p.Bk/25.4,p.t/100][M.aX],Qd=K.v,Qj=K.J.clone();
K.v*=eQ;K.J.x+=eK*eQ-eK;K.J.y+=Qz*eQ-Qz;Z.ZG.eLE(K,P["--text-color"],P["--bg-input"]);K.v=Qd;K.J=Qj;
var QD=MR.eBL(K.v,Mn.Dd([1,1,1,1]));Mn.sn(p.U.Hb.data);Mn.sn(p.U.AD.data);d.putImageData(p.U.Hb,0,0);
d.putImageData(p.U.AD,0,0);d.putImageData(QD,0,p.U.W.D-QD.height)}if(p.K.nt.length!=0){for(var f=0;f<p.K.nt.length;
f++){var _=p.K.nt[f],U=_[1];d.putImageData(new ImageData(new Uint8ClampedArray(_[0].buffer),U.t,U.D),U.x,U.y)}}return A||x.qa||p.tu[0].length+p.tu[1].length>0};
Mn.prototype.BF=function(p,d,K,A,x,M,G){while(A*p.U.v<4){A*=2;x*=2}var D=d.x,P=D+d.t,a=d.y,e=a+d.D;K.beginPath();
K.strokeStyle=Mn.Dd([.5,.5,.5,M],!0);for(var f=0;f<=p.t;f+=A){var N=Math.round(p.U.RI(f,0).x)+.5;K.moveTo(N,a);
K.lineTo(N,e)}if(G==0){for(var Y=0;Y<=p.D;Y+=x){var l=Math.round(p.U.RI(0,Y).y)+.5;K.moveTo(D,l);K.lineTo(P,l)}}else{x*=Math.sqrt(4/3);
var h=(P-D)*(x/(2*A)),s=x*Math.floor(p.t/x);for(var Y=-s;Y<=p.D+s;Y+=x){var l=Math.round(p.U.RI(0,Y).y)+.5,J=l-h,u=l+h;
this.evj(K,D,a,P,e,l,J);this.evj(K,D,a,P,e,l,u)}}K.closePath();K.stroke()};Mn.prototype.evj=function(p,d,K,A,x,M,G){var D=d,P=A,a=M,e=G,f=0,N=1,Y=P-D,l=e-a,h,s,J;
for(var u=0;u<4;u++){if(u==0){h=-Y;s=-(d-D)}if(u==1){h=Y;s=A-D}if(u==2){h=-l;s=-(K-a)}if(u==3){h=l;s=x-a}J=s/h;
if(h==0&&s<0)return!1;if(h<0){if(J>N)return!1;else if(J>f)f=J}else if(h>0){if(J<f)return!1;else if(J<N)N=J}}var Q=D+f*Y,W=a+f*l,q=D+N*Y,H=a+N*l;
p.moveTo(Q,W);p.lineTo(q,H)};Mn.prototype.DD=function(p,d,K){K.beginPath();var A=Z._.clone(p);Z._.u(A.B,d,A.B);
Typr.U.pathToContext({cmds:A.$,crds:A.B},K)};Mn._t=function(p){X.wd.call(this);this.epJ=p;var d="\t\t\tprecision mediump float;\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform sampler2D target;\t\t\tuniform vec3 imgSizeZoom;\t\t\tuniform vec2 cnvSize;\t\t\tuniform mat4 ctrn; \t\t\t"+(p?"uniform vec4 bgClr;  uniform vec4 ars[32];":"")+"\t\t\t\t\t\tvarying vec2 tCoord;\t\t\tvarying vec2 sCoord;\t\t\tvarying vec2 gCoord;\t\t\t\t\t\t/* This approximates the error function, needed for the gaussian integral */ \t\t\tvec4 erf(vec4 x) { \t\t\t  vec4 s = sign(x), a = abs(x);\t\t\t  x = 1.0 + (0.278393 + (0.230389 + 0.078108 * (a * a)) * a) * a;\t\t\t  x *= x;  \t\t\t  return s - s / (x * x); \t\t\t} \t\t\t/* Return the mask for the shadow of a box from lower to upper */  \t\t\tfloat boxShadow(vec2 lower, vec2 upper, vec2 point, float sigma) { \t\t\t  vec4 query = vec4(point - lower, point-upper); \t\t\t  vec4 integral = 0.5 + 0.5 * erf(query * (sqrt(0.5) / sigma)); \t\t\t  return (integral.z - integral.x) * (integral.w - integral.y); \t\t\t} \t\t\t\t\t\tvec4 simpleBlend(vec4 src, vec4 tgt) {\t\t\t\tfloat na = src.w + tgt.w*(1.0-src.w);\t\t\t\t/* avoid division by zero */ \t\t\t\treturn na==0.0 ? vec4(0,0,0,0) : vec4( (src.xyz*src.w + tgt.w*tgt.xyz*(1.0-src.w))*(1.0/na), na);\t\t\t} \t\t\t\t\t\t"+X.wg.OK+"\t\t\t\t\t\tvoid main(void) {\t\t\t\tvec4 src = texture2D(source, tCoord); \t\t\t\tvec4 tgt = ctrn*texture2D(target, sCoord); "+(p?"\t\t\t\t\tbool inr = false; vec4 BG = bgClr; \t\t\t\t\tfor(int i=0; i<32; i++) { \t\t\t\t\t\tvec4 ar = ars[i]; \t\t\t\t\t\tvec2 nsc = sCoord - ar.xy; \t\t\t\t\t\tif( ar.z!=0.0 && in01(nsc/ar.zw) ){\t\t\t\t\t\tinr=true; BG=vec4(0.0,0.0,0.0,0.0); }\t\t\t\t\t}\t\t\t\t":"\t\t\t\t\tfloat shdw = 0.3*boxShadow(vec2(0,0),imgSizeZoom.xy, sCoord*imgSizeZoom.xy+vec2(0.0,-6.0*imgSizeZoom.z) , 10.0*imgSizeZoom.z);\t\t\t\t\tvec4 grid = mod(floor(gCoord.x) + floor(gCoord.y), 2.0)==1.0 ? vec4(0.784,0.784,0.784,1) : vec4(1,1,1,1);\t\t\t\t\tvec4 BG = in01(sCoord) ? grid : vec4(0.0,0.0,0.0,shdw); \t\t\t\t")+"\t\t\t\tvec4 outc = in01(sCoord) ?  simpleBlend(tgt,BG) :  BG ;  \t\t\t\tif(src.b == 0.0) gl_FragColor = mix(outc, vec4(vec3(1,1,1)-outc.rgb,1.0), src.w); \t\t\t\telse             gl_FragColor = simpleBlend(src,outc); \t\t\t\t\t\t\t}",K="\t\t\tattribute vec2 verPos;\t\t\tvarying vec2 tCoord;\t\t\tvarying vec2 sCoord;\t\t\tvarying vec2 gCoord;\t\t\t\t\t\tuniform vec4 srct;\t\t\tuniform vec2 gsize;\t\t\tvoid main(void) {\t\t\t\ttCoord = verPos;\t\t\t\tsCoord = (verPos-srct.xy)/srct.zw;\t\t\t\tgCoord = (sCoord * srct.zw) / gsize ; \t\t\t\tgl_Position = vec4(vec2(-1.0, 1.0) + 2.0*vec2(verPos.x,-verPos.y), 0.0, 1.0);\t\t\t}";
this.Mg(d,K)};Mn._t.prototype=new X.wd;Mn._t.prototype._E=function(p,d,K,A,x,M,G,D,P,a,e,f){this.qd("srct gsize source target imgSizeZoom cnvSize ars bgClr ctrn".split(" "));
var N=X.Eh,Y=this.du;N.uniform4fv(Y.srct,K);N.uniform2fv(Y.gsize,A);N.uniform3f(Y.imgSizeZoom,x,M,G);
N.uniform2f(Y.cnvSize,D,P);N.uniformMatrix4fv(Y.ctrn,!1,f);if(this.epJ){N.uniform4fv(Y.ars,a);N.uniform4fv(Y.bgClr,e)}N.uniform1i(Y.source,0);
N.uniform1i(Y.target,1);N.activeTexture(N.TEXTURE0);N.bindTexture(N.TEXTURE_2D,p);N.activeTexture(N.TEXTURE1);
N.bindTexture(N.TEXTURE_2D,d);N.activeTexture(N.TEXTURE0)};function Pb(){QJ.call(this,[9,7],!1,null,QJ.dh.eti);
this.GQ.setAttribute("style","min-width:240px;");this.rL=null;this.zA=-1;this.ent=[];this.WP=n.b("div","scrollable");
this.WP.style.height="160px";this.GQ.appendChild(this.WP);this.Lk=n.b("div","lpfoot");this.GQ.appendChild(this.Lk);
this.mk=[];var p=["reload","lrs/newlayer","lrs/bin"],d=[[5,10],[5,3],[5,4]];for(var K=0;K<p.length;K++){var A=new Qa("<img src=\""+PIMG[p[K]]+"\" class=\"gsicon\" />",!1,d[K]);
A.R("click",this.eHO,this);this.Lk.appendChild(A.G);this.mk.push(A)}}Pb.prototype=new QJ("");Pb.prototype.vC=function(p){var d=new y(n.E.q,!0);
d.data=p;d.O=r.DY;this.n(d)};Pb.prototype.eHO=function(p){var d=this.mk.indexOf(p.currentTarget);if(d!=1)if(this.zA==-1)return;
this.vC({j:["updLC","addLC","delLC"][d],_W:this.zA});if(d==2)this.zA=-1};Pb.prototype.l=function(){QJ.prototype.l.call(this);
for(var p=0;p<this.mk.length;p++)this.mk[p].l()};Pb.prototype._$=function(p){if(p==null)n.Mz(this.GQ,"disabled");
else n.xj(this.GQ,"disabled");this.rL=p;n.hM(this.WP);if(p==null)return;var d=p.LV.lastAppliedComp?p.LV.lastAppliedComp.v:0,K=p.LV.list.v.slice(0);
K.unshift({v:{Nm:{v:"Last Document State"},compID:{v:0},capturedInfo:{v:0}}});for(var A=0;A<K.length;
A++){var x=K[A].v,M=new GE(x.Nm.v,x.compID.v,x.capturedInfo.v,d,this.zA);M.R("activate",this.mT,this);
M.parent=this;this.WP.appendChild(M.G);this.ent.push(M)}};Pb.prototype.mT=function(p){this.zA=p.currentTarget._W;
this._$(this.rL)};function GE(p,d,K,A,x){QF.call(this);this._W=d;this.G=n.b("div","head listitem"+(d==x?" selected":""));
var M=d==A,G=new Qa("<b>"+(M?"\u2713":"\u2014")+"</b>");if(M)G.uy();this.G.appendChild(G.G);G.R("click",this.Jv,this);
var D=this.Bo=n.b("span");D.textContent=p;this.G.appendChild(D);this.mk=[];if(d!=0){this.G.addEventListener("mouseup",this.mT.bind(this),!1);
this.eGi=n.b("span","headR");this.G.appendChild(this.eGi);var P=["lrs/eye","pos","lrs/fx"],a=["Visibility","Position","Appearance"];
for(var e=0;e<P.length;e++){var f=new Qa("<img src=\""+PIMG[P[e]]+"\" class=\"autoscale gsicon\" />",!1,a[e]);
if((K>>e&1)==0)f.G.setAttribute("style","opacity:0.3");f.R("click",this.eHu,this);this.eGi.appendChild(f.G);
this.mk.push(f)}}}GE.prototype=new QF;GE.prototype.mT=function(p){if(p.target!=this.Bo&&p.target!=this.G)return;
if(p.detail==1)this.n(new y("activate",!1));else{var d=new QJ.Qh(this.Bo,this.QB.bind(this))}};GE.prototype.eHu=function(p){var d=this.mk.indexOf(p.currentTarget);
this.vC({j:"editLC",eBk:d,_W:this._W})};GE.prototype.QB=function(p){this.vC({j:"editLC",GY:p,_W:this._W})};
GE.prototype.Jv=function(p){this.vC({j:"setLC",_W:this._W})};GE.prototype.vC=function(p){var d=new y(n.E.q,!0);
d.data=p;d.O=r.DY;this.n(d)};function nF(){QJ.call(this,[9,11],!1,null,QJ.dh.eQU);var p=n.b("div","padded");
p.setAttribute("style","min-width:15em");this.GQ.appendChild(p);var d=n.b("div");p.appendChild(d);d.setAttribute("style","cursor:grab;");
this.gM=n.b("canvas");this.gM.width=100;d.appendChild(this.gM);n.Go(this.gM);n.uw(this.gM,this.ua.bind(this));
this.Mr=new Pu(null,0,r.ws._i.length-1);this.Mr.R(n.E.f,this.eHv,this);p.appendChild(this.Mr.G);this.eGx=this.Mp.bind(this);
this.ett=this.Mc.bind(this);this.WA=null}nF.prototype=new QJ("");nF.prototype.dq=function(p,d){this.nl()};
nF.prototype.eHv=function(p){var d=this.Mr.A(),K=this.WA,A=r.ws._i[r.ws._i.length-1-d],x=new y(n.E.q,!0);
x.O=r.iQ;x.data={j:"zoom",v:A};this.n(x)};nF.prototype.ua=function(p){if(this.WA==null)return;n.AG(window,this.eGx);
n.AJ(window,this.ett)};nF.prototype.Mp=function(p){var d=n.Cu(p,this.gM),K=this.WA,A=this.gM.width,x=this.gM.height,M=(d.x*n.F()-A/2)/A,G=(d.y*n.F()-x/2)/x,D=n.F()*K.U.v,P=Math.round(-K.U.v*K.t*M),a=Math.round(-K.U.v*K.D*G);
r.Zj.A_(K,P,a)};nF.prototype.Mc=function(p){n.rH(window,this.eGx);n.rE(window,this.ett)};nF.prototype._$=function(p){if(p==null&&this.WA!=null)this.gM.width=100;
this.WA=p;this.nl()};nF.prototype.nl=function(){var p=this.WA,K=0;if(p==null||p.U.v==0)return;if(!n.Or(this.GQ))return;
this.Mr.d(r.ws._i.length-1-r.ws.va(p.U.v));var d=300*n.F(),A=[p.zi(),new R(0,0,p.t,p.D)];Z.iW(A);while(Math.max(A[K+1].t,A[K+1].D)>d){K+=2}var x=A[K],M=A[K+1],G=M.t,D=M.D,P=this.gM;
P.width=G;P.height=D;n.Cp(P,G,D);var a=P.getContext("2d"),e=a.createImageData(G,D);Z.tM(x,e.data);a.putImageData(e,0,0);
var f=p.U.Zz(),N=G/p.t;a.scale(N,N);a.lineWidth=4/N;a.strokeStyle="#ff0000";a.strokeRect(f.x,f.y,f.t,f.D)};
nF.prototype.Ei=function(p,d){};nF.prototype.aU=function(){this.nl()};function GD(p){if(p==null){QJ.call(this);
return}var d=p.id;if(d==null)d="plg_"+p.name;QJ.call(this,p.name,!1,p.icon,d);var K=n.b("iframe","padded");
K.setAttribute("src",p.url);K.setAttribute("style","width:"+p.width+"px; height:"+p.height+"px");this.GQ.appendChild(K)}GD.prototype=new QJ("");
function Gd(){GD.call(this,{id:QJ.dh.eQx,name:"Gallery",url:"plugins/gallery.html",width:400,height:400,icon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACACAMAAAD04JH5AAAAAXNSR0IB2cksfwAAAAlwSFlzAAALEwAACxMBAJqcGAAAADxQTFRFAAAA////////////////////////////////////////////////////////////////////////////2EloEwAAABR0Uk5TAP8GD/MW0yBZ54Z4wEcvqbaVbqOHZj16AAACiklEQVR4nO2a2YKDIAwAixeeVdv//9fVrlWQgIAQHpp53LVmqomJlMeDIAiCIAjioGyrgkWnqNoSjl8jRN8cajA+VvgVwKBE+/4rhXoXWsz4jLWKQIUrUCkCqHdguQeKAG58xvQCuioNAW+vBdTsCMp8KRDx+688LwXixn+UJEACWAK86xvGmr7jSQT4eDzyRkkhRxGQRxtp/EAR6NiJDlcAGK2Oa4AgwIHGXux5gCAwqvGXTMQT4FB8xr6XIL6AkoH/fPMwvkAPC0xoAg0s0KAJwPH38/6AQPJbkDwJk5dh8gdR8kcxRjPKM+O/I7fjvF0KrapNDlEHEr6tI4wmg4gjWb6vY7xNBtGG0mw6Tjwbj+TdtI7l03ksvykgLSR1xkM13BM45fcLW+B5rnBwvTGeAFcb3eAskPkL5MBCXvHEE8jAZ7yzgb+AZiW14boPBBbQLmVX6qpWaVjo8hVQCkAwyOVDhyVXKm12egqUmknvQy89lF//f9QZ+Alk5pXs6TDIvguRhcbATwAsAIG9MeVHr9DUh5eAZs4U2BoTF69UAxr4CNj8lvNeM7GWMwWsUA8BQwEIFOOsJApQoR4CxgK44FyhPgKZ5k3Hjl4Zm5wF3nfiSxXqJ3BdABecR0dHgeFufGV0dBOwK4AL5N+AnATuFICANDq6CNwrAIHaU2CGT+fB4CXwChZfbI32AgEKQDB4OgtAb/k32FujrQA0g98z4E4C4ktoILbWaCkQrgAEg9xeIGABCHxao5VA0AIQWFujjUDgAhAYMxuB4AUgMFsIRCgAgfZaIPJ2nj2/tQJYkAAJkAAJkAAJKALJt3Qm39SafFtv8o3Nybd2p9/cnn57P0EQBEEQP8of0kskEgrfunYAAAAASUVORK5CYII="})}Gd.prototype=new GD;
function GS(){QJ.call(this,[9,12],!1,null,QJ.dh.bF);this.hG=null;this.DS=new BU(r.hK);this.DS.parent=this;
var p=n.b("div","padded");p.setAttribute("style","width:20em");this.GQ.appendChild(p);p.appendChild(this.DS.rB)}GS.prototype=new QJ("");
GS.prototype.aU=function(){this.DS.H_(this.hG.pe)};GS.prototype.Ei=function(p,d){this.hG=p;if(d==Qn.ff||d==Qn.bF)this.DS.H_(p.pe)};
GS.prototype.dq=function(p,d){this.DS.eIV(this.hG.GA)};GS.prototype.l=function(){QJ.prototype.l.call(this);
this.DS.l()};function GK(){QF.call(this);this.O=0;this.ht=null;this.G=n.b("div","toolconf");this.DS=null;
this.XL=null;this.body=new n.b("div","body")}GK.prototype=new QF;GK.prototype.eHV=function(p,d){this.O=p;
this.ht=d;if(r.kn[p]){var K=this.DS=new BU(p);this.G.appendChild(K.G);K.parent=this}else{this.XL=n.b("div");
this.G.appendChild(this.XL)}this.G.appendChild(this.body);this.l()};GK.prototype.evk=function(p,d){};
GK.prototype.eEO=function(p){};GK.prototype.Ei=function(p,d){if(d==Qn.ff||d==Qn.bF)if(this.DS)this.DS.H_(p.pe)};
GK.prototype.gl=function(p){};GK.prototype.l=function(){if(this.DS)this.DS.l();else this.XL.innerHTML=n.YD(this.ht,null,"toolicon");
this.Dl()};GK.prototype.Dl=function(){};function eB(p){GK.call(this);if(p==null)return;this.hG=null;
this.ir={};for(var d=0;d<p.length;d++){var K=p[d],A=null;if(K=="brush"){A=new pj}if(K=="bmode"){A=new Me([12,19,0],eE.Wt,!1,eE.IX)}if(K=="bmode0"){A=new Me([12,19,0],eE.Wt.slice(23),!1)}if(K=="emode"){A=new Me([12,36],[[9,3],[10,38]])}if(K=="opacity"){A=new MK([12,0],0,100,"%");
A.d(100)}if(K=="flow"){A=new MK([12,63],0,100,"%");A.d(100)}if(K=="smth"){A=new MK([19,3,0],0,100,"%");
A.d(0)}if(K=="samp"){A=new Me("Sampling",["Brush Center","Start of Stroke","Background Color"])}if(K=="wconf"){A=new BC;
A.d([40,!0,!0])}if(K=="strn"){A=new MK([12,64],1,100,"%");A.d(50)}if(K=="smode"){A=new Me([12,36],[[19,7,0],[19,7,1]]);
A.d(1)}if(K=="pdetail"){A=new Ql([12,65]);A.uy()}if(K=="rng"){A=new Me([12,12],[[19,6,0],[19,6,1],[19,6,2]]);
A.d(1)}if(K=="expo"){A=new MK([12,5],0,100,"%");A.d(50)}if(K=="algnd"){A=new Ql([12,75]);A.d(!1)}if(K=="sfrom"){A=new Me([12,70],[[17,1],[17,3],[17,0]])}if(K=="alt"){A=new nB(null,["Alt"],!0,["Select Source"])}if(K=="qsmode"){A=new Mf([12,36],["<img src=\""+PIMG["set/front"]+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG.zoomIn+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG.zoomOut+"\" class=\"autoscale gsicon\" />"],[[5,3],[18,1],[18,2]])}if(K=="redge"){A=new Qa([7,11],!1,null,!0)}if(K=="setop"){A=new nm}if(K=="patch"){A=new Mf(null,[[12,70],[12,71]])}if(K=="prsr"){A=new nB(null,["<img src=\""+PIMG.prsO+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG.prsS+"\" class=\"autoscale gsicon\" />"],!0,[[15,9,0],[15,9,1]]);
A.d([!1,!0])}A.parent=this;this.body.appendChild(A.G);this.ir[K]=A;if(K=="brush")A.R(n.E.f,this.eEA,this);
else if(K=="redge")A.R("click",this.sm,this);else A.R(n.E.f,this.Fc,this)}}eB.prototype=new GK;eB.prototype.evk=function(p,d){p=p[1];
var K=this.ir;if(p.Md)K.bmode.d(eE.Uh.indexOf(p.Md.v.BlnM));if(p.Opct)K.opacity.d(p.Opct.v);if(p.flow)K.flow.d(p.flow.v);
if(p.Brsh)K.brush.d(p,d.hx.Im,d.hx.eN);if(p.FrgC){var A=Z.k.iz(p.FrgC.v),x=new y(n.E.s,!0);x.data={j:n.H.aA,gD:Qn.Py,hE:0,S:A.N<<16|A.w<<8|A.M};
this.n(x)}this.eEA();this.Fc()};eB.prototype.eEO=function(){if(r.kn[this.O]==null)return null;var p=this.ir,d=JSON.parse(JSON.stringify(p.brush.A()));
d.classID=r.kn[this.O][1][0];if(p.bmode)d.Md={t:"enum",v:{BlnM:eE.Uh[p.bmode.A()]}};if(p.opacity)d.Opct={t:"long",v:p.opacity.A()};
if(p.flow)d.flow={t:"long",v:p.flow.A()};var K=this.hG.ou;K={N:K>>>16,w:K>>>8&255,M:K&255};d.FrgC={t:"Objc",v:Z.k.wI(K)};
return["Brush Preset "+d.Brsh.v.Dmtr.v.val,d]};eB.prototype.sm=function(){var p=new y(n.E.s,!0);p.data={j:n.H.Ae,$u:"redge"};
this.n(p)};eB.prototype.Dl=function(){for(var p in this.ir)this.ir[p].l()};eB.prototype.gl=function(p){if(p.eqI=="showBrushOpts"){this.ir.brush.eVc(p.Vv.x,p.Vv.y)}for(var d in p.nO){var K=p.nO[d];
if(d!="qsmode")K*=100;if(this.ir[d])this.ir[d].d(K)}};eB.prototype.Ei=function(p,d){GK.prototype.Ei.call(this,p,d);
this.hG=p;var K=this.ir.brush;if(K==null)return;if(d==Qn.ff||d==Qn.hK)K.H_(p.hx);if(d==Qn.ee){K.d(p.hx.yv,p.hx.Im,p.hx.eN)}};
eB.prototype.eEA=function(){var p=new y(n.E.s,!0);p.data={j:n.H.aA,gD:Qn.ee,Bp:this.ir.brush.A()};this.n(p)};
eB.prototype.Fc=function(){var p=new y(n.E.s,!0);p.data={j:n.H.NE,O:this.O};for(var d in this.ir){if(d=="brush"||d=="redge")continue;
var K=this.ir[d].A();if(["opacity","flow","smth","strn","expo"].indexOf(d)!=-1)p.data[d]=K/100;else if(d=="bmode")p.data.bmode=eE.ok[K];
else if(d=="bmode0")p.data.bmode=eE.ok[23+K];else p.data[d]=K}this.n(p)};function PB(p){GK.call(this);
if(p)return;this.data={j:n.H.NE,sb:"front",EU:0,CK:[10,!0,!0],_F:{pz:0,x:1,y:1}};this.zC=new nm;this.body.appendChild(this.zC.G);
this.zC.R(n.E.f,this.Po,this);this.fm=new MK([7,6],0,100," px");this.fm.parent=this;this.fm.d(0);this.body.appendChild(this.fm.G);
this.fm.R(n.E.f,this.Po,this);this.X_=new Qa([7,11],!1,null,!0);this.body.appendChild(this.X_.G);this.X_.R("click",this.sm,this)}PB.prototype=new GK;
PB.prototype.gl=function(p){if(p.sb!=null)this.zC.d(p.sb);else{var d=PB.zN;if(d==null){var K=pB.eIJ(!0);
d=PB.zN=new p_(K.items,K.tt)}d.l();d.parent=this;d.update(p.cR,p.gn);var A=new y(n.E.s,!0);A.data={j:n.H.uO,Fy:d,x:p.np.XW+2,y:p.np.hq+1};
this.n(A)}};PB.prototype.Dl=function(){this.fm.l();this.zC.l();this.X_.l()};PB.prototype.sm=function(){var p=new y(n.E.s,!0);
p.data={j:n.H.Ae,$u:"redge"};this.n(p)};PB.prototype.Po=function(){var p=new y(n.E.s,!0);this.data.O=this.O;
this.data.sb=this.zC.A();this.data.EU=this.fm.A();p.data=this.data;this.n(p)};function Gg(){eB.call(this,["brush","strn"])}Gg.prototype=new eB;
function GZ(){eB.call(this,"brush bmode opacity flow smth prsr".split(" "))}GZ.prototype=new eB;function Gr(){eB.call(this,["brush","bmode0","samp","wconf"])}Gr.prototype=new eB;
function Gb(){eB.call(this,["brush"])}Gb.prototype=new eB;function GY(){eB.call(this,"brush bmode opacity flow smth prsr".split(" "))}GY.prototype=new eB;
function Gl(){eB.call(this,["brush","rng","expo"])}Gl.prototype=new eB;function Gj(){eB.call(this,"brush bmode opacity algnd sfrom alt".split(" "))}Gj.prototype=new eB;
function ej(p){GK.call(this);if(p==null)return;var d=n.b("span","fitem");this.body.appendChild(d);var K=[[17,0],[17,1],[11,12,0],[17,2]];
this.PT=[];for(var A=0;A<K.length;A++){var x=new Qa(K[A],!1,null,!0);this.PT.push(x);x.R("click",this.eHF,this);
if(!p||A==1)d.appendChild(x.G)}this._F=new ns;this._F.R(n.E.f,this.eHz,this);if(!p)this.body.appendChild(this._F.G);
this.tI=new nQ;this.tI.R("click",this.qA,this)}ej.prototype=new GK;ej.prototype.Dl=function(){this.tI.l();
for(var p=0;p<this.PT.length;p++)this.PT[p].l();this._F.l()};ej.prototype.gl=function(p){var d=this.tI.G;
if(p.VC)this.body.appendChild(d);else if(this.body.contains(d))this.body.removeChild(d);if(p._F)this._F.d(p._F)};
ej.prototype.qA=function(p){var d={j:n.H.NE,O:this.O,Ed:this.tI.A()?"commit":"cancel"},K=new y(n.E.s,!0);
K.data=d;this.n(K)};ej.prototype.eHF=function(p){p.target.G.blur();var d={j:n.H.NE,O:this.O,Ed:"cropby",eun:this.PT.indexOf(p.target)},K=new y(n.E.s,!0);
K.data=d;this.n(K)};ej.prototype.eHz=function(p){var d={j:n.H.NE,O:this.O,Ed:"config",x$:{Qs:this._F.A()}},K=new y(n.E.s,!0);
K.data=d;this.n(K)};function Gy(){ej.call(this,!1)}Gy.prototype=new ej;function Gf(){ej.call(this,!0)}Gf.prototype=new ej;
function GT(){eB.call(this,["brush","rng","expo"])}GT.prototype=new eB;function Gk(){eB.call(this,"brush emode opacity flow smth prsr".split(" "))}Gk.prototype=new eB;
function tS(){eB.call(this,["brush","samp","wconf"])}tS.prototype=new eB;function te(){PB.call(this);
this._F=new ns;this._F.R(n.E.f,this.su,this);this.body.appendChild(this._F.G)}te.prototype=new PB(!0);
te.prototype.su=function(p){this.data._F=this._F.A();this.Po()};te.prototype.Dl=function(){PB.prototype.Dl.call(this);
this._F.l()};function tP(){GK.call(this);this.pP=new Me([12,20],["1x1","3x3","5x5","11x11","31x31"]);
this.pP.R(n.E.f,this.Fc,this);this.body.appendChild(this.pP.G)}tP.prototype=new GK;tP.prototype.Fc=function(p){var d=new y(n.E.s,!0);
d.data={j:n.H.NE,O:this.O,yC:[1,3,5,11,31][this.pP.A()]};this.n(d)};tP.prototype.Dl=function(){this.pP.l()};
function Gv(){GK.call(this);this.vb=new Be(!1);this.vb.parent=this;this.vb.R(n.E.f,this.oN,this);this.body.appendChild(this.vb.G);
this.vb.d(JSON.parse(QG.gR.eOJ).v);this.pt=new Me(null,QG.k.names.slice(0,5));this.pt.R(n.E.f,this.oN,this);
this.body.appendChild(this.pt.G);this.pQ=new Me([12,19,0],eE.Wt,null,eE.IX);this.pQ.R(n.E.f,this.oN,this);
this.body.appendChild(this.pQ.G);this.vh=new MK([12,0],0,100,"%");this.vh.parent=this;this.vh.R(n.E.f,this.oN,this);
this.body.appendChild(this.vh.G);this.vh.d(100);this.pn=new Ql([12,23,0]);this.pn.R(n.E.f,this.oN,this);
this.body.appendChild(this.pn.G);this.pm=new Ql("Dither");this.pm.R(n.E.f,this.oN,this);this.body.appendChild(this.pm.G)}Gv.prototype=new GK;
Gv.prototype.Dl=function(){this.pt.l();this.pQ.l();this.vh.l();this.pn.l();this.pm.l()};Gv.prototype.Ei=function(p,d){GK.prototype.Ei.call(this,p,d);
var K=d==Qn.Py;this.vb.RR(p.ou,p.Le);if(K||d==Qn.aE||d==Qn.ff)this.vb.H_(p.tn)};Gv.prototype.oN=function(){var p=new y(n.E.s,!0);
p.data={j:n.H.NE,O:this.O};p.data.gD={k:this.vb.A(),gF:QG.k.types[this.pt.A()],nI:this.pn.dA(),eve:this.pm.dA(),ev_:eE.ok[this.pQ.A()],Xo:this.vh.A()/100};
this.n(p)};function tt(){GK.call(this)}tt.prototype=new GK;function tQ(){eB.call(this,["brush","algnd","sfrom","alt"])}tQ.prototype=new eB;
function GF(){GK.call(this);this.cd=new Ps;this.cd.parent=this;this.body.appendChild(this.cd.OD.G);this.body.appendChild(this.cd.Oy.G);
this.body.appendChild(this.cd.UO.G);var p=n.b("span","fitem");this.body.appendChild(p);p.appendChild(this.cd.bA.G);
p.appendChild(this.cd.bC.G);p.appendChild(this.cd.bJ.G);this.cJ=new Qa([11,9],!1,null,!0);this.cJ.R("click",this.eHa,this);
this.body.appendChild(this.cJ.G);this.tI=new nQ;this.tI.R("click",this.qA,this)}GF.prototype=new GK;
GF.prototype.Dl=function(){this.tI.l();this.cd.l();this.cJ.l()};GF.prototype.eHa=function(p){var d={j:n.H.NE,O:this.O,Ed:"showwarp"},K=new y(n.E.s,!0);
K.data=d;this.n(K)};GF.prototype.gl=function(p){if(p.Ed=="showactive")this.body.appendChild(this.tI.G);
if(p.Ed=="hideactive")this.body.removeChild(this.tI.G)};GF.prototype.Ei=function(p,d){GK.prototype.Ei.call(this,p,d);
if(d!=Qn.ff&&d!=Qn.ar&&d!=Qn.ec&&d!=Qn.pG)return;this.cd.Rp(p)};GF.prototype.qA=function(p){var d={j:n.H.NE,O:this.O,Ed:this.tI.A()?"commit":"cancel"},K=new y(n.E.s,!0);
K.data=d;this.n(K)};function tp(){PB.call(this)}tp.prototype=new PB(!0);function GI(){GK.call(this);
var p=[],K="<svg  class=\"autoscale gsicon\" viewBox=\"0 0 14 18\" width=\"14\" height=\"18\" fill=\"black\"><path d=\"M14,6 L10,6 L10,0 L4,0 L4,6 L0,6 L7,13 L14,6 L14,6 Z M0,14 L0,16 L14,16 L14,14 Z\" /></svg>";
this.zY=new Ql([12,85]);this.zY.R(n.E.f,this.Fc,this);p.push(this.zY.G);this.zl=new Ql([20,1]);this.zl.R(n.E.f,this.Fc,this);
p.push(this.zl.G);this.zX=new Ql([12,83]);this.zX.R(n.E.f,this.Fc,this);p.push(this.zX.G);var d=n.b("span","fitem");
p.push(d);this.eMU=new Me("Scale for exported files",["1x","2x","3x","4x"],!0);d.appendChild(this.eMU.G);
this.XI=new Qa(K+" PNG",!1,null,!0);d.appendChild(this.XI.G);this.XI.R("click",this.sH,this);this.eMs=new Qa(K+" SVG",!1,null,!0);
d.appendChild(this.eMs.G);this.eMs.R("click",this.sH,this);var A=n.b("span","fitem");p.push(A);var x=n.b("span","fitem");
p.push(x);this.mk=[];for(var M=0;M<8;M++){var G=M==3||M==7?[20,4,6]:[20,4,M<3?M:M-1],D=new Qa("Hi",!1,G);
(M<4?A:x).appendChild(D.G);D.R("click",this.sH,this);this.mk.push(D)}for(var M=0;M<p.length;M++)this.body.appendChild(p[M]);
this.eMD=p}GI.prototype=new GK;GI.prototype.gl=function(p){var d=p.cq,K=p.ehQ;this.zY.d(d.NY);this.zl.d(d.gv);
this.zX.d(d.EZ);if(K){n.hM(this.body);for(var A=0;A<K.length;A++)if(K[A]==1&&this.eMD[A])this.body.appendChild(this.eMD[A])}};
GI.prototype.sH=function(p){var d=this.mk.indexOf(p.target),K;if(d==-1){K=new y(n.E.s,!0);K.data={j:n.H.NE,O:this.O,hE:p.target==this.XI?"getPNG":"getSVG",ewT:this.eMU.A()+1}}else{K=new y(n.E.q,!0);
K.O=r.cz;K.data={j:"algn",S:d}}this.n(K)};GI.prototype.Fc=function(p){var d=new y(n.E.s,!0);d.data={j:n.H.NE,O:this.O,hE:"prms",NY:this.zY.dA(),gv:this.zl.dA(),EZ:this.zX.dA()};
this.n(d)};GI.prototype.Dl=function(){this.zY.l();this.zl.l();this.zX.l();var p="h0 h1 h2 hG v0 v1 v2 vG".split(" ");
for(var d=0;d<8;d++){this.mk[d].g$(n.YD("align/"+p[d],null,"autoscale"))}};function tB(){PB.call(this);
var p=this.cl=new BC;p.parent=this;p.R(n.E.f,this.eHg,this);this.body.appendChild(p.G)}tB.prototype=new PB(!0);
tB.prototype.eHg=function(p){this.data.CK=this.cl.A();this.Po()};tB.prototype.Dl=function(){PB.prototype.Dl.call(this);
this.cl.l()};function tO(){eB.call(this,["setop","patch"])}tO.prototype=new eB;function tU(){eB.call(this,["bmode","opacity","wconf"])}tU.prototype=new eB;
function tK(){PB.call(this)}tK.prototype=new PB(!0);function tm(){PB.call(this)}tm.prototype=new PB(!0);
function tu(){PB.call(this);this._F=new ns;this._F.R(n.E.f,this.su,this);this.body.appendChild(this._F.G)}tu.prototype=new PB(!0);
tu.prototype.su=function(p){this.data._F=this._F.A();this.Po()};tu.prototype.Dl=function(){PB.prototype.Dl.call(this);
this._F.l()};function tG(){GK.call(this);this.x_=[new Pe("X",null,3),new Pe("Y",null,3),new Pe("W",null,3),new Pe("H",null,3),new Pe([12,15],null,4),new Pe([12,80,0],null,4),new Qa([15,7,6],!1,null,!0)];
for(var p=0;p<this.x_.length;p++){var d=this.x_[p];this.body.appendChild(d.G)}this.x_[6].R("click",this.eHY,this);
this.pu=0}tG.prototype=new GK;tG.prototype.eHY=function(p){if(this.pu==0){return}var d=new y(n.E.q,!0);
d.O=r.hc;d.data={j:"rot",hH:[2,5],S:-this.pu};this.n(d)};tG.prototype.gl=function(p){var d=p.ehm,K=p.Hr,A=K.x-d.x,x=K.y-d.y,M=this.x_;
this.pu=-Math.atan2(x,A);M[0].d(d.x);M[1].d(d.y);M[2].d(A);M[3].d(x);M[4].d((this.pu*180/Math.PI).toFixed(2));
M[5].d(Math.sqrt(A*A+x*x).toFixed(2))};tG.prototype.Dl=function(){var p=this.x_;for(var d=0;d<p.length;
d++)p[d].l();n.bP(p[2],p[3])};function tv(){eB.call(this,["brush","strn","pdetail"])}tv.prototype=new eB;
function tE(){eB.call(this,["brush"]);this.epF=[];var p=[[7,12]];for(var d=0;d<p.length;d++){var K=new Qa(p[d],!1,null,!0);
this.epF.push(K);K.parent=this;this.body.appendChild(K.G);K.R("click",this.evB,this)}}tE.prototype=new eB;
tE.prototype.evB=function(p){var d=this.epF.indexOf(p.currentTarget),K=new y(n.E.Iz,!0);K.data=r.Ef.Lb("contentAware");
this.n(K)};function tw(){eB.call(this,["brush","strn"])}tw.prototype=new eB;function tV(){eB.call(this,["brush","flow","smode"])}tV.prototype=new eB;
function Gz(){GK.call(this);this.an=!1;var p=n.b("span","fitem");this.body.appendChild(p);this.zk=new Mf(null,["<img src=\""+PIMG.zoomIn+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG.zoomOut+"\" class=\"autoscale gsicon\" />"]);
p.appendChild(this.zk.G);this.zk.R(n.E.f,this.Fc,this);this.pc=new Qa([20,2]);this.body.appendChild(this.pc.G);
this.pc.R("click",this.eEJ,this);this.XR=new Qa([20,3]);this.body.appendChild(this.XR.G);this.XR.R("click",this.eEJ,this)}Gz.prototype=new GK;
Gz.prototype.Dl=function(){this.pc.l();this.XR.l()};Gz.prototype.Fc=function(){var p={j:n.H.NE,O:this.O,gy:this.zk.A()==0},d=new y(n.E.s,!0);
d.data=p;this.n(d)};Gz.prototype.gl=function(p){if(this.an!=p.an)this.zk.d(1-this.zk.A());this.an=p.an};
Gz.prototype.eEJ=function(p){var d=new y(n.E.q,!0);d.O=r.iQ;d.data={j:"adapt",S:p.target==this.pc?"pixel":"fitscr"};
this.n(d)};function Mo(p,d){GK.call(this);if(p==null)return;this.ir={};var K=[[12,76,0],[12,76,1]];if(d==null)K.push([12,76,2]);
for(var A=0;A<p.length;A++){var x=p[A],M=null;if(x=="tmode"){M=new Me(null,K);M.d(1)}if(x=="binop"){M=new Me(null,[[18,1],[18,2],[18,3],[18,4]]);
M.gH()}if(x=="pshape")M=new Me(null,[[12,93,0],[12,93,1],"Arrow",[12,93,2]]);if(x=="shape")M=new eF([12,76,1]);
if(x=="crad"){M=new MK([12,94,0],0,50,"px");M.d(0)}if(x=="cstr"){M=new ns}if(x=="irad"){M=new MK([12,94,1],0,100,"%");
M.d(40)}if(x=="length"){M=new MK([12,80,0],4,40);M.d(4)}if(x=="sides"){M=new MK([12,78],3,30);M.d(5)}if(x=="width"){M=new MK([12,41],1,100,"px");
M.d(5)}if(x=="tsiz"){M=new MK("Tip Size",100,500,"%");M.d(300)}if(x=="tolr"){M=new MK([12,24],0,100);
M.d(5)}if(x=="fstyle"){M=new tg([12,26])}if(x=="sstyle"){M=new Bv}if(x=="psnap"){M=new Ql([8,10])}M.parent=this;
this.body.appendChild(M.G);this.ir[x]=M;M.R(n.E.f,this.Fc,this)}}Mo.prototype=new GK;Mo.prototype.gl=function(p){var d=Mo.zN;
if(d==null)d=Mo.zN=new p_([{name:"Make Selection"}],[{z:n.E.q,O:r.$$,a:{j:"frompath",ZU:[null,0,0]}}]);
d.parent=this;d.update(p.cR,p.gn);var K=new y(n.E.s,!0);K.data={j:n.H.uO,Fy:d,x:p.np.XW+2,y:p.np.hq+1};
this.n(K)};Mo.prototype.eEf=function(p){return null};Mo.prototype.ewg=function(){if(this.ir.pshape==null)return;
var p=this.eEf(this.ir.pshape.A());if(p==null)return;n.hM(this.body);for(var d=0;d<p.length;d++){var K=p[d];
this.body.appendChild(this.ir[K].G)}};Mo.prototype.Dl=function(){for(var p in this.ir){this.ir[p].l()}};
Mo.prototype.Fc=function(p){var d=new y(n.E.s,!0);if(p.target==this.ir.fstyle){d.data={j:n.H.aA,gD:Qn.ie,S:this.ir.fstyle.A()};
this.n(d);return}if(p.target==this.ir.sstyle){d.data={j:n.H.aA,gD:Qn.pS,S:this.ir.sstyle.A()};this.n(d);
return}if(this.ir.tmode&&this.ir.binop){if(this.ir.tmode.A()==0)this.ir.binop.Hm();else this.ir.binop.gH()}d.data={j:n.H.NE,O:this.O};
for(var K in this.ir)if(K!="sstyle")d.data[K]=this.ir[K].A();this.n(d);if(p.target==this.ir.pshape)this.ewg()};
Mo.prototype.Ei=function(p,d){GK.prototype.Ei.call(this,p,d);var K=this.ir.fstyle,A=this.ir.sstyle;if(K)K.Ei(p,d);
if(A)A.Ei(p,d);if(d==Qn.ff||d==Qn.eU)if(p.$w.length!=0&&this.ir.shape){this.ir.shape.H_(p.$w)}if(d==Qn.ff||d==Qn.ie)if(K)K.d(null,p.cf,p.epd);
if(d==Qn.ff||d==Qn.pS)if(A)A.d(null,p.cY,p.epA)};function tF(){Mo.call(this,["tmode","fstyle","sstyle","binop"],!0)}tF.prototype=new Mo;
function tL(){Mo.call(this,["tmode","fstyle","sstyle","binop","tolr"])}tL.prototype=new Mo;function tH(){Mo.call(this,["fstyle","sstyle"]);
this.ehH=null;this.enu=null;this.enL=null;this.dW=new Me("Path",[[18,1],[18,2],[18,3],[18,4],[18,5]],!1,[4]);
this.CO=new Qa("\u25BC");this.CO.uy();this.dr=new Qa("\u25B2");this.dr.uy();this.Xz=[this.dW,this.CO,this.dr];
for(var p=0;p<this.Xz.length;p++){var d=this.Xz[p];this.body.appendChild(d.G);d.parent=this;d.R(p==0?n.E.f:"click",this.GX,this)}}tH.prototype=new Mo;
tH.prototype.gl=function(p){if(p.Ed=="main"){var d=this.Xz,K=p.pW;if(K&&K.Y.length==1){this.enu=K.clone();
this.enL=JSON.stringify(p.B$);var A=K.Y[0],x=Z.e.vB(K.Z);this.dW.Hm();if(A>0)this.CO.Hm();else this.CO.gH();
if(A<x-1)this.dr.Hm();else this.dr.gH();var M=Z.e._e(K.Z,A),G=K.Z[M];this.dW.g$("Path "+(A+1));this.dW.d([3,0,1,2][G.Ez])}else{for(var D=0;
D<d.length;D++)d[D].gH()}}else Mo.prototype.gl.call(this,p)};tH.prototype.Dl=function(){Mo.prototype.Dl.call(this);
this.dW.l()};tH.prototype.GX=function(p){if(p.target==this.dW||p.target==this.CO||p.target==this.dr){var d={},K=this.enu,A=K.Z,x=JSON.parse(this.enL),M=K.Y[0],G=Z.e._e(A,M),D=A[G];
if(p.target==this.dW){var P=this.dW.A();if(P<4)D.Ez=[1,2,3,0][P];else{if(Z.e.vB(A)<=1)return;K.Z=Z.e.Kv(A);
K.Y=K.Z.length==2?[]:[0];K.HM=[];x=[Z.B$.MS()]}}else{var a=p.target==this.CO?-1:1,e=Math.min(M,M+a),f=Math.max(M,M+a),N=Z.e._e(A,e),Y=Z.e._e(A,f);
if(N==-1||Y==-1)return;var l=Y+Z.e.Kw(A,f),h=x[e];x[e]=x[f];x[f]=h;var s=A.slice(0,N),J=A.slice(N,Y),u=A.slice(Y,l),Q=A.slice(l);
K.Z=s.concat(u.concat(J.concat(Q)));K.Y[0]+=a}d.pW=K;d.B$=x;var W=new y(n.E.s,!0);W.data={j:n.H.NE,O:this.O,ZU:d};
this.n(W)}};function tI(){Mo.call(this,["fstyle","sstyle","psnap"])}tI.prototype=new Mo;function tR(){Mo.call(this,"tmode fstyle sstyle binop cstr crad".split(" "))}tR.prototype=new Mo;
function tz(){Mo.call(this,["tmode","fstyle","sstyle","binop","cstr"])}tz.prototype=new Mo;function ta(){Mo.call(this,"tmode fstyle sstyle binop pshape sides irad crad width tsiz length".split(" "));
this.ena=[["sides","crad"],["sides","irad","crad"],["width","tsiz"],["length"]];this.ewg()}ta.prototype=new Mo;
ta.prototype.eEf=function(p){return["tmode","fstyle","sstyle","binop","pshape"].concat(this.ena[p])};
function ti(){Mo.call(this,["tmode","fstyle","sstyle","binop","width"])}ti.prototype=new Mo;function tq(){Mo.call(this,"tmode fstyle sstyle binop cstr shape".split(" "))}tq.prototype=new Mo;
function th(){PB.call(this)}th.prototype=new PB(!0);function ts(){eB.call(this,["brush","qsmode","redge"])}ts.prototype=new eB;
function to(){GK.call(this)}to.prototype=new GK;function tW(){GK.call(this);this.CO=new Qa("\u25BC");
this.CO.uy();this.dr=new Qa("\u25B2");this.dr.uy();var M$=[this.CO,this.dr];for(var p=0;p<2;p++){var d=M$[p];
this.body.appendChild(d.G);d.R("click",this.GX,this)}}tW.prototype=new GK;tW.prototype.GX=function(p){var d=new y(n.E.s,!0);
d.data={j:n.H.NE,O:this.O,hE:"reorder",dir:p.target==this.CO?-1:1};this.n(d)};function tT(p){GK.call(this);
if(window.Typr==null||p)return;this.MC=null;this.eBb=n.b("span","");this.eOS=n.b("span","");var d=1;
this.wC={qL:new px(null,24),mm:new MK("X",0,0,"px",0,!1,!0,4),uB:new MK("Y",0,0,"px",0,!1,!0,4),NK:new MK("W",0,0,["%","px"],0,!1,!0,4),eT:new Qa("\u2261",null,[12,51],null),gP:new MK("H",0,0,["%","px"],0,!1,!0,4),enh:new MK("\u2221",0,0,"\xB0",d,!1,!0),ens:new MK("\u25B1 X",-85,85,"\xB0",d,!1,!0),eno:new MK("\u25B1 Y",-85,85,"\xB0",d,!1,!0),XX:new Me(null,[[12,14,2],[12,14,3],"Bicubic Sharper"])};
this.wC.XX.d(1);for(var K in this.wC){this.eBb.appendChild(this.wC[K].G);var A=this.wC[K]==this.wC.eT?"click":n.E.f;
this.wC[K].R(A,this.evO,this)}this.cl=new PS(!0,!0,!0);this.cl.R(n.E.f,this.evU,this);this.cl.parent=this;
var x=this.eOS,M=this.cl;x.appendChild(M.xY.G);x.appendChild(M.Ku.G);x.appendChild(M.xT.G);x.appendChild(M.DQ.G);
x.appendChild(M.DM.G);this.cJ=new Qa([11,9]);this.cJ.R("click",this.evV,this);this.tI=new nQ;this.tI.R("click",this.qA,this)}tT.prototype=new GK;
tT.prototype.gl=function(p){if(p.np){var d=tT,K=d.zN;if(K==null)K=d.zN=new p_(d.ewr(),d.ece());K.l();
K.parent=this;K.update(p.cR,p.gn);var A=new y(n.E.s,!0);A.data={j:n.H.uO,Fy:K,x:p.np.XW+2,y:p.np.hq+1};
this.n(A);return}n.hM(this.body);this.MC=p;if(p.wC){var x=p.wC.m,M=p.wC.EI.clone(),G=Math.atan2(-M.M,M.V),D=new QI;
D.rotate(-G);M.concat(D);var P=this.wC;P.qL.d(p.wC.Nz);P.mm.d(p.wC.ME.x);P.uB.d(p.wC.ME.y);P.NK.d(M.V*(P.NK.os()=="%"?100:x.t));
P.gP.d(M.Wb*(P.gP.os()=="%"?100:x.D));P.enh.d(-G*180/Math.PI);P.ens.d(0*180/Math.PI);P.eno.d(Math.atan(M.$H)*180/Math.PI);
this.body.appendChild(this.eBb);this.cJ.qD()}if(p.TB){this.cl.d(p.TB);this.body.appendChild(this.eOS);
this.cJ.uy()}this.body.appendChild(this.tI.G);if(p.eho)this.body.appendChild(this.cJ.G)};tT.prototype.evO=function(p){var d=this.wC,K=this.MC.wC.m;
if(p.target==d.eT)d.eT.d(!d.eT.A());if(d.eT.dA()){var A=d.gP,x=d.NK,M=K.D,G=K.t;if(p.target==d.NK){A=d.NK;
x=d.gP;M=K.t;G=K.D}var D=A.A()/(A.os()=="%"?100:M);D*=x.os()=="%"?100:G;x.d(D)}var P=[];for(var a in d)if(d[a]!=d.eT&&d[a]!=d.qL){var D=d[a].A();
if((d[a]==d.NK||d[a]==d.gP)&&D==0){D=.1;d[a].d(D)}if(d[a]==d.NK&&d[a].os()=="px")D/=K.t/100;if(d[a]==d.gP&&d[a].os()=="px")D/=K.D/100;
P.push(D)}var e=new QP(P[0],P[1]);if(p.target==d.qL){this.qZ({Ed:"ctyp",Nz:d.qL.A()})}else if(p.target==d.mm||p.target==d.uB){this.qZ({Ed:"cen",ME:e})}else{var f=this.MC.wC.EI.clone(),N=f.clone(),Y=Math.atan2(-f.M,f.V);
N.translate(-e.x,-e.y);N.rotate(-Y);var l=new QI(N.V,N.M,N.$H,N.Wb,0,0);l.an();N.concat(l);N.concat(new QI(P[2]/100,Math.tan(P[5]*Math.PI/180),Math.tan(P[6]*Math.PI/180),P[3]/100,0,0));
N.rotate(-P[4]*Math.PI/180);N.translate(e.x,e.y);this.MC.wC.EI=N;this.qZ({Ed:"trn",wC:N,Np:this.wC.XX.A()})}};
tT.prototype.evU=function(p){this.qZ({Ed:"wrp",TB:this.cl.A()})};tT.prototype.evV=function(p){this.qZ({Ed:"switchWarp"})};
tT.prototype.qA=function(p){this.qZ({Ed:this.tI.A()?"commit":"cancel"})};tT.prototype.qZ=function(p){p.j=n.H.NE;
p.O=this.O;var d=new y(n.E.s,!0);d.data=p;this.n(d)};tT.prototype.Dl=function(){var p=this.wC;for(var d in p)p[d].l();
n.bP(p.NK,p.gP);this.tI.l();this.cl.l();this.cJ.l()};tT.ewr=function(){return[{name:[5,9],zw:"Shift+Alt+Ctrl + T",uu:!0},{name:[2,9]},{name:[11,9],C:function(p){if(p==null||p.Y.length!=1)return{C:!1};
var d=p.L[p.Y[0]];return{C:d.add.TySh==null&&!d.Ba()}},uu:!0},{name:"90\xB0 \u21BB",C:function(p){return{FQ:Qc.get([2,5])+" 90\xB0 \u21BB"}}},{name:"90\xB0 \u21BA",C:function(p){return{FQ:Qc.get([2,5])+" 90\xB0 \u21BA"}}},{name:"180\xB0 ",C:function(p){return{FQ:Qc.get([2,5])+" 180\xB0"}}},{name:[2,6,[22,4,2]]},{name:[2,6,[22,4,3]]}]};
tT.ece=function(){return[{z:n.E.q,O:r.hc,a:{j:"again"}},{z:n.E.s,a:{j:n.H.ZA,O:r.hc,cq:{aV:1}}},{z:n.E.s,a:{j:n.H.ZA,O:r.hc,cq:{aV:2}}},{z:n.E.q,O:r.hc,a:{j:"rot",hH:[2,5],S:-Math.PI/2}},{z:n.E.q,O:r.hc,a:{j:"rot",hH:[2,5],S:-3*Math.PI/2}},{z:n.E.q,O:r.hc,a:{j:"rot",hH:[2,5],S:Math.PI}},{z:n.E.q,O:r.hc,a:{j:"scl",hH:[2,6,[22,4,2]],S:new QP(-1,1)}},{z:n.E.q,O:r.hc,a:{j:"scl",hH:[2,6,[22,4,3]],S:new QP(1,-1)}}]};
function tD(){tT.call(this)}tD.prototype=new tT(!0);function td(){tT.call(this)}td.prototype=new tT(!0);
function G_(){GK.call(this);var p=this.zG=[new Me([12,36],["Rigid",[15,10,0],[24,4]]),new Me([12,74],[[19,8,0],[19,8,1],[19,8,2]]),new MK([7,4],0,100,"px"),new Ql("Show Mesh"),new Qa("\u25BC",null,null,!0),new Qa("\u25B2",null,null,!0)];
for(var d=0;d<p.length;d++){var K=p[d];K.parent=this;this.body.appendChild(K.G);K.R(d<4?n.E.f:"click",this.evR,this)}this.tI=new nQ;
this.tI.R("click",this.qA,this);this.body.appendChild(this.tI.G)}G_.prototype=new GK;G_.prototype.Dl=function(){var p=this.zG;
for(var d=0;d<4;d++)p[d].l();this.tI.l()};G_.prototype.gl=function(p){var p=p.gD;for(var d=0;d<4;d++)this.zG[d].d(p[d])};
G_.prototype.evR=function(p){var d=[];for(var K=0;K<4;K++)d[K]=this.zG[K].A();var A=this.zG.indexOf(p.target);
if(A<4)this.qZ({Ed:"prm",gD:d});else this.qZ({Ed:"moveDepth",ehg:A==5})};G_.prototype.qA=function(p){this.qZ({Ed:this.tI.A()?"commit":"cancel"})};
G_.prototype.qZ=function(p){p.j=n.H.NE;p.O=this.O;var d=new y(n.E.s,!0);d.data=p;this.n(d)};function ek(){QF.call(this);
this.G=n.b("div","cmanager");this.dv=0;this.Ri=0;this.ES=[];this.Xa={};this.Xq=n.b("div","alertcont");
this.G.appendChild(this.Xq);this.eOo=n.b("div","alertcont");this.G.appendChild(this.eOo);this.fE=n.b("div","alertcont");
this.eOx=0;this.fL=-1;this.eOX=null;this.wM=null;var p=this.ehD=n.b("div","alertpanel");p.setAttribute("style","padding:0.7em 1em 0.1em 1em;");
this.fE.appendChild(p);var d=this.rI=n.b("input");d.setAttribute("type","text");d.setAttribute("style","background-color:white; color:black; font-size:1.2em; width:100%;  margin:0;");
d.addEventListener("input",this.eva.bind(this),!1);d.addEventListener("keydown",this.evo.bind(this),!1);
p.appendChild(d);var K=this.eUK=n.b("div","contextpanel scrollable");K.setAttribute("style","text-align:left; box-shadow:none; margin:0.5em 0 1em 0;color:#888;");
K.addEventListener("click",this.evD.bind(this),!1);p.appendChild(K);n.uw(document.body,this.eES.bind(this))}ek.prototype=new QF;
ek.prototype.sv=function(){if(n.Or(this.fE))this.G.removeChild(this.fE)};ek.prototype.evz=function(p,d){var K=this.eOX=[];
for(var A=0;A<pB.data.length;A++){var x=pB.data[A],M=[Qc.get(x.name)],G=[A];ek.eFr(x.items,M,G,K,p,d)}var D=eA.Bq;
for(var A=0;A<D.length;A+=3){K.push([["Tools",Qc.get(D[A])],[-1,D[A+2]]])}this.G.appendChild(this.fE);
var P=this.rI;P.focus();P.select();this.nl()};ek.prototype.eva=function(p){this.fL=-1;this.nl()};ek.prototype.nl=function(){var p=this.rI.value.toLowerCase().trim().replace(/  +/g," "),d=this.eOX,K=[],A=[],x=p.split(" ");
if(p!="")for(var M=0;M<d.length;M++){var G=d[M][0],D=[],P=0;for(var a=0;a<G.length;a++)D[a]=-1;for(var e=0;
e<x.length;e++)for(var a=0;a<G.length;a++){var f=G[a].toLowerCase().indexOf(x[e]);if(f!=-1){D[a]=[f,f+x[e].length];
P++;break}}if(P==x.length){K.push(d[M]);A.push(D)}}var N=[],Y=this.eUK;n.hM(Y);for(var M=0;M<K.length;
M++){var l=K[M][0],f=A[M],h="enab",J="";if(M==this.fL)h+=" active";var s=n.b("div",h);N.push(s);Y.appendChild(s);
for(var a=0;a<l.length;a++){var u=f[a],Q=x[a],W=l[a];if(u!=-1)W=W.slice(0,u[0])+"<span style=\"color:black\">"+W.slice(u[0],u[1])+"</span>"+W.slice(u[1]);
J+=W;if(a<l.length-1)J+=" \uFE65 "}s.innerHTML=J}this.wM=[K,N]};ek.prototype.evo=function(p){var d=B.ov,K=p.code;
if(d(K,B.qo))this.sv();var A=d(K,B.nG),x=d(K,B.nm),M=d(K,B.ut);if(A||x){this.fL=Math.max(0,Math.min(this.wM[0].length-1,this.fL+(A?-1:1)));
this.nl()}if(M&&this.fL!=-1)this.eLS(this.fL)};ek.eFr=function(p,d,K,A,x,M){for(var G=0;G<p.length;G++){var D=p[G],P=d.slice(0),a=K.slice(0),e=Qc.get(D.name);
if(D.C){var f=D.C(x,M,G);if(f.FQ)e=f.FQ;if(f.C==!1)continue}P.push(e);a.push(G);if(D.sub)ek.eFr(D.sub,P,a,A,x,M);
else A.push([P,a])}};ek.prototype.evD=function(p){var d=p.target;if(d.tagName.toLowerCase()=="span")d=d.parentNode;
var K=this.wM[1].indexOf(d);if(K!=-1)this.eLS(K)};ek.prototype.eLS=function(p){var d=this.wM[0][p][1];
if(d[0]==-1){var K=new y(n.E.s,!0);K.data={j:n.H.ZA,O:d[1]};this.n(K)}else{var A=pB.data[d[0]].tt[d[1]];
for(var x=2;x<d.length;x++)A=A.sub[d[x]];var M=new y(A.z,!0);M.O=A.O;M.data=A.a;this.n(M)}this.sv()};
ek.prototype.dq=function(p,d){this.dv=p;this.Ri=d;this.eUK.style["max-height"]=d-120+"px"};ek.prototype.evd=function(p){var d=n.b("div","alertpanel");
d.textContent=Qc.get(p);this.Xq.appendChild(d);this.Xa[JSON.stringify(p)]=d};ek.prototype.evT=function(p){var d=this.Xa[JSON.stringify(p)];
this.Xq.removeChild(d);delete this.Xa[JSON.stringify(p)]};ek.prototype.alert=function(p,d){var K=this.eOo;
for(var A=0;A<K.children.length;A++)if(K.children[A].textContent==p)return;var x=n.b("div","alertpanel tpanel");
x.textContent=p;x.setAttribute("style","opacity:0.5; transform:scale(0.9)\t");K.appendChild(x);if(d==null)d=1500;
var M=d,G=Math.max(Date.now()+M,this.eOx+M);setTimeout(function(){x.setAttribute("style","transform:scale(1); opacity:1;")},10);
setTimeout(function(){K.setAttribute("style","margin-top: -3.6em; transform: translateY(3.6em);")},G-Date.now()-30);
setTimeout(function(){K.removeChild(K.firstChild);K.setAttribute("style","transition: transform 0.7s;  margin-top: 1em;  transform: translateY(0em);")},G-Date.now());
this.eOx=G};ek.prototype.eES=function(p){var d=this.ES;for(var K=d.length-1;K>=0;K--){var A=d[K],x=p.target;
while(x!=null){if(x==A.G){this.uh(A);return}x=x.parentNode}}this.uh();var M=p.target;while(M!=this.fE&&M!=document.body)M=M.parentNode;
if(M!=this.fE)this.sv()};ek.prototype.uh=function(p){var d=this.ES;for(var K=0;K<d.length;K++){if(p&&p.eL$(d[K]))continue;
var A=d[K].G;A.style.height="auto";n.xj(A,"scrollable");this.G.removeChild(A);d.splice(K,1);K--}};ek.prototype.eEe=function(p){this.uh(p.Fy);
var d=p.Fy,K=d.G;if(this.ES.indexOf(d)!=-1)return;this.ES.push(d);this.G.appendChild(d.G);var A=this.dv,x=this.Ri,M=p.x,G=p.y,D=this.G.getBoundingClientRect(),P=d instanceof p_;
if(P||p.eap){var a=d.Lr(),e=d.eKS();if(P)a=Math.min(a,200);if(G+e<x){M=Math.min(M,A-a-5)}else{if(M+a<A){G=Math.min(G,x-e-5)}else if(e<G){G=G-e-2;
M=Math.min(M,A-a-5)}else{M=M-a;G=Math.min(G,x-e-5)}}if(p.epB)G=Math.max(2,p.y-e-2);if(p.enW)G=p.y}G=Math.max(2,G);
var top=Math.round(G-D.y+this.G.offsetTop);K.style.position="absolute";K.style["z-index"]=10;K.style.left=Math.round(M)+"px";
K.style.top=top+"px";if(G+d.eKS()>x-3){K.style.height=x-3-G+"px";n.Mz(K,"scrollable")}};ek.prototype.ezo=function(p){var d=p.Fy,K=this.ES.indexOf(d);
if(K==-1)return;this.ES.splice(K,1);var A=d.G;this.G.removeChild(d.G)};ek.prototype.Zw=function(){var p=this.ES;
return p.length==0?null:p[p.length-1]};ek.prototype.eEP=function(){this.ezo({Fy:this.Zw()})};function tC(){QF.call(this);
this.G=n.b("div","confbar")}tC.prototype=new QF;tC.prototype.eEQ=function(p){p.parent=this;n.hM(this.G);
this.G.appendChild(p.G)};function es(){QF.call(this);this.hG=null;this.EQ=n.b("input","");this.EQ.setAttribute("type","file");
this.EQ.setAttribute("multiple","");this.EQ.addEventListener("change",function(p){this.sI(p.target.files,null,this.XD,null);
this.XD=null}.bind(this),!1);document.body.appendChild(this.EQ);this.EQ.setAttribute("style","display:none");
this.eUf=[];this.Xx=!1;this.eKp={};this.XD=null}es.prototype=new QF;es.eEp=function(p){try{navigator.clipboard.write([new ClipboardItem(Object.defineProperty({},p.type,{value:p,enumerable:!0}))])}catch(Qg){console.error(Qg,Qg.message)}};
es.sE=function(p,d){try{navigator.clipboard.read().then(function(K){for(var A=0;A<K.length;A++){try{var x=K[A];
for(var M=0;M<x.types.length;M++){var G=x.types[M];if(G!="image/png")continue;x.getType(G).then(function(D){new Response(D).arrayBuffer().then(function(P){es.DN({name:"image.png"},P,p,d)})})}}catch(Qg){console.error(Qg,Qg.message)}}})}catch(Qg){console.error(Qg,Qg.message)}};
es.eEN=function(p){navigator.permissions.query({name:"clipboard-read"}).then(function(d){p(d.state)})};
es.prototype.sw=function(p){if(p==null)p=[23,5];var d=JSON.stringify(p),K=this.eKp;if(K[d]==null)K[d]=0;
if(K[d]==0){var A=new y(n.E.s,!0);A.data={j:n.H.LL,oU:p};this.n(A)}K[d]++};es.prototype.sV=function(p){if(p==null)p=[23,5];
var d=JSON.stringify(p),K=this.eKp;if(K[d]==null)K[d]=0;K[d]--;if(K[d]==0){var A=new y(n.E.s,!0);A.data={j:n.H.L_,oU:p};
this.n(A)}};es.prototype.eEY=function(p,d){var K=this.EQ;if(d)K.setAttribute("accept",d);else K.removeAttribute("accept");
var A=document.createEvent("MouseEvents");A.initMouseEvent("click",!0,!0,document.defaultView,1,0,0,0,0,!1,!1,!1,!1,0,null);
K.dispatchEvent(A);this.XD=p};es.prototype.ud=function(p){this.eUf.push(p);this.eaO()};es.prototype.eaO=function(){var p=this.eUf;
if(p.length==0||this.Xx)return;this.Xx=!0;var d=p.shift();this.sw();if(d.oJ==null)d.oJ={};var K=new XMLHttpRequest;
K.pL=d;var A=d.url;if(d.ep)A="mirror.php?url="+encodeURIComponent(A);K.open("GET",A);if(d.Xd)for(var x in d.Xd)K.setRequestHeader(x,d.Xd[x]);
K.responseType="arraybuffer";K.onload=this.eqO.bind(this);K.send()};es.prototype.sI=function(p,d,K,A){for(var x=0;
x<p.length;x++){this.sw();var M=p[x],G=new FileReader;G.pL=M;G.pL.WC=K;G.pL.Lv=A;G.enx=d;G.onload=this.eqO.bind(this);
G.onerror=function(D){this.sV()}.bind(this);G.readAsArrayBuffer(M)}this.EQ.value=null};es.prototype.ewM=function(p){var d=p.og.jK,K=es.lt(p,d);
GC.TJ(function(){var A=new XMLHttpRequest,x="https://www.googleapis.com/upload/drive/v3/files/"+p.og.file.id+"?uploadType=media"+"&"+GC.yW();
A.open("PATCH",x,!0);A.addEventListener("load",function(M){var G=JSON.parse(M.target.response);alert(G.name+" updated")});
A.send(K);alert("Saving \""+p.og.file.name+"\" to Google Drive ...")})};es.prototype.ewK=function(p,d,K){var A=p.zi(),x=d[0],M=es.lt(p,x,K);
if(window.parent!=window)window.parent.postMessage(M,"*")};es.prototype.ewm=function(p,d){this.sw("Saving ...");
this.hG=d;setTimeout(es.ewH.bind({qb:p,caller:this}),50)};es.lt=function(p,d,K){var A=d.split(":"),x=A[0],M=null;
if(A.length==2){if(x=="jpg"||x=="webp")M=[Math.round(100*parseFloat(A[1]))];if(x=="psd")M=[!0,!0]}var G=QH.Tr(p,x.toUpperCase(),null,null,M,K);
return G};es.ewH=function(){var p=this.qb,d=this.caller,K=p.oJ.aO,A=K.formats,x,M;p.zi();var G=Date.now();
if(K.version==1){var D=[],P=0,f=0;for(var a=0;a<A.length;a++){var e=es.lt(p,A[a],d.hG);D.push(e);P+=e.byteLength}x=new Uint8Array(2e3+P);
var N="{ \"source\": "+JSON.stringify(p.o_)+", \"versions\": [\n";for(var a=0;a<A.length;a++){var Y=new Uint8Array(D[a]);
N+="\t{\"format\": \""+A[a].split(":")[0]+"\", \"start\": "+f+", \"size\": "+Y.length+" }"+(a+1<A.length?", ":"")+"\n";
x.set(Y,2e3+f);f+=D[a].byteLength}N+="] }";var l=v.IU(N,x,0);for(var a=l;a<2e3;a++)x[a]=32;M="application/octet-stream"}else{var h=new pO,s=0,J="",u=encodeURIComponent;
J="p="+u("{ \"source\": "+JSON.stringify(p.o_)+", \"versions\": [");v.KL(h,s,J);s+=J.length;for(var a=0;
a<A.length;a++){J=u(" {\"format\": \""+A[a].split(":")[0]+"\", \"data\": \"");v.KL(h,s,J);s+=J.length;
var e=es.lt(p,A[a],d.hG),Q=es.ewL(e,e.byteLength),l=Q.length;h.hu(s,l);for(var W=0;W<l;W++){h.hu(s,3);
var q=Q[W];if(q==43){h.data[s]=37;h.data[s+1]=50;h.data[s+2]=66;s+=3}else if(q==47){h.data[s]=37;h.data[s+1]=50;
h.data[s+2]=70;s+=3}else if(q==61){h.data[s]=37;h.data[s+1]=51;h.data[s+2]=68;s+=3}else{h.data[s]=q;
s++}}J=u("\" }"+(a+1<A.length?", ":""));v.KL(h,s,J);s+=J.length}J=u("] }");v.KL(h,s,J);s+=J.length;x=h.data.slice(0,s);
M="application/x-www-form-urlencoded"}var H=new XMLHttpRequest;H.open("POST",K.url,!0);if(M)H.setRequestHeader("Content-Type",M);
H.addEventListener("load",es.ewv.bind(this));H.send(new Blob([x.buffer]))};es.ewv=function(p){this.caller.sV("Saving ...");
var d=p.target.response;if(d.charAt(0)=="{"){d=JSON.parse(d);if(d.newSource)this.qb.o_=d.newSource;if(d.message)alert(d.message,2e3);
if(d.script){var K=new y(n.E.s,!0);K.data={j:n.H.iZ,EC:d.script};this.caller.n(K)}}else alert("Saved. Response: "+d,1500)};
es.sR=function(p){var d="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",K=new Uint8Array(p),A=K.length,x=A%3,M=A-x,G=[],D=0,P=0,a=0;
for(var e=0;e<M;e+=3){D=K[e];P=K[e+1];a=K[e+2];G.push(d[D>>2]+d[(D&3)<<4|P>>4]+d[(P&15)<<2|a>>6]+d[a&63])}if(x==1){D=K[M];
G.push(d[D>>2]+d[(D&3)<<4]+"==")}if(x==2){D=K[M];P=K[M+1];G.push(d[D>>2]+d[(D&3)<<4|P>>4]+d[(P&15)<<2]+"=")}var f=G.join("");
return f};es.ewL=function(p,d){var K="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",A=new Uint8Array(64),P=0,a=0,e=0,N=0;
for(var x=0;x<64;x++)A[x]=K.charCodeAt(x);var M=new Uint8Array(p),G=d%3,D=d-G,f=new Uint8Array(Math.floor(d/3)*4+(G==0?0:4));
for(var x=0;x<D;x+=3){P=M[x];a=M[x+1];e=M[x+2];f[N]=A[P>>>2];f[N+1]=A[(P&3)<<4|a>>>4];f[N+2]=A[(a&15)<<2|e>>>6];
f[N+3]=A[e&63];N+=4}if(G==1){P=M[D];f[N]=A[P>>2];f[N+1]=A[(P&3)<<4];f[N+2]=61;f[N+3]=61}if(G==2){P=M[D];
a=M[D+1];f[N]=A[P>>2];f[N+1]=A[(P&3)<<4|a>>4];f[N+2]=A[(a&15)<<2];f[N+3]=61}return f};es.prototype.eqO=function(p){var d,K=p.target.pL;
if(p.target instanceof XMLHttpRequest)d=p.target.response;else d=p.target.result;es.eqd(K,d,this,p.target.enx);
this.sV();if(p.target instanceof XMLHttpRequest){this.Xx=!1;this.eaO()}};es.eqd=function(p,d,K,A){if(window.location.href.indexOf("photopea.com")==-1)es.DN(p,d,K,A);
else{try{es.DN(p,d,K,A)}catch(Qg){if(Qg=="low_ram"){}else{var x="Error. Please, send your file to support@photopea.com and we will solve it.";
if(QH.BU(d)=="eps")x="We support only basic EPS files. Convert your file into PDF (with an online converter) and open the PDF in Photopea.";
window.epU(x,1e4)}}}};es.DN=function(p,d,K,A){var x;if(p.name)x=p.name.split(".")[0];else{if(p.url.substring(0,5)=="data:"||p.url.indexOf("googleapis")!=-1)x="image";
else x=p.url.substring(p.url.lastIndexOf("/")+1).split(".")[0];x=x.slice(0,50)}var M=p.name?p.name:p.url,G=new Uint8Array(d),D=QH.BU(d),P=window.ga;
if(P&&D!=null&&QH.If(D))P("send","event","Formats",D);if(D==null)D=v.Ms(G,0,4);if(M&&M.toLowerCase().endsWith(".raw")){var a=new y(n.E.s,!0);
a.data={j:n.H.Ae,$u:"importraw",tJ:d,QR:M.split("/").pop()};K.n(a);return}else if(D=="json"){var e="";
for(var f=0;f<G.length;f++)e+=String.fromCharCode(G[f]);e=decodeURIComponent(escape(e));alert("Unknown JSON file opened. See the content in the console.",5e3);
console.log(JSON.parse(e));return}if(D=="html"){var e=v.Il(G,0,G.length),N=new DOMParser,Y=N.parseFromString(e,"text/html"),l=Y.getElementsByTagName("meta");
for(var f=0;f<l.length;f++){var h=l[f],s=h.getAttribute("property"),J=h.getAttribute("content"),u=null;
if(s=="og:image")u=J;if(s==null&&J&&J.startsWith("0;url=/imgres?")){var Q=J.slice(14).split("&");for(var W=0;
W<Q.length;W++)if(Q[W].startsWith("imgurl"))u=decodeURIComponent(Q[W].slice(7))}if(u==null)continue;
var a=new y(n.E.s,!0);a.data={j:n.H.YN,gD:{url:u,ep:!0,WC:p.WC}};K.n(a)}return}if(QH.If(D)){var q,H=QH.If(D);
if(p.WC!=null&&"jpg png gif pdf svg psd".split(" ").indexOf(D)!=-1){var a=new y(n.E.s,!0);a.data={j:n.H.bW,target:p.WC,nW:p.Lv,_b:d,Zv:x};
K.n(a);return}if(H.aw){q=new QZ(x+(D=="psd"?"":"-"+D)+".psd");H.W$(d,q,!0)}else{var C=H.W$(d);if(C[0].t33421||C[0].t50706){Z.raw.normalize(C[0],d);
console.log(C[0]);var a=new y(n.E.s,!0);a.data={j:n.H.Ae,$u:"rawpea",Yq:C[0]};K.n(a);return}if(A){A(new Uint8Array(C[0].data),C[0].Uo);
return}q=es.uA(x,C)}q.oJ=p.oJ;q.o_=p.url;q.oL=p.oL;q.og=p.og;if(q.og)q.og.jK=D;if(q.L.length!=0){var a=new y(n.E.s,!0);
a.data={j:p.WC==null?n.H.iA:n.H.bW,target:p.WC,nW:p.Lv,_b:q};K.n(a)}return}var k=new y(n.E.s,!0);k.data={j:n.H.LJ,tJ:d,uo:p.name};
var i=p instanceof File&&p.eKa!=!0,a=new y(n.E.s,!0);a.data={j:n.H.aA,oJ:"add",gD:null,EW:null,eKi:p.eKa};
if(D=="zip"){var m=Date.now(),w=UZIP.parse(d),S="xml rels plist iwa db ds_store txt rtf".split(" ");
for(var o in w){var O=!1;for(var f=0;f<S.length;f++)if(o.toLowerCase().endsWith("."+S[f]))O=!0;if(o.startsWith("__MACOSX/")||w[o].length==0)O=!0;
if(O)continue;var t=o.split("/").pop();es.eqd({name:t},w[o].buffer,K,A)}}else if(D=="jsx"){var e=v.Il(new Uint8Array(d));
a.data={j:n.H.iZ,EC:e};K.n(a)}else if(D=="otf"){if(i)K.n(k);var c=Typr.parse(d);a.data.gD=Qn.ec;for(var f=0;
f<c.length;f++){a.data.EW=c[f];K.n(a)}}else if(D=="asl"){if(i)K.n(k);var c=nd.RL(d);a.data.gD=Qn.eO;
a.data.EW=c.jq;K.n(a);a.data.gD=Qn._X;a.data.EW=c.WE;K.n(a)}else if(D=="tpl"){var c=Bh.RL(d);a.data.gD=Qn.hK;
a.data.EW={Im:c.Im,eN:c.eN,list:[]};K.n(a);a.data.gD=Qn.bF;a.data.EW=c.list;K.n(a)}else{var g="";for(var j in Qn.Wv)if(Qn.Wv[j][0]==D)g=j;
if(g!=""){if(i)K.n(k);a.data.EW=Qn.Wv[g][2].RL(d,M);a.data.gD=g;K.n(a)}else alert("Unknown file format: "+JSON.stringify(D))}};
es.prototype.ew_=function(p){var d=new XMLHttpRequest;d.open("POST","https://api.imgur.com/3/image",!0);
d.setRequestHeader("Authorization","Client-ID 3ad80d2d9969219");d.setRequestHeader("Content-type","application/x-www-form-urlencoded");
d.setRequestHeader("Accept","application/json");d.addEventListener("load",this.ewW);d.send("type=base64&image="+encodeURIComponent(es.sR(p)));
alert("Saving to Imgur ...",4e3)};es.prototype.ewW=function(p){var d=JSON.parse(p.target.response);if(d.success)window.open(d.data.link,"Imgur")};
es.uA=function(p,d){var K=d[0].Xh&&d[0].Xh.startsWith("_a_"),A,x=new QZ(p+".psd"),M=new R(0,0,1,1);if(K){A=x.sP();
A.add.lsct=ew.rK;A.Hv(p);A.yk="pass";A.Wm=24;A.qJ(!0);x.L.push(x.dN())}for(var G=0;G<d.length;G++){var D=d[G];
M=M.ck(D.Uo);var P=x.sP();P.qJ(G==0);P.Hv(d.length==1?"Background":"Layer "+G);if(D.Bk)x.Bk=D.Bk;if(D.ZD)x.ZD=D.ZD;
if(D.Xh)P.Hv(D.Xh);P.rect=D.Uo.clone();P.buffer=new Uint8Array(D.data);Z.qS(P);x.L.push(P)}if(K)x.L.push(A);
x.Y=[K?x.L.length-1:0];x.t=M.t;x.D=M.D;x.buffer=Z.p(M.r()*4);x.i();return x};es.save=function(p,d){var K=new Uint8Array(p),A=document.createElement("a");
if(typeof A.download=="string"){var x=new Blob([K]),M=window.URL.createObjectURL(x);A.href=M;A.download=d;
document.body.appendChild(A);A.click();document.body.removeChild(A)}else{var G="data:application/octet-stream;base64,"+es.sR(p);
window.open(G)}};function pO(){this.size=16;this.data=Z.p(16)}pO.prototype.hu=function(p,d){if(p+d<=this.size)return;
var K=this.size;while(p+d>this.size)this.size*=2;var A=Z.p(this.size);for(var x=0;x<K;x++)A[x]=this.data[x];
this.data=A};function Mv(p){QF.call(this);this.lM=Mv.lM++;this.p_=p;this.enA=this.ewZ.bind(this);this.eKJ=this.ewy.bind(this);
this.enJ=this.uk.bind(this);this.eng=this.eVs.bind(this);this.eux=this.eVo.bind(this);this.enZ=this.eVl.bind(this);
this.aK=0;this.euA=0;this.f_=0;this.G=n.b("div","panelblock");this.EH=n.b("div","block");this.pR=n.b("div","collapsed");
this.G.appendChild(this.EH);this.nj=-1;this.au=!0;this._Z=n.b("div","panelhead");this.EH.appendChild(this._Z);
this.sx(this._Z);this.XZ=new Qa("\u2261");this.XZ.G.setAttribute("style","position:absolute; right:0;");
this.XZ.R("click",this.ewA,this);this.WP=n.b("div","");this.EH.appendChild(this.WP);this.hZ=[];this.pJ=null;
this.ac=null}Mv.lM=0;Mv.prototype=new QF;Mv.prototype.ewA=function(p){var d=this.hZ[this.nj].qV(),K=p.currentTarget.G.getBoundingClientRect();
d.l();d.parent=this;var A=new y(n.E.s,!0);A.data={j:n.H.uO,Fy:d,x:K.left,y:K.top+K.height+2};this.n(A)};
Mv.prototype.uZ=function(p){var d=this.EH,K=this._Z,A=this.WP;if(n.Or(K))d.removeChild(K);if(n.Or(A))d.removeChild(A);
if(p==0)d.appendChild(K);d.appendChild(A);this.f_=p};Mv.Zy=function(p){p.stopPropagation();p.preventDefault()};
Mv.prototype.ewZ=function(p){var d=p.dataTransfer.types;if(d[1]!=null&&d[1]!=this.lM+"")return;Mv.Zy(p);
var K=p.currentTarget;if(p.target==K)n.Mz(K,"highlight")};Mv.prototype.ewy=function(p){Mv.Zy(p);var d=p.currentTarget;
if(p.target==d)n.xj(d,"highlight")};Mv.prototype.sx=function(p){p.addEventListener("dragenter",this.enA,!1);
p.addEventListener("dragleave",this.eKJ,!1);p.addEventListener("dragover",Mv.Zy,!1);p.addEventListener("drop",this.enJ,!1);
p.addEventListener("dragstart",function(d){d.dataTransfer.setData("Text","--panel");d.dataTransfer.setData(this.lM+"","")}.bind(this),!1)};
Mv.prototype.uk=function(p){this.eKJ(p);var d=null,K=p.currentTarget,A=this.eSO(K);if(K==this.WP&&this.nj!=-1)d=this.nj;
else if(K==this._Z)d=null;else if(A!=-1)d=A;var x=p.dataTransfer.getData("Text");if(x==""||x.startsWith("http"))n.eBN(p,this,d);
else if(x=="--panel"){var M=n.Cu(p,K),M$=this.hZ,G=M$.slice(0),D=this.nj,P=A==-1?M$.length:M.x<K.getBoundingClientRect().width/2?A:A+1;
if(D==P||D+1==P||K==this.WP)return;var a=D<P?P-1:P,e=M$[D];M$.splice(D,1);M$.splice(a,0,e);n.hM(this._Z);
for(var f=0;f<M$.length;f++)this._Z.appendChild(M$[f].HJ);this.Lz(a);var N=[];for(var D=0;D<M$.length;
D++)N[D]=G.indexOf(M$[D]);var Y=new y("shuffleItems",!1);Y.data={enr:N};this.n(Y)}else if(d!=null&&this instanceof Pl){var Y=new y(n.E.s,!0);
Y.data={j:n.H.eOL,enl:d};this.n(Y)}};Mv.prototype.sd=function(){return null};Mv.prototype.eWV=function(){if(this.sd()){this.ac=this.sd();
this.WP.appendChild(this.ac)}};Mv.prototype.eVK=function(){if(this.ac){this.WP.removeChild(this.ac);
this.ac=null}};Mv.prototype.eSO=function(p){var d=this.hZ;for(var K=0;K<d.length;K++)if(d[K].HJ==p)return K;
return-1};Mv.prototype.sC=function(){for(var p=0;p<this.hZ.length;p++)this.hZ[p].xb.qD()};Mv.prototype.Yu=function(){var p=new QP(0,0);
for(var d=0;d<this.hZ.length;d++){var K=this.hZ[d].Yu();p.x=Math.max(p.x,K.x);p.y=Math.max(p.y,K.y)}return p};
Mv.prototype.HS=function(){return this.nj};Mv.prototype.No=function(){if(this.au)return;this.au=!0;this.G.removeChild(this.pR);
this.G.appendChild(this.EH)};Mv.prototype.collapse=function(){if(!this.au)return;this.au=!1;this.G.appendChild(this.pR);
this.G.removeChild(this.EH)};Mv.prototype.eVi=function(){return 26+this.WP.getBoundingClientRect().height};
Mv.prototype.dq=function(p,d){this._Z.setAttribute("style","max-width: "+p+"px");var K=0;if(this.f_==0){K=this._Z.getBoundingClientRect().height;
K=Math.max(K,26)}if(this.nj!=-1)this.hZ[this.nj].dq(p,d-K);return d-K};Mv.prototype.Ei=function(p,d){this.hZ[this.nj].Ei(p,d)};
Mv.prototype._$=function(p,d){this.hZ[this.nj]._$(p)};Mv.prototype.Hp=function(p){this.eVK();if(this.hZ.indexOf(p)!=-1){this.Lz(this.hZ.indexOf(p));
return}p.parent=this;this.hZ.push(p);this._Z.appendChild(p.HJ);p.HJ.addEventListener("mouseover",this.eng,!1);
this.sx(p.HJ);this.pR.appendChild(p.xb.G);p.xb.R("click",this.eMA,this);p.R("select",this.eej,this);
p.R(n.E.Gy,this.ePS,this);this.Lz(this.hZ.length-1)};Mv.prototype.eVs=function(p){if(p.buttons==0)return;
var d=p.currentTarget,K=d,A=0;while((K=K.previousSibling)!=null)A++;this.euA=A;d.addEventListener("mouseout",this.eux,!1);
this.aK=setTimeout(this.enZ,700)};Mv.prototype.eVo=function(p){var d=p.currentTarget,K=d,A=0;while((K=K.previousSibling)!=null)A++;
d.removeEventListener("mouseout",this.eux);clearTimeout(this.aK)};Mv.prototype.eVl=function(p){this.n(new y(n.E.evu,!1))};
Mv.prototype.eVj=function(p){return this.euA};Mv.prototype.HV=function(p){var d=new y(n.E.Gy,!1);d.data={lr:p};
this.n(d);var K=this.hZ[p];this.hZ.splice(p,1);this._Z.removeChild(K.HJ);this.pR.removeChild(K.xb.G);
K.HJ.setAttribute("class","");K.xb.removeEventListener("click",this.eMA,this);K.xb.qD();K.removeEventListener("activate",this.eej);
K.removeEventListener(n.E.Gy,this.ePS);var A=this.nj;if(p<A)A--;else if(p==A&&p==this.hZ.length)A--;
this.Lz(A);if(this.hZ.length==0)this.eWV()};Mv.prototype.ecP=function(){return this.hZ.length};Mv.prototype.q$=function(){if(this.hZ.length!=0)this.hZ[this.nj].q$()};
Mv.prototype.Lz=function(p,d){if(d==null)d=!0;for(var K=0;K<this.hZ.length;K++)this.hZ[K].HJ.setAttribute("class","");
if(this.pJ)this.WP.removeChild(this.pJ);this.pJ=null;this.nj=p;if(p==-1)return;var A=this.hZ[this.nj];
this.pJ=A.GQ;this.WP.appendChild(A.GQ);A.HJ.setAttribute("class","active");if(!this.au){this.n(new y("showFloat"));
this.hZ[p].xb.uy()}if(d)this.n(new y(n.E.f,!1));A.aU();var x=this.XZ.G;if(x.parentNode)this._Z.removeChild(x);
if(A.qV())this._Z.appendChild(x);var M=new y(n.E.s,!0);M.data={j:n.H.KI};this.n(M)};Mv.prototype.eej=function(p){if(this.p_&&!this.p_.euW())return;
var d=this.hZ.indexOf(p.currentTarget);this.Lz(d)};Mv.prototype.ePS=function(p){if(this.p_&&!this.p_.euW())return;
var d=this.hZ.indexOf(p.currentTarget);this.HV(d)};Mv.prototype.eMA=function(p){var d=this.hZ.indexOf(p.currentTarget.parent);
if(this.hZ[d].xb.dA())this.n(new y("hideFloat"));else this.Lz(d)};Mv.prototype.eWm=function(p){this.n(p)};
function Pl(p){Mv.call(this,p);this.dv=0;this.Ri=0;this.aI=null;this.aR=n.b("div");this.aR[n.Gh("$y+[145/+AC7")](n.Gh("$(0&\""),n.Gh("(}{.%ZZXa<GmUE<PHMU$~ cny]tvt(;.r)+)X"));
n.AJ(this._Z,this.ecB.bind(this));this.pb=0;this.eHk=this.ecR.bind(this);this.sx(this.WP);this.$x=n.b("div","intro");
this.EL=["default;"];this.GH=new n.rT(this.WP);var d=n.b("ul");d.setAttribute("style","margin:0;  padding:164px 0px 0 113px; font-size:1.8em;");
this.$x.appendChild(d);this.mk=[];var K=[[11,7],[1,6],"pea.psd","milk.sketch"],A=n.b("li");for(var x=0;
x<K.length;x++){if(x==2){var M=new Qa("Demo: ");A.appendChild(M.G)}var G=K[x],D=new Qa(G);D.R("click",this.ecu,this);
A.appendChild(D.G);this.mk.push(D);if(x==0||x==1||x==3||x==K.length-1){d.appendChild(A);A=n.b("li")}}var P=n.b("div");
P.setAttribute("style","margin:0;  padding:28px 25px 0 25px; font-size:1.1em");this.$x.appendChild(P);
this.esL={};var a=["en"],e=navigator.languages;if(e)for(var x=0;x<e.length;x++){var f=e[x].split("-")[0].toLowerCase();
if(a.indexOf(f)==-1)a.push(f)}}Pl.prototype=new Mv;Pl.prototype.ecB=function(p){if(p.target!=this._Z)return;
var d=this.pb;this.pb=Date.now();if(Date.now()-d>300)return;var K=new y(n.E.s,!0);K.data={j:n.H.Ae,$u:"newproject"};
this.n(K)};Pl.prototype.eGH=function(p){var d=p.currentTarget,K;if(d.evE!=null){var A=Qc.yo(d.evE);if(A!=-1)K={j:n.H.aA,gD:Qn.Cn,lang:A};
else K={j:n.H.oh,link:"https://www.photopea.com/translate?lang="+d.evE}}else K={j:n.H.aA,gD:Qn.pl,xi:d.esI};
var x=new y(n.E.s,!0);x.data=K;this.n(x)};Pl.prototype.mO=function(p,d){if(d)this.EL.push(p);else{var K=this.EL.length-1;
if(this.EL[K]==p)return;this.EL[K]=p}this.sk()};Pl.prototype.ecm=function(){this.EL.pop();this.sk()};
Pl.prototype.sk=function(){var p=this.EL[this.EL.length-1];this.GH._$(p,this.OH)};Pl.prototype.ecu=function(p){var d=this.mk.indexOf(p.target),K=new y(n.E.s,!0);
if(d==0)K.data={j:n.H.Ae,$u:"newproject"};if(d==1)K.data={j:n.H.tk};if(d>1)K.data={j:n.H.YN,gD:{url:["images/pea.psd","images/milk.sketch"][d-2]}};
this.n(K)};Pl.prototype.l=function(){for(var p=0;p<this.mk.length;p++)this.mk[p].l()};Pl.prototype._$=function(p,d){for(var K=0;
K<d.length;K++){var A=d[K];this.hZ[K].Jz(A.name+(A.ZV()?" *":""))}Mv.prototype._$.call(this,p,d)};Pl.prototype.ecE=function(p){this.G.appendChild(this.aR);
var d=p[0],K=p[1],A=p[2];this.aI=d;this.aR[A](d);d[A](K);this.dq(this.dv,this.Ri)};Pl.prototype.ecV=function(){if(this.aI){this.G.removeChild(this.aR);
this.aR.removeChild(this.aI);this.aI=null;this.dq(this.dv,this.Ri)}};Pl.prototype.sd=function(){return this.$x};
Pl.prototype.dq=function(p,d){this.dv=p;this.Ri=d;if(this.aI!=null)d-=100;d=Mv.prototype.dq.call(this,p,d);
this.OH="height:"+d+"px; width:"+p+"px; overflow:hidden; position:relative;";this.sk();var K=512,A=410,x=1,M="";
if(p<K||d<A){if(p/K<d/A)x=p/K;else x=d/A}M+="background-image:url("+PIMG.intro+"); background-size: "+K+"px "+A+"px;";
M+="position:relative; top:"+Math.round((d-A)/2)+"px;  left: "+Math.round((p-K)/2)+"px; width:"+K+"px; height:"+A+"px;";
if(x!=1)M+="transform: scale("+x+","+x+");";if(this.$x)this.$x.setAttribute("style",M)};Pl.prototype.Hp=function(p){Mv.prototype.Hp.call(this,p);
n.AJ(p.HJ,this.eHk)};Pl.prototype.HV=function(p){var d=this.hZ[p];n.rE(d.HJ,this.eHk);Mv.prototype.HV.call(this,p)};
Pl.prototype.ecR=function(p){var d=this.pb;this.pb=Date.now();if(Date.now()-d>300)return;var K=this.eSO(p.currentTarget),A=this.hZ[K]._b.name,x=new y(n.E.s,!0),M={z:n.E.q,O:r.aW,a:{j:V.Oc}};
x.data={j:n.H.Ae,$u:"namewindow",xl:A.slice(0,A.length-4),eRG:M};this.n(x)};function ME(){QF.call(this);
p$.eOZ(1);this.G=n.b("div","flexrow photopea");this.Xr=n.b("div");this.G.appendChild(this.Xr);this.EY={x:0,y:0,Fj:!1};
this.Td=!1;this.nS=!1;this.Xb=null;this.evN=0;this.eEG=0;this.f_=0;this.eny=!1;if(n.DC(27))n.dI=window;
else n.dI=this.G;setTimeout(function(){var Q=window.hideCap;if(Q)Q()},25e3);window.epU=window.alert;
window.alert=function(Q,W){this.zm.alert(Q,W);console.log("Alert: "+Q)}.bind(this);window.onmessage=function(Q){if(Q.data instanceof ArrayBuffer){var W=QH.BU(Q.data),q=QH.If(W);
es.DN({url:"file"},Q.data,this);if(q==null)this.HL()}else if(Q.data instanceof Object||Q.data.startsWith("{")||Q.data.startsWith("amp-")||Q.data.startsWith("0=goog")||Q.data.startsWith("3PCoo")){}else{var H=new y(n.E.s,!0);
H.data={j:n.H.iZ,EC:Q.data};this.n(H);this.HL()}}.bind(this);window.onbeforeunload=function(Q){for(var x=0;
x<this.pw.length;x++)if(this.pw[x].ZV())return this.pw[x].name}.bind(this);window.onblur=function(Q){var W=this.zm;
W.uh()}.bind(this);var p=this,P="",a="";if(window.indexedDB&&(!nL.iF()||document.hasStorageAccess==null)){var d={hu:window.indexedDB.open("pp",1)};
d.hu.onupgradeneeded=function(Q){var W=Q.target.result,q=W.createObjectStore("rsrc",{keyPath:"k"})};
d.hu.onsuccess=function(Q){var W=p.$v.Jx.fi=Q.target.result,q=W.transaction(["rsrc"],"readwrite").objectStore("rsrc"),H=q.get("fs0");
H.onsuccess=function(Q){if(Q.target.result){var C=p.$v.Jx.Hu=Q.target.result.fset;for(var k in C){if(!k.endsWith(".jsx"))es.DN({url:k,eKa:!0},C[k],p)}}}}}var K=["rksyuzpxz8y|px|v@u\x80\x84}\x8A\x88\x88\x8EI\x7F\x8C\x8B"],A=n.dI[n.bk("YcVg^U]b",11)][n.bk("oaa_kj\\h",3)];
for(var x=0;x<K.length;x++){var M=n.gd(K[x],2);if(A.indexOf(M)!=-1){var G=n.dI[n.gd("hti|unx\x7F",4)][n.gd("esi\x7F",3)],D=n.ia("M|H:15=3/iQ6EEKQ{\\PTbV/Y[`kjxx\"}vOz( %0b1=?HcMFZH zy#Wby9Sti'~uu3{}&428H-Cm7Ji{X[^w=Xbjhldc3kz{MC K[");
n.hM(G);G[n.gd("lrskyP]WW",3)]=D;return}}this.Bq={eEE:[{O:r.iQ,AH:!1,zw:[B.eMN,B.Rv]},{O:r.zF,AH:!1,zw:[B.Rv]},{O:r.DI,AH:!0,zw:[B.DV],az:[r.Hq]},{O:r.Hq,AH:!0,zw:[B.DV],az:[r.DI]},{O:r.Dh,AH:!0,zw:[B.DV],az:[r.IV,r.Hh,r.zc]},{O:r.IV,AH:!0,zw:[B.DV],az:[r.Dh,r.DW,r.Hs,r.DA,r.Dx,r.Hg]},{O:r.cz,AH:!0,zw:[B.DV]}],lu:[[{O:new r.Zl,bp:GI}],[{O:new r.QW,bp:tu},{O:new r.I$,bp:te}],[{O:new r.LY,bp:tp},{O:new r.qz,bp:tK},{O:new r.Px,bp:tm}],[{O:new r.kI,bp:th},{O:new r.uM,bp:ts},{O:new r.PW,bp:tB}],[{O:new r.ePA,bp:Gy},{O:new r.eeA,bp:Gf},{O:new r.GP,bp:to},{O:new r.IZ,bp:tW}],[{O:new r.Ib,bp:tP},{O:new r.rQ,bp:tG}],"---",[{O:new r.MH,bp:tE},{O:new r.vv,bp:tQ},{O:new r.kc,bp:tO},{O:new r.dy,bp:Gb}],[{O:new r.dg,bp:GZ},{O:new r.dk,bp:GY},{O:new r.dZ,bp:Gr}],[{O:new r.kK,bp:Gj}],[{O:new r.Av,bp:Gk},{O:new r.A$,bp:tS}],[{O:new r.hT,bp:Gv},{O:new r.MK,bp:tU}],[{O:new r.dD,bp:Gg},{O:new r.Aj,bp:tv},{O:new r.JG,bp:tw}],[{O:new r.Am,bp:GT},{O:new r.AK,bp:Gl},{O:new r.JQ,bp:tV}],"---",[{O:new r.EN,bp:GF}],[{O:new r.yU,bp:tF},{O:new r.vZ,bp:tL}],[{O:new r.I_,bp:tH},{O:new r.OP,bp:tI}],[{O:new r.Rect,bp:tR},{O:new r.Ao,bp:tz},{O:new r._G,bp:ti},{O:new r.EP,bp:ta},{O:new r.EM,bp:tq}],"---",[{O:new r.Zj,bp:tt}],[{O:new r.ws,bp:Gz}]],XY:[],keys:[B.eLk,B.Ir,B.Gs,B.eop,B.ap,B.wf,null,B.eOf,B.epS,B.evb,B.E,B.eUV,null,B.emI,null,B.T,B.iw,B.H,B.du,null,B.ecK,B.CA],hi:[{O:new r.e_l,bp:tD},{O:new r.esx,bp:td},{O:new r.gN,bp:G_}],Xl:[{O:new Qv.Ys},{O:new Qv.History},{O:new Qv.om},{O:new Qv.AQ},{O:new Qv.Kq},{O:new Qv.UX}],map:{},Xj:null,wP:null,nP:null};
for(var x=0;x<this.Bq.lu.length;x++){var e=this.Bq.lu[x];if(e=="---")continue;var f=this.Bq.keys[x];
for(var N=0;N<e.length;N++){this.Bq.map[e[N].O.id]=e[N];e[N].wn=x;e[N].eEc=N;var Y=Qc.get(e[N].O.name);
a+="<li>"+e[N].O.id+": "+Y+"</li>";P+="\t"+JSON.stringify(e[N].O.name)+", "+(f?"\""+f.Mu+"\"":"null")+", "+e[N].O.id+", // "+Y+"\n"}this.Bq.XY[x]=0}for(var x=0;
x<this.Bq.hi.length;x++)this.Bq.map[this.Bq.hi[x].O.id]=this.Bq.hi[x];for(var x=0;x<this.Bq.Xl.length;
x++)this.Bq.map[this.Bq.Xl[x].O.id]=this.Bq.Xl[x];this.$v={eE$:!1,GA:null,hx:{eN:[],Im:[],list:[],yv:null},pe:[],e$$:[],tn:[],je:[],ps:[],esp:[],esr:[],esb:[],$w:[Pd.Kj()],Qk:[],vn:[],Qu:null,cf:{rv:1,dm:JSON.parse(JSON.stringify(QG.Pr[0]))},cY:JSON.parse(JSON.stringify(QG.Wh.default)),epd:[null].concat(QG.Pr),epA:[null].concat(QG.Pr),ET:new Qg,uW:{CV:[],K$:null,hw:null},PH:[],ou:16711680,Le:0,qa:!1,nQ:!0,mq:{tu:!0,UT:!1,nK:!0,uE:!0,yr:!0,ey:!0,sp:20,sB:0,BQ:0,aX:0},fI:!0,nX:[!0,!0,!0,!0,!0],RP:[0,1,2,3,5,6,7,9,10,16,17,18],xi:1,ai:!0,wU:{},fh:!0,compact:!1,$x:!0,ah:null,Jx:{ewC:!1,eVM:!1,Hu:{},fi:null},eVg:0,eEd:null,Gi:null,esk:null,fW:null};
this.ecQ={m:new R,BI:new QP};this.$v.uW=QM.eVd();this.$v.ET.R(n.E.s,this.eBJ,this);var l=navigator.languages;
if(l&&l.length!=0){var h=l[0];Qc.Bm(h)}this.zq=new B;this.wo=new pB;this.as=new tC;this.fx=new PL(!0);
this.mU=new pn(this.Bq,!0);this.Q$=new nS;this.Hc=new Pl(this);this.$X=n.b("div");this.nn=!1;n.Mz(this.Hc.G,"mainblock");
var s=this.Xr;s.addEventListener("drop",this.Hc.ib,!1);s.addEventListener("dragover",Pl.Zy,!1);s.addEventListener("dragenter",Pl.Zy,!1);
s.addEventListener("dragleave",Pl.Zy,!1);this.fx.parent=this.wo.parent=this.as.parent=this.mU.parent=this.Q$.parent=this.Hc.parent=this;
this.Hc.R(n.E.f,this.eug,this);this.Hc.R(n.E.Gy,this.e$C,this);this.Hc.R("shuffleItems",this.e$N,this);
this.Hc.R(n.E.evu,this.e$g,this);this.R("mouse",this.evS,this);this.R(n.E.q,this.Ch,this);this.R(n.E.Iz,this.e$U,this);
this.R(n.E.s,this.eBJ,this);document.body.addEventListener("keydown",this._T.bind(this),!1);window.addEventListener("keyup",this.lO.bind(this),!1);
window.addEventListener("resize",this.Eg.bind(this),!1);window.addEventListener("paste",this.e$B.bind(this),!1);
window.addEventListener("copy",this.ecT.bind(this),!1);window.addEventListener("blur",function(Q){this.zq.reset()}.bind(this),!1);
window.addEventListener("wheel",function(Q){if(Q.ctrlKey)Q.preventDefault()},{passive:!1});window.addEventListener("beforeinstallprompt",function(Q){if(window.innerWidth>400)Q.preventDefault();
this.$v.ah=Q}.bind(this));if(this.$v.fh&&"serviceWorker"in navigator){navigator.serviceWorker.register("sw.js",{scope:"./"}).then(function(Q){if(Q.eoE){console.log("Service worker installing")}else if(Q.eov){console.log("Service worker installed")}else if(Q.active){console.log("Service worker active")}}).catch(function(Q){console.log("Registration failed with "+Q)})}this.Xy=0;
this.pw=[];this.Q_=new es;this.Q_.parent=this;this.Ud=new nR;this.Ud.parent=this;s.appendChild(this.Ud.G);
this.zm=new ek;this.zm.parent=this;s.appendChild(this.zm.G);s.appendChild(this.fx.G);var J=this.vO=n.b("div");
J.appendChild(this.wo.G);J.appendChild(this.as.G);this.fx.eLt(J);var u=this.enf=n.b("div","flexrow");
s.appendChild(u);u.appendChild(this.mU.G);u.appendChild(this.Hc.G);u.appendChild(this.Q$.G);this.Q_.ud({url:"rsrc/basic/basic.zip"});
this.jU(r.cz);Qh.Mg(this.ecD.bind(this));this.ecz=this.ms.bind(this);window.requestAnimationFrame(this.ecz)}ME.prototype=new QF;
ME.prototype.HL=function(){if(window.parent!=window)window.parent.postMessage("done","*")};ME.prototype.ecD=function(){var p=Qh.cO();
if(p!=null&&p.globals!=null)this.oQ(p.globals);else this.eny=!0;if(!nL.iF()||!this.$v.fh){this.eMb();
this.oS()}else{var d=n.gd("SIIFs",-5)+n.gd("qnQerwhwy",-3),K=n.tl(n.dI[d]),A=n.gd(n.DC(31)?"^bcEwgqxQoz|nxp~":"QRq8g4w=,WQW7",-3);
K[A](n.bk("vxik",-10),this.ecd.bind(this));K[n.gd("|~t~",13)](n.gd("ML\\",6),n.bk("o_me*^hej$_gb`",1));
K[n.gd("wjtk",4)]()}this.Td=!0;this.HL()};ME.prototype.ecd=function(p){var d=JSON.parse(p.target[n.bk("|n{wuswh",-10)]),K=n.dI[n.gd("Lj~p",8)][n.bk("ddk",10)]()/1e3,A=n.dI[n.bk("YcVg^U]b",11)][n.bk("oaa_kj\\h",3)],x=!1;
for(var M in d)if(M.indexOf(".")!=-1&&A.indexOf(M)!=-1&&parseInt(d[M])>K)x=!0;if(x)this.$v.fh=!1;this.eMb();
this.oS()};ME.prototype.oS=function(p){this.nS=!0;if(!this.$v.$x)this.Hc.$x=null;else this.Hc.eWV();
this.ow(Qn.ff);this.l();this.Eg();this.Q$._$(this.KQ(),this.pw,this.$v)};ME.prototype.oQ=function(p){var d=this.$v;
if(p.fcolor!=null)d.ou=p.fcolor;if(p.bcolor!=null)d.Le=p.bcolor;if(p.rulers!=null)d.qa=p.rulers;if(p.extras!=null)d.nQ=p.extras;
if(p.favFam!=null)d.PH=p.favFam;if(p.panels!=null)d.RP=p.panels;if(p.eparams){var K=p.eparams,A=d.mq;
if(K.guides!=null)A.tu=K.guides;if(K.grid!=null)A.UT=K.grid;if(K.gsize!=null)A.sp=K.gsize;if(K.gunits!=null)A.sB=K.gunits;
if(K.gtype!=null)A.BQ=K.gtype;if(K.runits!=null)A.aX=K.runits;if(K.sels!=null)A.nK=K.sels;if(K.paths!=null)A.uE=K.paths;
if(K.pgrid!=null)A.yr=K.pgrid;if(K.slices!=null)A.ey=K.slices}if(p.lang!=null)Qc.Bm(p.lang);if(p.theme!=null)d.xi=p.theme;
if(p.topt||d.Xf){var x=p.topt?p.topt:{},M=d.Xf?d.Xf:{};for(var G in this.Bq.map){if(G>=100)continue;
var D="t"+G;this.Bq.map[G].O.gL(x[D],M[D],this)}}};ME.prototype.eMb=function(){if(this.$v.eE$)return;
this.$v.eE$=!0;var p=null,d=window.location.href,K=d.indexOf("="),A=d.indexOf("#");if(K!=-1)p=d.substring(d.indexOf("?")+1,K);
if(A!=-1){p="p";K=A}if(p=="p"||p=="state"){var x=d.substring(K+1,d.length);x=JSON.parse(decodeURI(x));
if(p=="p"){if(x.server)this.Xb=x.server;if(x.resources)for(var M=0;M<x.resources.length;M++)this.Q_.ud({url:x.resources[M]});
if(x.files)for(var M=0;M<x.files.length;M++)this.Q_.ud({url:x.files[M],oJ:{aO:x.server,ecW:x.script}});
if(x.environment==null)x.environment={};var G=x.environment;if(G.plugins!=null)this.Q$.eLQ(G.plugins);
if(G.localsave!=null)this.$v.ai=G.localsave;if(G.customIO!=null)this.$v.wU=G.customIO;if(G.vmode!=null){var D=G.vmode;
if(D==1)this.$v.compact=!0;if(D==2)this.uZ(1)}if(G.intro!=null)this.$v.$x=G.intro;if(G.menus!=null)this.$v.enk=G.menus;
if(G.tmnu!=null)this.$v.Xf=G.tmnu;if(G.panels!=null)this.$v.RP=G.panels;if(G.showtools!=null){var P=G.showtools,a=P.indexOf(this.$v.GA);
this.$v.e$p=P;if(a==-1)this.jU(P[0])}if(G.phrases!=null)Qc.ehs(G.phrases);if(G.autosave!=null){window.setInterval(function(){var N=new y(n.E.s);
N.data={j:n.H.Qe};this.n(N)}.bind(this),G.autosave*1e3)}if(G.icons!=null){for(var e in G.icons)if(G.icons[e].indexOf("\"")==-1){PIMG[e]=G.icons[e];
PIMG["__"+e]=!0}}this.oQ(G);if(x.files==null&&x.script){Pi.FW(x.script,this);this.HL()}}else if(p=="state"){var f=this.Q_;
if(x.action=="create"){var N=new y(n.E.s);N.data={j:n.H.Ae,$u:"newproject",eGC:x.folderId};this.n(N)}if(x.action=="open"){for(var M=0;
M<x.ids.length;M++)GC.TJ(function(){var s="https://www.googleapis.com/drive/v3/files/"+this.eBy,J=new XMLHttpRequest;
J.open("GET",s);J.setRequestHeader("Authorization",GC.yx());J.send();J.onload=function(u){var Q=JSON.parse(u.target.response);
f.ud({url:s+"?alt=media",name:Q.name,og:{file:Q,jK:""},Xd:{Authorization:GC.yx()}})}}.bind({eBy:x.ids[M]}));
alert("Loading files from Google Drive ...")}}}else{var Y=d.split("/"),l=Y.pop(),h=Y.pop();if(h!=null&&l!=null&&h.endsWith("photopea.com")&&l.length==2){Qc.Bm(l);
this.l();this.Eg()}}};ME.prototype.l=function(){var p=document.getElementById("cap");if(p){var d=p.getElementsByTagName("h1")[0],x=0,D=0,P=0;
d.textContent=Qc.get([0,17,0]);var K=p.getElementsByTagName("p"),A=n.eGN(Qc.get([0,17,1])),M=["PSD","XCF","Sketch","XD","CDR"];
for(var G=0;G<M.length;G++)A=A.replace(M[G],"<b>"+M[G]+"</b>");A+=" (<b>Adobe Photoshop</b>, <b>GIMP</b>, <b>Sketch App</b>,  <b>Adobe XD</b>, <b>CorelDRAW</b>).";
K[0].innerHTML=A;A=Qc.get([0,17,2])+" "+Qc.get([0,17,3]);for(var G=0;G<A.length;G++){var a=A[G];if(a=="<")D++;
if(a==">")P++}if(D*P==9){var e=["//github.com/photopea/photopea/issues","//www.facebook.com/photopea/","//blog.photopea.com/introduction.html"];
for(var G=0;G<3;G++){var f=A.indexOf("<",x),N=A.indexOf(">",x),Y=A.slice(0,f)+"<a href=\""+e[G]+"\" target=\"_blank\">"+A.slice(f+1,N)+"</a>";
x=Y.length;A=Y+A.slice(N+1)}K[1].innerHTML=A}}var l=document.getElementById("sponsors");if(l)l.textContent=Qc.get([0,17,4]);
this.fx.l();this.wo.l();this.Q$.l();this.mU.l();this.Ud.l();this.Hc.l();for(var h in this.Bq.map)if(this.Bq.map[h].Zx)this.Bq.map[h].Zx.l()};
ME.prototype.epP=function(){return n.dI[n.gd("ptih|ryy",4)][n.gd("q|pr",9)].indexOf("full")!=-1};ME.prototype.dq=function(p,d){p=Math.floor(p);
d=Math.floor(d);var K=n.bE,A=K("WUMK&AM"),x=K("b`bRH"),M=n.dI[K("S[L[PEKN")],G=!this.nS||this.epP()||!this.$v.fh||Qh.Fv(),e=0;
if(!G&&nL.iF()){if(this.e$_==null)this.e$_=Math.random()<.5;G=this.e$_}if(this.XT==null)this.XT=p<500?0:p<1600?1:2;
var D=this.XT;if(G){if(n.dI[A]&&this.nS)n.dI[A]()}else{if(D==0)d-=60;else p-=D==1?175:315}this.fx.e$I=this.$v.fh&&this.nS;
if(G&&this.nn){this.G[K("aQVUYE B@@5")](this.$X);n.hM(this.$X);this.Hc.ecV();this.nn=!1}if(!G&&!this.nn){var P=nL.BE();
this.ecJ(p,d);var a=D==0?M[K("Q[M_")]:this.G;a.appendChild(this.$X);this.$X[K("bQ]'WTOC9IE3")](x,K("_MMJLNDgKCAh")+(D==0?10:2)+K("_d$fcOS?I:==Bb-+# ~$N"));
this.$X[x][K("_MMJLND&<:E")]=(D==0?0:15)+K("_d");this.$X[x][K("i5WJHX")]=D==0?0:1;this.nn=!0}if(n.Or(this.wo.G))e+=31;
if(n.Or(this.as.G))e+=32;this.fx.dq(p,e);var f=d-e,N=K("fUMZK"),Y=K("WQRMKT"),l=K("_d");this.$X[x][Y]=(D==0?100>>>1:d-3)+l;
this.$X[x][N]=(D==0?p:6*Math.pow(10,2))+l;this.mU.dq(p,f);this.Q$.dq(p,f);this.Hc.dq(p-this.mU.Lr()-this.Q$.Lr(),f);
this.zm.dq(p,d);this.Ud.dq(p,d)};ME.prototype.ecJ=function(p,d){var K=function(){var x=new y(n.E.s);
x.data={j:n.H.Ae,$u:"account"};this.n(x)}.bind(this),A=nL.esM(p,d,this.$X,K,this.XT);if(A)this.Hc.ecE(A)};
ME.prototype.Eg=function(p){var d=window.innerWidth,K=window.innerHeight;this.dq(d,K)};ME.prototype.ecT=function(p){console.log("systemCopy")};
ME.prototype.e$B=function(p){if(window.ClipboardItem)return;console.log("systemPaste");if(!p.clipboardData)return;
var d=p.target.tagName.toLowerCase();if(this.oR.indexOf(d)!=-1)return;var K=p.clipboardData.items;if(K==null)return;
var A=this.epI.bind(this);for(var x=0;x<K.length;x++){var M=K[x],G=M.getAsFile();if(M.type.indexOf("text")!=-1){M.getAsString(this.e$O.bind(this))}if(M.type.indexOf("image")!=-1){if(G.size==this.$v.eVg)return;
this.$v.eVg=G.size;if(G){G.name="image.png";this.Q_.sI([G],A)}}}};ME.prototype.e$O=function(p){if(p.startsWith("http")){if(p==this.$v.e$R)return;
this.$v.e$R=p;var d=new y(n.E.s,!0);d.data={j:n.H.YN,gD:{url:p,ep:!0}};this.n(d)}};ME.prototype.epI=function(p,d){var K={buffer:p,rect:d},A=this.$v;
if(window.ClipboardItem){var x=this.ecQ,M=x.m;if(M.t==d.t&&M.D==d.D){K.rect=M;K.BI=x.BI}}else{if(A.Gi){var G=new y(n.E.q,!0);
G.O=r.Ze;G.data={j:"h_stepbck"};this.n(G)}}A.Gi=K;var G=new y(n.E.s,!0);G.data={j:n.H.oq,eOQ:!0};this.n(G)};
ME.Zy=function(p){p.stopPropagation();p.preventDefault()};ME.prototype.enR=function(){if(Date.now()-this.eEG>1e3){if(this.Ud.Zw()!=null)alert(Qc.get([15,7,8]));
else alert("Escape or Confirm the current action (in the top menu).");this.eEG=Date.now()}};ME.prototype.Ch=function(p){var d=this.KQ();
if(d==null){alert(Qc.get([15,7,7]));return}if(this.Ud.ZX()&&p.UQ!=!0){this.enR();return}var K=this.Bq,A=this.$v.GA;
if(A!=p.O&&K.map[A].O.ZX()&&p.O!=r.zF&&p.O!=r.iQ&&!(A==r.HX&&p.O==r.qR)){console.log("disabling",A);
K.map[A].O.disable(d,this,this.$v,this.zq)}var x=this.Bq.map[p.O].O;x.Ch(p.data,this,d,this.zq,this.$v);
d.Yi=!0};ME.prototype.e$U=function(p){var d=this.$v;if(p.data.VP!=!0)Pq.eUi({LG:p.data.LG,Qz:p.data.Qz},this,d,this.KQ());
var K=d.Qu,A=d.vn;if(K==null)return;var x={eaF:!1,jo:"Step",ehV:0,C:!0,exp:!1,LG:p.data.LG};if(K[2]==null)K[2]=A[K[0]].W[K[1]].W.length-1;
if(p.data.Qz)x.Qz=JSON.parse(JSON.stringify(p.data.Qz));A[K[0]].W[K[1]].W.splice(K[2]+1,0,x);K[2]++;
this.ow(Qn.q)};ME.prototype.eBJ=function(p){var d=p.data.j;if(d==n.H.LZ)Pq.eUv(this.KQ(),this.$v.vn,p.data.ZU[0],p.data.ZU[1],this);
if(d==n.H.eOL){this.euY(p.data.enl)}if(d==n.H.etj){this.l();this.Eg()}if(d==n.H.KI)this.Eg();if(d==n.H.eOu)if(this.$v.ah){this.$v.ah.prompt();
this.$v.ah=null}if(d==n.H.uO)this.zm.eEe(p.data);if(d==n.H.Ka)this.zm.ezo(p.data);if(d==n.H.LL)this.zm.evd(p.data.oU);
if(d==n.H.L_)this.zm.evT(p.data.oU);if(d==n.H.FY)this.zm.uh();if(d==n.H.Nn)this.Hc.mO(p.data.$B,p.data.push);
if(d==n.H.eEj)this.Hc.ecm();if(d==n.H.LR)this.Hc.HV(this.pw.indexOf(p.data.qb));if(d==n.H.Kl){var K=this.KQ(),A=Z.clone(K.zi()),x=K.L[K.Y[0]],M=new R(0,0,K.t,K.D),G=QZ.Ex()+"-d71c-11e5-b1ae-a548a96e5f9f",D=new y(n.E.s,!0);
if(p.data.gD==0){var P={m:M,name:K.name.split(".")[0],nM:A,id:G};D.data={j:n.H.aA,oJ:"add",gD:Qn.eO,EW:[P]};
this.n(D)}if(p.data.gD==1){var a=Z.p(M.r()*4);Z.Pk(a,4294967295);Z.h.gQ("norm",A,M,a,M,M,1);var e=Z.p(M.r());
Z.gC(a,e);Z.an(e);var f=Z.gg(e,M);if(f.kQ())f=M;var N=Z.p(f.r());Z.Qj(e,M,N,f);var Y={m:f,id:G,channel:N},l=tb.UZ(G),h=l.Brsh.v;
h.Dmtr.v.val=f.t;h.Spcn.v.val=10;D.data={j:n.H.aA,oJ:"add",gD:Qn.hK,EW:{list:[{t:"Objc",v:l}],Im:[Y],eN:[]}};
this.n(D);D.data={j:n.H.aA,gD:Qn.ee,Bp:l};this.n(D)}if(p.data.gD==2){var s={WX:x.getName(),im:G,dC:new R(0,0,K.t,K.D),Z:x.add.vmsk.clone().Z};
Z.e.RF(s.Z,new QI(1/K.t,0,0,1/K.D,0,0));D.data={j:n.H.aA,oJ:"add",gD:Qn.eU,EW:[s]};this.n(D)}}if(d==n.H.YN)this.Q_.ud(p.data.gD);
if(d==n.H.tk){var J=this.$v.wU.open,u=p.data.eLX;if(J&&u!=!0){var D=new y(n.E.s,!0);D.data={j:n.H.iZ,EC:J};
this.n(D)}else this.Q_.eEY(u?this.Hc.HS():null,p.data.eSs)}if(d==n.H.Ls){var Q=p.data.eza,W=this.lp(Q);
if(Q==Qn._X){var M=new QZ;for(var q=0;q<W.length;q++){var H=W[q].gF.Lefx;if(H)QL.eUR(H,M,this.$v.ps)}W={jq:M.add.Patt?M.add.Patt:[],WE:W}}if(Q==Qn.bF){var C=this.$v.hx;
W={Im:[],eN:[],list:W};console.log(W)}if(Q==Qn.q)W=W[p.data.Lt];var k=Qn.Wv[Q],A=k[2].fK(W);es.save(A,k[1]+"."+k[0])}if(d==n.H.LJ){var i=this.$v.Jx,m=p.data.eP$;
if(i.fi&&!i.ewC&&!m){i.eVM=window.confirm("Load \""+p.data.uo+"\" also next time you use Photopea?\nManage it in Edit - Local Storage.");
i.ewC=!0}if((i.eVM||m)&&i.fi){i.Hu[p.data.uo]=p.data.tJ;var D=new y(n.E.s);D.data={j:n.H.aA,gD:Qn.pT};
this.n(D)}}if(d==n.H.ecI){var K=this.KQ(),o="<!DOCTYPE HTML>";if(K==null)return;var w=QH.TC(K.zi().buffer,K.t,K.D),S=window.open();
o+="<head><script>setTimeout(function() {window.print();}, 10);</script></head>";o+="<body><img src=\""+w+"\" /></body>";
o+="</html>";S.document.write(o)}if(d==n.H.ewb){var K=this.KQ();if(K==null)return;if(K.g_){K.gm()}var O=this.$v.wU.publish;
if(O){var D=new y(n.E.s,!0);D.data={j:n.H.iZ,EC:O};this.n(D);return}var t=QH.Tr(K,"png");if(confirm("Your picture will be published at Imgur.com under a public URL (known only to you). Proceed?"))this.Q_.ew_(t)}if(d==n.H.Qe){var c=this.$v.wU.save,K=this.KQ(),g=!1;
if(K==null)return;if(K.g_){K.gm()}if(K.oL){if(this.pw.indexOf(K.oL.KS)!=-1){var A=new Uint8Array(QH.PSD._B(K)),D=new y(n.E.q,!0);
D.data={j:V.nJ,_b:K.oL.KS,data:A,id:K.oL.e$Z};D.O=r.aW;this.n(D);alert("Smart Object updated")}g=!0}else if(K.og){this.Q_.ewM(K);
g=!0}else if(K.oJ&&K.oJ.aO){this.Q_.ewm(K,this.$v);g=!0}else if(p.data.eLU){this.Q_.ewK(K,p.data.eLU,this.$v);
g=!0}else if(c){var D=new y(n.E.s,!0);D.data={j:n.H.iZ,EC:c};this.n(D);g=!0}if(g){K.$f=K.PO;K.nw=!0}else{var D=new y(n.E.s,!0);
D.data={j:n.H.bL};this.n(D)}}if(d==n.H.bL){if(!this.$v.ai){alert("function is disabled");return}var c=this.$v.wU.saveAs;
if(c){var D=new y(n.E.s,!0);D.data={j:n.H.iZ,EC:c};this.n(D);return}var D=new y(n.E.q,!0);D.data={j:V.$c};
D.O=r.aW;this.n(D);var K=this.KQ();if(K.g_){K.gm()}if(K.L.length>8e3&&!confirm("Your document has "+K.L.length+" layers."+" Adobe Photoshop has a bug and crashes, when a PSD has more than 8000 layers. Do you want to proceed?"))return;
var j=K.eKZ()||K.oL&&K.oL.KS.eKZ();if(this.epP())j=!1;var _=new n.dI[(n.bk("Gc"+(n.DC(31)?"ue":"ve"),-3))]()[n.gd("edtNkqyykz",-2)]();
if(j&&!Qh.Fv()&&_>2*15){n.dI[n.Fb("clh]]c[",3)](n.Fb("Ty4\x85\x8D\xA6\\\xB3\xBF\xC8\xC9\xE7\x98\xE8\xFB\b\xC0\x19)0\xE86A\\Ufs~\x85\x87\x9A\xAAlj\xA7\xC9\xCD\xE6\xDF\xEE\xB0\x0E\x13\xCE\b\x15\x10\xF6CYbtm\x84\x8F\x8F\x9F\xA8d\xB1\xB9\xD0\x8C\xD8\xE5\xAA\t\x11\r\x16\xDC5>F]\x0E\\w~\x7F\x8E\x91T\xB2\xB0\xB7|\xCC\xD9\xEC\xF7\x02\xB8\xD5\xDC\xD6-3BS\\Wo&\x7F\x80D\x93\x99\xA5\xB4v\xC8\xD9\xE9\xF0\xB6\x9C\xA6\xED\x15.\xE4/\xF82^[ms\x89\x8BH\x93\x9F\xA9\xBF\xCF\xD2\xE2\x98\xAA\xF2\x05\x12\xCA(&-\xF2QT\\cqw\x8C\x87\x90V\xA1\xAD\xB7\xC3\xDB\xE5\xA5\xB2\xB0\t\x16\xCE/#5J\0",-10)+(-_+4*15)+n.Fb(" rs}\x89\x8D\x83\x96V",-5));
return}var A=QH.PSD._B(K);es.save(A,K.name);K.$f=K.PO;K.nw=!0}if(d==n.H.oh)window.open(p.data.link,"_blank");
if(d==n.H.eRw){if(this.Ud.ZX()){this.enR();return}var K=this.KQ(),x=K.L[K.Y[0]],U=K.za(x.add.SoLd.Idnt.v);
for(var q=0;q<this.pw.length;q++){var $=this.pw[q].oL;if($!=null&&$.e$Z==U.Ak&&$.KS==K){this.Hc.Lz(q);
return}}es.DN({name:U.QR,oL:{e$Z:x.add.SoLd.Idnt.v,KS:K}},U.raw.buffer,this)}if(d==n.H.Lc){this.e$u()}if(d==n.H.Qn){this.eBC(p.data.We,p.data.QT)}if(d==n.H.oq){this.e$w(p.data.eOQ)}if(d==n.H.iZ){Pi.FW(p.data.EC,this)}if(d==n.H.Ko){var I=parseFloat(p.data.$u);
if(this.$v.RP.indexOf(I)==-1){var D=new y(n.E.s,!0);D.data={j:n.H.aA,gD:Qn.aD,S:I,oJ:"add"};this.n(D)}this.Q$.eLV(p.data.$u)}if(d==n.H.Lg){this.zm.evz(this.KQ(),this.$v)}if(d==n.H.Ae){var c=this.$v.wU.takePic;
if(p.data.$u=="camera"&&c){var D=new y(n.E.s,!0);D.data={j:n.H.iZ,EC:c};this.n(D);return}if(!this.$v.ai&&p.data.window=="saveforweb"){alert("function is disabled");
return}this.Ud.eLy(p.data.$u,this.KQ(),p.data,this.pw,this.zq)}if(d==n.H.KW)es.save(p.data.data,p.data.name);
if(d==n.H.iA){if(!this.Ud.ZX()||p.UQ)this.e$J(p.data._b)}if(d==n.H.bW){this.Hc.Lz(p.data.target);var D=new y(n.E.q,!0);
D.data={j:V.euD,_b:p.data._b,Zv:p.data.Zv,nW:p.data.nW};D.O=r.aW;this.n(D);this.jU(r.hc)}if(d==n.H.eRa){X.Ug=!X.Ug;
if(this.pw.length>0)this.KQ().i()}if(d==n.H.ePv){var E=Qh.cO();if(E!=null&&E.globals!=null)this.oQ(E.globals);
this.oS()}if(d==n.H.eeJ){this.Q_.sI(p.data.data,null,p.data.WC,p.data.Lv)}if(d==n.H.ZA){if(!this.Ud.Zw()!=null)this.jU(p.data.O,p.data.cq)}if(d==n.H.L$){if(this.Bq.Xj)this.jU(this.Bq.Xj)}if(d==n.H.NE){var b=this.Bq.map[p.data.O].O,K=this.KQ();
b.kz(p.data,this,K,this.zq,this.$v);if(K)K.Yi=!0;this.eOh()}if(d==n.H.xV){var z=this.Bq.map[p.data.O];
this.eKt(z);z.Zx.gl(p.data)}if(d==n.H.aA){var K=this.KQ(),QS=p.data.gD,QQ=p.data.EW,Qe=this.$v;if(p.data.oJ=="set"){var QB=r.eeL(QQ);
if(Qe.GA!=QB)this.jU(QB);this.Bq.map[QB].Zx.evk(QQ,Qe)}if(p.data.oJ=="add"){var k=Qn.Wv[QS];if(QS==Qn.aD){Qe.RP.push(p.data.S);
Qe.RP.sort(function(eS,Qs){return eS-Qs})}else if(k==null){if(QQ)Qe.ET.eIw(QQ,p.data.eKi)}else{var QU=this.lp(QS);
if(QS==Qn.hK){QU.Im=QU.Im.concat(QQ.Im);QU.eN=QU.eN.concat(QQ.eN);QU=QU.list;QQ=QQ.list}if(QS==Qn._X&&K){for(var q=0;
q<QQ.length;q++){var H=QQ[q].gF.Lefx;if(H)QL.eHS(H,K,Qe.ps)}}if(QS==Qn.bF&&QQ==null){var M=this.Bq.map[Qe.GA].Zx.eEO();
if(M==null)return;QQ=[M]}for(var q=0;q<QQ.length;q++)QU.push(QQ[q]);if(p.data.eKi!=!0)if(QU.length!=QQ.length||QS==Qn.aq||QS==Qn._X||QS==Qn.q)alert(Qc.get(k[3])+" "+Qc.get([23,1])+".")}}if(p.data.oJ=="del"){if(QS==Qn.aD){Qe.RP.splice(Qe.RP.indexOf(p.data.S),1)}else{var k=Qn.Wv[QS],Qt=p.data.uT,QU=this.lp(QS);
if(QS==Qn.hK)QU=QU.list;for(var q=0;q<Qt.length;q++)QU[Qt[q]]=null;for(var q=0;q<QU.length;q++)if(QU[q]==null){QU.splice(q,1);
q--}alert(Qc.get(k[3])+" deleted.")}}if(p.data.oJ=="rnm"){var k=Qn.Wv[QS],QU=this.lp(QS);if(QS==Qn.hK)QU=QU.list;
if(QU[p.data.uT[0]]==null)return;k[2].Jz(QU[p.data.uT[0]],p.data.S)}if(QS==Qn.ie){var F=p.data.S;Qe.cf=F;
Qe.epd[F.rv]=F.dm}if(QS==Qn.pS){var F=p.data.S;Qe.cY=F;var L=F.strokeEnabled.v,Qu=F.strokeStyleContent.v,QK=L?{rv:1+QG.Wh.XJ.indexOf(Qu.classID),dm:Qu}:{rv:0};
Qe.epA[QK.rv]=QK.dm}if(QS==Qn.ar){Qe.uW=p.data.uW}if(QS==Qn.ee){Qe.hx.yv=p.data.Bp}if(QS==Qn.pG){Qe.PH=p.data.dx}if(QS==Qn.Py){var Qm,ei="Clrs";
if(p.data.hE<2){var Qp=p.data.S,QO=p.data.hE==0,QE=Z.k.wI({N:Qp>>>16,w:Qp>>>8&255,M:Qp&255});if(QO)Qe.ou=Qp;
else Qe.Le=Qp;ei=QO?"FrgC":"BckC";Qm={LG:"set",Qz:{__name:"Set",classID:"setd",T:{t:"Objc",v:QE}}}}if(p.data.hE==2){var Qi=Qe.ou;
Qe.ou=Qe.Le;Qe.Le=Qi;Qm={LG:"exchange",Qz:{__name:"Exchange",classID:"Exch"}}}if(p.data.hE==3){Qe.ou=0;
Qe.Le=16777215;if(K!=null&&K.Y.length!=0&&K.L[K.Y[0]].gq==1){var Qi=Qe.ou;Qe.ou=Qe.Le;Qe.Le=Qi}Qm={LG:"reset",Qz:{__name:"Reset",classID:"Rset"}}}if(Qm){Qm.Qz.null={t:"obj ",v:[{t:"prop",v:{classID:"Clr",keyID:ei}}]};
var z=this.MM();z.td=this;z.track(Qm)}}if(QS==Qn.JW){Qe.qa=!Qe.qa;this.Eg()}if(QS==Qn.eR){Qe.nQ=!Qe.nQ;
this.Eg()}var QV=Qe.mq;if(QS==Qn.Jf){QV.nK=!QV.nK;this.Eg()}if(QS==Qn.iM){QV.uE=!QV.uE;this.Eg()}if(QS==Qn.pa){QV.tu=!QV.tu;
this.Eg()}if(QS==Qn.Jg){QV.UT=!QV.UT;this.Eg()}if(QS==Qn.wh){QV.yr=!QV.yr;this.Eg()}if(QS==Qn.Jj){QV.ey=!QV.ey;
this.Eg()}if(QS==Qn.pF){Qe.mq=p.data.dx;this.Eg()}if(QS==Qn.emD){Qe.fI=!Qe.fI;this.Eg()}if(QS==Qn.pg){Qe.nX[p.data.ZS]=!Qe.nX[p.data.ZS];
this.Eg()}if(QS==Qn.Cn){Qc.eqg(p.data.lang);this.l();this.Eg()}if(QS==Qn.pl){Qe.xi=p.data.xi;this.l()}if(QS==Qn.pT&&Qe.Jx.fi){var Q$=Qe.Jx.fi.transaction(["rsrc"],"readwrite").objectStore("rsrc");
Q$.put({k:"fs0",fset:Qe.Jx.Hu})}this.ow(QS)}};ME.prototype.lp=function(p){var d=this.$v,K=[Qn.hK,Qn.aE,Qn.Mj,Qn.eO,Qn.eU,Qn._X,Qn.aq,Qn.q,Qn.bF,Qn.eu],A=[d.hx,d.tn,d.je,d.ps,d.$w,d.Qk,d.esp,d.vn,d.pe,d.e$$];
return A[K.indexOf(p)]};ME.prototype.e$u=function(){var p=this.eBC(),d=this.KQ();if(d==null||d.Y.length==0)return;
var K=d.L[d.Y[0]],A=new y(n.E.q);if(p==1){A.O=r.IV;A.data={j:"remove",hH:"Cut Paths"}}else{A=new y(n.E.Iz);
A.data={LG:"delete"}}this.n(A)};ME.prototype.eBC=function(p,d){if(p==null)p=!1;var K=this.$v;console.log("doCopy",p,d);
var A=this.KQ();if(A==null||A.Y.length==0)return;var x=A.L[d==null?A.Y[0]:d],M=A.zu(),G=M[0],D=M[1],P=G[D[0]];
if(!p&&P!=null&&P.add.vmsk.Y.length!=0){K.fW=r.Zb.eOe(P.add.vmsk,P.add.vogk);return 1}else{if(A.P==null)return;
var a,e;if(p){var f=new R(0,0,A.t,A.D);e=f.pk(A.P.rect);a=Z.p(e.r()*4);Z.PE(A.zi(),f,a,e);Z.HG(A.P.channel,A.P.rect,a,e)}else{var N=x.eON(A,A.P);
if(N==null){alert("Copied area is empty");return}a=N.Qd;e=N.rect}var Y=A.U.GU,l=Y[0]+Y[1]+Y[2];if(l==1){var h=Y.indexOf(1);
for(var s=0;s<a.length;s+=4)a[s]=a[s+1]=a[s+2]=a[s+h]}var J=new QP(A.t,A.D);if(window.ClipboardItem){var u=QH.PNG.eS_(a.buffer,e.t,e.D);
es.eEp(new Blob([new Uint8Array(u)],{type:"image/png"}));this.ecQ={m:e,BI:J}}else K.Gi={buffer:a,rect:e,BI:J};
K.eEd=e.clone();K.fW=null}};ME.prototype.e$w=function(p){console.log("doPaste");var d=this.$v,K=d.Gi,G;
if(this.pw.length==0){if(!p&&window.ClipboardItem){es.sE(this,null);return}if(K){var A=es.uA("image.psd",[{data:K.buffer.buffer,Uo:K.rect}]),x=new y(n.E.s);
x.data={j:n.H.iA,_b:A};this.n(x)}return}var A=this.KQ(),M=A.L[A.Y.length==0?A.L.length-1:A.Y[0]];if(d.fW){var D=A.zu(!0),P=D[0],a=D[1];
G=P[a[0]]}var x=new y(n.E.q,!0);if(d.fW!=null&&G!=null){x.O=r.IV;x.data={j:"append",hH:"Paste Paths",ehv:d.fW}}else if(!p&&window.ClipboardItem){es.sE(this,this.epI.bind(this));
return}else{if(K==null)return;if(A.ux(!1)&&(M.gq>0||M.rect.kQ())){x.O=r.hK;x.data={j:"draw",eKP:!0,hH:[5,2]}}else{x.O=r.aW;
x.data={j:V.Op}}x.data.Gi=K}this.n(x)};ME.prototype.eOM=function(){for(var p=0;p<this.pw.length;p++){var d=this.pw[p],K=!0;
for(var A=0;A<d.L.length;A++){var x=d.L[A],M=x.add.TySh;if(M!=null&&!Mq.Ur(M,this.$v.ET))K=!1}if(!K)continue;
if(d.pd)for(var A=0;A<d.L.length;A++){var x=d.L[A],M=x.add.TySh;if(M!=null&&Mq.Ur(M,this.$v.ET)){var G=new MB(M.Nf,this.$v.ET),D=Mq.ZM(G,M);
x.rect=D.m;x.buffer=D.nM;x.i();d.i()}}if(d.eHo)continue;d.eHo=!0;if(d.oJ&&d.oJ.ecW)Pi.FW(d.oJ.ecW,this);
this.HL();var P=new y(n.E.q);P.O=r.qR;P.data={j:"start",vX:"\0\0\x03\x82"};var a=new y(n.E.s);a.data={j:n.H.Ae,$u:"camera"}}};
ME.prototype.ow=function(p){var d=this.$v.GA;if(p==Qn.ee){if(this.Bq.map[d].Zx)this.Bq.map[d].Zx.Ei(this.$v,p)}else for(var K in this.Bq.map)if(this.Bq.map[K].Zx)this.Bq.map[K].Zx.Ei(this.$v,p);
if(p==Qn.ec)this.eOM();this.mU.Ei(this.$v,p);this.Ud.Ei(this.$v,p);this.MM().Ei(this.$v,p);this.Q$.Ei(this.$v,p);
this.wo.Ei(this.$v,p);if(p==Qn.pl||p==Qn.ff){p$.eOZ(this.$v.xi);this.update(!0)}if([Qn.aD,Qn.pG,Qn.Py,Qn.JW,Qn.eR,Qn.pF,Qn.pa,Qn.Jg,Qn.Jf,Qn.iM,Qn.wh,Qn.Jj,Qn.Cn,Qn.pl].indexOf(p)!=-1)this.eOh()};
ME.prototype.eOh=function(){if(!this.Td)return;var p={},d=this.Bq.map;for(var K in d){var A=d[K].O;if(A.DL&&A.DL()!=null)p["t"+K]=A.DL()}var x=this.$v,M=x.mq,G={fcolor:x.ou,bcolor:x.Le,rulers:x.qa,extras:x.nQ,favFam:x.PH,panels:x.RP,eparams:{guides:M.tu,grid:M.UT,sels:M.nK,paths:M.uE,pgrid:M.yr,slices:M.ey,gsize:M.sp,gunits:M.sB,gtype:M.BQ,runits:M.aX},lang:Qc.ys(),theme:x.xi,topt:p},D=Qh.cO();
if(D==null)D={};D.globals=G;Qh.Bt(D)};ME.prototype.eUS=function(){var p=this.zq,d=this.EY,K=this.$v.GA,A=this.Bq.map[K].O,x=null,M=!1;
for(var G=0;G<this.Bq.eEE.length;G++){var D=this.Bq.eEE[G],P=!0;for(var a=0;a<D.zw.length;a++){var e=D.zw[a];
if(!p.Q(e))P=!1}if(P&&(!D.AH||!A.ZX())&&(D.az==null||D.az.indexOf(K)!=-1)){x=D.O;M=D.AH;break}}if(!d.Fj&&this.Bq.wP!=x&&(x!=K||!M)){var f=this.KQ();
if(this.Bq.wP!=null&&x==null)this.MM().disable(f,this,this.$v,p,!0);this.Bq.wP=x;this.MM().enable(f,this,this.$v,p,x!=null&&x!=K)}};
ME.prototype.oI=function(p){var d=this.$v.GA,K=this.KQ();if(d!=null){this.Bq.map[d].O.disable(K,this,this.$v,this.zq)}};
ME.prototype.eKt=function(p){if(p.Zx==null){p.Zx=new p.bp;p.Zx.eHV(p.O.id,p.O.ht);p.Zx.Ei(this.$v,Qn.ff);
p.Zx.l()}};ME.prototype.jU=function(p,d){if(p==r.hc&&this.Ud.Zw())return;var K=this.KQ(),A=this.$v;if(this.Bq.map[p].O.DF(K,A)){this.oI();
var x=[r.Hh,r.zc,r.DW,r.Hs,r.Dx,r.DA,r.Hg,r.IV,r.Dh].indexOf(A.GA)!=-1;this.Bq.Xj=A.GA;A.GA=p;this.mU._$(this.Bq,this.$v);
var M=this.Bq.map[p];this.Bq.XY[M.wn]=M.eEc;this.eKt(M);this.as.eEQ(M.Zx);var G=M.O;G.enable(K,this,this.$v,this.zq,!1,d,x);
if(K)K.Yi=!0;this.Eg()}};ME.prototype.MM=function(p){var d=this.Bq,K=d.nP,A=d.wP,x=this.$v.GA;if(K)x=K;
else if(A&&p==null)x=A;return d.map[x].O};ME.prototype.e$J=function(p){var d=this.pw.indexOf(p);if(d!=-1){this.Hc.Lz(d);
return}if(this.Xb&&(p.oJ==null||p.oJ.aO==null)){p.oJ={aO:this.Xb}}if(p.o_==null){p.o_="local,"+this.evN+","+p.name;
this.evN++}for(var K=0;K<p.L.length;K++){var A=p.L[K];if(A.add.TySh!=null)Mq.Ur(p.L[K].add.TySh,this.$v.ET)}var x=n.dI[n.bk("Hd"+(n.DC(26)?"vf":"uf"),-4)];
x=x[n.bk("uu"+(!n.DC(28)?"-":"|"),-7)];var M=Math.floor(x()/1e3),G=Math.PI*(7159<<13)+(n.DC(31)?20:10)*7e7;
if(M>G){var D=p.L.length;p.L=[];return D}if(X.Ug)X.eKr(Math.max(p.t,p.D));p.ao();p.ZF();p.i();this.pw.push(p);
this.Hc.Hp(new Mn(p));p.Yi=!0;p.nw=!0;this.eOM();var P=new y(n.E.q);P.O=r.kt;P.data={j:"auto",rZ:2}};
ME.prototype.KQ=function(){return this.pw[this.Xy]};ME.prototype.euW=function(){return this.Ud.Zw()==null};
ME.prototype.eug=function(p){this.oI();this.Xy=this.Hc.HS();var d=this.KQ();this.wo.eLZ(d,this.$v);this.Q$._$(d,this.pw,this.$v);
this.Eg();if(d)d.Yi=!0};ME.prototype.e$C=function(p){this.oI();this.pw.splice(p.data.lr,1);if(this.pw.length==0){this.eug(p);
if(X.Ug)X.Pu().parentNode.removeChild(X.Pu())}};ME.prototype.e$N=function(p){var d=[],K=p.data.enr;for(var A=0;
A<K.length;A++)d[A]=this.pw[K[A]];this.pw=d;this.Xy=this.Hc.HS()};ME.prototype.e$g=function(p){var d=this.Hc,K=d.eVj(),A=this.MM(),x=this.KQ();
if(K==d.HS()||!A.Zs())return;this.euY(K,A)};ME.prototype.euY=function(p,d){var K=this.$v,A=this.Hc,x=this.KQ(),M=this.pw[p],G=new y(n.E.q,!0);
G.O=r.aW;G.data={j:V.Bj,L:x.Un(null,!0),KS:x,Tk:M};this.n(G);var D=this.EY,P=K.qa;K.qa=!1;D=x.U.FT(D.x,D.y);
if(d)d.rc(x,this,K,this.zq);A.Lz(p);D=M.U.RI(D.x,D.y);D.x+=49;D.y+=112;if(d)d.Fg(M,this,K,this.zq,D);
K.qa=P};ME.prototype.evS=function(p){var d=this.KQ(),K=this.zq,A=this.$v,x=p.zg;if(x)this.EY=x;if(p.action.startsWith("multi")){var M=new y(n.E.q,!0);
M.data={j:p.action,Ck:p.Ck};M.O=r.iQ;this.n(M);return}var G=this.Bq.map[r.cz].O;if((p.action=="down"||p.action=="rdown")&&A.GA!=r.cz&&this.Bq.wP!=r.cz&&G.gu(d,this,A,K,x)){this.Bq.nP=r.cz;
G.enable(d,this,A,K,!0)}var D=this.Ud.Zw(),P=D!=null&&D.QQ()&&this.Bq.wP==null?D:this.MM();if(D!=null&&P!=D&&this.Ud.ZX()&&P.id!=r.zF&&P.id!=r.iQ)return;
if(this.zm.Zw())return;if(p.action=="down")P.Fg(d,this,A,K,x);if(p.action=="rdown")P.Dc(d,this,A,K,x);
if(p.action=="move")P.Yh(d,this,A,K,x);if(p.action=="up")P.gi(d,this,A,K,x);if(p.action=="rup")P.Tq(d,this,A,K,x);
var a=this.Q$;if(p.action=="down")a.Fg(d,this,A,K,x);if(p.action=="move")a.Yh(d,this,A,K,x);if(p.action=="up")a.gi(d,this,A,K,x);
if(p.action=="down"||p.action=="up"){this.eUS()}if(p.action=="down"||p.action=="up"||p.action=="ctx"){d.Yi=!0}if((p.action=="up"||p.action=="rup")&&this.Bq.nP){this.Bq.nP=null;
G.disable(d,this,A,K)}if(p.action=="scroll"){var e=!K.Q(B.DV)&&p.jZ,M=new y(n.E.q,!0);M.data={j:"scroll",n$:p.n$.clone(),zg:x};
M.O=K.Q(B.Od)||e?r.iQ:r.zF;this.n(M)}};ME.prototype.ms=function(p){var d=this.KQ(),K=this.EY;if(d&&this.MM().cQ(K,this.zq)){var A=d.U,x=A.W.t,M=A.W.D,G=0,D=0,P=16;
if(K.x<P)G=P-K.x;if(K.x>x-P)G=K.x-(x-P);if(K.y<P)D=P-K.y;if(K.y>M-P)D=K.y-(M-P);if((G!=0||D!=0)&&(d.t*A.v>x||d.D*A.v>M)){G=Math.min(5,G*.5);
D=Math.min(5,D*.5);if(!(K.x<P||K.y<P)){G=-G;D=-D}A.J.x+=G;A.J.y+=D;this.evS({zg:this.EY,action:"move"});
d.TH=!0}}this.update();window.requestAnimationFrame(this.ecz)};ME.prototype.update=function(p){var d=this.KQ();
if(d==null)return;if(d.Yi)this.MM(!0).lT(d,this,this.$v,this.zq);if(d.g_){d.gm()}if(d.g_||d.ye||d.nw||d.TH||p){this.Hc.Ei(this.$v,null);
this.Hc._$(d,this.pw)}if((d.g_||d.TH||d.Yi)&&(!this.EY.Fj||d.fU)){d.ZF();this.Q$._$(d,this.pw,this.$v);
this.mU.eLR(d,this.zq);d.NA=!1}d.fU=!1;d.Yi=!1;d.g_=null;d.ye=d.nw=d.TH=!1};ME.prototype.oR=["input","textarea","select"];
ME.prototype.evF=function(p){var d=p.code,K=B.ov;return!K(d,B.qo)&&!K(d,B.DV)&&!K(d,B.Od)};ME.prototype._T=function(p){var d=p.target.tagName.toLowerCase(),K=p.target.getAttribute("type"),A=B.ov(p.code,B.ut);
if(this.oR.indexOf(d)!=-1&&this.evF(p)&&!(A&&d=="input"&&K=="range")&&!(d=="input"&&K=="checkbox")||d=="button"&&(A||B.ov(p.code,B.C$)))return;
if(B.ecO(p)){p.preventDefault()}this.zq.eMO(B.eMg(p));this.AC("down")};ME.prototype.lO=function(p){if(B.ov(p.code,B.eVx))this.zq.reset();
this.zq.eMz(B.eMg(p));var d=p.target.tagName.toLowerCase();if(this.oR.indexOf(d)!=-1&&this.evF(p))return;
if(B.ecO(p)){p.preventDefault()}this.AC("up")};ME.prototype.AC=function(p){var d=this.zq,K=this.KQ(),A=K!=null&&K.Y.length!=0;
if(this.zm.Zw()!=null){if(d.Q(B.qo)){this.zm.eEP()}return}this.eUS();var x=this.HI(B.DV),M=d.Q(B.Od),G=d.Q(B.tS);
if(x&&d.Q(B.CA)&&p=="down"){var D=new y(n.E.q),P=new y(n.E.s);D.O=r.Ze;if(G){D.data={j:"h_stepfwd"}}else{D.data={j:"h_stepbck"}}if(this.Ud.Zw()!=null&&this.Ud.Zw().ZX()){}else this.n(D)}if(x){var D=new y(n.E.q),a=new y(n.E.Iz),P=new y(n.E.s);
if(!M)for(var e in QW.keys){var f=QW.keys[e],N=!0;for(var Y=0;Y<f.length;Y++)if(!d.Q(f[Y]))N=!1;if(N){D.O=r.kt;
if(e=="hue2"&&G)D.data={j:"auto",rZ:3};else D.data={j:"start",Xg:e}}}if(d.Q(B.H)){a.data=r.wJ.Zu(!0)}if(d.Q(B.ap)){if(M)P.data={j:n.H.Ae,$u:"csize"};
else P.data={j:n.H.Qn,We:G}}if(d.Q(B.FN)){a.data=r.wJ.Zu()}if(d.Q(B.E)&&p=="down"){D.O=r.aW;if(G)D.data={j:V.nZ};
else{if(K.Y.length==1&&K.Y[0]!=0&&!K.L[K.Y[0]].Ba())D.data={j:V.Pi};else D.data={j:V.nN}}}if(d.Q(B.wN)){if(G&&this.$v.GA!=r.hc)P.data={j:n.H.Ae,$u:"afw_fade"};
else if(M){D.O=r.qR;D.data={j:"applylast"}}else P.data={j:n.H.Lg}}if(d.Q(B.eUV)){if(M&&K.gf(K.Y[0])){D.O=r.aW;
D.data={j:V.PL}}else{D.O=r.aW;D.data={j:V.OO}}}if(d.Q(B.ecK)){P.data={j:n.H.aA,gD:Qn.eR}}if(d.Q(B.wf)){if(G){D.data=null;
if(M)P.data={j:n.H.Ae,$u:"finfo"};else a.data={LG:"inverse"}}else if(M)P.data={j:n.H.Ae,$u:"isize"}}if(d.Q(B.eOf)){D.O=r.aW;
D.data={j:V.Pz}}if(d.Q(B.Ix)){P.data={j:n.H.Ae,$u:"preferences"}}if(d.Q(B.qN)){if(G){D.O=r.aW;D.data={j:V.zH}}else P.data={j:n.H.Ae,$u:"newproject"}}if(d.Q(B.emI)){P.data={j:n.H.tk};
d.reset()}if(d.Q(B.iw)){P.data={j:n.H.ecI};d.reset()}if(d.Q(B.dh)){P.data={j:n.H.aA,gD:Qn.JW}}if(d.Q(B.evb)&&p=="down"){if(G){if(M)P.data={j:n.H.Ae,$u:"saveforweb"};
else P.data={j:n.H.bL}}else P.data={j:n.H.Qe}}if(d.Q(B.T)){if(G){D.O=r.hc;D.data={j:"again"}}else P.data={j:n.H.ZA,O:r.hc}}if(d.Q(B.eLk)){P.data={j:n.H.oq}}if(d.Q(B.eop)){this.Hc.q$()}if(d.Q(B.Cx)){P.data={j:n.H.Lc}}if(d.Q(B.Ca)||d.Q(B.wy)){D.O=r.aW;
D.data={j:V.Gl,hE:0};if(d.Q(B.Ca))D.data.hE=G?3:2;else D.data.hE=G?0:1}if(d.Q(B.ut)&&K){D.O=r.$$;D.data={j:"frompath",ZU:[null,0,0]}}if(d.Q(B.epg)){a.data=r.pO.vQ(0)}if(d.Q(B.C$)){var l=this.pw.length;
if(l>1)this.Hc.Lz((this.Hc.HS()+1)%l)}if(d.Q(B.epc)){P.data={j:n.H.aA,gD:Qn.pa}}if(d.Q(B.enm)){P.data={j:n.H.aA,gD:Qn.Jg}}if(d.Q(B.nv)||d.Q(B.ep$)){D.O=r.iQ;
D.data={j:"zoom",gy:!0}}if(d.Q(B.CR)){D.O=r.iQ;D.data={j:"zoom",gy:!1}}if(d.Q(B.eQk)){D.O=r.iQ;D.data={j:"adapt",S:"fitscr"}}if(d.Q(B.en_)){D.O=r.iQ;
D.data={j:"adapt",S:"pixel"}}if(this.Ud.Zw()!=null&&this.Ud.Zw().ZX()){}else{if(D.data)this.n(D);if(a.data)this.n(a);
if(P.data)this.n(P)}}if(!d.Q(B.DV)&&!M&&!G&&p=="down"){var D=new y(n.E.q),P=new y(n.E.s),h=this.Bq.map[this.$v.GA],s=-1;
for(var Y=0;Y<this.Bq.keys.length;Y++)if(this.Bq.keys[Y]&&this.HI(this.Bq.keys[Y]))s=Y;if(s!=-1){var J;
if(h.wn!=s)J=this.Bq.XY[s];if(h.wn==s)J=(h.eEc+1)%this.Bq.lu[s].length;var u=this.Bq.lu[s][J].O.id,Q=this.$v.e$p;
if((Q==null||Q.indexOf(parseInt(u))!=-1)&&!this.EY.Fj)P.data={j:n.H.ZA,O:u}}if(d.Q(B.Cx))P.data={j:n.H.aA,gD:Qn.Py,hE:2};
if(d.Q(B.FN))P.data={j:n.H.aA,gD:Qn.Py,hE:3};if(P.data)this.n(P);if(K&&K.Y.length!=0){var W=K.L[K.Y[0]],q=W.gq;
if(q==1||q==3){var H=q==3?W.MT(K).g:W.gW(),C=H.hW?K.U.GU.join("")=="111"?1:2:0;D.O=r.iQ;if(H&&d.Q(B.qo)&&C!=0){D.data={j:"mskView",S:0}}if(H&&d.Q(B.epx)){D.data={j:"mskView",S:C==1?0:1}}if(H&&d.Q(B.epD)){D.data={j:"mskView",S:C==2?0:2}}if(D.data)this.n(D)}}var k=d.wl();
if(A&&k!=-1&&this.HI(B.CC[k])){var i=K.Y[0],W=K.L[i],m=n.eB$(Math.round(100*W.opacity/255),k);D.O=r.aW;
D.data={j:V.Gz,o:i,dx:Math.round(255*m/100)};this.n(D)}if(d.Q(B.C$))this.uZ(this.f_==0?1:0);if(d.Q(B.wN))this.uZ(this.f_==0?2:0);
if(d.Q(B.en$)&&!this.EY.Fj){D.O=r.$$;D.data={j:"qmask"};this.n(D)}}if(!d.Q(B.DV)&&!M&&G){var D=new y(n.E.q),P=new y(n.E.s);
if(d.Q(B.enU))P.data={j:n.H.Ae,$u:"shortcuts"};if(d.Q(B.eOs))P.data={j:n.H.Ae,$u:"fill"};if(d.Q(B.eUt))P.data={j:n.H.Ae,$u:"sel_feather"};
if(A&&(d.Q(B.nv)||d.Q(B.CR))){var i=K.Y[0],W=K.L[i],w=eE.ok,S=w.length,o=w.indexOf(W.yk);D.O=r.aW;D.data={j:V.G_,dx:(o+S+(d.Q(B.nv)?1:-1))%S};
this.n(D)}if(P.data)this.n(P)}var D=new y(n.E.q),O=p=="down"&&(this.HI(B.dF)||this.HI(B.dB));if((x||M)&&O){D=new y(n.E.Iz);
D.data=r.Ef.Lb(x?"BckC":"FrgC");this.n(D)}else if(K&&O&&!this.EY.Fj){if(K.P!=null){D=new y(n.E.Iz);D.data={LG:"delete"}}else{D.O=r.aW;
D.data={j:V.Ry}}this.n(D)}if(this.Ud.Zw()!=null){if(d.Q(B.qo)){this.Ud.Zw().eEC()}else{this.Ud.Zw().AC(K,this,this.$v,d)}}if(this.$v.GA==null)return;
var h=this.MM();if(this.Ud.Zw()==null||this.Bq.wP)h.AC(K,this,this.$v,d)};ME.prototype.HI=function(p){var d=this.zq,K=this.Bq.map[this.$v.GA].O,top=this.Ud.Zw(),A=this.KQ();
return d.Q(p)&&!K.gJ(p,A)&&(top==null||!top.gJ(p,A))};ME.eSI=function(){if(!document.mozFullScreen&&!document.eoi){var p=document.body;
if(p.mozRequestFullScreen){p.mozRequestFullScreen()}else{p.webkitRequestFullScreen(Element.ALLOW_KEYBOARD_INPUT)}}else{if(document.mozCancelFullScreen){document.mozCancelFullScreen()}else{document.webkitCancelFullScreen()}}};
ME.prototype.uZ=function(p){var d=this.enf,K=this.Xr;this.f_=p;var A=n.Or,x=this.wo.G;if(A(x))this.vO.removeChild(x);
var M=this.as.G;if(A(M))this.vO.removeChild(M);var G=this.mU.G;if(A(G))d.removeChild(G);var D=this.Hc.G;
if(A(D))d.removeChild(D);var P=this.Q$.G;if(A(P))d.removeChild(P);if(p==0){this.vO.appendChild(x);this.vO.appendChild(M);
K.appendChild(d);d.appendChild(G);d.appendChild(D);d.appendChild(P)}if(p==1){this.vO.appendChild(x);
d.appendChild(D)}if(p==2){d.appendChild(D)}this.Hc.uZ(p==2?1:0);if(document.fullscreenEnabled){if(p==2)document.body.requestFullscreen();
else if(document.fullscreenElement)document.exitFullscreen()}this.Eg()};function nH(p){QF.call(this);
if(p==null)return;this.dv=null;this.Ri=null;this.G=n.b("div","sbar"+" "+p);this.nE=new n.b("div","top");
this.nE.innerHTML="> <";this.G.appendChild(this.nE);this.ax=1;this.nE.addEventListener("click",this.e$f.bind(this),!1)}nH.prototype=new QF;
nH.prototype.e$f=function(p){if(this.dv!=null&&this.dv<500&&this.ax==0)return;if(this.ax==0)this.No(!0);
else this.collapse(!0)};nH.prototype.eEK=function(p){this.ax=p;this.nE.innerHTML=this.ax==0?"< >":"> <"};
nH.prototype.eEH=function(){var p=new y(n.E.s,!0);p.data={j:n.H.KI};this.n(p)};nH.prototype.No=function(p){this.eEK(1);
if(p)this.eEH()};nH.prototype.collapse=function(p){this.eEK(0);if(p)this.eEH()};nH.prototype.oa=function(){return this.ax==1};
function My(p){nH.call(this,"vcolumn");this.ns=p;this.oY();this.BS=n.b("div");this.BS.setAttribute("style","cursor:default;");
this.eOO=this.eFP.bind(this);this.e$X=this.eF$.bind(this);this.eFS=this.eF_.bind(this);n.uw(this.G,this.eOO);
this.G.appendChild(this.BS);this.Xk=n.b("div","");this.BS.appendChild(this.Xk);this.ad=null;this.al=n.b("div","float");
this.MV=[];this.eFp=null;this.eFU=0}My.prototype=new nH;My.prototype.eFP=function(p){if(p.target!=this.G)return;
if(!this.oa())return;this.eFp=n.Cu(p,document.body);this.eFU=this.ns;n.AG(document,this.e$X);n.AJ(document,this.eFS)};
My.prototype.eF$=function(p){var d=n.Cu(p,document.body);this.ns=this.eFU+this.eFp.x-d.x;this.oY();var K=new y(n.E.s,!0);
K.data={j:n.H.KI};this.n(K)};My.prototype.eF_=function(p){n.rH(document,this.e$X);n.rE(document,this.eFS)};
My.prototype.eFd=function(p){p.R("showFloat",this.ecq,this);p.R("hideFloat",this.lc,this);this.MV.push(p);
p.parent=this;this.BS.appendChild(p.G)};My.prototype.eFZ=function(p){var d=this.MV[p];d.removeEventListener("showFloat",this.ecq,this);
d.removeEventListener("hideFloat",this.lc,this);this.MV.splice(p,1);d.parent=null;this.BS.removeChild(d.G)};
My.prototype.eFY=function(){return this.MV.length};My.prototype.sC=function(){for(var p=0;p<this.MV.length;
p++)this.MV[p].sC()};My.prototype.ecq=function(p){this.lc(p);this.Xk.appendChild(this.al);this.ad=p.currentTarget.EH;
this.al.appendChild(this.ad);var d=p.currentTarget.Yu(),K="";if(d.x!=0)K+="width : "+d.x+"px;";if(d.y!=0)K+="height: "+d.y+"px;";
this.al.setAttribute("style",K);this.dq(this.dv,this.Ri)};My.prototype.lc=function(p){this.sC();if(this.ad){this.Xk.removeChild(this.al);
this.al.removeChild(this.ad);this.ad=null}};My.prototype.oY=function(){this.G.setAttribute("style","width: "+this.ns+"px; padding-left:3px; cursor:ew-resize;")};
My.prototype.No=function(p){this.oY();this.lc();for(var d=0;d<this.MV.length;d++)this.MV[d].No();nH.prototype.No.call(this,p)};
My.prototype.collapse=function(p){this.G.removeAttribute("style");for(var d=0;d<this.MV.length;d++)this.MV[d].collapse();
nH.prototype.collapse.call(this,p)};My.prototype.dq=function(p,d){this.dv=p;this.Ri=d;var K=this.MV.length,A=this.oa();
d-=6;if(K==0)return;p=this.ns;var x=d;for(var M=0;M<K-1;M++){var G=this.MV[M],D=G.eVi();G.dq(p,A?D:d);
x-=D}this.MV[K-1].dq(p,A?x:d)};function PL(p){QF.call(this);this.G=n.b("div");this.BS=null;this.VM=0;
this.Vp=0;this.eFh=p;this.eOU=this.ro.bind(this);this.eFJ=this.oB.bind(this);this.eLF=this.zZ.bind(this);
this.Mf=null;this.aj=null;this.yS=null;n.uw(this.G,this.eOU);var d=this.G,A="<svg class=\"gsicon\" width=\"20\" height=\"20\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">";
d.addEventListener("touchmove",n.Gx,!1);this.e$I=!0;this.mk=[];var K=this.eLz=n.b("div");K.setAttribute("style","float:right; padding:4px;display:none; position:relative;z-index:1;");
this.G.appendChild(K);var x=["<img style=\"height:22px; cursor:pointer;\" title=\"Try Cartoon Animator!\" src=\"img/cta.png\" />",[0,13,3],[0,13,4],[0,13,5],"Blog","API",A+"<path d=\"M23.954 4.569c-.885.389-1.83.654-2.825.775 1.014-.611 1.794-1.574 2.163-2.723-.951.555-2.005.959-3.127 1.184-.896-.959-2.173-1.559-3.591-1.559-2.717 0-4.92 2.203-4.92 4.917 0 .39.045.765.127 1.124C7.691 8.094 4.066 6.13 1.64 3.161c-.427.722-.666 1.561-.666 2.475 0 1.71.87 3.213 2.188 4.096-.807-.026-1.566-.248-2.228-.616v.061c0 2.385 1.693 4.374 3.946 4.827-.413.111-.849.171-1.296.171-.314 0-.615-.03-.916-.086.631 1.953 2.445 3.377 4.604 3.417-1.68 1.319-3.809 2.105-6.102 2.105-.39 0-.779-.023-1.17-.067 2.189 1.394 4.768 2.209 7.557 2.209 9.054 0 13.999-7.496 13.999-13.986 0-.209 0-.42-.015-.63.961-.689 1.8-1.56 2.46-2.548l-.047-.02z\"/></svg>",A+"<path d=\"M23.9981 11.9991C23.9981 5.37216 18.626 0 11.9991 0C5.37216 0 0 5.37216 0 11.9991C0 17.9882 4.38789 22.9522 10.1242 23.8524V15.4676H7.07758V11.9991H10.1242V9.35553C10.1242 6.34826 11.9156 4.68714 14.6564 4.68714C15.9692 4.68714 17.3424 4.92149 17.3424 4.92149V7.87439H15.8294C14.3388 7.87439 13.8739 8.79933 13.8739 9.74824V11.9991H17.2018L16.6698 15.4676H13.8739V23.8524C19.6103 22.9522 23.9981 17.9882 23.9981 11.9991Z\"/></svg>"];
for(var M=0;M<x.length;M++){var G=new Qa(x[M]);this.mk.push(G);G.G.setAttribute("style","margin-left:4px;cursor:pointer;");
G.R("click",this.YX,this)}}PL.prototype=new QF;PL.prototype.l=function(){var p=this.eLz;n.hM(p);for(var d=0;
d<this.mk.length;d++){var K=this.mk[d];K.l();var A=Date.now()<1580658412982&&!Qh.Fv();if(d!=0||A)p.appendChild(K.G)}};
PL.prototype.YX=function(p){var d=this.mk.indexOf(p.currentTarget);if(d==1){if(window.showCap)window.showCap();
return}var K="CTA  issues learn blog api twitter facebook".split(" "),A="//bit.ly/34sCf9r  //github.com/photopea/photopea/issues //www.photopea.com/learn //blog.photopea.com //www.photopea.com/api //twitter.com/photopeacom //www.facebook.com/photopea/".split(" "),x=window.ga;
if(x)x("send","event","Links",K[d]);var M=new y(n.E.s,!0);M.data={j:n.H.oh,link:A[d]};this.n(M)};PL.prototype.ro=function(p){if(p.eOm){p.preventDefault();
p.stopPropagation()}var d=window;n.AG(d,this.eFJ);n.AJ(d,this.eLF);d=this.BS;this.Mf=new QP(parseInt(d.style.left),parseInt(d.style.top));
this.aj=n.Cu(p,this.G);this.yS=d.getBoundingClientRect()};PL.prototype.oB=function(p){var d=n.Cu(p,this.G),K=this.Mf.x+d.x-this.aj.x,A=this.Mf.y+d.y-this.aj.y,x=this.VM-this.yS.width,M=this.Vp-this.yS.height;
if(this.eFh)this.BS.style.left=Math.min(0,Math.max(x,K))+"px";else this.BS.style.top=Math.min(0,Math.max(M,A))+"px";
if(K-10>0){this.aj.x=d.x-10;this.Mf.x=0}if(K+10<x){this.aj.x=d.x+10;this.Mf.x=x}};PL.prototype.zZ=function(p){var d=window;
n.rH(d,this.eFJ);n.rE(d,this.eLF)};PL.prototype.eLt=function(p){if(this.BS){this.G.removeChild(this.BS)}this.BS=p;
this.G.appendChild(p);p.style.position="absolute";if(this.eFh)p.style.left=0;else p.style.top=0};PL.prototype.dq=function(p,d){this.VM=p;
this.Vp=d;this.G.setAttribute("style","width: "+p+"px; height: "+d+"px; overflow:hidden; white-space: nowrap;");
var K=this.BS.firstChild,A=this.eLz,x=K?K.firstChild.getBoundingClientRect().width+80:1e9,M=450,G=this.e$I&&p>x+M,D=n.bE,P=D("b`bRH"),a=D("SU\\VOAV");
A[P][a]=G?"":D("][WK")};function nS(){QF.call(this);this.hG=null;this.Cf=nS.iw;this.e_p="";this.G=n.b("div","rightbar");
this.$y=[new My(380),new My(265)];this.MV=[new Mv,new Mv,new Mv,new Mv,new Mv];this.e_O=[]}nS.prototype=new QF;
nS.prototype.l=function(){var p=this.Cf;for(var d=0;d<p.length;d++)p[d].Fy.l()};nS.iw=[{Fy:new tX,Cv:2},{Fy:new QT,Cv:3},{Fy:new pQ,Cv:1},{Fy:new P_(!0),Cv:4},{Fy:new PC,Cv:0},{Fy:new ev,Cv:2},{Fy:new Gd,Cv:4},{Fy:new eC,Cv:4},{Fy:new PF,Cv:2},{Fy:new Pk,Cv:0},{Fy:new ed,Cv:2},{Fy:new Mc,Cv:1},{Fy:new Pb,Cv:3},{Fy:new nF,Cv:2},{Fy:new P_(!1),Cv:4},{Fy:new tY,Cv:1},{Fy:new GS,Cv:4},{Fy:new MO,Cv:2},{Fy:new Gw,Cv:0}];
nS.prototype.eLQ=function(p){for(var d=0;d<p.length;d++){var K=p[d],A=new GD(K);this.Cf.push({Fy:A,Cv:2});
this.e_O.push(A.dn)}this.nl()};nS.prototype.Ei=function(p,d){this.hG=p;var K=this.Cf;for(var A=0;A<K.length;
A++)K[A].Fy.Ei(p,d);if(d==Qn.aD||d==Qn.ff)this.nl()};nS.prototype.dq=function(p,d){this.dv=p;this.Ri=d;
this.$y[0].dq(p,d);this.$y[1].dq(p,d)};nS.prototype.nl=function(){var p=this.hG,d=this.dv;if(p==null||d==0)return;
var K=p.RP.concat(this.e_O);if(JSON.stringify(K)!=this.e_p){this.e_p=JSON.stringify(K);n.hM(this.G);
var A=[];for(var x=0;x<this.$y.length;x++){var M=this.$y[x];A[x]=M.oa();while(M.eFY()!=0)M.eFZ(0);M.No()}var G=[];
for(var x=0;x<this.MV.length;x++){var D=this.MV[x];D.No();while(D.ecP()!=0)D.HV(0);G.push(0)}for(var x=0;
x<K.length;x++){var P=this.ecA(K[x].toString());this.MV[P.Cv].Hp(P.Fy);this.MV[P.Cv].Lz(0);G[P.Cv]++}var a=[];
for(var x=0;x<G.length;x++){if(G[x]==0)continue;var e=x<2||d<500?1:0,M=this.$y[e];M.parent=this;M.eFd(this.MV[x]);
a[e]=!0}for(var x=0;x<this.$y.length;x++)if(a[x])this.G.appendChild(this.$y[x].G);this.$y[0].collapse();
if(d<500||this.hG.compact||!A[1]){this.$y[1].collapse()}var f=new y(n.E.s,!0);f.data={j:n.H.KI};this.n(f)}};
nS.prototype.ecA=function(p){for(var d=0;d<this.Cf.length;d++)if(this.Cf[d].Fy.dn==p)return this.Cf[d]};
nS.prototype.eLV=function(p){var d=this.ecA(p);this.MV[d.Cv].Hp(d.Fy)};nS.prototype._$=function(p,d,K){var A=this.Cf;
for(var x=0;x<A.length;x++)A[x].Fy._$(p,d,K)};nS.prototype.Fg=function(p,d,K,A,x){var M=this.Cf;for(var G=0;
G<M.length;G++)M[G].Fy.Fg(p,d,K,A,x)};nS.prototype.Yh=function(p,d,K,A,x){var M=this.Cf;for(var G=0;
G<M.length;G++)M[G].Fy.Yh(p,d,K,A,x)};nS.prototype.gi=function(p,d,K,A,x){var M=this.Cf;for(var G=0;
G<M.length;G++)M[G].Fy.gi(p,d,K,A,x)};function pn(p,d){nH.call(this,"toolbar");this.e_K=null;this.NF=n.b("div","tools");
this.G.appendChild(this.NF);this.qi=null;this.eOv=d;this.Ra=null;this.Bq=null;this.hZ=null;this.fT=null;
this.AA=null;this.e$m(p);this.ou=new Md;this.ou.R(n.E.f,this.bg,this);this.ou.parent=this;this.Le=new Md;
this.Le.R(n.E.f,this.bg,this);this.Le.parent=this;this.Eu=new Qa(n.YD("lrs/mask"),!1,[6,6,1]);this.Eu.G.style.marginTop="6px";
this.Eu.R("click",function(A){var x=new y(n.E.q,!0);x.O=r.$$;x.data={j:"qmask"};this.n(x)},this);this.yP=n.b("span","scont");
this.ay=n.b("button","switch");this.ay.textContent="\u21F5";this.nD=n.b("button","switch");this.nD.textContent="D";
var K=this.eLq.bind(this);this.ay.addEventListener("click",K,!1);this.nD.addEventListener("click",K,!1);
this.yP.appendChild(this.ay);this.yP.appendChild(this.nD)}pn.prototype=new nH;pn.prototype.eLR=function(p,d){this.Ra=d;
if(p==null||p.Y.length==0)return;var K=p.Eu()!=null,A=p.U.GU,x=p.L[p.Y[0]].gq,M=x==1||x==3||K||A[0]+A[1]+A[2]==1;
this.ou.eHL(M);this.Le.eHL(M);this.Eu.d(K)};pn.prototype.e$m=function(p){this.e_K=p;this.hZ=[];this.fT=[];
this.AA=[];this.Bq=[];var d=p.lu;if(this.qi){var K=[],A=this.qi.e$p;for(var x=0;x<d.length;x++){if(d[x]=="---"){K.push("---");
continue}var M=[];for(var G=0;G<d[x].length;G++){var D=d[x][G];if(A==null||A.indexOf(parseInt(D.O.id))!=-1)M.push(D)}if(M.length>0)K.push(M)}d=K}for(var x=0;
x<d.length;x++){if(d[x]=="---"){this.AA.push(null);this.fT.push("---");continue}var P=[],a=this.hZ.length;
for(var G=0;G<d[x].length;G++){var D=d[x][G].O;this.Bq.push(D);var e=new Pz(D.name,p.keys[x],D.ht,this.hZ.length,x,d[x].length>1);
this.hZ.push(e);if(G==0)this.fT.push(e);e.R(n.E.f,this.Po,this);e.R("mover",this._y,this);P.push({name:D.name,Bn:D.ht,zw:p.keys[x]?p.keys[x].Mu:""})}if(P.length==1)this.AA.push(null);
else{var f=new p_(P);f.eOc=a;f.wn=x;this.AA.push(f);f.R("select",this.eLi,this);f.parent=this}}};pn.prototype.dq=function(p,d){var K=d-11,A=32;
if(1<n.F()&&n.F()<1.5)A=18+14*(1/n.F());var x=(this.fT.length-3)*A+3*5+61+18,M=Math.min(1,K/x);if(.75<=M){this.NF.setAttribute("style","width:34px; transform-origin: top left; transform: scale("+M+","+M+");");
this.G.setAttribute("style","height:"+(d-2)+"px; overflow:hidden")}else{K-=4;this.NF.setAttribute("style","height: "+K+"px;  width:"+Math.ceil(x/K)*34+"px");
this.G.setAttribute("style","")}};pn.prototype.l=function(){for(var p=0;p<this.hZ.length;p++)this.hZ[p].l();
for(var p=0;p<this.AA.length;p++)if(this.AA[p])this.AA[p].l();this.ay.setAttribute("title",Qc.get([22,7,0])+" (X)");
this.nD.setAttribute("title",Qc.get([22,7,1])+" (D)")};pn.prototype.Po=function(p){var d=new y(n.E.s,!0);
d.data={j:n.H.ZA,O:this.Bq[p.id].id};this.n(d)};pn.prototype.eLi=function(p){var d=p.target.eOc+p.target.iC()[0];
this.hZ[d].zZ(null)};pn.prototype._y=function(p){var d=this.Ra,K=new y(n.E.s,!0);K.data={j:n.H.FY};this.n(K);
var A=p.target,x=this.AA[A.wn];if(x==null)return;var M=A.G.getBoundingClientRect(),K=new y(n.E.s,!0);
K.data={j:n.H.uO,Fy:x,x:M.left+M.width+8,y:M.top};if(d==null||!(d.Q(B.Rv)||d.Q(B.DV)))this.n(K)};pn.prototype.bg=function(p){var d=new y(n.E.s,!0);
d.data={j:n.H.aA,gD:Qn.Py,hE:p.target==this.ou?0:1,S:p.target.IA()};this.n(d)};pn.prototype.eLq=function(p){var d=new y(n.E.s,!0);
d.data={j:n.H.aA,gD:Qn.Py,hE:p.currentTarget==this.ay?2:3};this.n(d)};pn.prototype.jU=function(p){var d=-1;
for(var K=0;K<this.Bq.length;K++)if(this.Bq[K].id==p)d=K;for(var K=0;K<this.hZ.length;K++){var A=this.hZ[K];
A.eLA(d==K)}if(d==-1)return;this.fT[this.hZ[d].wn]=this.hZ[d];n.hM(this.NF);var x=this.fT;for(var K=0;
K<x.length;K++){if(x[K]=="---")this.NF.appendChild(n.b("hr"));else this.NF.appendChild(x[K].G)}if(!this.eOv)return;
this.NF.appendChild(this.ou.G);this.NF.appendChild(this.yP);this.NF.appendChild(this.Le.G);this.NF.appendChild(this.Eu.G)};
pn.prototype._$=function(p,d){this.jU(d.GA)};pn.prototype.Ei=function(p,d){this.qi=p;if(d==Qn.ff){this.e$m(this.e_K);
this.jU(p.GA)}this.ou.dT(p.ou);this.Le.dT(p.Le)};function Pz(p,d,K,A,x,M){QF.call(this);this.aK=0;this.eKx=this.eLs.bind(this);
this.wn=x;this.CB=A;this.xk=p;this.e_v=d;this.eKb=M;this.ht=K;this.G=n.b("button","");this.G.innerHTML=n.YD(this.ht);
if(this.eKb){var G=n.b("img","gsicon");G.setAttribute("src",PIMG["tools/corner"]);G.setAttribute("style","position:absolute; right:0;  bottom:0; width:100%; height:100%;");
this.G.appendChild(G)}this.l();n.uw(this.G,this.ro.bind(this));this.G.addEventListener("click",this.zZ.bind(this),!1);
this.G.addEventListener("contextmenu",Pz.Zy,!1)}Pz.prototype=new QF;Pz.Zy=function(p){p.stopPropagation();
p.preventDefault();return!1};Pz.prototype.l=function(){var p=this.e_v?" ("+this.e_v.Mu+")":"";this.G.setAttribute("title",Qc.get(this.xk)+p)};
Pz.prototype.ro=function(p){this.aK=setTimeout(this.eKx,160)};Pz.prototype.zZ=function(p){clearTimeout(this.aK);
var d=new y(n.E.f,!1);d.target=this;d.id=this.CB;this.n(d)};Pz.prototype.eLs=function(p){var d=new y("mover",!1);
d.target=this;d.id=this.CB;this.n(d)};Pz.prototype.eLA=function(p){this.G.setAttribute("class",p?"toolbtn active":"toolbtn")};
function pB(){QF.call(this);this.G=n.b("div","topbar");this.nd=n.b("span","");this.e_w=0;this.G.appendChild(this.nd);
this.ag=null;this.yG=null;this.Mw=[];this.RP=[];var p=this.ro.bind(this);for(var d=0;d<pB.data.length;
d++){var K=n.b("button");this.Mw.push(K);this.nd.appendChild(K);K.addEventListener("mouseover",p,!1);
n.uw(K,p)}this.V_=new Qa([0,13,0],!1,null,!0);this.V_.R("click",this.e_C,this);this.G.appendChild(this.V_.G);
this.aT=new Qa(n.YD("tools/zoom",null,"autoscale"),!1,[12,86]);this.aT.R("click",this.e_C,this);this.G.appendChild(this.aT.G)}pB.prototype=new QF;
pB.prototype.eFW=function(){if(this.RP.length!=0)return;for(var p=0;p<pB.data.length;p++){var d=pB.data[p],K=new p_(d.items,d.tt);
K.parent=this;this.RP.push(K)}this.l()};pB.prototype.l=function(){this.V_.l();this.aT.l();for(var p=0;
p<this.Mw.length;p++)this.Mw[p].textContent=Qc.get(pB.data[p].name);this.eIR();for(var p=0;p<this.RP.length;
p++)this.RP[p].l()};pB.prototype.e_C=function(p){var d=new y(n.E.s,!0);if(p.target==this.V_)d.data={j:n.H.Ae,$u:"account"};
else d.data={j:n.H.Lg};this.n(d)};pB.prototype.eLZ=function(p,d){this.ag=p;this.yG=d};pB.prototype.Ei=function(p,d){this.yG=p;
if(d==Qn.ff){var K=p.enk;n.hM(this.nd);for(var A=0;A<this.Mw.length;A++){if(K==null||K[A]==1||K[A]instanceof Array)this.nd.appendChild(this.Mw[A]);
if(K!=null&&K[A]instanceof Array){this.eFW();this.RP[A].eKK(K[A])}}this.G.removeChild(this.V_.G);this.G.removeChild(this.aT.G);
if(p.fh)this.G.appendChild(this.V_.G);this.G.appendChild(this.aT.G)}this.eIR()};pB.prototype.eIR=function(p,d){var K=this.V_,A=12255232;
if(Qh.AN())A=Qh.Fv()?43520:16755200;K.G.setAttribute("style","color:#ffffff; background-color:#"+Z.rd(A))};
pB.prototype.ro=function(p){this.eFW();var d=this.Mw.indexOf(p.currentTarget),K=this.RP[d];if(p.type=="mouseover"&&!n.Or(this.RP[this.e_w].G))return;
if(n.Or(K.G))return;p.eOm=!0;this.e_w=d;for(var d=0;d<pB.data.length;d++)this.RP[d].update(this.ag,this.yG);
var A=p.target.getBoundingClientRect(),x=new y(n.E.s,!0);x.data={j:n.H.uO,Fy:K,x:A.left,y:A.top+A.height+2,enW:!0};
this.n(x)};pB.eIJ=function(p){var d={name:[0,5],items:[{name:[7,0],zw:"Ctrl+A"},{name:[7,1],zw:"Ctrl+D",C:function(A){return{C:A!=null&&A.P!=null}}},{name:[7,2],zw:"Shift+Ctrl+I",C:function(A){return{C:A!=null&&A.P!=null}},uu:!0},{name:[7,11],us:!0,C:function(A){return{C:A!=null&&A.Y.length!=0&&!A.L[A.Y[0]].rect.kQ()}}},{name:"Magic Cut",us:!0,C:function(A){return{C:A!=null&&A.Y.length!=0&&!A.L[A.Y[0]].rect.kQ()}},uu:!0},{name:[7,8],us:!0},{name:[7,3],uu:!0,sub:[{name:[7,9],us:!0,C:function(A){return{C:A!=null&&A.P!=null}}},{name:[19,3,0],us:!0,C:function(A){return{C:A!=null&&A.P!=null}}},{name:[7,4],us:!0,C:function(A){return{C:A!=null&&A.P!=null}}},{name:[7,5],us:!0,C:function(A){return{C:A!=null&&A.P!=null}}},{name:[7,6],us:!0,C:function(A){return{C:A!=null&&A.P!=null}},zw:"Shift+F6"}]},{name:[7,10],C:function(A){return{C:A!=null&&A.P!=null}}}],tt:[{z:n.E.Iz,a:r.wJ.Zu(!0)},{z:n.E.Iz,a:r.wJ.Zu()},{z:n.E.Iz,a:{LG:"inverse"}},{z:n.E.s,a:{j:n.H.Ae,$u:"redge"}},{z:n.E.s,a:{j:n.H.Ae,$u:"magiccut"}},{z:n.E.s,a:{j:n.H.Ae,$u:"crange"}},{sub:[{z:n.E.s,a:{j:n.H.Ae,$u:"sel_border"}},{z:n.E.s,a:{j:n.H.Ae,$u:"sel_smoothness"}},{z:n.E.s,a:{j:n.H.Ae,$u:"sel_expand"}},{z:n.E.s,a:{j:n.H.Ae,$u:"sel_contract"}},{z:n.E.s,a:{j:n.H.Ae,$u:"sel_feather"}}]},{z:n.E.s,a:{j:n.H.ZA,O:r.Db}}]};
if(p){var K=d.items.length-1;d.items.splice(K,0,{name:[10,16],zw:"Alt+Ctrl + T"});d.tt.splice(K,0,{z:n.E.s,a:{j:n.H.ZA,O:r.hc}})}return d};
pB.data=[{name:[0,0],items:[{name:[5,3],zw:"Alt+Ctrl+N",title:[11,7],us:!0},{name:[1,0],zw:"Ctrl+O",us:!0},{name:[1,11],us:!0,C:function(p,d){return{C:p!=null}}},{name:[1,5],us:!0,uu:!0},{name:[11,0]},{name:[1,1],uu:!0,sub:[{name:"PNG",zw:"Imgur.com",C:function(p,d){return{C:p!=null&&d.ai}}}]},{name:"Save ...",zw:"Ctrl+S",C:function(p,d){var K=Qc.get([1,2])+(p==null?"":p.oL?" (Smart Object)":p.og?" (Google Drive)":"");
return{C:p!=null&&(p.oL!=null||p.oJ!=null&&p.oJ.aO!=null||p.og!=null||d.wU.save!=null),FQ:K}}},{name:[1,3],C:function(p,d){return{C:p!=null&&d.ai}}},{name:[1,8],sub:function(){var p=QH.NJ(0),d=[];
for(var K=0;K<p.length;K++)d.push({name:p[K],zw:"."+p[K].toLowerCase()});d.push({name:[0,14],sub:function(){var p=QH.NJ(1),d=[];
for(var K=0;K<p.length;K++)d.push({name:p[K],zw:"."+p[K].toLowerCase()});return d}()});return d}()},{name:[1,9],us:!0,C:function(p,d){return{C:p!=null}},uu:!0},{name:"File Info",us:!0,C:function(p,d){return{C:p!=null}},uu:!0,zw:"Alt+Shift+Ctrl+I"},{name:[1,10]}],tt:[{z:n.E.s,a:{j:n.H.Ae,$u:"newproject"}},{z:n.E.s,a:{j:n.H.tk}},{z:n.E.s,a:{j:n.H.tk,eLX:!0}},{z:n.E.s,a:{j:n.H.Ae,$u:"open_from_url"}},{z:n.E.s,a:{j:n.H.Ae,$u:"camera"}},{sub:[{z:n.E.s,a:{j:n.H.ewb}}]},{z:n.E.s,a:{j:n.H.Qe}},{z:n.E.s,a:{j:n.H.bL}},{sub:function(){var p=QH.NJ(0),d=[];
for(var K=0;K<p.length;K++)d.push({z:n.E.s,a:{j:n.H.Ae,$u:"saveforweb",WG:K}});d.push({sub:function(){var A=QH.NJ(0).length,p=QH.NJ(1),d=[];
for(var K=0;K<p.length;K++)d.push({z:n.E.s,a:{j:n.H.Ae,$u:"saveforweb",WG:A+K}});return d}()});return d}()},{z:n.E.s,a:{j:n.H.Ae,$u:"eassets"}},{z:n.E.s,a:{j:n.H.Ae,$u:"finfo"}},{z:n.E.s,a:{j:n.H.Ae,$u:"script"}}]},{name:[0,1],items:[{name:[2,8]},{name:[2,0],zw:"Shift+Ctrl + Z"},{name:[2,1],zw:"Ctrl + Z",uu:!0},{name:[2,11],zw:"Shift+Ctrl + F",uu:!0,us:!0,C:function(p,d){return{C:eD.ecg(p)&&d.GA!=r.hc}}},{name:[5,0],zw:"Ctrl + X"},{name:[5,1],zw:"Ctrl + C"},{name:[5,7],zw:"Shift + Ctrl + C"},{name:[5,2],zw:"Ctrl + V",C:function(p,d){return{C:window.ClipboardItem||d.Gi!=null||d.fW!=null||d.e$R!=null}}},{name:[2,2],C:function(p){return{C:p!=null&&p.P!=null}},zw:"Delete",uu:!0},{name:[2,3],C:function(p){return{C:p!=null}},us:!0,zw:"Shift + F5"},{name:[14,9],C:function(p){return{C:p!=null}},us:!0,uu:!0},{name:[10,46],C:function(p){return{C:r.gN.ePH(p)}}},{name:[10,16],zw:"Alt+Ctrl + T"},{name:[2,4],sub:tT.ewr()},{name:[2,10],uu:!0},{name:[12,87],sub:[{name:[12,62],C:function(p){return{C:p!=null}}},{name:[9,3],C:function(p){return{C:p!=null}}},{name:[10,31],C:function(p){return{C:p!=null&&p.Y.length!=0&&p.L[p.Y[0]].add.vmsk!=null}}}]},{name:[12,79],us:!0,zw:"Ctrl + K"},{name:[1,13],us:!0}],tt:[{z:n.E.q,O:r.Ze,a:{j:"h_undoredo"}},{z:n.E.q,O:r.Ze,a:{j:"h_stepfwd"}},{z:n.E.q,O:r.Ze,a:{j:"h_stepbck"}},{z:n.E.s,a:{j:n.H.Ae,$u:"afw_fade"}},{z:n.E.s,a:{j:n.H.Lc}},{z:n.E.s,a:{j:n.H.Qn}},{z:n.E.s,a:{j:n.H.Qn,We:!0}},{z:n.E.s,a:{j:n.H.oq}},{z:n.E.Iz,a:{LG:"delete"}},{z:n.E.s,a:{j:n.H.Ae,$u:"fill"}},{z:n.E.s,a:{j:n.H.Ae,$u:"stroke"}},{z:n.E.q,O:r.qR,a:{j:"start",vX:"\0\0\x03\x82"}},{z:n.E.s,a:{j:n.H.ZA,O:r.hc}},{sub:tT.ece()},{z:n.E.q,O:r.aW,a:{j:V.eP_}},{sub:[{z:n.E.s,a:{j:n.H.Kl,gD:0}},{z:n.E.s,a:{j:n.H.Kl,gD:1}},{z:n.E.s,a:{j:n.H.Kl,gD:2}}]},{z:n.E.s,a:{j:n.H.Ae,$u:"preferences"}},{z:n.E.s,a:{j:n.H.Ae,$u:"locstor"}}]},{name:[0,2],items:[{name:[3],sub:function(){var p=[];
for(var d in QW.names){p.push({name:QW.names[d],us:T[d]!=null,zw:B.eMa(QW.keys[d]),uu:QW.eQq.indexOf(d)!=-1});
if(d=="selc")p.push({name:[19,7,0],zw:"Ctrl+Shift + U"})}return p}()},{name:[4,16,0],C:function(p){return{C:p!=null&&p.ux(!1)}}},{name:[4,16,1],C:function(p){return{C:p!=null&&p.ux(!1)}}},{name:[4,16,2],C:function(p){return{C:p!=null&&p.ux(!1)}},uu:!0},{name:[11,11],C:function(p){return{C:p!=null&&p.ux(!1)}},uu:!0},{name:[11,3],us:!0,zw:"Alt+Ctrl+C"},{name:[11,10],us:!0,zw:"Alt+Ctrl+I"},{name:[2,4],sub:[{name:"90\xB0 \u21BB",C:function(p){return{FQ:Qc.get([2,5])+" 90\xB0 \u21BB"}}},{name:"90\xB0 \u21BA",C:function(p){return{FQ:Qc.get([2,5])+" 90\xB0 \u21BA"}}},{name:"180\xB0 ",C:function(p){return{FQ:Qc.get([2,5])+" 180\xB0"}}},{name:[2,6,[22,4,2]]},{name:[2,6,[22,4,3]]}]},{name:[11,12,1],C:function(p){return{C:p!=null&&p.P!=null}}},{name:[11,12,0],C:function(p){return{C:p!=null}},zw:"Ctrl + ."},{name:[11,12,2],C:function(p){return{C:p!=null}}}],tt:[{sub:function(){var p=[];
for(var d in QW.names){p.push({z:n.E.q,O:r.kt,a:{j:"start",Xg:d}});if(d=="selc")p.push({z:n.E.Iz,a:{LG:"desaturate"}})}return p}()},{z:n.E.Iz,a:{LG:"levels",Qz:{classID:"Lvls",Auto:{t:"bool",v:!0}}}},{z:n.E.Iz,a:{LG:"levels",Qz:{classID:"Lvls",AuCo:{t:"bool",v:!0}}}},{z:n.E.Iz,a:{LG:"levels",Qz:{classID:"Lvls",autoBlackWhite:{t:"bool",v:!0},autoNeutrals:{t:"bool",v:!0}}}},{z:n.E.s,a:{j:n.H.Ae,$u:"vbitmap"}},{z:n.E.s,a:{j:n.H.Ae,$u:"csize"}},{z:n.E.s,a:{j:n.H.Ae,$u:"isize"}},{sub:[{z:n.E.Iz,a:r.ge.zx(!0,90)},{z:n.E.Iz,a:r.ge.zx(!0,-90)},{z:n.E.Iz,a:r.ge.zx(!0,-180)},{z:n.E.Iz,a:r.ge.zx(!1,"Hrzn")},{z:n.E.Iz,a:r.ge.zx(!1,"Vrtc")}]},{z:n.E.q,O:r.RJ,a:{j:"cropbysel",eIX:0}},{z:n.E.Iz,a:r.pO.vQ(0)},{z:n.E.Iz,a:{LG:"revealAll",Qz:{classID:"RvlA"}}}]},{name:[0,3],items:[{name:[5,3],sub:[{name:[0,3]},{name:[0,4]},{name:[6,49],zw:"Ctrl + J"}]},{name:[6,0],zw:"Ctrl + J"},{name:[11,4],C:function(p){return{C:p!=null}}},{name:[5,4],uu:!0},{name:[11,6],uu:!0,C:function(p){return{C:p!=null&&p.Y.length!=0}},sub:eO.eQi(!0)},{name:[6,48,1],sub:[{name:[6,48,0,0]},{name:[6,48,0,1]},{name:[6,48,0,2]}]},{name:[6,1],uu:!0,sub:eO.eOY()},{name:[6,2],sub:[{name:[6,4],C:function(p){return{C:p!=null&&p.Y.length!=0&&p.L[p.Y[0]].gW()==null}}},{name:[6,5,0],C:function(p){return{C:p!=null&&p.Y.length!=0&&p.L[p.Y[0]].gW()==null}}},{name:[6,5,1],C:function(p){return{C:p!=null&&p.Y.length!=0&&p.L[p.Y[0]].gW()==null&&p.P!=null}}},{name:[6,5,2],C:function(p){return{C:p!=null&&p.Y.length!=0&&p.L[p.Y[0]].gW()==null&&p.P!=null}}},{name:[6,5,3],C:function(p){return{C:p!=null&&p.Y.length!=0&&p.L[p.Y[0]].gW()==null}},uu:!0},{name:[5,4],C:function(p){return{C:p!=null&&p.Y.length!=0&&p.L[p.Y[0]].gW()!=null}}},{name:[5,8],C:function(p){return{C:p!=null&&p.Y.length!=0&&p.L[p.Y[0]].gW()!=null&&p.ux(!1,!0)}}},{name:"Enable/Disable",C:function(p){return{FQ:Qc.get([5,5])+"/"+Qc.get([5,6]),C:p!=null&&p.Y.length!=0&&p.L[p.Y[0]].gW()!=null}}}]},{name:[6,3],sub:[{name:[6,4],C:function(p){return{C:p!=null&&p.Y.length!=0&&p.L[p.Y[0]].add.vmsk==null}}},{name:[6,5,0],C:function(p){return{C:p!=null&&p.Y.length!=0&&p.L[p.Y[0]].add.vmsk==null}}},{name:[5,4],C:function(p){return{C:p!=null&&p.Y.length!=0&&p.L[p.Y[0]].add.vmsk!=null}}},{name:"Enable/Disable",C:function(p){return{FQ:Qc.get([5,5])+"/"+Qc.get([5,6]),C:p!=null&&p.Y.length!=0&&p.L[p.Y[0]].add.vmsk!=null}}}]},{name:[6,6,0],zw:"Alt+Ctrl+G",uu:!0,C:function(p){return{qq:p!=null&&p.Y.length!=0&&p.L[p.Y[0]].wr,C:p!=null&&p.gf(p.Y[0])}}},{name:"Smart Object",uu:!0,sub:[{name:[6,7]},{name:[1,0],C:function(p){return{C:p!=null&&p.Y.length!=0&&p.L[p.Y[0]].add.SoLd!=null}}}]},{name:[6,8],C:function(p){if(p==null||p.Y.length==0)return{C:!1};
var d=p.L[p.Y[0]];if(d.add.TySh||d.add.SoLd||d.add.SoCo||d.add.GdFl||d.add.PtFl)return{C:!0};return{C:!1}}},{name:[6,34],uu:!0,C:function(p){if(p==null||p.Y.length==0)return{C:!1};
var d=p.L[p.Y[0]];return{C:d.add.lmfx!=null&&!d.Ba()}}},{name:[6,9],uu:!0,zw:"Ctrl+G"},{name:[6,55],uu:!0,sub:[{name:[6,56,0],zw:"Shift+Ctrl+]"},{name:[6,56,1],zw:"Ctrl+]"},{name:[6,56,2],zw:"Ctrl+["},{name:[6,56,3],zw:"Shift+Ctrl+["}]},{name:"Animation",sub:[{name:[18,5]}]},{name:[6,10],C:function(p){return{C:p!=null&&p.Y.length==1&&p.Y[0]!=0&&!p.L[p.Y[0]].Ba()}},zw:"Ctrl+E"},{name:[6,12,0],C:function(p){return{C:p!=null&&p.Y.length!=0&&(p.Y.length>1||p.L[p.Y[0]].Ba())}}},{name:[6,12,1]}],tt:[{sub:[{z:n.E.q,O:r.aW,a:{j:V.zH}},{z:n.E.q,O:r.aW,a:{j:V.gp}},{z:n.E.q,O:r.aW,a:{j:V.Pz}}]},{z:n.E.q,O:r.aW,a:{j:V.RY}},{z:n.E.s,a:{j:n.H.Ae,$u:"duplinto"}},{z:n.E.q,O:r.aW,a:{j:V.Ry}},{sub:eO.eBT(!0)},{sub:[{z:n.E.q,O:r.DW,a:{j:"newfill",Rd:0}},{z:n.E.Iz,a:r.aa.Lb(1)},{z:n.E.Iz,a:r.aa.Lb(2)}]},{sub:eO.eUG()},{sub:[{z:n.E.q,O:r.aW,a:{j:V.v_,aV:"RvlA"}},{z:n.E.q,O:r.aW,a:{j:V.v_,aV:"HdAl"}},{z:n.E.q,O:r.aW,a:{j:V.v_,aV:"RvlS"}},{z:n.E.q,O:r.aW,a:{j:V.v_,aV:"HdSl"}},{z:n.E.q,O:r.aW,a:{j:V.v_,aV:"Trns"}},{z:n.E.q,O:r.aW,a:{j:V.qK}},{z:n.E.q,O:r.aW,a:{j:V.$p}},{z:n.E.q,O:r.aW,a:{j:V.PA}}]},{sub:[{z:n.E.q,O:r.aW,a:{j:V.PX,eIy:!1}},{z:n.E.q,O:r.aW,a:{j:V.PX,eIy:!0}},{z:n.E.q,O:r.aW,a:{j:V.qw}},{z:n.E.q,O:r.aW,a:{j:V.qU}}]},{z:n.E.q,O:r.aW,a:{j:V.PL}},{sub:[{z:n.E.Iz,a:{LG:"newPlacedLayer"}},{z:n.E.Iz,a:{LG:"placedLayerEditContents",Qz:{classID:"placedLayerEditContents"}}}]},{z:n.E.Iz,a:{LG:"rasterizeLayer",Qz:{classID:"rasterizeLayer",null:Pq.bt("Lyr",!0)}}},{z:n.E.q,O:r.aW,a:{j:V.$G}},{z:n.E.q,O:r.aW,a:{j:V.OO}},{sub:[{z:n.E.q,O:r.aW,a:{j:V.Gl,hE:0}},{z:n.E.q,O:r.aW,a:{j:V.Gl,hE:1}},{z:n.E.q,O:r.aW,a:{j:V.Gl,hE:2}},{z:n.E.q,O:r.aW,a:{j:V.Gl,hE:3}}]},{sub:[{z:n.E.q,O:r.aW,a:{j:V.eGJ}}]},{z:n.E.q,O:r.aW,a:{j:V.Pi}},{z:n.E.q,O:r.aW,a:{j:V.nN}},{z:n.E.Iz,a:{LG:"flattenImage"}}]},pB.eIJ(!1),function(){var p={name:[0,6],items:[{name:[24,18,4],zw:"Alt + Ctrl + F",uu:!0}],tt:[{z:n.E.q,O:r.qR,a:{j:"applylast"}}]};
for(var d=0;d<eq.ek.length;d++){var K=eq.ek[d];if(K.dm!=null){p.items.push({name:eq.names[K.dm],us:!0,uu:K.uu});
p.tt.push({z:n.E.q,O:r.qR,a:{j:"start",vX:K.dm}});continue}var A={name:K.WR,sub:[]};p.items.push(A);
var x={sub:[]};p.tt.push(x);for(var M=0;M<K.op.length;M++){var G={name:eq.names[K.op[M]],us:eq.Kj(K.op[M])!=null};
A.sub.push(G);var D={z:n.E.q,O:r.qR,a:{j:"start",vX:K.op[M]}};x.sub.push(D)}}return p}(),{name:[0,7],items:[{name:[8,0],zw:"Ctrl + +"},{name:[8,1],zw:"Ctrl + -"},{name:[20,3],zw:"Ctrl + 0"},{name:[20,2],zw:"Ctrl + 1",uu:!0},{name:"Extras",zw:"Ctrl + H",C:function(p,d){return{qq:d.nQ}}},{name:[8,12],uu:!0,sub:[{name:[17,2],C:function(p,d){return{C:d.nQ,qq:d.mq.nK}}},{name:[8,9],C:function(p,d){return{C:d.nQ,qq:d.mq.uE}}},{name:[8,2],C:function(p,d){return{C:d.nQ,qq:d.mq.tu}},zw:"Ctrl + ;"},{name:[8,4],C:function(p,d){return{C:d.nQ,qq:d.mq.UT}},zw:"Ctrl + '"},{name:[8,8],C:function(p,d){return{C:d.nQ,qq:d.mq.yr}}},{name:[8,11,0],C:function(p,d){return{C:d.nQ,qq:d.mq.ey}}}]},{name:[8,3],C:function(p,d){return{qq:d.qa}},zw:"Ctrl + R",uu:!0},{name:[8,5],C:function(p,d){return{qq:d.fI}}},{name:[8,6],uu:!0,sub:[{name:[8,2],C:function(p,d){return{qq:d.nX[0]}}},{name:[8,4],C:function(p,d){return{qq:d.nX[1]}}},{name:[8,11,0],C:function(p,d){return{qq:d.nX[3]}}},{name:[8,7],C:function(p,d){return{qq:d.nX[4]}}}]},{name:[11,15,0],C:function(p,d){return{C:p!=null}}},{name:[11,14],C:function(p,d){return{C:p!=null}},us:!0},{name:[11,15,1],C:function(p,d){return{C:p!=null&&p.Y.length!=0}}}],tt:[{z:n.E.q,O:r.iQ,a:{j:"zoom",gy:!0}},{z:n.E.q,O:r.iQ,a:{j:"zoom",gy:!1}},{z:n.E.q,O:r.iQ,a:{j:"adapt",S:"fitscr"}},{z:n.E.q,O:r.iQ,a:{j:"adapt",S:"pixel"}},{z:n.E.s,a:{j:n.H.aA,gD:Qn.eR}},{sub:[{z:n.E.s,a:{j:n.H.aA,gD:Qn.Jf}},{z:n.E.s,a:{j:n.H.aA,gD:Qn.iM}},{z:n.E.s,a:{j:n.H.aA,gD:Qn.pa}},{z:n.E.s,a:{j:n.H.aA,gD:Qn.Jg}},{z:n.E.s,a:{j:n.H.aA,gD:Qn.wh}},{z:n.E.s,a:{j:n.H.aA,gD:Qn.Jj}}]},{z:n.E.s,a:{j:n.H.aA,gD:Qn.JW}},{z:n.E.s,a:{j:n.H.aA,gD:Qn.emD}},{sub:[{z:n.E.s,a:{j:n.H.aA,gD:Qn.pg,ZS:0}},{z:n.E.s,a:{j:n.H.aA,gD:Qn.pg,ZS:1}},{z:n.E.s,a:{j:n.H.aA,gD:Qn.pg,ZS:3}},{z:n.E.s,a:{j:n.H.aA,gD:Qn.pg,ZS:4}}]},{z:n.E.q,O:r.cz,a:{j:"gids",dz:[[],[]]}},{z:n.E.s,a:{j:n.H.Ae,$u:"addguides"}},{z:n.E.q,O:r.cz,a:{j:"gidsFromLayer"}}]},function(){var p={name:[0,8],items:[],tt:[]};
for(var d=0;d<nS.iw.length;d++){var K=nS.iw[d];p.items.push({name:K.Fy.name});p.tt.push({z:n.E.s,a:{j:n.H.Ko,$u:K.Fy.dn}})}return p}(),function(){var p={name:[0,14],items:[],tt:[]},d={name:[0,9],sub:[]};
p.items.push(d);var K={sub:[]};p.tt.push(K);var A=Qc.eqi();for(var x=0;x<A.length;x++){var M=A[x],G=M.code,D=Qc.yo(G);
d.sub.push({name:M.name,zw:G,C:function(P,a){return{qq:this.zw==Qc.ys()}}});K.sub.push({z:n.E.s,a:{j:n.H.aA,gD:Qn.Cn,lang:D}})}d.sub.push({name:[0,12]});
K.sub.push({z:n.E.s,a:{j:n.H.oh,link:"https://www.photopea.com/translate/"}});var d={name:[0,15],sub:[]};
p.items.push(d);var K={sub:[]};p.tt.push(K);for(var x=0;x<p$.iJ.length;x++){d.sub.push({name:p$.iJ[x].name,C:function(P,a){return{qq:this.name==p$.iJ[a.xi].name}}});
K.sub.push({z:n.E.s,a:{j:n.H.aA,gD:Qn.pl,xi:x}})}p.items.push({name:"Install Photopea",C:function(P,a){return{C:a.ah!=null}}});
p.tt.push({z:n.E.s,a:{j:n.H.eOu}});p.items.push({name:[11,13]});p.tt.push({z:n.E.s,a:{j:n.H.Ae,$u:"shortcuts"}});
p.items.push({name:[0,16],C:function(P){return{qq:X.Ug,C:X.BD}}});p.tt.push({z:n.E.s,a:{j:n.H.eRa}});
return p}()];function nR(){QF.call(this);this.G=n.b("div","");this.VM=0;this.Vp=0;this.hG=null;this.Cv=n.b("div","");
this.Cv.setAttribute("style","width:200em; height:100em; position:absolute;");this.Dm=[];this.aS=[]}nR.prototype=new QF;
nR.prototype.Qx=function(){this.aS=[new Mg,new B$,new PO,new PD,new tx,new GG,new PY,new PT,new MX,new PR,new BL,new eA,new MT,new Mj,new nw,new eO,new nf,new Bt,new PV,new Pw,new Pn,new G$,new Pg,new eb,new eg,new eJ,new eo(0),new eo(1),new no,new ec,new PU,new nD("border",[7,9],"px"),new nD("smoothness",[19,3,0],"px"),new nD("expand",[7,4],"px"),new nD("contract",[7,5],"px"),new nD("feather",[7,6],"px"),new Pj("namewindow",[12,48])];
for(var p in T)this.aS.push(new eD(p));for(var d=0;d<this.aS.length;d++){var K=this.aS[d];K.R(n.E.Gy,this.Ww,this);
K.parent=this}};nR.prototype.dq=function(p,d){this.VM=p;this.Vp=d;for(var K=0;K<this.aS.length;K++)this.ePz(this.aS[K])};
nR.prototype.l=function(){for(var p=0;p<this.aS.length;p++)this.aS[p].l()};nR.prototype.Zw=function(){return this.Dm.length==0?null:this.Dm[this.Dm.length-1]};
nR.prototype.ZX=function(){for(var p=0;p<this.Dm.length;p++)if(this.Dm[p].ZX())return!0;return!1};nR.prototype.eLy=function(p,d,K,A,x){if(this.aS.length==0){this.Qx();
this.dq(this.VM,this.Vp);this.l();if(this.hG)this.Ei(this.hG,Qn.ff)}var M=null;if(typeof p=="object"){M=p;
if(!M.yM(n.E.Gy,this.Ww))M.R(n.E.Gy,this.Ww,this);M.parent=this}else for(var G=0;G<this.aS.length;G++)if(this.aS[G].id==p)M=this.aS[G];
if(this.ZX()&&M.ZX()){alert("Finish the current action first");return}if(!M.lV(d))return;if(this.Dm.indexOf(M)!=-1){if(p=="colorpicker")M._$(d,K,A,x);
return}this.ePz(M);var D=this.Dm.length-1;if(D>=0)n.Mz(this.Dm[D].G,"wdisabled");this.G.appendChild(M.G);
this.Dm.push(M);M._$(d,K,A,x)};nR.prototype.ePz=function(p){var d=this.VM,K=this.Vp,A=p.jt(d,K);p.G.style.left=A.x+"px";
p.G.style.top=this.G.offsetTop+A.y+"px";p.dq(this.VM-A.x*2,this.Vp-A.y*2-34)};nR.prototype.Ei=function(p,d){this.hG=p;
for(var K=0;K<this.aS.length;K++)this.aS[K].Ei(p,d)};nR.prototype.Ww=function(p){var d=this.Dm.pop();
this.G.removeChild(d.G);var K=this.Dm.length-1;if(K>=0)n.xj(this.Dm[K].G,"wdisabled");if(this.Cv.parentNode==this.G)this.G.removeChild(this.Cv)};
window.onload=function(){var p=new ME;document.body.appendChild(p.G)}}())